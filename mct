#!/bin/bash
p=$(dirname $0)
type=${1/*.}
case $type in
java) language=result/norm/Java/simple.Txl ;;
v) language=result/norm/Verilog/verilog2.Txl ;;
problem) language=result/norm/ProblemFrames/problem.Txl ;;
xml) language=result/norm/XML/xml-mct.Txl ;;
q7) language=result/norm/Q7/q7.Txl ;;
argument) language=result/norm/Argument/argument.Txl ;;
c) language=result/norm/C/cid.Txl ;;
sp) language=result/norm/NLP/nlp.Txl ;;
uncal) language=Txl/Uncal/uncal2java.Txl ;;
cal) language=result/norm/Cal/Cal.Txl ;;
uml) language=result/norm/UML/uml.Txl ;;
argument) language=result/norm/Argument/argument.Txl ;;
cs) language=Txl/CSharp/cs.txl ;;
*) language=$type.Txl ;;
esac
if [ "$#" == "1" ]; then
	txl -i Txl $1 -q $language 2> /dev/null
elif [ "$#" == "2" ]; then
	txl -i Txl $1 -q $language - -diff $2 >& t.t
	grep -v TXL091 t.t
	rm -f t.t
else
	echo usage: $0 program [ program_to_compare ]
fi
