head	1.3;
access;
symbols
	v20081022-1925:1.3
	v20080911-1728:1.3
	v20080910-1520:1.3
	v20080903-1520:1.3
	v20070208-1800:1.2
	v20070202-0200:1.1.2.1
	M4_20:1.2
	v20061218-1200:1.2
	v20061214-0000:1.2
	M3_20:1.2
	v20061013-1330:1.2
	v20060925-1700:1.1.2.1
	v20060919-0800:1.1.2.1
	R1_0_maintenance:1.1.0.2;
locks; strict;
comment	@# @;


1.3
date	2007.02.09.20.53.14;	author crevells;	state dead;
branches;
next	1.2;
commitid	6cc445ccdf3a4567;

1.2
date	2006.10.03.15.04.52;	author ahunter;	state Exp;
branches;
next	1.1;

1.1
date	2006.09.13.16.09.56;	author sshaw;	state dead;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2006.09.13.16.09.56;	author sshaw;	state Exp;
branches;
next	;


desc
@@


1.3
log
@[173686] gmf_head crevells 070209 Clients of ScaledGraphics have issues when using setAlpha() and the advanced graphics library isn't present
@
text
@/******************************************************************************
 * Copyright (c) 2006 IBM Corporation and others.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *    IBM Corporation - initial API and implementation 
 ****************************************************************************/
package org.eclipse.gmf.runtime.draw2d.ui.internal.graphics;

import org.eclipse.jface.window.Window;
import org.eclipse.swt.SWT;
import org.eclipse.swt.graphics.GC;
import org.eclipse.swt.widgets.Shell;

/**
 * Utility class for operations around using a <code>GC</code>
 * @@author sshaw
 */
public class GCUtilities {
	static private boolean checkedAdvancedGraphicsSupport = false;
	static private boolean platformSupportsAdvancedGraphics = false;
	
	/**
	 * @@return <code>true</code> if the OS platform can support advanced graphics
	 * libraries (usually an externally installed library such as Cairo), or <code>false</code>
	 * otherwise.
	 */
	public static boolean supportsAdvancedGraphics() {
		if (!checkedAdvancedGraphicsSupport) {
			GC gc = new GC(new Shell());
			gc.setAdvanced(true);
			platformSupportsAdvancedGraphics = (gc.getAdvanced() == true);
			checkedAdvancedGraphicsSupport = true;
		}
		
		// Advanced graphics is disabled if the RTL orintation is ON
        // this is to avoid an SWT bug, on the GC object, where if the Advanced
        // graphics Mask is on it does not consider mirroring
		return platformSupportsAdvancedGraphics && Window.getDefaultOrientation()!=SWT.RIGHT_TO_LEFT;
	}
}
@


1.2
log
@gmf_head ahunter 061003 Merge 1.0.1 Runtime to HEAD 2.0
@
text
@@


1.1
log
@file GCUtilities.java was initially added on branch R1_0_maintenance.
@
text
@d1 44
@


1.1.2.1
log
@Bugzilla#154982 gmf_R1_0_maintenance sshaw 060913 Cairo is not available on Sun Solaris
@
text
@a0 44
/******************************************************************************
 * Copyright (c) 2006 IBM Corporation and others.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *    IBM Corporation - initial API and implementation 
 ****************************************************************************/
package org.eclipse.gmf.runtime.draw2d.ui.internal.graphics;

import org.eclipse.jface.window.Window;
import org.eclipse.swt.SWT;
import org.eclipse.swt.graphics.GC;
import org.eclipse.swt.widgets.Shell;

/**
 * Utility class for operations around using a <code>GC</code>
 * @@author sshaw
 */
public class GCUtilities {
	static private boolean checkedAdvancedGraphicsSupport = false;
	static private boolean platformSupportsAdvancedGraphics = false;
	
	/**
	 * @@return <code>true</code> if the OS platform can support advanced graphics
	 * libraries (usually an externally installed library such as Cairo), or <code>false</code>
	 * otherwise.
	 */
	public static boolean supportsAdvancedGraphics() {
		if (!checkedAdvancedGraphicsSupport) {
			GC gc = new GC(new Shell());
			gc.setAdvanced(true);
			platformSupportsAdvancedGraphics = (gc.getAdvanced() == true);
			checkedAdvancedGraphicsSupport = true;
		}
		
		// Advanced graphics is disabled if the RTL orintation is ON
        // this is to avoid an SWT bug, on the GC object, where if the Advanced
        // graphics Mask is on it does not consider mirroring
		return platformSupportsAdvancedGraphics && Window.getDefaultOrientation()!=SWT.RIGHT_TO_LEFT;
	}
}
@

