head	1.2;
access;
symbols
	v20081023-2107:1.2
	v20081022-1925:1.2
	v20081021-1810:1.2
	v20081020-0700:1.2
	v20080911-1728:1.2
	v20080911-1506:1.2
	v20080910-1520:1.2
	v20080910-1510:1.2
	v20080903-1520:1.2
	v20080903-1510:1.2
	v20080722-1827:1.2
	R2_1_maintenance:1.2.0.2
	Root_R2_1_maintenance:1.2
	R2_1_0:1.2
	v20080610-1132:1.2
	v20080603-1553:1.2
	v20080512-1200:1.2
	v20080503-1740:1.2
	v20080501-1739:1.2
	v20080425-1959:1.2
	v20080417-1610:1.2
	v20080407-2250:1.1
	v20080407-0930:1.1
	v20080404-1111:1.1
	v20080222-1200:1.1
	v20080215-1500:1.1
	v20080215-1200:1.1
	v20080201-2010:1.1
	v20080114-1111:1.1
	v20071108-0000:1.1
	v20071003-0000:1.1
	v20070928-0000:1.1
	v20070915-0000:1.1
	v20070903-0000:1.1
	v20070830-0000:1.1
	v20070809-0000:1.1
	R2_0_maintenance:1.1.0.2
	R2_0:1.1
	R4_20:1.1
	v20070621-0000:1.1
	RC3_20:1.1
	v20070605-1400:1.1
	v20070601-1400:1.1
	v20070518-1300:1.1
	v20070330-1300:1.1
	v20070221-1500:1.1;
locks; strict;
comment	@# @;
expand	@k@;


1.2
date	2008.04.17.19.31.52;	author ahunter;	state Exp;
branches;
next	1.1;
commitid	7d5d4807a5a84567;

1.1
date	2007.02.09.20.53.14;	author crevells;	state Exp;
branches;
next	;
commitid	6cc445ccdf3a4567;


desc
@@


1.2
log
@[204012] gmf-head ahunter 080417 Verify Advanced graphics does support mirrored mode
@
text
@/******************************************************************************
 * Copyright (c) 2006, 2008 IBM Corporation and others.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *    IBM Corporation - initial API and implementation 
 ****************************************************************************/
package org.eclipse.gmf.runtime.draw2d.ui.graphics;

import org.eclipse.swt.graphics.GC;
import org.eclipse.swt.widgets.Shell;

/**
 * Utility class for operations around using a <code>GC</code>
 * 
 * @@author sshaw, crevells
 */
public class GCUtilities {

    static private boolean checkedAdvancedGraphicsSupport = false;

    static private boolean platformSupportsAdvancedGraphics = false;


    /**
     * Returns true is advanced graphics is supported in this environment. This
     * includes the OS supporting an advanced graphics library (usually an
     * externally installed library such as Cairo or GDI+)
     * 
     * @@return true if advanced graphics is supported; false otherwise
     */
    public static boolean supportsAdvancedGraphics() {
        if (!checkedAdvancedGraphicsSupport) {
            Shell shell = new Shell();
            GC gc = new GC(shell);
            gc.setAdvanced(true);
            platformSupportsAdvancedGraphics = (gc.getAdvanced() == true);
            checkedAdvancedGraphicsSupport = true;
            gc.dispose();
            shell.dispose();
        }

        return platformSupportsAdvancedGraphics;
    }
}
@


1.1
log
@[173686] gmf_head crevells 070209 Clients of ScaledGraphics have issues when using setAlpha() and the advanced graphics library isn't present
@
text
@d2 1
a2 1
 * Copyright (c) 2006, 2007 IBM Corporation and others.
a12 2
import org.eclipse.jface.window.Window;
import org.eclipse.swt.SWT;
d46 1
a46 5
        // Advanced graphics is disabled if the RTL orintation is ON
        // this is to avoid SWT bugzilla 99564, on the GC object, where if the Advanced
        // graphics Mask is on it does not consider mirroring
        return platformSupportsAdvancedGraphics
            && Window.getDefaultOrientation() != SWT.RIGHT_TO_LEFT;
@

