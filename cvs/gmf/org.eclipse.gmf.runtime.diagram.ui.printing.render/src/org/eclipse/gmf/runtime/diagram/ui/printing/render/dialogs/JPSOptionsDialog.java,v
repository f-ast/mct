head	1.2;
access;
symbols
	v20081020-0700:1.2
	v20080924-1925:1.2
	v20080916-2008:1.2
	v20080827-1510:1.2
	v20080820-2230:1.2
	v20080722-1827:1.2
	R2_1_maintenance:1.2.0.2
	Root_R2_1_maintenance:1.2
	R2_1_0:1.2
	v20080425-1959:1.2
	v20080407-0930:1.2
	v20080404-1111:1.2
	v20080331-1625:1.1
	v20080328-1605:1.1;
locks; strict;
comment	@# @;


1.2
date	2008.04.04.21.44.32;	author ahunter;	state Exp;
branches;
next	1.1;
commitid	94047f6a13f4567;

1.1
date	2008.03.28.17.33.29;	author ahunter;	state Exp;
branches;
next	;
commitid	4f7947ed2be84567;


desc
@@


1.2
log
@[225213] gmf-head jbruck 080404 Multi-platform printing should support selection of multi diagrams to print
@
text
@/******************************************************************************
 * Copyright (c) 2008 IBM Corporation and others.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *    IBM Corporation - initial API and implementation 
 ****************************************************************************/

package org.eclipse.gmf.runtime.diagram.ui.printing.render.dialogs;

import org.eclipse.core.databinding.DataBindingContext;
import org.eclipse.gmf.runtime.diagram.ui.printing.internal.l10n.DiagramUIPrintingMessages;
import org.eclipse.gmf.runtime.diagram.ui.printing.render.model.PrintOptions;
import org.eclipse.jface.dialogs.TrayDialog;
import org.eclipse.jface.window.IShellProvider;
import org.eclipse.swt.SWT;
import org.eclipse.swt.widgets.Composite;
import org.eclipse.swt.widgets.Control;
import org.eclipse.swt.widgets.Shell;

/**
 * A dialog that presents advanced printer options to the user.
 * 
 * @@author James Bruck (jbruck)
 */
public class JPSOptionsDialog extends TrayDialog {

	private DataBindingContext bindings;
	public final PrintOptions options;

	private QualityBlock qualityBlock;
	private ColorBlock colorBlock;
	private SidesBlock sidesBlock;
	private JobAttributesBlock jobAttributesBlock;

	private final DialogBlock.IDialogUnitConverter dluConverter = new DialogBlock.IDialogUnitConverter() {

		public int convertHorizontalDLUsToPixels(int dlus) {
			return JPSOptionsDialog.this.convertHorizontalDLUsToPixels(dlus);
		}

		public Shell getShell() {
			return JPSOptionsDialog.this.getShell();
		}
	};

	protected JPSOptionsDialog(Shell shell, DataBindingContext bindings,
			PrintOptions options) {
		super(shell);
		this.options = options;
		this.bindings = bindings;
	}

	public JPSOptionsDialog(IShellProvider parentShell,
			DataBindingContext bindings, PrintOptions options) {
		super(parentShell);
		this.options = options;
		this.bindings = bindings;
	}

	/*
	 * (non-Javadoc)
	 * 
	 * @@see org.eclipse.jface.window.Window#configureShell(org.eclipse.swt.widgets.Shell)
	 */
	protected void configureShell(Shell newShell) {
		
		super.configureShell(newShell);
		newShell
				.setText(DiagramUIPrintingMessages.JPSOptionsDialog_AdvancedOptions);
	}

	/*
	 * (non-Javadoc)
	 * 
	 * @@see org.eclipse.jface.dialogs.Dialog#createDialogArea(org.eclipse.swt.widgets.Composite)
	 */
	protected Control createDialogArea(Composite parent) {

		Composite result = new Composite(parent, SWT.NONE);
		DialogBlock.layout(result, 2);

		createColorBlockArea(result);
		createQualityBlockArea(result);
		createSidesBlockArea(result);
		createJobAttributesBlockArea(result);

		return result;
	}

	protected void createQualityBlockArea(Composite result) {
		qualityBlock = new QualityBlock(dluConverter, bindings, options);
		qualityBlock.createContents(result);
	}

	protected void createColorBlockArea(Composite result) {
		colorBlock = new ColorBlock(dluConverter, bindings, options);
		colorBlock.createContents(result);
	}

	protected void createSidesBlockArea(Composite result) {
		sidesBlock = new SidesBlock(dluConverter, bindings, options);
		sidesBlock.createContents(result);
	}

	protected void createJobAttributesBlockArea(Composite result) {
		jobAttributesBlock = new JobAttributesBlock(dluConverter, bindings,
				options);
		jobAttributesBlock.createContents(result);
	}
		
	/*
	 * (non-Javadoc)
	 * @@see org.eclipse.jface.dialogs.TrayDialog#close()
	 */
	public boolean close() {
		qualityBlock.dispose();
		colorBlock.dispose();
		sidesBlock.dispose();
		jobAttributesBlock.dispose();
		return super.close();
	}
}
@


1.1
log
@[224387] gmf-head jbruck 080328 [Printing] Enahncements to multi-platform printing
@
text
@d114 12
@

