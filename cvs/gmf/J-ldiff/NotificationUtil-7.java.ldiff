2,2c2,2
<  * Copyright (c) 2004 IBM Corporation and others.
---
>  * Copyright (c) 2004, 2006 IBM Corporation and others.
11a114,114
>         }
12,12d113
< 
54a117,117
>     
55,55d116
< 
95a94,99
>             int eventType = notification.getEventType();
>             if ((eventType == Notification.REMOVE_MANY)
>                 || (eventType == Notification.REMOVE)) {
>                 Object feature = notification.getFeature();
>                 if (feature instanceof EReference
>                     && ((EReference) feature).isContainment()) {                    
96,97d93
<             if (notification.getFeature() instanceof EReference
<                 && ((EReference) notification.getFeature()).isContainment()) {
98,98c100,100
<                 if (notification.getEventType() == Notification.REMOVE_MANY) {
---
>                     if (eventType == Notification.REMOVE_MANY) {
103,103c105,105
<                             deletedObjects.add(notification.getOldValue());
---
>                                 deletedObjects.add(removedObject);
106,107d107
<                 }
<                 if (notification.getEventType() == Notification.REMOVE
108a109,109
>                         .eResource() == null) {
108,108c108,108
<                     && ((EObject) notification.getOldValue()).eResource() == null) {
---
>                     } else if (((EObject) notification.getOldValue())
