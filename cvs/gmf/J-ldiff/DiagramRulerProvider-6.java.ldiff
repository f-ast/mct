15,16d14
< import java.beans.PropertyChangeEvent;
< import java.beans.PropertyChangeListener;
21a20,20
> import org.eclipse.emf.common.notify.Notification;
26,26d24
< 
28,28c26,26
< import org.eclipse.gmf.runtime.diagram.core.listener.NotificationEvent;
---
> import org.eclipse.gmf.runtime.diagram.core.listener.NotificationListener;
30a30,30
> import org.eclipse.gmf.runtime.diagram.ui.internal.properties.Properties;
35,35d27
< import org.eclipse.gmf.runtime.diagram.ui.properties.Properties;
36,36c28,28
< import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
---
> import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
55,55c53,53
< 	private PropertyChangeListener rulerListener = new PropertyChangeListener() {
---
> 	private NotificationListener rulerListener = new NotificationListener() {
55a54,54
> 		public void notifyChanged(Notification evt) {
56,58d53
< 		public void propertyChange(PropertyChangeEvent evt) {
< 
< 			if( evt instanceof NotificationEvent ) {
59,59c55,55
< 				handleNotificationEvent( (NotificationEvent)evt );
---
> 			handleNotificationEvent(evt);
60,61d55
< 				return;
< 			}
64,64c58,58
< 		private void handleNotificationEvent(NotificationEvent event) {
---
> 		private void handleNotificationEvent(Notification event) {
77,77c71,71
< 					PresentationListener.getInstance().addPropertyChangeListener(guide,guideListener);
---
> 					PresentationListener.getInstance().addNotificationListener(guide,guideListener);
83,83c77,77
< 					PresentationListener.getInstance().removePropertyChangeListener(guide,guideListener);
---
> 					PresentationListener.getInstance().removeNotificationListener(guide,guideListener);
94,94c88,88
< 	private PropertyChangeListener guideListener = new PropertyChangeListener() {
---
> 	private NotificationListener guideListener = new NotificationListener() {
94a89,89
> 		public void notifyChanged(Notification evt) {
95,97d88
< 		public void propertyChange(PropertyChangeEvent evt) {
< 			
< 			if( evt instanceof NotificationEvent ) {
98,98c90,90
< 				handleNotificationEvent( (NotificationEvent)evt );
---
> 			handleNotificationEvent(evt);
99,100d90
< 				return;
< 			}
103,103c93,93
< 		private void handleNotificationEvent(NotificationEvent event) {
---
> 		private void handleNotificationEvent(Notification event) {
104,104d93
< 		
106,106d94
< 			
111,111c99,99
< 							.notifyGuideMoved(event.getSource());
---
> 							.notifyGuideMoved(event.getNotifier());
122,122c110,110
< 							.notifyPartAttachmentChanged(event.getNewValue(), event.getSource());
---
> 							.notifyPartAttachmentChanged(event.getNewValue(), event.getNotifier());
135,135c123,123
< 		theRuler.addPropertyChangeListener(rulerListener);
---
> 		theRuler.addNotificationListener(rulerListener);
140,140c128,128
< 			PresentationListener.getInstance().addPropertyChangeListener(guide,guideListener);
---
> 			PresentationListener.getInstance().addNotificationListener(guide,guideListener);
147,147c135,135
< 		theRuler.removePropertyChangeListener(rulerListener);
---
> 		theRuler.removeNotificationListener(rulerListener);
