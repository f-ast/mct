40,40d39
< import org.eclipse.gmf.runtime.emf.core.edit.MResourceOption;
71,71c70,70
< 		public Resource load(TransactionalEditingDomain domain, int loadOptions, IProgressMonitor monitor) throws CoreException;
---
> 		public Resource load(TransactionalEditingDomain domain, Map loadOptions, IProgressMonitor monitor) throws CoreException;
81,81c80,80
< 		public Resource load(TransactionalEditingDomain domain, int loadOptions, IProgressMonitor monitor) throws CoreException {
---
> 		public Resource load(TransactionalEditingDomain domain, Map loadOptions, IProgressMonitor monitor) throws CoreException {
97a97,103
>                 // propogate passed in options to the defaults
>                 Iterator iter = loadOptions.keySet().iterator();
>                 while (iter.hasNext()) {
>                     Object key = iter.next();
>                     loadingOptions.put(key, loadOptions.get(key));
>                 }
>                 
116,116c122,122
< 				int loadOptions, IProgressMonitor monitor)
---
> 				Map loadOptions, IProgressMonitor monitor)
154,154c160,160
< 			notationModel = loader.load(domain, 0, monitor);
---
> 			notationModel = loader.load(domain, new HashMap(), monitor);
175a182,184
>                             Map loadOptions = new HashMap();
>                             loadOptions.put(XMLResource.OPTION_RECORD_UNKNOWN_FEATURE, Boolean.TRUE);
> 							notationModel = loader.load(domain, loadOptions, monitor);
176,176d181
< 							notationModel = loader.load(domain, MResourceOption.COMPATIBILITY_MODE, monitor);
213,213d220
< 		int nOptions = 0;
214a222,223
>             options.put(XMLResource.OPTION_RECORD_UNKNOWN_FEATURE, Boolean.TRUE);
> 			
215,215d221
< 			nOptions |= MResourceOption.COMPATIBILITY_MODE;
