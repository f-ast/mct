25,25c58,58
< import org.eclipse.emf.edit.domain.EditingDomain;
---
> import org.eclipse.emf.transaction.TransactionalEditingDomain;
25a59,59
> 
51a51,53
> import java.util.Iterator;
> 
> import org.eclipse.emf.ecore.util.EcoreUtil;
70a75,75
> 	private URI mySelectedModelElementURI;
71,71d74
< 	private EObject mySelectedModelElement;
81,81c85,85
< 	private EditingDomain myEditingDomain = GMFEditingDomainFactory.INSTANCE.createEditingDomain();
---
> 	private TransactionalEditingDomain myEditingDomain = GMFEditingDomainFactory.INSTANCE.createEditingDomain();
145a150,163
> 		return mySelectedModelElementURI;
> 	}
> 
> 	/**
> 	 * @generated
> 	 */
> 	public int open() {
> 		int result = super.open();
> 		for (Iterator it = myEditingDomain.getResourceSet().getResources().iterator(); it.hasNext();) {
> 			Resource resource = (Resource) it.next();
> 			resource.unload();
> 		}
> 		myEditingDomain.dispose();
> 		return result;
146,147d149
< 		Resource resource = mySelectedModelElement.eResource();
< 		return resource.getURI().appendFragment(resource.getURIFragment(mySelectedModelElement));
347a364,364
> 						EObject selectedModelElement = (EObject) selectedElement;
348,348d363
< 						mySelectedModelElement = (EObject) selectedElement;
349,349c365,365
< 						setOkButtonEnabled(ViewService.getInstance().provides(Node.class, new EObjectAdapter(mySelectedModelElement), myView, null, ViewUtil.APPEND, true,
---
> 						setOkButtonEnabled(ViewService.getInstance().provides(Node.class, new EObjectAdapter(selectedModelElement), myView, null, ViewUtil.APPEND, true,
350a367,367
> 						mySelectedModelElementURI = EcoreUtil.getURI(selectedModelElement);
355,355c372,372
< 			mySelectedModelElement = null;
---
> 			mySelectedModelElementURI = null;
