40a41,41
> import org.eclipse.jdt.core.IClasspathEntry;
41a43,43
> import org.eclipse.jdt.core.IJavaProject;
187a190,201
> 			final IJavaProject jp = JavaCore.create(myDestProject);
> 			myDestRoot = jp.findPackageFragmentRoot(srcPath);
> 			// createEMFProject doesn't create source entry in case project exists and has some classpath entries already, 
> 			// though the folder gets created. 
> 			if (myDestRoot == null) {
> 				IClasspathEntry[] oldCP = jp.getRawClasspath();
> 				IClasspathEntry[] newCP = new IClasspathEntry[oldCP.length + 1];
> 				System.arraycopy(oldCP, 0, newCP, 0, oldCP.length);
> 				newCP[oldCP.length] = JavaCore.newSourceEntry(srcPath);
> 				jp.setRawClasspath(newCP, new NullProgressMonitor());
> 				myDestRoot = jp.findPackageFragmentRoot(srcPath);
> 			}
188,188d189
< 			myDestRoot = JavaCore.create(myDestProject).findPackageFragmentRoot(srcPath);
