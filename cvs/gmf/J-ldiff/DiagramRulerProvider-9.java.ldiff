35,35c35,35
< import org.eclipse.gmf.runtime.draw2d.ui.mapmode.MapMode;
---
> import org.eclipse.gmf.runtime.draw2d.ui.mapmode.IMapMode;
116a117,117
> 	private IMapMode mm;
118,118c119,119
< 	public DiagramRulerProvider( DiagramRuler ruler ) {
---
> 	public DiagramRulerProvider( DiagramRuler ruler, IMapMode mm ) {
119a121,121
> 		this.mm = mm;
121a124,126
> 	private IMapMode getMapMode() {
> 		return mm;
> 	}
200,200c205,205
< 				x += MapMode.DPtoLP(pDelta);
---
> 				x += getMapMode().DPtoLP(pDelta);
203,203c208,208
< 				y += MapMode.DPtoLP(pDelta);
---
> 				y += getMapMode().DPtoLP(pDelta);
337a343,344
> 
> 
