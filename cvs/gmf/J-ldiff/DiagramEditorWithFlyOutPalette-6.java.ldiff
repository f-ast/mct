110a550,552
> 	protected void startListening() {
> 		super.startListening();
> 		activityManagerListener = new ActivityManagerListener();
111,111d549
< 			activityManagerListener = new ActivityManagerListener();
112,112c553,553
< 			PlatformUI.getWorkbench().getActivitySupport().getActivityManager()
---
> 		PlatformUI.getWorkbench().getActivitySupport().getActivityManager()
113,113c554,554
< 				.addActivityManagerListener(activityManagerListener);
---
> 			.addActivityManagerListener(activityManagerListener);
114,114c555,555
< 			
---
> 	}
114a556,556
> 
353a350,353
> 		if (getEditDomain() != null
> 			&& getEditDomain().getPaletteViewer() != null
> 			&& getEditDomain().getPaletteViewer().getPaletteRoot() != null) {
> 			
357a358,358
> 	}
