25a32,34
> import org.eclipse.gmf.runtime.emf.ui.internal.MslUIDebugOptions;
> import org.eclipse.gmf.runtime.emf.ui.internal.MslUIPlugin;
> import org.eclipse.gmf.runtime.emf.ui.internal.MslUIStatusCodes;
26,26c35,35
< import org.eclipse.ui.IEditorPart;
---
> import org.eclipse.ui.IEditorPart;
27,27d35
< 
28a26,29
> import org.eclipse.emf.edit.domain.EditingDomain;
> import org.eclipse.emf.edit.domain.IEditingDomainProvider;
> import org.eclipse.emf.transaction.TransactionalEditingDomain;
> import org.eclipse.gmf.runtime.common.core.util.Log;
29,30d25
< import org.eclipse.gmf.runtime.emf.core.edit.MRunnable;
< import org.eclipse.gmf.runtime.emf.core.util.OperationUtil;
31,31c30,30
< import org.eclipse.gmf.runtime.emf.core.util.ResourceUtil;
---
> import org.eclipse.gmf.runtime.common.core.util.Trace;
47a52,53
>     private TransactionalEditingDomain editingDomain;
>     
59a66,78
>         // Remember the editing domain associated with this editor
>         IEditingDomainProvider domainProvider = (IEditingDomainProvider) getEditor().getAdapter(IEditingDomainProvider.class);
>         
>         if (domainProvider != null) {
>             EditingDomain domain = domainProvider.getEditingDomain();
>             
>             if (domain instanceof TransactionalEditingDomain) {
>                 editingDomain = (TransactionalEditingDomain) domain;
>             }
>         }
>         
>         if (editingDomain != null) {
> 
60a80,83
>             try {
>                 editingDomain.runExclusive(new Runnable() {
>     
>                     public void run() {
61,62d79
<         OperationUtil.runAsRead(new MRunnable() {
<             public Object run() {
63a85,97
>                             editor, marker);
>                     }
>                 });
>                 
>             } catch (InterruptedException e) {
>                 Trace.catching(MslUIPlugin.getDefault(),
>                     MslUIDebugOptions.EXCEPTIONS_CATCHING, getClass(),
>                     "gotoMarker", e); //$NON-NLS-1$
>                 Log.error(MslUIPlugin.getDefault(),
>                     MslUIStatusCodes.IGNORED_EXCEPTION_WARNING, e
>                         .getLocalizedMessage(), e);
>             }
>         }
64,67d84
<                     editor,
<                     marker);
<                 return null;
<             }});
89a120,122
>                 ResourceSet resourceSet = editingDomain.getResourceSet();
>                 URI uri = URI.createFileURI(resourcePath.toOSString());
>                 result = resourceSet.getResource(uri, true);
90,90d119
< 		        result = ResourceUtil.load(resourcePath.toOSString());
181a214,214
> 
