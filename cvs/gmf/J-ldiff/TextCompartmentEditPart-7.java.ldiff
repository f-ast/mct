21a22,22
> import org.eclipse.emf.common.notify.Notification;
35,35d35
< import org.eclipse.gmf.runtime.diagram.core.listener.NotificationEvent;
40,40d39
< import org.eclipse.gmf.runtime.diagram.ui.properties.Properties;
250a250,260
> 	 * Determines if the given Notification affects the paser options
> 	 * 
> 	 * @param evt The notification in question
> 	 * @return whether the given notification affects the parser options
> 	 */
> 	protected boolean isAffectingParserOptions(Notification evt) {
> 		return false;
> 	}
> 
> 
> 	/**
350a361,375
> 	protected void handleNotificationEvent(Notification event) {
> 		Object feature = event.getFeature();
> 		if (NotationPackage.eINSTANCE.getFontStyle_FontColor().equals(feature)){
> 			Integer c = (Integer) event.getNewValue();
> 			setFontColor(PresentationResourceManager.getInstance().getColor(c));
> 		}
> 		else if (NotationPackage.eINSTANCE.getFontStyle_Underline().equals(feature))
> 			refreshUnderline();
> 		else if (NotationPackage.eINSTANCE.getFontStyle_StrikeThrough().equals(feature))
> 			refreshStrikeThrough();
> 		else if (isAffectingParserOptions(event)) {
> 			refreshParserOptions();
> 			refreshLabel();
> 		} 
> 		else {
351,351c394,394
< 	protected void handleNotificationEvent(NotificationEvent event) {
---
> 		super.handleNotificationEvent(event);
353,353c377,377
< 			&& getParser().isAffectingEvent(event.getNotification(),
---
> 				&& getParser().isAffectingEvent(event,
361,361c385,385
< 					event.getNotification())) {
---
> 						event)) {
369,378d392
< 		super.handleNotificationEvent(event);
< 	}
< 	
< 	/**
< 	 * @see org.eclipse.gmf.runtime.diagram.ui.editparts.GraphicalEditPart#handlePropertyChangeEvent(java.beans.PropertyChangeEvent)
< 	 */
< 	protected void handlePropertyChangeEvent(PropertyChangeEvent evt) {
< 		if (evt.getPropertyName().equals(Properties.ID_FONTCOLOR)){
< 			Integer c = (Integer) evt.getNewValue();
< 			setFontColor(PresentationResourceManager.getInstance().getColor(c));
380,388d393
< 		else if (evt.getPropertyName().equals(Properties.ID_FONTUNDERLINE))
< 			refreshUnderline();
< 		else if (evt.getPropertyName().equals(Properties.ID_FONTSTRIKETHROUGH))
< 			refreshStrikeThrough();
< 		else if (isAffectingParserOptions(evt)) {
< 			refreshParserOptions();
< 			refreshLabel();
< 		} else
< 			super.handlePropertyChangeEvent(evt);
