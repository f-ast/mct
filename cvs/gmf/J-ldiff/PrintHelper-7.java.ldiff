13a14,15
> import java.util.ArrayList;
> import java.util.Arrays;
37a40,67
>     /**
>      * Dynamic link library name without the extension
>      */
>     private static final String DLL_NAME = "DiagramPrint"; //$NON-NLS-1$
> 
>     /**
>      * Country and language separator
>      */
>     private static final String SEPARATOR = StringStatics.UNDER_SCORE;
> 
>     // to avoid throwing exceptions because of trying to load dlls for
>     // unsupported locales, maintain an array of supported countries and
>     // languages
> 
>     // in the array below, if there are multiple entries for the same
>     // language, put the country specific one first
> 
>     /**
>      * Supported languages strings. Default locale is SUPPORTED[0].
>      */
>     private static final String SUPPORTED[] = {
>         "en", "de", "es", "fr", "it", "ja", "ko", "pt_BR", "zh_CN", "zh_TW"}; //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$ //$NON-NLS-4$ //$NON-NLS-5$ //$NON-NLS-6$ //$NON-NLS-7$ //$NON-NLS-8$ //$NON-NLS-9$ //$NON-NLS-10$
> 
>     /**
>      * Default locale, English language
>      */
>     private static final String DEFAULT_LOCALE = SUPPORTED[0];
> 
41a72,114
> 
>         // Although a far nicer way to do this dll loading is by using
>         // Bundle-NativeCode in manifest.mf, we are not doing it that way
>         // because of Bugzilla
>         // https://bugs.eclipse.org/bugs/show_bug.cgi?id=153902
> 
>         // When the Bugzilla has been fixed, this static block can be replaced
>         // with one line of code
>         // System.loadLibrary("DiagramPrint");
> 
>         String localizedVersion = DEFAULT_LOCALE;
> 
>         List supported = new ArrayList();
>         supported.addAll(Arrays.asList(SUPPORTED));
> 
>         String language = Locale.getDefault().getLanguage().toLowerCase();
>         if (supported.contains(language)) {
>             localizedVersion = language;
>         } else {
>             String country = Locale.getDefault().getCountry().toUpperCase();
>             if (country != null) {
>                 String locale = language + SEPARATOR + country;
>                 if (supported.contains(locale)) {
>                     localizedVersion = locale;
>                 }
>             }
>         }
> 
>         try {
>             System.loadLibrary(DLL_NAME + SEPARATOR + localizedVersion);
>         } catch (UnsatisfiedLinkError ule) {
>             Log.error(PrintingPlugin.getDefault(),
>                 CommonPrintingStatusCodes.RESOURCE_FAILURE,
>                 "Failed to load DiagramPrint dll for " //$NON-NLS-1$
>                     + localizedVersion);
>             Trace.catching(PrintingPlugin.getDefault(),
>                 CommonPrintingDebugOptions.EXCEPTIONS_CATCHING,
>                 PrintHelper.class, "Link", ule); //$NON-NLS-1$
>             Trace.throwing(PrintingPlugin.getDefault(),
>                 CommonPrintingDebugOptions.EXCEPTIONS_THROWING,
>                 PrintHelper.class, "Link", ule); //$NON-NLS-1$*/
>             throw ule;
>         }
42,43d71
< 		//Note: DiagramPrint dll(s) defined in the manifest
< 		System.loadLibrary("DiagramPrint"); //$NON-NLS-1$
84a156,158
>      * @param windowClass
>      *            String with class
>      * @param title
85,85d155
< 	 * @param windowClass	String with class
86,86c159,159
< 	 * @param title			String with shell title
---
>      *            String with shell title
91a165,166
>      * 
>      * @param isLandscape
92,92c167,167
<      * @param isLandscape   true if orientation should be landscape, false otherwise.
---
>      *            true if orientation should be landscape, false otherwise.
97a173,175
>      * 
>      * @param index
>      *            index of type of paper size,
98,98c176,176
<      * @param index         index of type of paper size, @see org.eclipse.gmf.runtime.diagram.ui.internal.pagesetup.PageSetupPageType
---
>      * @see org.eclipse.gmf.runtime.diagram.ui.internal.pagesetup.PageSetupPageType
99a178,178
>      * @param width
100,100c179,179
<      * @param width         specifies the custom width of the paper. Leave as 0 if
---
>      *            specifies the custom width of the paper. Leave as 0 if paper
100a180,181
>      *            size index is user-defined.
>      * @param height
101,101d179
<      *                      paper size index is user-defined.
102,102c182,182
<      * @param height        specifies the custom width of the paper. Leave as 0 if
---
>      *            specifies the custom width of the paper. Leave as 0 if paper
103,103c183,183
<      *                      paper size index is user-defined.
---
>      *            size index is user-defined.
105a186,186
>             double height);
105,105c185,185
<     public static native void setPaperSize(int index, double width, double height);
---
>     public static native void setPaperSize(int index, double width,
216a298,298
>      *         <code>false</code> otherwise
216,216c297,297
< 	 * @return <code>true</code> if dialog box opened succesfully, <code>false</code> otherwise
---
>      * @return <code>true</code> if dialog box opened succesfully,
416a499,500
>      * 
>      * @param isLandscape
417,417c501,501
<      * @param isLandscape   true if orientation should be landscape, false otherwise.
---
>      *            true if orientation should be landscape, false otherwise.
424a509,511
>      * 
>      * @param index
>      *            index of type of paper size,
425,425c512,512
<      * @param index         index of type of paper size, @see org.eclipse.gmf.runtime.diagram.ui.internal.pagesetup.PageSetupPageType
---
>      * @see org.eclipse.gmf.runtime.diagram.ui.internal.pagesetup.PageSetupPageType
426a514,514
>      * @param width
427,427c515,515
<      * @param width         specifies the custom width of the paper. Leave as 0 if
---
>      *            specifies the custom width of the paper. Leave as 0 if paper
427a516,517
>      *            size index is user-defined.
>      * @param height
428,428d515
<      *                      paper size index is user-defined.
429,429c518,518
<      * @param height        specifies the custom width of the paper. Leave as 0 if
---
>      *            specifies the custom width of the paper. Leave as 0 if paper
430,430c519,519
<      *                      paper size index is user-defined.
---
>      *            size index is user-defined.
