8a9,10
> import java.util.Collection;
> import java.util.Iterator;
9a13,13
> import org.eclipse.emf.common.util.EList;
9,9c12,12
< import org.eclipse.emf.codegen.ecore.genmodel.GenClassifier;
---
> import org.eclipse.emf.codegen.ecore.genmodel.GenClassifier;
11,11d11
< import org.eclipse.emf.common.notify.Notification;
13,13c15,15
< import org.eclipse.emf.ecore.InternalEObject;
---
> import org.eclipse.emf.ecore.util.EObjectResolvingEList;
14,15d15
< import org.eclipse.emf.ecore.impl.ENotificationImpl;
< 
35,35c35,35
< 	 * The cached value of the '{@link #getElement() <em>Element</em>}' reference.
---
> 	 * The cached value of the '{@link #getElement() <em>Element</em>}' reference list.
42,42c42,42
< 	protected GenCommonBase element = null;
---
> 	protected EList element = null;
67,67c67,67
< 	public GenCommonBase getElement() {
---
> 	public EList getElement() {
68,70d67
< 		if (element != null && element.eIsProxy()) {
< 			InternalEObject oldElement = (InternalEObject)element;
< 			element = (GenCommonBase)eResolveProxy(oldElement);
71,71c68,68
< 			if (element != oldElement) {
---
> 		if (element == null) {
72,72d68
< 				if (eNotificationRequired())
73,73c69,69
< 					eNotify(new ENotificationImpl(this, Notification.RESOLVE, GMFGenPackage.GEN_DIAGRAM_ELEMENT_TARGET__ELEMENT, oldElement, element));
---
> 			element = new EObjectResolvingEList(GenCommonBase.class, this, GMFGenPackage.GEN_DIAGRAM_ELEMENT_TARGET__ELEMENT);
74,74d69
< 			}
82,102d76
< 	 * @generated
< 	 */
< 	public GenCommonBase basicGetElement() {
< 		return element;
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
< 	public void setElement(GenCommonBase newElement) {
< 		GenCommonBase oldElement = element;
< 		element = newElement;
< 		if (eNotificationRequired())
< 			eNotify(new ENotificationImpl(this, Notification.SET, GMFGenPackage.GEN_DIAGRAM_ELEMENT_TARGET__ELEMENT, oldElement, element));
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
106,106c80,80
< 		if(getElement() == null) {
---
> 		if(getElement().isEmpty()) {
108a83,83
> 		return ((GenCommonBase)getElement().get(0)).getDiagramRunTimeClass();
109,109c113,113
< 		return getElement().getDiagramRunTimeClass();
---
> 				return getElement();
117a92,95
> 		StringBuffer buf = new StringBuffer("Ctx"); //$NON-NLS-1$
> 		for (Iterator it = getElement().iterator(); it.hasNext();) {
> 			GenCommonBase nextElement = (GenCommonBase) it.next();			
> 			buf.append('_');
118,118c96,96
< 		int id = getElement() != null ? getElement().getVisualID() : -1;
---
> 			int id = nextElement.getVisualID();
118a97,102
> 			if(id < 0) {
> 				buf.append('n');
> 			}
> 			buf.append(id);			
> 		}
> 		return buf.toString();
119,119d96
< 		return "Ctx" + (id < 0 ? "_" : Integer.toString(id)); //$NON-NLS-1$ //$NON-NLS-2$
130,131d112
< 				if (resolve) return getElement();
< 				return basicGetElement();
143a126,127
> 				getElement().clear();
> 				getElement().addAll((Collection)newValue);
144,144d125
< 				setElement((GenCommonBase)newValue);
157a141,141
> 				getElement().clear();
158,158d140
< 				setElement((GenCommonBase)null);
172,172c155,155
< 				return element != null;
---
> 				return element != null && !element.isEmpty();
