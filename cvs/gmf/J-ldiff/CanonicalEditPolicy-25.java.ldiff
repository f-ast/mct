2,2c2,2
<  * Copyright (c) 2004, 2005,  IBM Corporation and others.
---
>  * Copyright (c) 2004, 2006 IBM Corporation and others.
39a40,40
> import org.eclipse.emf.transaction.util.TransactionUtil;
631,633d631
< 			
< 			// listen to persisted children to eliminate duplicate views.
< 			addListenerFilter(SEMANTIC_FILTER_ID, this, semanticHost);
667a666,670
>         // if the editing domain is null then there is no point in enabling the edit policy
>         // the editing domain could be null because the view is detached or if the host is detached
>         if ( TransactionUtil.getEditingDomain((EObject)getHost().getModel())==null){
>             return false;
>         }
