2,2c2,2
<  * Copyright (c) 2002, 2006 IBM Corporation and others.
---
>  * Copyright (c) 2002, 2007 IBM Corporation and others.
26,26d25
< import org.eclipse.gef.CompoundSnapToHelper;
32,34d30
< import org.eclipse.gef.SnapToGeometry;
< import org.eclipse.gef.SnapToGrid;
< import org.eclipse.gef.SnapToHelper;
38,38d33
< import org.eclipse.gef.rulers.RulerProvider;
52,52d46
< import org.eclipse.gmf.runtime.diagram.ui.internal.ruler.SnapToGuidesEx;
298a293,293
> 		if (adapter == Routing.class) {
299,322d292
< 		if (adapter == SnapToHelper.class) {
< 
< 			List snapStrategies = new ArrayList();
< 
< 			Boolean val = (Boolean)getViewer().getProperty(RulerProvider.PROPERTY_RULER_VISIBILITY);
< 			if (val != null && val.booleanValue())
< 				snapStrategies.add(new SnapToGuidesEx(this));
< 
< 			val = (Boolean)getViewer().getProperty(SnapToGeometry.PROPERTY_SNAP_ENABLED);
< 			if (val != null && val.booleanValue())
< 				snapStrategies.add(new SnapToGrid(this));
< 
< 			if (snapStrategies.size() == 0)
< 				return null;
< 
< 			if (snapStrategies.size() == 1)
< 				return snapStrategies.get(0);
< 
< 			SnapToHelper ss[] = new SnapToHelper[snapStrategies.size()];
< 			for (int i = 0; i < snapStrategies.size(); i++)
< 				ss[i] = (SnapToHelper)snapStrategies.get(i);
< 			return new CompoundSnapToHelper(ss);
< 		}
< 		else if (adapter == Routing.class) {
