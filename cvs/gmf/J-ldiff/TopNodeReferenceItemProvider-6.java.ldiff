23a24,24
> import org.eclipse.gmf.mappings.LabelNodeMapping;
25a27,27
> import org.eclipse.gmf.mappings.ShapeNodeMapping;
116a119,119
>                 if (mapping instanceof ShapeNodeMapping && ((ShapeNodeMapping) mapping).getDiagramNode() != null) { 
117,117d118
<                 if (mapping.getDiagramNode() != null) { 
118,118c120,120
<                     result += reference.getChild().getDiagramNode().getName(); 
---
>                     result += ((ShapeNodeMapping) mapping).getDiagramNode().getName(); 
118a121,122
>                 } else if (mapping instanceof LabelNodeMapping && ((LabelNodeMapping) mapping).getDiagramLabel() != null) { 
>                     result += ((LabelNodeMapping) mapping).getDiagramLabel().getName(); 
168a173,178
> 				 GMFMapFactory.eINSTANCE.createShapeNodeMapping()));
> 
> 		newChildDescriptors.add
> 			(createChildParameter
> 				(GMFMapPackage.eINSTANCE.getTopNodeReference_OwnedChild(),
> 				 GMFMapFactory.eINSTANCE.createLabelNodeMapping()));
169,169d172
< 				 GMFMapFactory.eINSTANCE.createNodeMapping()));
