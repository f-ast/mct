24,24d23
< import org.eclipse.gmf.gmfgraph.util.FigureQualifiedNameSwitch;
33a33,42
> 
> 	private static final String VAR_MM_ACCESS = "mapModeAccessor";
> 	private static final String VAR_OUTPUT_FIELDS = "outputStaticFields";
> 	private static final String VAR_OUTPUT_METHODS = "outputAdditionalMethods";
> 	private static final String VAR_PACKAGE_STMT = "packageStatement";
> 	private static final String VAR_RT_TOKEN = "runtimeToken";
> 
> 	private static final String SLOT_FIELDS = "staticFields";
> 	private static final String SLOT_METHODS = "additionalMethods";
> 
45a55,62
> 
> 	/**
> 	 * XXX consider using enum for runtimeToken
> 	 * @param runtimeToken either "full" or null to indicate full GMF runtime use, any other value is to be processed by custom templates 
> 	 * @param asInnerClass
> 	 */
> 	public FigureGenerator(String runtimeToken, boolean asInnerClass) {
> 		this(runtimeToken, MapModeCodeGenStrategy.DYNAMIC, "getMapMode().", asInnerClass);
46,47d54
< 	public FigureGenerator(FigureQualifiedNameSwitch fqnSwitch, boolean asInnerClass) {
< 		this(fqnSwitch, MapModeCodeGenStrategy.DYNAMIC, "getMapMode().", asInnerClass);
49a65,65
> 	public FigureGenerator(String runtimeToken, MapModeCodeGenStrategy mapModeStrategy, String mapModeAccessor, boolean asInnerClass) {
50,50d64
< 	public FigureGenerator(FigureQualifiedNameSwitch fqnSwitch, MapModeCodeGenStrategy mapModeStrategy, String mapModeAccessor, boolean asInnerClass) {
51,51c66,66
< 		this(fqnSwitch, mapModeStrategy, mapModeAccessor, asInnerClass, null);
---
> 		this(runtimeToken, mapModeStrategy, mapModeAccessor, asInnerClass, null);
54,54c69,69
< 	public FigureGenerator(FigureQualifiedNameSwitch fqnSwitch, MapModeCodeGenStrategy mapModeStrategy, String mapModeAccessor, boolean asInnerClass, URL[] dynamicTemplates) {
---
> 	public FigureGenerator(String runtimeToken, MapModeCodeGenStrategy mapModeStrategy, String mapModeAccessor, boolean asInnerClass, URL[] dynamicTemplates) {
63,63c78,78
< 			globals.add(new Variable("mapModeAccessor", mapModeAccessor == null ? "" : mapModeAccessor));
---
> 			globals.add(new Variable(VAR_MM_ACCESS, mapModeAccessor == null ? "" : mapModeAccessor));
63a79,81
> 		}
> 		if (runtimeToken != null) {
> 			globals.add(new Variable(VAR_RT_TOKEN, runtimeToken));
65,65d82
< 		globals.add(new Variable(FigureQualifiedNameSwitch.class.getSimpleName(), fqnSwitch));
66,66c83,83
< 		packageStatement = new Variable("packageStatement", "");
---
> 		packageStatement = new Variable(VAR_PACKAGE_STMT, "");
69,69c86,86
< 		globals.add(new Variable("outputAdditionalMethods", "") {
---
> 		globals.add(new Variable(VAR_OUTPUT_METHODS, "") {
75,75c92,92
< 		globals.add(new Variable("outputStaticFields", "") {
---
> 		globals.add(new Variable(VAR_OUTPUT_FIELDS, "") {
81a99,99
> 		slots.put(SLOT_METHODS, additionalMethods);
82,82d98
< 		slots.put("additionalMethods", additionalMethods);
83,83c100,100
< 		slots.put("staticFields", additionalFields);
---
> 		slots.put(SLOT_FIELDS, additionalFields);
