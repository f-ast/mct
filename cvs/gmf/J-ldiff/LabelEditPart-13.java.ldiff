25a26,26
> import org.eclipse.emf.transaction.RunnableWithResult;
30a32,32
> import org.eclipse.gef.editparts.AbstractEditPart;
32a35,35
> import org.eclipse.gmf.runtime.common.core.util.Log;
33,33c36,36
< import org.eclipse.gmf.runtime.diagram.core.internal.util.MEditingDomainGetter;
---
> import org.eclipse.gmf.runtime.common.core.util.Trace;
45a41,41
> import org.eclipse.gmf.runtime.diagram.ui.internal.DiagramUIDebugOptions;
46,46c42,42
< import org.eclipse.gmf.runtime.emf.core.edit.MRunnable;
---
> import org.eclipse.gmf.runtime.diagram.ui.internal.DiagramUIPlugin;
46a43,43
> import org.eclipse.gmf.runtime.diagram.ui.internal.DiagramUIStatusCodes;
118a124,128
> 			try {
> 				semanticHint = ((String) getEditingDomain().runExclusive(
> 					new RunnableWithResult.Impl() {
> 
> 							public void run() {
119,120d123
< 			semanticHint = ((String) MEditingDomainGetter.getMEditingDomain((View)getModel()).runAsRead(new MRunnable() {
< 				public Object run() {
121,121c129,129
< 					return ((View)getModel()).getType();
---
> 								setResult(((View) getModel()).getType());
123a132,140
> 			} catch (InterruptedException e) {
> 				Trace.catching(DiagramUIPlugin.getInstance(),
> 					DiagramUIDebugOptions.EXCEPTIONS_CATCHING, getClass(),
> 					"getSemanticType", e); //$NON-NLS-1$
> 				Log.error(DiagramUIPlugin.getInstance(),
> 					DiagramUIStatusCodes.IGNORED_EXCEPTION_WARNING,
> 					"getSemanticType", e); //$NON-NLS-1$
> 			}
> 
