23,23c33,33
< import org.eclipse.gmf.mappings.CreationTool;
---
> import org.eclipse.gmf.mappings.MenuOwner;
33,33c36,36
< import org.eclipse.gmf.mappings.NewActionTool;
---
> import org.eclipse.gmf.mappings.ToolOwner;
36,36d16
< import org.eclipse.gmf.mappings.Tool;
37,37c17,17
< import org.eclipse.gmf.mappings.ToolGroup;
---
> import org.eclipse.gmf.mappings.AppearanceSteward;
38a38,38
> import org.eclipse.gmf.tooldef.GMFToolPackage;
108,108c164,164
< 	private EClass toolGroupEClass = null;
---
> 	private EClass appearanceStewardEClass = null;
109,115d164
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
< 	private EClass toolEClass = null;
122,122c150,150
< 	private EClass creationToolEClass = null;
---
> 	private EClass menuOwnerEClass = null;
129,129c157,157
< 	private EClass newActionToolEClass = null;
---
> 	private EClass toolOwnerEClass = null;
136,136c108,108
< 	private EClass constraintEClass = null;
---
> 	private EClass constraintEClass = null;
143,143c115,115
< 	private EClass linkConstraintsEClass = null;
---
> 	private EClass linkConstraintsEClass = null;
150,150c122,122
< 	private EClass valueExpressionEClass = null;
---
> 	private EClass valueExpressionEClass = null;
157,157c129,129
< 	private EClass elementInitializerEClass = null;
---
> 	private EClass elementInitializerEClass = null;
164,164c136,136
< 	private EClass featureSeqInitializerEClass = null;
---
> 	private EClass featureSeqInitializerEClass = null;
171,171c143,143
< 	private EClass featureValueSpecEClass = null;
---
> 	private EClass featureValueSpecEClass = null;
251a245,245
> 		GMFToolPackage.eINSTANCE.eClass();
279,279c273,273
< 	public EReference getAbstractNodeMapping_DomainMetaElement() {
---
> 	public EReference getAbstractNodeMapping_EditFeature() {
288,288c282,282
< 	public EReference getAbstractNodeMapping_DomainSpecialization() {
---
> 	public EReference getAbstractNodeMapping_ChildMappings() {
297,297c291,291
< 	public EReference getAbstractNodeMapping_DomainInitializer() {
---
> 	public EReference getAbstractNodeMapping_CompartmentMappings() {
305a741,741
> 	public EReference getMenuOwner_ContextMenu() {
306,306d740
< 	public EReference getAbstractNodeMapping_ContainmentFeature() {
307,307c742,742
< 		return (EReference)abstractNodeMappingEClass.getEStructuralFeatures().get(3);
---
> 		return (EReference)menuOwnerEClass.getEStructuralFeatures().get(0);
308,316d742
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
< 	public EReference getAbstractNodeMapping_EditFeature() {
< 		return (EReference)abstractNodeMappingEClass.getEStructuralFeatures().get(4);
323a552,552
> 	public EReference getCanvasMapping_ToolbarContributions() {
324,324d551
< 	public EReference getAbstractNodeMapping_ChildMappings() {
325,325c553,553
< 		return (EReference)abstractNodeMappingEClass.getEStructuralFeatures().get(5);
---
> 		return (EReference)canvasMappingEClass.getEStructuralFeatures().get(5);
332a327,327
> 	public EReference getMappingEntry_DomainInitializer() {
333,333d326
< 	public EReference getAbstractNodeMapping_CompartmentMappings() {
334,334c328,328
< 		return (EReference)abstractNodeMappingEClass.getEStructuralFeatures().get(6);
---
> 		return (EReference)mappingEntryEClass.getEStructuralFeatures().get(2);
341a336,336
> 	public EReference getMappingEntry_ContainmentFeature() {
342,342d335
< 	public EReference getAbstractNodeMapping_Tool() {
343,343c337,337
< 		return (EReference)abstractNodeMappingEClass.getEStructuralFeatures().get(7);
---
> 		return (EReference)mappingEntryEClass.getEStructuralFeatures().get(3);
351,351c300,300
< 	public EClass getMappingEntry() {
---
> 	public EClass getMappingEntry() {
352,352c301,301
< 		return mappingEntryEClass;
---
> 		return mappingEntryEClass;
468,468c462,462
< 	public EReference getLinkMapping_DomainMetaElement() {
---
> 	public EReference getLinkMapping_LabelDisplayFeature() {
477,477c471,471
< 	public EReference getLinkMapping_DomainSpecialization() {
---
> 	public EReference getLinkMapping_SourceMetaFeature() {
486,486c480,480
< 	public EReference getLinkMapping_DomainInitializer() {
---
> 	public EReference getLinkMapping_LinkMetaFeature() {
495,495c489,489
< 	public EReference getLinkMapping_ContainmentFeature() {
---
> 	public EReference getLinkMapping_CreationConstraints() {
504,504c453,453
< 	public EReference getLinkMapping_LabelEditFeature() {
---
> 	public EReference getLinkMapping_LabelEditFeature() {
512a759,759
> 	public EReference getToolOwner_Tool() {
513,513d758
< 	public EReference getLinkMapping_LabelDisplayFeature() {
514,514c760,760
< 		return (EReference)linkMappingEClass.getEStructuralFeatures().get(6);
---
> 		return (EReference)toolOwnerEClass.getEStructuralFeatures().get(0);
515,532d760
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
< 	public EReference getLinkMapping_SourceMetaFeature() {
< 		return (EReference)linkMappingEClass.getEStructuralFeatures().get(7);
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
< 	public EReference getLinkMapping_LinkMetaFeature() {
< 		return (EReference)linkMappingEClass.getEStructuralFeatures().get(8);
539a534,534
> 	public EReference getCanvasMapping_Palette() {
540,540d533
< 	public EReference getLinkMapping_CreationConstraints() {
541,541c535,535
< 		return (EReference)linkMappingEClass.getEStructuralFeatures().get(9);
---
> 		return (EReference)canvasMappingEClass.getEStructuralFeatures().get(3);
548a543,543
> 	public EReference getCanvasMapping_MenuContributions() {
549,549d542
< 	public EReference getLinkMapping_Tool() {
550,550c544,544
< 		return (EReference)linkMappingEClass.getEStructuralFeatures().get(10);
---
> 		return (EReference)canvasMappingEClass.getEStructuralFeatures().get(4);
558,558c498,498
< 	public EClass getCanvasMapping() {
---
> 	public EClass getCanvasMapping() {
559,559c499,499
< 		return canvasMappingEClass;
---
> 		return canvasMappingEClass;
567,567c507,507
< 	public EReference getCanvasMapping_DiagramCanvas() {
---
> 	public EReference getCanvasMapping_DiagramCanvas() {
568,568c508,508
< 		return (EReference)canvasMappingEClass.getEStructuralFeatures().get(0);
---
> 		return (EReference)canvasMappingEClass.getEStructuralFeatures().get(0);
576,576c516,516
< 	public EReference getCanvasMapping_DomainModel() {
---
> 	public EReference getCanvasMapping_DomainModel() {
577,577c517,517
< 		return (EReference)canvasMappingEClass.getEStructuralFeatures().get(1);
---
> 		return (EReference)canvasMappingEClass.getEStructuralFeatures().get(1);
585,585c525,525
< 	public EReference getCanvasMapping_DomainMetaElement() {
---
> 	public EReference getCanvasMapping_DomainMetaElement() {
586,586c526,526
< 		return (EReference)canvasMappingEClass.getEStructuralFeatures().get(2);
---
> 		return (EReference)canvasMappingEClass.getEStructuralFeatures().get(2);
630,630c597,597
< 	public EReference getMapping_ToolGroups() {
---
> 	public EReference getMapping_AppearanceStyles() {
648,658d614
< 	public EClass getToolGroup() {
< 		return toolGroupEClass;
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
< 	public EAttribute getToolGroup_Name() {
< 		return (EAttribute)toolGroupEClass.getEStructuralFeatures().get(0);
665a318,318
> 	public EReference getMappingEntry_DomainSpecialization() {
666,666d317
< 	public EReference getToolGroup_Tools() {
667,667c319,319
< 		return (EReference)toolGroupEClass.getEStructuralFeatures().get(1);
---
> 		return (EReference)mappingEntryEClass.getEStructuralFeatures().get(1);
675,675c732,732
< 	public EClass getTool() {
---
> 	public EClass getMenuOwner() {
676,676c733,733
< 		return toolEClass;
---
> 		return menuOwnerEClass;
683a309,309
> 	public EReference getMappingEntry_DomainMetaElement() {
684,684d308
< 	public EReference getTool_Group() {
685,685c310,310
< 		return (EReference)toolEClass.getEStructuralFeatures().get(0);
---
> 		return (EReference)mappingEntryEClass.getEStructuralFeatures().get(0);
693,693c750,750
< 	public EClass getCreationTool() {
---
> 	public EClass getToolOwner() {
694,694c751,751
< 		return creationToolEClass;
---
> 		return toolOwnerEClass;
702,702c768,768
< 	public EClass getNewActionTool() {
---
> 	public EClass getAppearanceSteward() {
703,703c769,769
< 		return newActionToolEClass;
---
> 		return appearanceStewardEClass;
711,711c615,615
< 	public EClass getConstraint() {
---
> 	public EClass getConstraint() {
712,712c616,616
< 		return constraintEClass;
---
> 		return constraintEClass;
720,720c624,624
< 	public EClass getLinkConstraints() {
---
> 	public EClass getLinkConstraints() {
721,721c625,625
< 		return linkConstraintsEClass;
---
> 		return linkConstraintsEClass;
729,729c633,633
< 	public EReference getLinkConstraints_LinkMapping() {
---
> 	public EReference getLinkConstraints_LinkMapping() {
730,730c634,634
< 		return (EReference)linkConstraintsEClass.getEStructuralFeatures().get(0);
---
> 		return (EReference)linkConstraintsEClass.getEStructuralFeatures().get(0);
738,738c642,642
< 	public EReference getLinkConstraints_SourceEnd() {
---
> 	public EReference getLinkConstraints_SourceEnd() {
739,739c643,643
< 		return (EReference)linkConstraintsEClass.getEStructuralFeatures().get(1);
---
> 		return (EReference)linkConstraintsEClass.getEStructuralFeatures().get(1);
747,747c651,651
< 	public EReference getLinkConstraints_TargetEnd() {
---
> 	public EReference getLinkConstraints_TargetEnd() {
748,748c652,652
< 		return (EReference)linkConstraintsEClass.getEStructuralFeatures().get(2);
---
> 		return (EReference)linkConstraintsEClass.getEStructuralFeatures().get(2);
756,756c660,660
< 	public EClass getValueExpression() {
---
> 	public EClass getValueExpression() {
757,757c661,661
< 		return valueExpressionEClass;
---
> 		return valueExpressionEClass;
765,765c669,669
< 	public EAttribute getValueExpression_Body() {
---
> 	public EAttribute getValueExpression_Body() {
766,766c670,670
< 		return (EAttribute)valueExpressionEClass.getEStructuralFeatures().get(0);
---
> 		return (EAttribute)valueExpressionEClass.getEStructuralFeatures().get(0);
774,774c678,678
< 	public EAttribute getValueExpression_Language() {
---
> 	public EAttribute getValueExpression_Language() {
775,775c679,679
< 		return (EAttribute)valueExpressionEClass.getEStructuralFeatures().get(1);
---
> 		return (EAttribute)valueExpressionEClass.getEStructuralFeatures().get(1);
783,783c687,687
< 	public EClass getElementInitializer() {
---
> 	public EClass getElementInitializer() {
784,784c688,688
< 		return elementInitializerEClass;
---
> 		return elementInitializerEClass;
792,792c696,696
< 	public EClass getFeatureSeqInitializer() {
---
> 	public EClass getFeatureSeqInitializer() {
793,793c697,697
< 		return featureSeqInitializerEClass;
---
> 		return featureSeqInitializerEClass;
801,801c705,705
< 	public EReference getFeatureSeqInitializer_Initializers() {
---
> 	public EReference getFeatureSeqInitializer_Initializers() {
802,802c706,706
< 		return (EReference)featureSeqInitializerEClass.getEStructuralFeatures().get(0);
---
> 		return (EReference)featureSeqInitializerEClass.getEStructuralFeatures().get(0);
810,810c714,714
< 	public EClass getFeatureValueSpec() {
---
> 	public EClass getFeatureValueSpec() {
811,811c715,715
< 		return featureValueSpecEClass;
---
> 		return featureValueSpecEClass;
818a777,778
> 	public EReference getAppearanceSteward_AppearanceStyle() {
> 		return (EReference)appearanceStewardEClass.getEStructuralFeatures().get(0);
819,819c723,723
< 	public EReference getFeatureValueSpec_Feature() {
---
> 	public EReference getFeatureValueSpec_Feature() {
820,820c724,724
< 		return (EReference)featureValueSpecEClass.getEStructuralFeatures().get(0);
---
> 		return (EReference)featureValueSpecEClass.getEStructuralFeatures().get(0);
1014,1017d984
< 		createEReference(abstractNodeMappingEClass, ABSTRACT_NODE_MAPPING__DOMAIN_META_ELEMENT);
< 		createEReference(abstractNodeMappingEClass, ABSTRACT_NODE_MAPPING__DOMAIN_SPECIALIZATION);
< 		createEReference(abstractNodeMappingEClass, ABSTRACT_NODE_MAPPING__DOMAIN_INITIALIZER);
< 		createEReference(abstractNodeMappingEClass, ABSTRACT_NODE_MAPPING__CONTAINMENT_FEATURE);
1021,1023d987
< 		createEReference(abstractNodeMappingEClass, ABSTRACT_NODE_MAPPING__TOOL);
< 
< 		mappingEntryEClass = createEClass(MAPPING_ENTRY);
1040,1043d1003
< 		createEReference(linkMappingEClass, LINK_MAPPING__DOMAIN_META_ELEMENT);
< 		createEReference(linkMappingEClass, LINK_MAPPING__DOMAIN_SPECIALIZATION);
< 		createEReference(linkMappingEClass, LINK_MAPPING__DOMAIN_INITIALIZER);
< 		createEReference(linkMappingEClass, LINK_MAPPING__CONTAINMENT_FEATURE);
1049,1049d1008
< 		createEReference(linkMappingEClass, LINK_MAPPING__TOOL);
1054a1014,1016
> 		createEReference(canvasMappingEClass, CANVAS_MAPPING__PALETTE);
> 		createEReference(canvasMappingEClass, CANVAS_MAPPING__MENU_CONTRIBUTIONS);
> 		createEReference(canvasMappingEClass, CANVAS_MAPPING__TOOLBAR_CONTRIBUTIONS);
1055,1055d970
< 
1056,1056c971,971
< 		mappingEClass = createEClass(MAPPING);
---
> 		mappingEClass = createEClass(MAPPING);
1057,1057c972,972
< 		createEReference(mappingEClass, MAPPING__NODES);
---
> 		createEReference(mappingEClass, MAPPING__NODES);
1058,1058c973,973
< 		createEReference(mappingEClass, MAPPING__LINKS);
---
> 		createEReference(mappingEClass, MAPPING__LINKS);
1059,1059c974,974
< 		createEReference(mappingEClass, MAPPING__DIAGRAM);
---
> 		createEReference(mappingEClass, MAPPING__DIAGRAM);
1059a975,975
> 		createEReference(mappingEClass, MAPPING__APPEARANCE_STYLES);
1060,1060d974
< 		createEReference(mappingEClass, MAPPING__TOOL_GROUPS);
1061,1061c976,976
< 		createEReference(mappingEClass, MAPPING__AUDITS);
---
> 		createEReference(mappingEClass, MAPPING__AUDITS);
1062a978,982
> 		mappingEntryEClass = createEClass(MAPPING_ENTRY);
> 		createEReference(mappingEntryEClass, MAPPING_ENTRY__DOMAIN_META_ELEMENT);
> 		createEReference(mappingEntryEClass, MAPPING_ENTRY__DOMAIN_SPECIALIZATION);
> 		createEReference(mappingEntryEClass, MAPPING_ENTRY__DOMAIN_INITIALIZER);
> 		createEReference(mappingEntryEClass, MAPPING_ENTRY__CONTAINMENT_FEATURE);
1062,1062c977,977
< 
---
> 
1063,1065d977
< 		toolGroupEClass = createEClass(TOOL_GROUP);
< 		createEAttribute(toolGroupEClass, TOOL_GROUP__NAME);
< 		createEReference(toolGroupEClass, TOOL_GROUP__TOOLS);
1066,1066c983,983
< 
---
> 
1067,1072d983
< 		toolEClass = createEClass(TOOL);
< 		createEReference(toolEClass, TOOL__GROUP);
< 
< 		creationToolEClass = createEClass(CREATION_TOOL);
< 
< 		newActionToolEClass = createEClass(NEW_ACTION_TOOL);
1092a1037,1045
> 		menuOwnerEClass = createEClass(MENU_OWNER);
> 		createEReference(menuOwnerEClass, MENU_OWNER__CONTEXT_MENU);
> 
> 		toolOwnerEClass = createEClass(TOOL_OWNER);
> 		createEReference(toolOwnerEClass, TOOL_OWNER__TOOL);
> 
> 		appearanceStewardEClass = createEClass(APPEARANCE_STEWARD);
> 		createEReference(appearanceStewardEClass, APPEARANCE_STEWARD__APPEARANCE_STYLE);
> 
1139a1093,1093
> 		GMFToolPackage theGMFToolPackage = (GMFToolPackage)EPackage.Registry.INSTANCE.getEPackage(GMFToolPackage.eNS_URI);
1144a1105,1106
> 		linkMappingEClass.getESuperTypes().add(this.getToolOwner());
> 		linkMappingEClass.getESuperTypes().add(this.getAppearanceSteward());
1144,1144c1104,1104
< 		nodeMappingEClass.getESuperTypes().add(this.getMappingEntry());
---
> 		linkMappingEClass.getESuperTypes().add(this.getMenuOwner());
1147,1147c1097,1097
< 		canvasMappingEClass.getESuperTypes().add(this.getMappingEntry());
---
> 		abstractNodeMappingEClass.getESuperTypes().add(this.getMappingEntry());
1147a1098,1098
> 		abstractNodeMappingEClass.getESuperTypes().add(this.getMenuOwner());
1148,1148c1099,1099
< 		creationToolEClass.getESuperTypes().add(this.getTool());
---
> 		abstractNodeMappingEClass.getESuperTypes().add(this.getToolOwner());
1149,1149c1100,1100
< 		newActionToolEClass.getESuperTypes().add(this.getTool());
---
> 		abstractNodeMappingEClass.getESuperTypes().add(this.getAppearanceSteward());
1156,1156c1157,1157
< 		initEReference(getAbstractNodeMapping_DomainMetaElement(), ecorePackage.getEClass(), null, "domainMetaElement", null, 0, 1, AbstractNodeMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getCanvasMapping_Palette(), theGMFToolPackage.getPalette(), null, "palette", null, 0, 1, CanvasMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1157,1158d1157
< 		initEReference(getAbstractNodeMapping_DomainSpecialization(), this.getConstraint(), null, "domainSpecialization", null, 0, 1, AbstractNodeMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 		initEReference(getAbstractNodeMapping_DomainInitializer(), this.getElementInitializer(), null, "domainInitializer", null, 0, 1, AbstractNodeMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1159a1159,1159
> 		initEReference(getCanvasMapping_ToolbarContributions(), theGMFToolPackage.getToolbar(), null, "toolbarContributions", null, 0, -1, CanvasMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1159,1159c1158,1158
< 		initEReference(getAbstractNodeMapping_ContainmentFeature(), ecorePackage.getEReference(), null, "containmentFeature", null, 0, 1, AbstractNodeMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getCanvasMapping_MenuContributions(), theGMFToolPackage.getMainMenu(), null, "menuContributions", null, 0, -1, CanvasMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1163,1167d1130
< 		initEReference(getAbstractNodeMapping_Tool(), this.getTool(), null, "tool", null, 0, 1, AbstractNodeMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 
< 		addEOperation(abstractNodeMappingEClass, ecorePackage.getEClass(), "getDomainContext", 0, 1);
< 
< 		initEClass(mappingEntryEClass, MappingEntry.class, "MappingEntry", IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
1183a1180,1180
> 		initEClass(menuOwnerEClass, MenuOwner.class, "MenuOwner", IS_ABSTRACT, IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
1184,1186d1179
< 		initEReference(getLinkMapping_DomainMetaElement(), ecorePackage.getEClass(), null, "domainMetaElement", null, 0, 1, LinkMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 		initEReference(getLinkMapping_DomainSpecialization(), this.getConstraint(), null, "domainSpecialization", null, 0, 1, LinkMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 		initEReference(getLinkMapping_DomainInitializer(), this.getElementInitializer(), null, "domainInitializer", null, 0, 1, LinkMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1187,1187c1181,1181
< 		initEReference(getLinkMapping_ContainmentFeature(), ecorePackage.getEReference(), null, "containmentFeature", null, 0, 1, LinkMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getMenuOwner_ContextMenu(), theGMFToolPackage.getContextMenu(), null, "contextMenu", null, 0, 1, MenuOwner.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1187a1182,1188
> 
> 		initEClass(toolOwnerEClass, ToolOwner.class, "ToolOwner", IS_ABSTRACT, IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
> 		initEReference(getToolOwner_Tool(), theGMFToolPackage.getAbstractTool(), null, "tool", null, 0, 1, ToolOwner.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 
> 		initEClass(appearanceStewardEClass, AppearanceSteward.class, "AppearanceSteward", IS_ABSTRACT, IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
> 		initEReference(getAppearanceSteward_AppearanceStyle(), theGMFToolPackage.getStyleSelector(), null, "appearanceStyle", null, 0, 1, AppearanceSteward.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 
1193,1195d1151
< 		initEReference(getLinkMapping_Tool(), this.getTool(), null, "tool", null, 0, 1, LinkMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 
< 		addEOperation(linkMappingEClass, ecorePackage.getEClass(), "getDomainContext", 0, 1);
1201,1201d1111
< 
1202,1202c1112,1112
< 		initEClass(mappingEClass, Mapping.class, "Mapping", !IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
---
> 		initEClass(mappingEClass, Mapping.class, "Mapping", !IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
1203,1203c1113,1113
< 		initEReference(getMapping_Nodes(), this.getNodeMapping(), null, "nodes", null, 1, -1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getMapping_Nodes(), this.getNodeMapping(), null, "nodes", null, 1, -1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1204,1204c1114,1114
< 		initEReference(getMapping_Links(), this.getLinkMapping(), null, "links", null, 0, -1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getMapping_Links(), this.getLinkMapping(), null, "links", null, 0, -1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1205a1116,1116
> 		initEReference(getMapping_AppearanceStyles(), theGMFToolPackage.getStyleSelector(), null, "appearanceStyles", null, 0, -1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1205,1205c1115,1115
< 		initEReference(getMapping_Diagram(), this.getCanvasMapping(), null, "diagram", null, 1, 1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getMapping_Diagram(), this.getCanvasMapping(), null, "diagram", null, 1, 1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1206,1206d1115
< 		initEReference(getMapping_ToolGroups(), this.getToolGroup(), null, "toolGroups", null, 0, -1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1207,1207c1117,1117
< 		initEReference(getMapping_Audits(), this.getAuditContainer(), null, "audits", null, 0, 1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getMapping_Audits(), this.getAuditContainer(), null, "audits", null, 0, 1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1208,1208c1118,1118
< 
---
> 
1208a1119,1123
> 		initEClass(mappingEntryEClass, MappingEntry.class, "MappingEntry", IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
> 		initEReference(getMappingEntry_DomainMetaElement(), ecorePackage.getEClass(), null, "domainMetaElement", null, 0, 1, MappingEntry.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 		initEReference(getMappingEntry_DomainSpecialization(), this.getConstraint(), null, "domainSpecialization", null, 0, 1, MappingEntry.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 		initEReference(getMappingEntry_DomainInitializer(), this.getElementInitializer(), null, "domainInitializer", null, 0, 1, MappingEntry.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 		initEReference(getMappingEntry_ContainmentFeature(), ecorePackage.getEReference(), null, "containmentFeature", null, 0, 1, MappingEntry.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1209,1211d1118
< 		initEClass(toolGroupEClass, ToolGroup.class, "ToolGroup", !IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
< 		initEAttribute(getToolGroup_Name(), ecorePackage.getEString(), "name", null, 0, 1, ToolGroup.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_UNSETTABLE, IS_ID, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 		initEReference(getToolGroup_Tools(), this.getTool(), this.getTool_Group(), "tools", null, 0, -1, ToolGroup.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1212a1125,1125
> 		addEOperation(mappingEntryEClass, ecorePackage.getEClass(), "getDomainContext", 0, 1);
1212,1212c1124,1124
< 
---
> 
1213,1214d1124
< 		initEClass(toolEClass, Tool.class, "Tool", IS_ABSTRACT, IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
< 		initEReference(getTool_Group(), this.getToolGroup(), this.getToolGroup_Tools(), "group", null, 0, 1, Tool.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1215,1215c1126,1126
< 
---
> 
1216,1218d1126
< 		initEClass(creationToolEClass, CreationTool.class, "CreationTool", !IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
< 
< 		initEClass(newActionToolEClass, NewActionTool.class, "NewActionTool", !IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
1284a1235,1235
> 		  (this, 
1285,1285d1234
< 		  (abstractNodeMappingEClass, 
1301a1252,1252
> 		  (getMappingEntry_DomainSpecialization(), 
1302,1316d1251
< 		  (getAbstractNodeMapping_DomainSpecialization(), 
< 		   source, 
< 		   new String[] {
< 			 "def", "context",
< 			 "ocl", "self.getDomainContext()"
< 		   });				
< 		addAnnotation
< 		  (getAbstractNodeMapping_DomainInitializer(), 
< 		   source, 
< 		   new String[] {
< 			 "def", "context",
< 			 "ocl", "self.getDomainContext()"
< 		   });							
< 		addAnnotation
< 		  (getLinkMapping_DomainSpecialization(), 
1322a1259,1259
> 		  (getMappingEntry_DomainInitializer(), 
1323,1323d1258
< 		  (getLinkMapping_DomainInitializer(), 
1412a1349,1349
> 		  (getMappingEntry_DomainInitializer(), 
1413,1413d1348
< 		  (getAbstractNodeMapping_DomainInitializer(), 
1418a1355,1355
> 		  (getMappingEntry_ContainmentFeature(), 
1419,1419d1354
< 		  (getAbstractNodeMapping_ContainmentFeature(), 
1422,1427d1357
< 			 "ocl", "containmentFeature.containment"
< 		   });		
< 		addAnnotation
< 		  (getAbstractNodeMapping_ContainmentFeature(), 
< 		   source, 
< 		   new String[] {
1428,1428c1358,1358
< 			 "ocl", "domainMetaElement.oclIsUndefined() or containmentFeature.eReferenceType.isSuperTypeOf(domainMetaElement)"
---
> 			 "ocl", "containmentFeature.oclIsUndefined() or (containmentFeature.containment and containmentFeature.eReferenceType.isSuperTypeOf(domainMetaElement))"
1437,1448d1366
< 		  (getLinkMapping_DomainInitializer(), 
< 		   source, 
< 		   new String[] {
< 			 "ocl", "let i : FeatureSeqInitializer = domainInitializer.oclAsType( FeatureSeqInitializer) in i.oclIsUndefined() or i.initializers.feature.eContainingClass->forAll(c|c.isSuperTypeOf(domainMetaElement)) "
< 		   });			
< 		addAnnotation
< 		  (getLinkMapping_ContainmentFeature(), 
< 		   source, 
< 		   new String[] {
< 			 "ocl", "containmentFeature.oclIsUndefined() or containmentFeature.eReferenceType.isSuperTypeOf(domainMetaElement)"
< 		   });		
< 		addAnnotation
