2,2c2,2
<  * Copyright (c) 2002, 2004 IBM Corporation and others.
---
>  * Copyright (c) 2002, 2006 IBM Corporation and others.
14,14c15,15
< import java.util.Collection;
---
> import java.util.List;
16a17,17
> import org.eclipse.core.commands.ExecutionException;
72,72c73,73
< 		super(DiagramUIMessages.Commands_CreateCommand_Connection_Label);
---
> 		super(DiagramUIMessages.Commands_CreateCommand_Connection_Label, null);
142a144,144
>     public List getAffectedFiles() {
143,146d143
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.ICommand#getAffectedObjects()
< 	 */
< 	public Collection getAffectedObjects() {
158,158c156,156
< 		return super.getAffectedObjects();
---
>         return super.getAffectedFiles();
160a159,159
> 	public boolean canUndo() {
161,164d158
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.ICommand#isUndoable()
< 	 */
< 	public boolean isUndoable() {
167a163,163
> 	public boolean canRedo() {
168,171d162
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.ICommand#isRedoable()
< 	 */
< 	public boolean isRedoable() {
202,202d193
< 	 * @see org.eclipse.gmf.runtime.common.core.command.AbstractCommand#doExecute(org.eclipse.core.runtime.IProgressMonitor)
204,204c195,195
< 	protected CommandResult doExecute(IProgressMonitor progressMonitor) {
---
> 	protected CommandResult doExecuteWithResult(
204a196,198
>             IProgressMonitor progressMonitor, IAdaptable info)
>         throws ExecutionException {
>     
211,211c205,205
< 			return newErrorCommandResult(getLabel());
---
> 			return CommandResult.newErrorCommandResult(getLabel());
217,217c211,211
< 				newErrorCommandResult(getLabel());
---
> 				CommandResult.newErrorCommandResult(getLabel());
267,267c261,261
< 			return newCancelledCommandResult();
---
> 			return CommandResult.newCancelledCommandResult();
269,269c263,263
< 		return newOKCommandResult(req.getNewObject());
---
> 		return CommandResult.newOKCommandResult(req.getNewObject());
281a276,279
>     
>     protected CommandResult doRedoWithResult(IProgressMonitor progressMonitor, IAdaptable info)
>         throws ExecutionException {
>  
282,285d275
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.AbstractCommand#doRedo()
< 	 */
< 	protected CommandResult doRedo() {
289,289c283,283
< 		return newOKCommandResult();
---
> 		return CommandResult.newOKCommandResult();
291a286,288
>     protected CommandResult doUndoWithResult(IProgressMonitor progressMonitor, IAdaptable info)
>         throws ExecutionException {
> 
292,295d285
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.AbstractCommand#doUndo()
< 	 */
< 	protected CommandResult doUndo() {
299,299c292,292
< 		return newOKCommandResult();
---
> 		return CommandResult.newOKCommandResult();
