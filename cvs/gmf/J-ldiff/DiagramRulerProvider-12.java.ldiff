72,72c72,72
< 					DiagramEventBroker.getInstance().addNotificationListener(guide,guideListener);
---
> 					DiagramEventBroker.getInstance(editingDomain).addNotificationListener(guide,guideListener);
78,78c78,78
< 					DiagramEventBroker.getInstance().removeNotificationListener(guide,guideListener);
---
> 					DiagramEventBroker.getInstance(editingDomain).removeNotificationListener(guide,guideListener);
131,131c131,131
< 		theRuler.addNotificationListener(rulerListener);
---
> 		theRuler.addNotificationListener(editingDomain, rulerListener);
136,136c136,136
< 			DiagramEventBroker.getInstance().addNotificationListener(guide,guideListener);
---
> 			DiagramEventBroker.getInstance(editingDomain).addNotificationListener(guide,guideListener);
143,143c143,143
< 		theRuler.removeNotificationListener(rulerListener);
---
> 		theRuler.removeNotificationListener(editingDomain, rulerListener);
