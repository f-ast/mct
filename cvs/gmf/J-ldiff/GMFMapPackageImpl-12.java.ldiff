13a14,14
> import org.eclipse.gmf.gmfgraph.GMFGraphPackage;
14,14d13
< import org.eclipse.gmf.diadef.DiagramDefinitionPackage;
15,15c15,15
< import org.eclipse.gmf.diadef.impl.DiagramDefinitionPackageImpl;
---
> import org.eclipse.gmf.gmfgraph.impl.GMFGraphPackageImpl;
19a20,20
> import org.eclipse.gmf.mappings.CreationTool;
28a30,30
> import org.eclipse.gmf.mappings.NewActionTool;
29a32,33
> import org.eclipse.gmf.mappings.Tool;
> import org.eclipse.gmf.mappings.ToolGroup;
30,30d31
< 
93a97,124
> 	private EClass toolGroupEClass = null;
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	private EClass toolEClass = null;
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	private EClass creationToolEClass = null;
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	private EClass newActionToolEClass = null;
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
188,188c219,219
< 		DiagramDefinitionPackageImpl.init();
---
> 		GMFGraphPackageImpl.init();
216,216c301,301
< 	public EReference getAbstractNodeMapping_DiagramNode() {
---
> 	public EReference getAbstractNodeMapping_Tool() {
225,225c247,247
< 	public EReference getAbstractNodeMapping_DomainMetaElement() {
---
> 	public EReference getAbstractNodeMapping_DomainMetaElement() {
234,234c256,256
< 	public EReference getAbstractNodeMapping_DomainSpecialization() {
---
> 	public EReference getAbstractNodeMapping_DomainSpecialization() {
243,243c265,265
< 	public EReference getAbstractNodeMapping_DomainInitializer() {
---
> 	public EReference getAbstractNodeMapping_DomainInitializer() {
252,252c274,274
< 	public EReference getAbstractNodeMapping_ContainmentFeature() {
---
> 	public EReference getAbstractNodeMapping_ContainmentFeature() {
261,261c283,283
< 	public EReference getAbstractNodeMapping_EditFeature() {
---
> 	public EReference getAbstractNodeMapping_EditFeature() {
270,270c292,292
< 	public EReference getAbstractNodeMapping_ChildMappings() {
---
> 	public EReference getAbstractNodeMapping_ChildMappings() {
296a328,336
> 	public EReference getNodeMapping_DiagramNode() {
> 		return (EReference)nodeMappingEClass.getEStructuralFeatures().get(0);
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
306,306c355,355
< 	public EReference getChildNodeMapping_Compartment() {
---
> 	public EReference getChildNodeMapping_Compartment() {
315,315c346,346
< 	public EReference getChildNodeMapping_ParentNode() {
---
> 	public EReference getChildNodeMapping_DiagramNode() {
323a364,372
> 	public EReference getChildNodeMapping_ParentNode() {
> 		return (EReference)childNodeMappingEClass.getEStructuralFeatures().get(2);
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
413a463,471
> 	public EReference getLinkMapping_Tool() {
> 		return (EReference)linkMappingEClass.getEStructuralFeatures().get(9);
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
485a544,615
> 	public EReference getMapping_ToolGroups() {
> 		return (EReference)mappingEClass.getEStructuralFeatures().get(3);
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public EClass getToolGroup() {
> 		return toolGroupEClass;
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public EAttribute getToolGroup_Name() {
> 		return (EAttribute)toolGroupEClass.getEStructuralFeatures().get(0);
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public EReference getToolGroup_Tools() {
> 		return (EReference)toolGroupEClass.getEStructuralFeatures().get(1);
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public EClass getTool() {
> 		return toolEClass;
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public EReference getTool_Group() {
> 		return (EReference)toolEClass.getEStructuralFeatures().get(0);
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public EClass getCreationTool() {
> 		return creationToolEClass;
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public EClass getNewActionTool() {
> 		return newActionToolEClass;
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
627,627c763,763
< 		createEReference(abstractNodeMappingEClass, ABSTRACT_NODE_MAPPING__DIAGRAM_NODE);
---
> 		createEReference(abstractNodeMappingEClass, ABSTRACT_NODE_MAPPING__TOOL);
637a768,768
> 		createEReference(nodeMappingEClass, NODE_MAPPING__DIAGRAM_NODE);
639a771,771
> 		createEReference(childNodeMappingEClass, CHILD_NODE_MAPPING__DIAGRAM_NODE);
652a785,785
> 		createEReference(linkMappingEClass, LINK_MAPPING__TOOL);
662a796,807
> 		createEReference(mappingEClass, MAPPING__TOOL_GROUPS);
> 
> 		toolGroupEClass = createEClass(TOOL_GROUP);
> 		createEAttribute(toolGroupEClass, TOOL_GROUP__NAME);
> 		createEReference(toolGroupEClass, TOOL_GROUP__TOOLS);
> 
> 		toolEClass = createEClass(TOOL);
> 		createEReference(toolEClass, TOOL__GROUP);
> 
> 		creationToolEClass = createEClass(CREATION_TOOL);
> 
> 		newActionToolEClass = createEClass(NEW_ACTION_TOOL);
708,708c853,853
< 		DiagramDefinitionPackageImpl theDiagramDefinitionPackage = (DiagramDefinitionPackageImpl)EPackage.Registry.INSTANCE.getEPackage(DiagramDefinitionPackage.eNS_URI);
---
> 		GMFGraphPackageImpl theGMFGraphPackage = (GMFGraphPackageImpl)EPackage.Registry.INSTANCE.getEPackage(GMFGraphPackage.eNS_URI);
715a861,862
> 		creationToolEClass.getESuperTypes().add(this.getTool());
> 		newActionToolEClass.getESuperTypes().add(this.getTool());
722,722c882,882
< 		initEReference(getAbstractNodeMapping_DiagramNode(), theDiagramDefinitionPackage.getNode(), null, "diagramNode", null, 1, 1, AbstractNodeMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getNodeMapping_DiagramNode(), theGMFGraphPackage.getNode(), null, "diagramNode", null, 1, 1, NodeMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
728a875,875
> 		initEReference(getAbstractNodeMapping_Tool(), this.getTool(), null, "tool", null, 0, 1, AbstractNodeMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
736a885,885
> 		initEReference(getChildNodeMapping_DiagramNode(), theGMFGraphPackage.getChild(), null, "diagramNode", null, 1, 1, ChildNodeMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
737,737c886,886
< 		initEReference(getChildNodeMapping_Compartment(), theDiagramDefinitionPackage.getCompartment(), null, "compartment", null, 1, 1, ChildNodeMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getChildNodeMapping_Compartment(), theGMFGraphPackage.getCompartment(), null, "compartment", null, 1, 1, ChildNodeMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
741,741c890,890
< 		initEReference(getLinkMapping_DiagramLink(), theDiagramDefinitionPackage.getConnection(), null, "diagramLink", null, 1, 1, LinkMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getLinkMapping_DiagramLink(), theGMFGraphPackage.getConnection(), null, "diagramLink", null, 1, 1, LinkMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
749a899,899
> 		initEReference(getLinkMapping_Tool(), this.getTool(), null, "tool", null, 0, 1, LinkMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
754,754c904,904
< 		initEReference(getCanvasMapping_DiagramCanvas(), theDiagramDefinitionPackage.getCanvas(), null, "diagramCanvas", null, 1, 1, CanvasMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getCanvasMapping_DiagramCanvas(), theGMFGraphPackage.getCanvas(), null, "diagramCanvas", null, 1, 1, CanvasMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
761a912,923
> 		initEReference(getMapping_ToolGroups(), this.getToolGroup(), null, "toolGroups", null, 0, -1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 
> 		initEClass(toolGroupEClass, ToolGroup.class, "ToolGroup", !IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
> 		initEAttribute(getToolGroup_Name(), ecorePackage.getEString(), "name", null, 0, 1, ToolGroup.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_UNSETTABLE, IS_ID, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 		initEReference(getToolGroup_Tools(), this.getTool(), this.getTool_Group(), "tools", null, 0, -1, ToolGroup.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 
> 		initEClass(toolEClass, Tool.class, "Tool", IS_ABSTRACT, IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
> 		initEReference(getTool_Group(), this.getToolGroup(), this.getToolGroup_Tools(), "group", null, 0, 1, Tool.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 
> 		initEClass(creationToolEClass, CreationTool.class, "CreationTool", !IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
> 
> 		initEClass(newActionToolEClass, NewActionTool.class, "NewActionTool", !IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
918,923d1079
< 		  (getChildNodeMapping_Compartment(), 
< 		   source, 
< 		   new String[] {
< 			 "ocl", "parentNode.diagramNode.oclAsType(diadef::Node).compartments->includes(self.compartment)"
< 		   });					
< 		addAnnotation
