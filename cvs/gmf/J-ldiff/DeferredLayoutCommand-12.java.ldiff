25a26,26
> import org.eclipse.core.runtime.IStatus;
26a28,28
> import org.eclipse.emf.transaction.RunnableWithResult;
35a38,38
> import org.eclipse.gmf.runtime.diagram.ui.util.EditPartUtil;
123a127,144
> 		RunnableWithResult refreshRunnable = new RunnableWithResult() {
> 			
> 			private IStatus status;
>             private Object result;
> 
>             public Object getResult() {
>                 return result;
>             }
> 
>             public void setStatus(IStatus status) {
>                 this.status = status;
>             }
> 
>             public IStatus getStatus() {
>                 return status;
>             }
>             
> 			public void run() {
142a164,165
> 					result = editParts;
> 					return;
143,143d163
< 			return CommandResult.newOKCommandResult();
158a181,190
> 				result = editParts;
> 			}
> 		};
> 		
> 		EditPartUtil.synchronizeRunnableToMainThread(containerEP, refreshRunnable);
> 		List editParts = (List)refreshRunnable.getResult();
> 		if (editParts == null || editParts.isEmpty()) {
> 			return CommandResult.newOKCommandResult();
> 		}
> 		
