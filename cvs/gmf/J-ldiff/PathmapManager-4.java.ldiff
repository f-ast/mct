430a431,434
> 				List resources = (List)msg.getNewValue();
> 				if (resources == null)
> 					break;
> 				
431,431c435,435
< 				for (Iterator i = ((List)msg.getNewValue()).iterator(); i.hasNext();) {
---
> 				for (Iterator i = resources.iterator(); i.hasNext();) {
438a443,446
> 				resources = (List)msg.getNewValue();
> 				if (resources == null)
> 					break;
> 				
439,439c447,447
< 				for (Iterator i = ((List)msg.getNewValue()).iterator(); i.hasNext();) {
---
> 				for (Iterator i = resources.iterator(); i.hasNext();) {
