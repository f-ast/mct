2,2c2,2
<  * Copyright (c) 2002, 2007 IBM Corporation and others.
---
>  * Copyright (c) 2002, 2008 IBM Corporation and others.
112a113,114
>         EObject eObject = (EObject)getHost().getAdapter(EObject.class);
>         if (eObject != null && parent != null ) { //sanity checks
113,114d112
<         
<         if (parent instanceof IGraphicalEditPart) {
116,116c116,116
< 			if ( cep != null ) {
---
> 			return cep != null 
117a118,118
> 				&& cep.canCreate(eObject); 					
117,117c117,117
< 				return cep.isEnabled();						
---
> 				&& cep.isEnabled()
118,118d117
< 			} 					
