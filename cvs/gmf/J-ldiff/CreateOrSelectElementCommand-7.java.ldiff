2,2c2,2
<  * Copyright (c) 2004 IBM Corporation and others.
---
>  * Copyright (c) 2004, 2006 IBM Corporation and others.
15a16,16
> import org.eclipse.core.commands.ExecutionException;
219,219c220,220
< 	 * @see org.eclipse.gmf.runtime.common.core.command.AbstractCommand#doExecute(org.eclipse.core.runtime.IProgressMonitor)
---
> 	 * @see org.eclipse.gmf.runtime.common.core.sandbox.AbstractCommand2#doExecute(org.eclipse.core.runtime.IProgressMonitor)
221a223,225
>             org.eclipse.core.runtime.IAdaptable info)
>         throws ExecutionException {
>         
221,221c222,222
< 	protected CommandResult doExecute(IProgressMonitor progressMonitor) {
---
> 	protected CommandResult doExecuteWithResult(IProgressMonitor progressMonitor,
222,222c226,226
< 		CommandResult cmdResult = super.doExecute(progressMonitor);
---
> 		CommandResult cmdResult = super.doExecuteWithResult(progressMonitor, info);
235,235c239,239
< 					return newCancelledCommandResult();
---
> 					return CommandResult.newCancelledCommandResult();
241,241c245,245
< 					return newCancelledCommandResult();
---
> 					return CommandResult.newCancelledCommandResult();
244,244c248,248
< 					return newOKCommandResult(selectedElements);
---
> 					return CommandResult.newOKCommandResult(selectedElements);
247,247c251,251
< 					return newOKCommandResult(selectedElements.get(0));
---
> 					return CommandResult.newOKCommandResult(selectedElements.get(0));
