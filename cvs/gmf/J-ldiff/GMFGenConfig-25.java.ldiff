56a57,58
> 		restoreOld(GMFGEN.getGenDiagram(), GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
> 		restoreOld(GMFGEN.getGenDiagram(), GMFGEN.getGenCommonBase_EditPartClassName());
57,58d56
< 		restore(GMFGEN.getGenDiagram(), GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
< 		restore(GMFGEN.getGenDiagram(), GMFGEN.getGenCommonBase_EditPartClassName());
59,59c59,59
< 		restore(GMFGEN.getGenDiagram(), GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
---
> 		restoreOld(GMFGEN.getGenDiagram(), GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
60,60c60,60
< 		restore(GMFGEN.getGenDiagram(), GMFGEN.getGenContainerBase_CanonicalEditPolicyClassName());
---
> 		restoreOld(GMFGEN.getGenDiagram(), GMFGEN.getGenContainerBase_CanonicalEditPolicyClassName());
79a80,83
> 			restoreOld(node, GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
> 			restoreOld(node, GMFGEN.getGenCommonBase_EditPartClassName());
> 			restoreOld(node, GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
> 			restoreOld(node, GMFGEN.getGenContainerBase_CanonicalEditPolicyClassName());
80,83d79
< 			restore(node, GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
< 			restore(node, GMFGEN.getGenCommonBase_EditPartClassName());
< 			restore(node, GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
< 			restore(node, GMFGEN.getGenContainerBase_CanonicalEditPolicyClassName());
84,84c84,84
< 			restore(node, GMFGEN.getGenNode_PrimaryDragEditPolicyQualifiedClassName());
---
> 			restoreOld(node, GMFGEN.getGenNode_PrimaryDragEditPolicyQualifiedClassName());
85,85c85,85
< 			restore(node, GMFGEN.getGenNode_GraphicalNodeEditPolicyClassName());
---
> 			restoreOld(node, GMFGEN.getGenNode_GraphicalNodeEditPolicyClassName());
86,86c86,86
< 			restore(node, GMFGEN.getGenNode_CreateCommandClassName());
---
> 			restoreOld(node, GMFGEN.getGenNode_CreateCommandClassName());
89a90,91
> 		restoreOld(GMFGEN.getGenCompartment(), GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
> 		restoreOld(GMFGEN.getGenCompartment(), GMFGEN.getGenCommonBase_EditPartClassName());
90,91d89
< 		restore(GMFGEN.getGenCompartment(), GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
< 		restore(GMFGEN.getGenCompartment(), GMFGEN.getGenCommonBase_EditPartClassName());
92,92c92,92
< 		restore(GMFGEN.getGenCompartment(), GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
---
> 		restoreOld(GMFGEN.getGenCompartment(), GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
93,93c93,93
< 		restore(GMFGEN.getGenCompartment(), GMFGEN.getGenContainerBase_CanonicalEditPolicyClassName());
---
> 		restoreOld(GMFGEN.getGenCompartment(), GMFGEN.getGenContainerBase_CanonicalEditPolicyClassName());
94,94c94,94
< 		restore(GMFGEN.getGenCompartment(), GMFGEN.getGenCompartment_ListLayout());
---
> 		restoreOld(GMFGEN.getGenCompartment_ListLayout());
99a100,101
> 		restoreOld(GMFGEN.getGenLink(), GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
> 		restoreOld(GMFGEN.getGenLink(), GMFGEN.getGenCommonBase_EditPartClassName());
100,101d99
< 		restore(GMFGEN.getGenLink(), GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
< 		restore(GMFGEN.getGenLink(), GMFGEN.getGenCommonBase_EditPartClassName());
102,102c102,102
< 		restore(GMFGEN.getGenLink(), GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
---
> 		restoreOld(GMFGEN.getGenLink(), GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
102a103,103
> 		restoreOld(GMFGEN.getGenLink_CreateCommandClassName());
103,103d102
< 		restore(GMFGEN.getGenLink(), GMFGEN.getGenLink_CreateCommandClassName());
104,104c104,104
< 		restore(GMFGEN.getGenLink(), GMFGEN.getGenLink_ReorientCommandClassName());
---
> 		restoreOld(GMFGEN.getGenLink_ReorientCommandClassName());
111a112,113
> 			restoreOld(label, GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
> 			restoreOld(label, GMFGEN.getGenCommonBase_EditPartClassName());
112,113d111
< 			restore(label, GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
< 			restore(label, GMFGEN.getGenCommonBase_EditPartClassName());
114,114c114,114
< 			restore(label, GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
---
> 			restoreOld(label, GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
165,165c165,165
< 		restore(GMFGEN.getMetamodelType(), GMFGEN.getMetamodelType_EditHelperClassName());
---
> 		restoreOld(GMFGEN.getMetamodelType_EditHelperClassName());
170,170c170,170
< 		restore(GMFGEN.getSpecializationType(), GMFGEN.getSpecializationType_EditHelperAdviceClassName());
---
> 		restoreOld(GMFGEN.getSpecializationType_EditHelperAdviceClassName());
239a240,240
> 		restoreOld(GMFGEN.getGenStandardPreferencePage(), GMFGEN.getGenPreferencePage_ID());
240,240d239
< 		restore(GMFGEN.getGenStandardPreferencePage(), GMFGEN.getGenPreferencePage_ID());
241,241c241,241
< 		restore(GMFGEN.getGenStandardPreferencePage(), GMFGEN.getGenPreferencePage_Name());
---
> 		restoreOld(GMFGEN.getGenStandardPreferencePage(), GMFGEN.getGenPreferencePage_Name());
244,244c244,244
< 		restore(GMFGEN.getGenCustomPreferencePage(), GMFGEN.getGenCustomPreferencePage_GenerateBoilerplate());
---
> 		restoreOld(GMFGEN.getGenCustomPreferencePage_GenerateBoilerplate());
290,291d289
< 	// XXX rename?: preserveOld
< 	// TODO single attr param version
292,292c290,290
< 	private void restore(EClass eClass, EAttribute feature) {
---
> 	private void restoreOld(EClass eClass, EAttribute feature) {
295a294,298
> 	private void restoreOld(EAttribute feature) {
> 		assert !feature.getEContainingClass().isAbstract();
> 		restoreOld(feature.getEContainingClass(), feature);
> 	}
> 
