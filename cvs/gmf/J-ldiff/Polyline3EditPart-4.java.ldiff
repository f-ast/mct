16,16c15,15
< import org.eclipse.gef.EditPart;
---
> import org.eclipse.draw2d.LineBorder;
16a16,16
> import org.eclipse.draw2d.MarginBorder;
18,18d12
< import org.eclipse.gef.Request;
19,19c13,13
< import org.eclipse.gef.commands.Command;
---
> import org.eclipse.draw2d.CompoundBorder;
20a27,27
> import org.eclipse.swt.SWT;
21,21d26
< import org.eclipse.gef.editpolicies.NonResizableEditPolicy;
22,22c28,28
< import org.eclipse.gef.requests.CreateRequest;
---
> import org.eclipse.swt.widgets.Display;
23a22,22
> import org.eclipse.gmf.graphdef.editor.edit.polocies.DomainBasedXYLayoutEditPolicy;
24,24d21
< import org.eclipse.gmf.runtime.diagram.ui.editparts.ShapeNodeEditPart;
33,33c33,33
< public class Polyline3EditPart extends ShapeNodeEditPart {
---
> public class Polyline3EditPart extends AbstractFigureEditPart {
71a72,72
> 		return new DomainBasedXYLayoutEditPolicy(getMapMode());
72,91d71
< 		LayoutEditPolicy lep = new LayoutEditPolicy() {
< 
< 			protected EditPolicy createChildEditPolicy(EditPart child) {
< 				EditPolicy result = child.getEditPolicy(EditPolicy.PRIMARY_DRAG_ROLE);
< 				if (result == null) {
< 					result = new NonResizableEditPolicy();
< 				}
< 				return result;
< 			}
< 
< 			protected Command getMoveChildrenCommand(Request request) {
< 				return null;
< 			}
< 
< 			protected Command getCreateCommand(CreateRequest request) {
< 				return null;
< 			}
< 		};
< 		return lep;
< 
112a94,97
> 		LineBorder contourBorder = new LineBorder(Display.getDefault().getSystemColor(SWT.COLOR_WIDGET_NORMAL_SHADOW));
> 		MarginBorder marginBorder = new MarginBorder(5);
> 		CompoundBorder compoundBorder = new CompoundBorder(contourBorder, marginBorder);
> 		result.setBorder(compoundBorder);
