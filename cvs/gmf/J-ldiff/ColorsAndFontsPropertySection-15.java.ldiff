41,42d40
< import org.eclipse.swt.events.PaintEvent;
< import org.eclipse.swt.events.PaintListener;
45,45d42
< import org.eclipse.swt.graphics.GC;
54,54d49
< import org.eclipse.swt.widgets.CoolBar;
55,55c50,50
< import org.eclipse.swt.widgets.CoolItem;
---
> import org.eclipse.swt.widgets.Button;
57,57d52
< import org.eclipse.swt.widgets.ToolBar;
58,58c53,53
< import org.eclipse.swt.widgets.ToolItem;
---
> import org.eclipse.swt.widgets.Label;
92,92c87,87
< 	protected ToolItem fillColorButton;
---
> 	protected Button fillColorButton;
102,102c97,97
< 	private ToolItem fontBoldButton;
---
> 	private Button fontBoldButton;
104,104c99,99
< 	private ToolItem fontItalicButton;
---
> 	private Button fontItalicButton;
164,164c159,159
< 	protected ToolItem fontColorButton;
---
> 	protected Button fontColorButton;
166,166c161,161
< 	protected ToolItem lineColorButton;
---
> 	protected Button lineColorButton;
172,173d166
< 	private CoolBar coolBar;
< 
181a175,175
> 		super.initializeControls(parent);
182,182d174
< 		createPaintedSectionComposite(parent);
197,197c190,190
< 		ToolBar toolBar = createFontsGroup(colorsAndFontsGroup);
---
> 		/*Composite toolBar = */createFontsGroup(colorsAndFontsGroup);
199,199c192,192
< 		CoolItem coolItem = new CoolItem(coolBar, SWT.NULL);
---
> 		//CoolItem coolItem = new CoolItem(coolBar, SWT.NULL);
201,201c194,194
< 		coolItem.setControl(toolBar);
---
> 		//coolItem.setControl(toolBar);
203,203c196,196
< 		Point size = toolBar.computeSize(SWT.DEFAULT, SWT.DEFAULT);
---
> 		//Point size = toolBar.computeSize(SWT.DEFAULT, SWT.DEFAULT);
204,204c197,197
< 		Point coolSize = coolItem.computeSize(size.x, size.y);
---
> 		//Point coolSize = coolItem.computeSize(size.x, size.y);
205,205c198,198
< 		coolItem.setSize(coolSize);
---
> 		//coolItem.setSize(coolSize);
206,223d198
< 
< 		colorsAndFontsGroup.addPaintListener(new PaintListener() {
< 
< 			public void paintControl(PaintEvent e) {
< 				Rectangle bounds = colorsAndFontsGroup.getClientArea();
< 				GC gc = e.gc;
< 
< 				gc.setForeground(gc.getBackground());
< 				gc.setBackground(coolBar.getBackground());
< 
< 				gc.fillGradientRectangle(1, bounds.height / 2,
< 					bounds.width + 3, bounds.height - 14, true);
< 
< 			}
< 
< 		}
< 
< 		);
235,235c210,210
< 	protected ToolBar createFontsGroup(Composite parent) {
---
> 	protected Composite createFontsGroup(Composite parent) {
263a239,241
> 		Composite toolBar = new Composite(parent, SWT.SHADOW_NONE);
> 		toolBar.setLayout(new GridLayout(7, false));
> 		toolBar.setBackground(parent.getBackground());
264,265d238
< 		coolBar = new CoolBar(parent, SWT.BORDER);
< 		ToolBar toolBar = new ToolBar(coolBar, SWT.FLAT);
267,267c243,243
< 		fontBoldButton = new ToolItem(toolBar, SWT.CHECK);
---
> 		fontBoldButton = new Button(toolBar, SWT.TOGGLE);
271,271c247,247
< 		fontItalicButton = new ToolItem(toolBar, SWT.CHECK );
---
> 		fontItalicButton = new Button(toolBar, SWT.TOGGLE );
288,288c264,264
< 		new ToolItem(toolBar, SWT.SEPARATOR);
---
> 		new Label(toolBar, SWT.LEFT);
290,290c266,266
< 		fontColorButton = new ToolItem(toolBar, SWT.DROP_DOWN);
---
> 		fontColorButton = new Button(toolBar, SWT.PUSH);
300,300c276,276
< 		new ToolItem(toolBar, SWT.SEPARATOR);
---
> 		new Label(toolBar, SWT.LEFT);
302,302c278,278
< 		lineColorButton = new ToolItem(toolBar, SWT.DROP_DOWN);
---
> 		lineColorButton = new Button(toolBar, SWT.PUSH);
312,312c288,288
< 		fillColorButton = new ToolItem(toolBar, SWT.DROP_DOWN);
---
> 		fillColorButton = new Button(toolBar, SWT.PUSH);
378,378c354,354
< 	protected RGB changeColor(SelectionEvent event, ToolItem button,
---
> 	protected RGB changeColor(SelectionEvent event, Button button,
539a516,516
> 		overlyedImage.dispose();
544a522,522
> 		overlyedImage.dispose();
