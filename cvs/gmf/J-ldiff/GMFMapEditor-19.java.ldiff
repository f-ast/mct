70a71,71
> import org.eclipse.emf.edit.ui.util.EditUIUtil;
425,427d425
< 				// Only listening to these.
< 				// if (event.getType() == IResourceDelta.POST_CHANGE)
< 				{
436,436d433
< 								if (delta.getFlags() != IResourceDelta.MARKERS &&
437a435,435
> 								if (delta.getKind() == IResourceDelta.REMOVED ||
437,437c434,434
< 								    delta.getResource().getType() == IResource.FILE) {
---
> 							if (delta.getResource().getType() == IResource.FILE) {
438,438c436,436
< 									if ((delta.getKind() & (IResourceDelta.CHANGED | IResourceDelta.REMOVED)) != 0) {
---
> 								    delta.getKind() == IResourceDelta.CHANGED && delta.getFlags() != IResourceDelta.MARKERS) {
441,441c439,439
< 											if ((delta.getKind() & IResourceDelta.REMOVED) != 0) {
---
> 										if (delta.getKind() == IResourceDelta.REMOVED) {
494a1181,1181
> 				 });
495,495c1182,1182
< 			}
---
> 		}
537a535,537
> 			if (isDirty()) {
> 				changedResources.addAll(editingDomain.getResourceSet().getResources());
> 			}
553a554,558
> 
> 			if (AdapterFactoryEditingDomain.isStale(editorSelection)) {
> 				setSelection(StructuredSelection.EMPTY);
> 			}
> 
900a906,906
> 		URI resourceURI = EditUIUtil.getURI(getEditorInput());
901,904d905
< 		// Assumes that the input is a file object.
< 		//
< 		IFileEditorInput modelFile = (IFileEditorInput)getEditorInput();
< 		URI resourceURI = URI.createPlatformResourceURI(modelFile.getFile().getFullPath().toString(), true);
925,925c927,927
< 	 * Returns a dignostic describing the errors and warnings listed in the resource
---
> 	 * Returns a diagnostic describing the errors and warnings listed in the resource
1173a1176,1178
> 			getSite().getShell().getDisplay().asyncExec
> 				(new Runnable() {
> 					 public void run() {
1192a1200,1202
> 		getSite().getShell().getDisplay().asyncExec
> 			(new Runnable() {
> 				 public void run() {
1194a1205,1206
> 			 });
> 	}
1472,1472c1484,1484
< 	 * This returns wether something has been persisted to the URI of the specified resource.
---
> 	 * This returns whether something has been persisted to the URI of the specified resource.
