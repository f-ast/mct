42a49,49
> 
42,42c48,48
< import org.eclipse.emf.ocl.parser.EcoreEnvironment;
---
> import org.eclipse.ocl.ecore.EcoreEnvironmentFactory;
157a160,165
> 	// Remark: Backward compatibility for String expression as qualified name of EClassifier
> 	// With MDT OCL, TypeLiteral expression can be used, having the its referred type as
> 	// the result of OCL expression evaluation
> 	// TODO - Can be replaced by <code>ExpressionContextProvider</code> as soon as definitions in GMF models 
> 	// using OCL to define contexts do not use qualified name (String)
> 	//       @constraintsMeta(def="context", ocl="'ecore::EDoubleObject'") => @constraintsMeta(def="context", ocl="ecore::EDoubleObject")	
176a185,185
> 						EClassifier contextClassifier = new EcoreEnvironmentFactory(registry).createEnvironment().lookupClassifier(nameSeq);
177,180d184
< 						nameSeq.remove(typeName.length - 1);
< 						EPackage ePackage = EcoreEnvironment.findPackage(nameSeq, registry);
< 						if(ePackage != null) {
< 							EClassifier contextClassifier = ePackage.getEClassifier(typeName[typeName.length - 1]);
185a42,42
> 
186,186d41
< 			}
514,517d517
< 	public static EClassifier emfToOclType(EClassifier type) {
< 		return EcoreEnvironment.getOCLType(type);
< 	}
< 	
