16a17,17
> import org.eclipse.emf.transaction.RunnableWithResult;
23a22,22
> import org.eclipse.gmf.runtime.common.core.util.Log;
24,24c23,23
< import org.eclipse.gmf.runtime.diagram.core.internal.util.MEditingDomainGetter;
---
> import org.eclipse.gmf.runtime.common.core.util.Trace;
31a32,32
> import org.eclipse.gmf.runtime.diagram.ui.internal.DiagramUIDebugOptions;
32,32c33,33
< import org.eclipse.gmf.runtime.emf.core.edit.MRunnable;
---
> import org.eclipse.gmf.runtime.diagram.ui.internal.DiagramUIPlugin;
32a34,34
> import org.eclipse.gmf.runtime.diagram.ui.internal.DiagramUIStatusCodes;
72a77,79
> 		try {
> 			return (EObject) getEditingDomain().runExclusive(
> 				new RunnableWithResult.Impl() {
73,73d76
< 		return (EObject) MEditingDomainGetter.getMEditingDomain((View)getModel()).runAsRead(new MRunnable() {
75,75c81,81
< 			public Object run() {
---
> 				public void run() {
78,78c84,84
< 					return ViewUtil.resolveSemanticElement(primary);
---
> 						setResult(ViewUtil.resolveSemanticElement(primary));
79,79d84
< 				return null;
81a87,95
> 		} catch (InterruptedException e) {
> 			   Trace.catching(DiagramUIPlugin.getInstance(),
> 				DiagramUIDebugOptions.EXCEPTIONS_CATCHING, getClass(),
> 				"resolveSemanticElement", e); //$NON-NLS-1$
> 				Log.error(DiagramUIPlugin.getInstance(),
> 					DiagramUIStatusCodes.IGNORED_EXCEPTION_WARNING,
> 					"resolveSemanticElement", e); //$NON-NLS-1$
> 			return null;
> 		}
