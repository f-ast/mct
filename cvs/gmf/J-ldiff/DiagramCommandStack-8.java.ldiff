526a527,528
>             	IUndoableOperation child = (IUndoableOperation) i.next();
>             	if (child instanceof ICommand) {
526,526c526,526
<             for (Iterator i = cc.iterator(); i.hasNext();)
---
>             for (Iterator i = cc.iterator(); i.hasNext();) {
527a530,531
>             	}
>             }
527,527c529,529
<                 l.addAll(getReturnValues((ICommand) i.next()));
---
>             		l.addAll(getReturnValues((ICommand) child));
