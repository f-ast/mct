17a18,18
> import java.util.HashMap;
20a22,22
> import java.util.Map;
39a42,42
> import org.eclipse.emf.common.util.URI;
92a96,96
> 	private static Map/*<URI, SoftReference>*/ myCachedURI2EmitterMap = new HashMap();
93,93d95
< 	private static SoftReference/*<CodegenEmitters>*/ myCachedEmitters;
104a108,112
> 		URI resourceURI = myEditorGen.eResource().getURI();
> 		if (myEditorGen.isDynamicTemplates()) {
> 			myCachedURI2EmitterMap.remove(resourceURI);
> 		}
> 		CodegenEmitters old = myCachedURI2EmitterMap.containsKey(resourceURI) ? (CodegenEmitters) ((SoftReference) myCachedURI2EmitterMap.get(resourceURI)).get() : null;
105,105d107
< 		CodegenEmitters old = myCachedEmitters == null ? null : (CodegenEmitters) myCachedEmitters.get();
107a115,115
> 			if (!myEditorGen.isDynamicTemplates()) {
108,108c116,116
< 			myCachedEmitters = new SoftReference(myEmitters);
---
> 				myCachedURI2EmitterMap.put(resourceURI, new SoftReference(myEmitters));
108a117,117
> 			}
