103a104,105
> 			final EObject oldReferenceTarget = e.getKey();
> 			if (myMatches.containsKey(oldReferenceTarget)) {
104,104d103
< 			if (myMatches.containsKey(e.getKey())) {
105,105c106,106
< 				EObject copied = myMatches.get(e.getKey());
---
> 				EObject copied = myMatches.get(oldReferenceTarget);
107,107c108,108
< 					trace("[crossRefUpd] matched %s -> %s", e.getKey(), copied);
---
> 					trace("[crossRefUpd] matched %s -> %s", oldReferenceTarget, copied);
118,118d118
< 							assert !values.contains(e.getKey()); // sanity, in case that may happen, should support replacement
119a120,123
> 							if (values.contains(oldReferenceTarget)) {
> 								// replace old value, keep position
> 								values.set(values.indexOf(oldReferenceTarget), copied);
> 							} else {
120a125,125
> 							}
132,132c137,137
< 					trace("[crossRefUpd] no match for old %s", e.getKey());
---
> 					trace("[crossRefUpd] no match for old %s", oldReferenceTarget);
