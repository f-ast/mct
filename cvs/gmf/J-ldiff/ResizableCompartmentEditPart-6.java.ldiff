14,15d13
< import java.beans.PropertyChangeEvent;
< 
16a15,15
> import org.eclipse.emf.common.notify.Notification;
19,19d17
< import org.eclipse.gmf.runtime.diagram.core.listener.NotificationEvent;
23,23c20,20
< import org.eclipse.gmf.runtime.diagram.ui.properties.Properties;
---
> import org.eclipse.gmf.runtime.diagram.ui.internal.properties.Properties;
108a107,107
> 		
111a111,112
> 	 * <LI>{@link NotationPackage.eINSTANCE.getRatio_Value()} calls {@link #refreshRatio()}
> 	 * <LI>{@link NotationPackage.eINSTANCE.getDrawerStyle_Collapsed()} calls {@link #refreshCollapsed()}
112,113d110
< 	 * <LI>{@link Properties#ID_RATIO} calls {@link #refreshRatio()}
< 	 * <LI>{@link Properties#ID_COLLAPSED} calls {@link #refreshCollapsed()}
114,114c113,113
< 	 * <LI>{@link Properties#ID_SHOWCOMPARTMENTTITLE} calls {@link #refreshShowCompartmentTitle()}
---
> 	 * <LI>{@link NotationPackage.eINSTANCE.getTitleStyle_ShowTitle()} calls {@link #refreshShowCompartmentTitle()}
120a120,124
> 	protected void handleNotificationEvent(Notification event ) {
> 		Object feature = event.getFeature();
> 		if (NotationPackage.eINSTANCE.getRatio_Value().equals(feature) 
> 			|| event.getOldValue()instanceof Ratio
> 			|| event.getNewValue() instanceof Ratio)
121,124d119
< 	protected void handlePropertyChangeEvent(PropertyChangeEvent evt) {
< 		if (evt.getPropertyName().equals(Properties.ID_RATIO) 
< 			|| evt.getOldValue() instanceof Ratio
< 			|| evt.getNewValue() instanceof Ratio)
125a126,127
> 		else if (NotationPackage.eINSTANCE.getDrawerStyle_Collapsed().equals(feature)){		
> 			setCollapsed(event.getNewBooleanValue(), true);
126,127d125
< 		else if (evt.getPropertyName().equals(Properties.ID_COLLAPSED)){		
< 			setCollapsed(((Boolean) evt.getNewValue()).booleanValue(), true);
128a129,131
> 		} else if (NotationPackage.eINSTANCE.getTitleStyle_ShowTitle().equals(feature))
> 			setShowCompartmentTitle(event.getNewBooleanValue());
> 		else if (NotationPackage.eINSTANCE.getFontStyle_FontColor().equals(feature)){
129,133d128
< 		} else if (
< 			evt.getPropertyName().equals(Properties.ID_SHOWCOMPARTMENTTITLE))
< 			setShowCompartmentTitle(
< 				((Boolean) evt.getNewValue()).booleanValue());
< 		else if (evt.getPropertyName().equals(Properties.ID_FONTCOLOR)){
134,134c132,132
< 			Integer c = (Integer) evt.getNewValue();
---
> 			Integer c = (Integer) event.getNewValue();
137,141d134
< 		else
< 			super.handlePropertyChangeEvent(evt);
< 	}
< 
< 	protected void handleNotificationEvent( NotificationEvent event ) {
142,142c135,135
< 		if (NotationPackage.eINSTANCE.getFontStyle().isInstance(event.getElement()))
---
> 		else if (NotationPackage.eINSTANCE.getFontStyle().isInstance(event.getNotifier())){
144,144c137,137
< 		else
---
> 		}else
