34a35,35
> import org.eclipse.gmf.gmfgraph.ColorConstants;
57a57,57
> import org.eclipse.gmf.runtime.notation.FillStyle;
58,58c58,58
< import org.eclipse.gmf.runtime.notation.ShapeStyle;
---
> import org.eclipse.gmf.runtime.notation.LineStyle;
194,194c196,196
< 	 * Body of this method does not depend on settings in generation model
---
> 	 * Body of this method does not depend on settings in generation model so
195,195c197,197
< 	 * so you may safely remove <i>generated</i> tag and modify it.
---
> 	 * you may safely remove <i>generated</i> tag and modify it.
209,209c211,211
< 	 * Default implementation treats passed figure as content pane.
---
> 	 * Default implementation treats passed figure as content pane. Respects
210,210c212,212
< 	 * Respects layout one may have set for generated figure.
---
> 	 * layout one may have set for generated figure.
210a213,214
> 	 * 
> 	 * @param nodeShape
211,211c215,215
< 	 * @param nodeShape instance of generated figure class
---
> 	 *            instance of generated figure class
351a356,356
> 				myFigure.repaint();
358a364,364
> 				myFigure.repaint();
480,480c486,486
< 		final ShapeStyle shapeStyle = (ShapeStyle) view.getStyle(NotationPackage.eINSTANCE.getShapeStyle());
---
> 		final FillStyle theFillStyle = (FillStyle) view.getStyle(NotationPackage.eINSTANCE.getFillStyle());
487a637,638
> 	public static int getRgbColor(ConstantColor modelColor) {
> 		final int rgbColor;
487a494,494
> 				rgbColor = getRgbColor(modelColor);
488,488c639,639
< 				switch (modelColor.getValue().getValue()) {
---
> 		switch (modelColor.getValue().getValue()) {
488a640,700
> 		case ColorConstants.WHITE: {
> 			rgbColor = org.eclipse.draw2d.ColorConstants.white.getRGB().hashCode();
> 			break;
> 		}
> 		case ColorConstants.BLACK: {
> 			rgbColor = org.eclipse.draw2d.ColorConstants.black.getRGB().hashCode();
> 			break;
> 		}
> 		case ColorConstants.LIGHT_GRAY: {
> 			rgbColor = org.eclipse.draw2d.ColorConstants.lightGray.getRGB().hashCode();
> 			break;
> 		}
> 		case ColorConstants.GRAY: {
> 			rgbColor = org.eclipse.draw2d.ColorConstants.gray.getRGB().hashCode();
> 			break;
> 		}
> 		case ColorConstants.DARK_GRAY: {
> 			rgbColor = org.eclipse.draw2d.ColorConstants.darkGray.getRGB().hashCode();
> 			break;
> 		}
> 		case ColorConstants.RED: {
> 			rgbColor = org.eclipse.draw2d.ColorConstants.red.getRGB().hashCode();
> 			break;
> 		}
> 		case ColorConstants.ORANGE: {
> 			rgbColor = org.eclipse.draw2d.ColorConstants.orange.getRGB().hashCode();
> 			break;
> 		}
> 		case ColorConstants.YELLOW: {
> 			rgbColor = org.eclipse.draw2d.ColorConstants.yellow.getRGB().hashCode();
> 			break;
> 		}
> 		case ColorConstants.GREEN: {
> 			rgbColor = org.eclipse.draw2d.ColorConstants.green.getRGB().hashCode();
> 			break;
> 		}
> 		case ColorConstants.LIGHT_GREEN: {
> 			rgbColor = org.eclipse.draw2d.ColorConstants.lightGreen.getRGB().hashCode();
> 			break;
> 		}
> 		case ColorConstants.DARK_GREEN: {
> 			rgbColor = org.eclipse.draw2d.ColorConstants.darkGreen.getRGB().hashCode();
> 			break;
> 		}
> 		case ColorConstants.CYAN: {
> 			rgbColor = org.eclipse.draw2d.ColorConstants.cyan.getRGB().hashCode();
> 			break;
> 		}
> 		case ColorConstants.LIGHT_BLUE: {
> 			rgbColor = org.eclipse.draw2d.ColorConstants.lightBlue.getRGB().hashCode();
> 			break;
> 		}
> 		case ColorConstants.BLUE: {
> 			rgbColor = org.eclipse.draw2d.ColorConstants.blue.getRGB().hashCode();
> 			break;
> 		}
> 		case ColorConstants.DARK_BLUE: {
> 			rgbColor = org.eclipse.draw2d.ColorConstants.darkBlue.getRGB().hashCode();
> 			break;
> 		}
> 		default:
489,495d639
< 				/*
< 				 case <nextValue>: {
< 				 rgbColor = org.eclipse.draw2d.ColorConstants.<nextColorLiteral.getName()>.getRGB().hashCode();
< 				 break;
< 				 }
< 				 */
< 				default:
496,496c701,701
< 					rgbColor = -1;
---
> 			rgbColor = -1;
497a703,708
> 		return rgbColor;
> 	}
> 
> 	/**
> 	 * @generated
> 	 */
497,497c702,702
< 				}
---
> 		}
499,499c496,496
< 			if (rgbColor != -1 && shapeStyle.getFillColor() != rgbColor) {
---
> 			if (rgbColor != -1 && theFillStyle.getFillColor() != rgbColor) {
504,504c501,501
< 						shapeStyle.setFillColor(rgbColor);
---
> 						theFillStyle.setFillColor(rgbColor);
511,511c508,508
< 					GMFGraphDiagramEditorPlugin.getInstance().logError("Unable to synchronize view Background background color with the model", e); //$NON-NLS-1$
---
> 					GMFGraphDiagramEditorPlugin.getInstance().logError("Unable to synchronize view Background color with the model", e); //$NON-NLS-1$
514a512,512
> 		final LineStyle theLineStyle = (LineStyle) view.getStyle(NotationPackage.eINSTANCE.getLineStyle());
521a520,520
> 				rgbColor = getRgbColor(modelColor);
522,526d519
< 				switch (modelColor.getValue().getValue()) {
< 				/*
< 				 case <nextValue>: {
< 				 rgbColor = org.eclipse.draw2d.ColorConstants.<nextColorLiteral.getName()>.getRGB().hashCode();
< 				 break;
528,532d521
< 				 */
< 				default:
< 					rgbColor = -1;
< 				}
< 			}
533,533c522,522
< 			if (rgbColor != -1 && shapeStyle.getLineColor() != rgbColor) {
---
> 			if (rgbColor != -1 && theLineStyle.getLineColor() != rgbColor) {
538,538c527,527
< 						shapeStyle.setLineColor(rgbColor);
---
> 						theLineStyle.setLineColor(rgbColor);
545,545c534,534
< 					GMFGraphDiagramEditorPlugin.getInstance().logError("Unable to synchronize view Foreground background color with the model", e); //$NON-NLS-1$
---
> 					GMFGraphDiagramEditorPlugin.getInstance().logError("Unable to synchronize view Foreground color with the model", e); //$NON-NLS-1$
548a538,540
> 
> 		final FillStyle theFillStyle1 = (FillStyle) view.getStyle(NotationPackage.eINSTANCE.getFillStyle());
> 		addListenerFilter("FillStyleListener", new NotificationListener() {
549,549d537
< 		addListenerFilter("ShapeStyleListener", new NotificationListener() {
553,553c544,544
< 					new AbstractEMFOperation(getEditingDomain(), "Synchronizing model size with the view", Collections.singletonMap(Transaction.OPTION_UNPROTECTED, Boolean.TRUE)) { //$NON-NLS-1$
---
> 					new AbstractEMFOperation(getEditingDomain(), "Synchronizing model Background color with the view", Collections.singletonMap(Transaction.OPTION_UNPROTECTED, Boolean.TRUE)) { //$NON-NLS-1$
555a547,549
> 							FillStyle theFillStyle = (FillStyle) notification.getNotifier();
> 							if (notification.getFeatureID(FillStyle.class) == NotationPackage.FILL_STYLE__FILL_COLOR) {
> 								int color = theFillStyle.getFillColor();
556,559d546
< 							ShapeStyle shapeStyle = (ShapeStyle) notification.getNotifier();
< 							switch (notification.getFeatureID(ShapeStyle.class)) {
< 							case NotationPackage.SHAPE_STYLE__FILL_COLOR: {
< 								int color = shapeStyle.getFillColor();
572,572d561
< 								break;
573a563,581
> 							return Status.OK_STATUS;
> 						}
> 					}.execute(new NullProgressMonitor(), null);
> 				} catch (ExecutionException e) {
> 					GMFGraphDiagramEditorPlugin.getInstance().logError("Unable to synchronize model Background color with the view", e); //$NON-NLS-1$
> 				}
> 			}
> 		}, theFillStyle1);
> 		final LineStyle theLineStyle1 = (LineStyle) view.getStyle(NotationPackage.eINSTANCE.getLineStyle());
> 		addListenerFilter("LineStyleListener", new NotificationListener() {
> 
> 			public void notifyChanged(final Notification notification) {
> 				try {
> 					new AbstractEMFOperation(getEditingDomain(), "Synchronizing model Foreground color with the view", Collections.singletonMap(Transaction.OPTION_UNPROTECTED, Boolean.TRUE)) { //$NON-NLS-1$
> 
> 						protected IStatus doExecute(IProgressMonitor monitor, IAdaptable info) throws ExecutionException {
> 							LineStyle theLineStyle = (LineStyle) notification.getNotifier();
> 							if (notification.getFeatureID(LineStyle.class) == NotationPackage.LINE_STYLE__LINE_COLOR) {
> 								int color = theLineStyle.getLineColor();
574,575d562
< 							case NotationPackage.SHAPE_STYLE__LINE_COLOR: {
< 								int color = shapeStyle.getLineColor();
588,589d593
< 								break;
< 							}
595,595c599,599
< 					GMFGraphDiagramEditorPlugin.getInstance().logError("Unable to synchronize model size with the view", e); //$NON-NLS-1$			
---
> 					GMFGraphDiagramEditorPlugin.getInstance().logError("Unable to synchronize model Foreground color with the view", e); //$NON-NLS-1$
597a602,603
> 		}, theLineStyle1);
> 
598,598d601
< 		}, shapeStyle);
