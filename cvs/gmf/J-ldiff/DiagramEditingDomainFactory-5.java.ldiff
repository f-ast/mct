19a20,20
> import org.eclipse.emf.common.command.Command;
22a24,24
> import org.eclipse.emf.transaction.NotificationFilter;
24a27,27
> import org.eclipse.emf.transaction.ResourceSetListenerImpl;
59a63,63
> 		private ResourceSetListener debWrapper = null;
64a69,71
> 				debWrapper = new ResourceSetListenerImpl() {
> 					public boolean isAggregatePrecommitListener() {
> 						return deb.isAggregatePrecommitListener();
66a74,97
> 					public boolean isPrecommitOnly() {
> 						return true;
> 					}
> 					
> 					public Command transactionAboutToCommit(ResourceSetChangeEvent event)
> 						throws RollbackException {
> 						return deb.transactionAboutToCommit(event);
> 					}
> 					
> 					public void resourceSetChanged(ResourceSetChangeEvent event) {
> 						deb.resourceSetChanged(event);
> 					}
> 					
> 					public NotificationFilter getFilter() {
> 						return deb.getFilter();
> 					}
> 					
> 					public boolean isPostcommitOnly() {
> 						return false;
> 					}
> 				};
> 				
> 				super.addResourceSetListener(debWrapper);
> 			} else {
73a106,108
> 				super.removeResourceSetListener(debWrapper);
> 				debWrapper = null;
> 			} else {
74,74c100,100
< 			}
---
> 		}
75,75d100
< 			
77a111,111
> 		}
