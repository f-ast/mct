156a157,158
> 		INodeEditPart node = getConnectableEditPart();
> 		if (node != null)
157,157c159,159
< 		return getConnectableEditPart().getTargetConnectionAnchor(request);
---
> 			return node.getTargetConnectionAnchor(request);
157a160,161
> 		
> 		return null;
259a264,267
> 		INodeEditPart node = getConnectableEditPart();
> 		if (node == null)
> 			return null;
> 		
291,291c299,299
< 			ConnectionAnchor sourceAnchor = getConnectableEditPart()
---
> 			ConnectionAnchor sourceAnchor = node
314a323,326
> 		INodeEditPart node = getConnectableEditPart();
> 		if (node == null)
> 			return null;
> 		
315,315c327,327
< 		ConnectionAnchor sourceAnchor = getConnectableEditPart()
---
> 		ConnectionAnchor sourceAnchor = node.getSourceConnectionAnchor(request);
316,316d327
< 				.getSourceConnectionAnchor(request);
320,320c331,331
< 		sceCommand.setNewSourceAdaptor(new EObjectAdapter((View)getConnectableEditPart()
---
> 		sceCommand.setNewSourceAdaptor(new EObjectAdapter((View)node
325,325d335
< 		scaCommand.setNewSourceTerminal(getConnectableEditPart()
326,326c336,336
< 				.mapConnectionAnchorToTerminal(sourceAnchor));
---
> 		scaCommand.setNewSourceTerminal(node.mapConnectionAnchorToTerminal(sourceAnchor));
