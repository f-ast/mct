2664a2665,2666
> 		// http://www.eclipse.org/gmf/2005/constraints/meta
> 		createMetaAnnotations();
2675a2678,2678
> 		  (this, 
2676,2676d2677
< 		  (genDiagramEClass, 
2679,2679c2681,2681
< 			 "constraints", "http://www.eclipse.org/gmf/2005/constraints"
---
> 			 "constraints", "http://www.eclipse.org/gmf/2005/constraints",
2679a2682,2682
> 			 "meta", "http://www.eclipse.org/gmf/2005/constraints/meta"
2691a2695,2700
> 		  (this, 
> 		   source, 
> 		   new String[] {
> 			 "import", "platform:/resource/org.eclipse.gmf.runtime.notation/model/notation.ecore"
> 		   });		
> 		addAnnotation
2695,2695c2704,2704
< 			 "ocl", "nodes->forAll(n : GenNode | self.links->forAll(l : GenLink | l.domainMetaClass <> n.domainMetaClass))"
---
> 			 "ocl", "nodes->forAll(n : GenNode | self.links->forAll(l : GenLink | l.oclAsType(TypeLinkModelFacet).metaClass <> n.getDomainMetaClass()))"
2700a2710,2710
> 			 "ocl", "let c: ecore::EClass = diagramRunTimeClass.ecoreClass.oclAsType(ecore::EClass) in c = notation::Node or c.eAllSuperTypes->includes(notation::Node)"
2701,2701d2709
< 			 "ocl", "super.domainNameFeature.eClass == domainMetaClass"
2703a2713,2731
> 		  (genLinkEClass, 
> 		   source, 
> 		   new String[] {
> 			 "ocl", "let c: ecore::EClass = diagramRunTimeClass.ecoreClass.oclAsType(ecore::EClass) in c = notation::Edge or c.eAllSuperTypes->includes(notation::Edge)"
> 		   });								
> 		addAnnotation
> 		  (genNodeLabelEClass, 
> 		   source, 
> 		   new String[] {
> 			 "ocl", "modelFacet.metaFeature.ecoreFeature.eContainingClass.isSuperTypeOf(node.getDomainMetaClass().ecoreClass)"
> 		   });			
> 		addAnnotation
> 		  (genLinkLabelEClass, 
> 		   source, 
> 		   new String[] {
> 			 "ocl", "let tl: TypeLinkModelFacet = link.modelFacet.oclAsType(TypeLinkModelFacet) in tl.oclIsUndefined() or modelFacet.metaFeature.ecoreFeature.eContainingClass.isSuperTypeOf(tl.metaClass.ecoreClass)"
> 		   });						
> 		addAnnotation
> 		  (getTypeModelFacet_ContainmentMetaFeature(), 
2704,2704d2712
< 		  (genNodeEClass, 
2706a2734,2734
> 			 "ocl", "containmentMetaFeature.ecoreFeature.oclAsType(ecore::EReference).containment"
2707,2707d2733
< 			 "ocl", "diagramRunTimeClass.eCoreClass.eAllSuperTypes->includes(diagramrt.DiagramNode)"
2712a2740,2740
> 			 "ocl", "containmentMetaFeature.ecoreFeature.oclAsType(ecore::EReference).eReferenceType.isSuperTypeOf(metaClass.ecoreClass)"
2713,2713d2739
< 			 "ocl", "containmentMetaFeature.isContainment"
2718a2746,2746
> 			 "ocl", "sourceMetaFeature.oclIsUndefined() or sourceMetaFeature.ecoreFeature.oclAsType(ecore::EReference).eReferenceType.isSuperTypeOf(metaClass.ecoreClass)"
2719,2719d2745
< 			 "ocl", "sourceMetaFeature.eContainingClass \'equals to\' or \'superclass of\' super.metaClass"
2724a2752,2781
> 			 "ocl", "targetMetaFeature.genClass.ecoreClass.isSuperTypeOf(metaClass.ecoreClass)"
> 		   });																										
> 		addAnnotation
> 		  (getGenFeatureSeqInitializer_Initializers(), 
> 		   source, 
> 		   new String[] {
> 			 "ocl", "initializers.feature->forAll(f| f.ecoreFeature.eContainingClass.isSuperTypeOf(typeModelFacet.metaClass.ecoreClass))"
> 		   });								
> 		addAnnotation
> 		  (genLinkConstraintsEClass, 
> 		   source, 
> 		   new String[] {
> 			 "ocl", "not sourceEnd.oclIsUndefined() or not targetEnd.oclIsUndefined()"
> 		   });											
> 	}
> 
> 	/**
> 	 * Initializes the annotations for <b>http://www.eclipse.org/gmf/2005/constraints/meta</b>.
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	protected void createMetaAnnotations() {
> 		String source = "http://www.eclipse.org/gmf/2005/constraints/meta";																																											
> 		addAnnotation
> 		  (getTypeModelFacet_ModelElementSelector(), 
> 		   source, 
> 		   new String[] {
> 			 "def", "context",
> 			 "ocl", "metaClass.ecoreClass"
2725,2725d2751
< 			 "ocl", "targetMetaFeature.eContainingClass \'equals to\' or \'superclass of\' super.metaClass"
2727a2784,2784
> 		  (valueExpressionEClass, 
2728,2728d2783
< 		  (genFeatureSeqInitializerEClass, 
2730a2787,2812
> 			 "def", "ValueSpec"
> 		   });			
> 		addAnnotation
> 		  (getValueExpression_Body(), 
> 		   source, 
> 		   new String[] {
> 			 "def", "body"
> 		   });			
> 		addAnnotation
> 		  (getValueExpression_Language(), 
> 		   source, 
> 		   new String[] {
> 			 "def", "lang"
> 		   });			
> 		addAnnotation
> 		  (modelElementSelectorEClass, 
> 		   source, 
> 		   new String[] {
> 			 "def", "Constraint"
> 		   });										
> 		addAnnotation
> 		  (getGenFeatureSeqInitializer_Initializers(), 
> 		   source, 
> 		   new String[] {
> 			 "def", "context",
> 			 "ocl", "typeModelFacet.metaClass.ecoreClass"
2731,2731d2786
< 			 "ocl", "initializers.feature.genClass.ecoreClass->asSet()->size() = 1 -- common ECore class"
2736a2818,2855
> 			 "def", "ValueSpec"
> 		   });		
> 		addAnnotation
> 		  (genFeatureValueSpecEClass, 
> 		   source, 
> 		   new String[] {
> 			 "def", "type",
> 			 "ocl", "feature.ecoreFeature"
> 		   });												
> 		addAnnotation
> 		  (getGenLinkConstraints_SourceEnd(), 
> 		   source, 
> 		   new String[] {
> 			 "def", "context",
> 			 "ocl", "getSourceEndContextClass().ecoreClass"
> 		   });		
> 		addAnnotation
> 		  (getGenLinkConstraints_SourceEnd(), 
> 		   source, 
> 		   new String[] {
> 			 "def", "variable",
> 			 "name", "oppositeEnd",
> 			 "type.ocl", "getTargetEndContextClass().ecoreClass"
> 		   });			
> 		addAnnotation
> 		  (getGenLinkConstraints_TargetEnd(), 
> 		   source, 
> 		   new String[] {
> 			 "def", "context",
> 			 "ocl", "getTargetEndContextClass().ecoreClass"
> 		   });		
> 		addAnnotation
> 		  (getGenLinkConstraints_TargetEnd(), 
> 		   source, 
> 		   new String[] {
> 			 "def", "variable",
> 			 "name", "oppositeEnd",
> 			 "type.ocl", "getSourceEndContextClass().ecoreClass"
2737,2737d2817
< 			 "ocl", "self.feature.ecoreFeature.eType = self.body->evaluate().eType"
