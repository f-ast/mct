849,849c849,849
< 		// I assume that the input is a file object.
---
> 		// Assumes that the input is a file object.
851a852,854
> 		URI resourceURI = URI.createPlatformResourceURI(modelFile.getFile().getFullPath().toString());;
> 		Exception exception = null;
> 		Resource resource = null;
852,852d851
< 
855a858,859
> 			resource = editingDomain.getResourceSet().getResource(resourceURI, true);
> 			// [vano] reconcile genModel for domain --start
856,857d857
< 			// [vano] reconcile genModel for domain
< 			Resource res = editingDomain.loadResource(URI.createPlatformResourceURI(modelFile.getFile().getFullPath().toString()).toString());
858,858c860,860
< 			Object o = res.getContents().get(0);
---
> 			Object o = resource.getContents().get(0);
860,861d861
< 			if (o instanceof GenDiagram) {
< 				toReload = ((GenDiagram) o).getEditorGen().getDomainGenModel();
862,862c862,862
< 			} else if (o instanceof GenEditorGenerator) {
---
> 			if (o instanceof GenEditorGenerator) {
867a868,868
> 			// reconcile -end
868a870,877
> 		catch (Exception e) {
> 			exception = e;
> 			resource = editingDomain.getResourceSet().getResource(resourceURI, false);			
> 		}
> 
> 		Diagnostic diagnostic = analyzeResourceProblems(resource, exception);
> 		if (diagnostic.getSeverity() != Diagnostic.OK) {
> 			resourceToDiagnosticMap.put(resource,  analyzeResourceProblems(resource, exception));
869,870d869
< 		catch (Exception exception) {
< 			EditorPlugin.INSTANCE.log(exception);
871a879,879
> 		editingDomain.getResourceSet().eAdapters().add(problemIndicationAdapter);		
