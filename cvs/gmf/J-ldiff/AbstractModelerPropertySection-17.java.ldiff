28a29,29
> import org.eclipse.emf.ecore.EcorePackage;
215,215d215
< 			if (eventObject == null) {
216a216,216
>             if (notification.getFeature() == EcorePackage.Literals.EANNOTATION__EMODEL_ELEMENT) {
216a221,221
>                     eventObject = (EObject) oldObj;
217,217c217,217
< 				Object tmpObj = notification.getOldValue();
---
>                 Object oldObj = notification.getOldValue();
217a218,219
>                 Object newObj = notification.getNewValue();
>                 if (oldObj instanceof EObject && newObj == null) {
218,221d217
< 				if (tmpObj != null && tmpObj instanceof EObject) {
< 					eventObject = (EObject) tmpObj;
< 				} else {
< 					return false;
