30a31,31
> import org.eclipse.emf.codegen.jet.JETEmitter;
41a43,45
> import org.eclipse.gmf.codegen.gmfgen.GenExpressionInterpreter;
> import org.eclipse.gmf.codegen.gmfgen.GenExpressionProviderBase;
> import org.eclipse.gmf.codegen.gmfgen.GenExpressionProviderContainer;
177a182,184
> 		if(myDiagram.getEditorGen().getExpressionProviders() != null) {
> 			generateExpressionProviders();
> 		}
814a822,852
> 	// expressions
> 	
> 	private void generateExpressionProviders() throws UnexpectedBehaviourException, InterruptedException {
> 		GenExpressionProviderContainer providerContainer = myEditorGen.getExpressionProviders();
> 		doGenerateJavaClass(
> 			myEmitters.getAbstractExpressionEmitter(),
> 			providerContainer.getExpressionsPackageName(), 
> 			providerContainer.getAbstractExpressionClassName(),
> 			myDiagram
> 		);
> 
> 		for (Iterator it = providerContainer.getProviders().iterator(); it.hasNext();) {
> 			GenExpressionProviderBase nextProvider = (GenExpressionProviderBase) it.next();
> 			if(nextProvider instanceof GenExpressionInterpreter) {
> 				JETEmitter providerEmitter = null;
> 				if("ocl".equals(nextProvider.getLanguage())) { //$NON-NLS-1$
> 					providerEmitter = myEmitters.getOCLExpressionFactoryEmitter();
> 				}
> 				GenExpressionInterpreter interpreter = (GenExpressionInterpreter)nextProvider;
> 				if(providerEmitter != null) {
> 					doGenerateJavaClass(
> 							providerEmitter,
> 							providerContainer.getExpressionsPackageName(),
> 							interpreter.getClassName(),
> 							interpreter);
> 				}
> 			}
> 		}
> 	}
> 	
> 
