2,2c2,2
<  * Copyright (c) 2004 IBM Corporation and others.
---
>  * Copyright (c) 2004, 2006 IBM Corporation and others.
19a20,20
> import org.eclipse.gef.EditPart;
30a32,32
> import org.eclipse.gmf.runtime.diagram.ui.internal.editparts.IEditableEditPart;
85a88,103
> 				
> 				// consider edit mode of selected edit part
> 				if (nodeEditPart instanceof IEditableEditPart
> 						&& !((IEditableEditPart) nodeEditPart)
> 								.isEditModeEnabled()) {
> 					return false;
> 				}
> 
> 				// consider edit mode of selected edit part's container
> 				EditPart parentPart = nodeEditPart.getParent();
> 				if (parentPart instanceof IEditableEditPart
> 						&& !((IEditableEditPart) parentPart)
> 								.isEditModeEnabled()) {
> 					return false;
> 				}
> 				
139a158,158
> 		if (cc.canExecute()) {
141,141c162,162
< 		
---
> 	}
