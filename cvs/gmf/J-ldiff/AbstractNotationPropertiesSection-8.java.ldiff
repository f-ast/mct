24,27d23
< import org.eclipse.swt.events.PaintEvent;
< import org.eclipse.swt.events.PaintListener;
< import org.eclipse.swt.graphics.GC;
< import org.eclipse.swt.graphics.Rectangle;
30,30d25
< import org.eclipse.ui.forms.FormColors;
51,52d45
< 	protected PaintListener painter;
< 
116,124d108
< 		createPaintedSectionComposite(parent);		
< 	}
< 
< 	/**
< 	 * Create a composite for the section
< 	 * 
< 	 * @param parent - parent widget to host the section's composite
< 	 */
< 	protected Composite createPaintedSectionComposite(Composite parent) {
126,126d109
< 
129,172d111
< 
< 		painter = createPainter();
< 		composite.addPaintListener(painter);
< 		return composite;
< 	}
< 
< 	/*
< 	 * (non-Javadoc)
< 	 * 
< 	 * @see org.eclipse.ui.views.properties.tabbed.ISection#dispose()
< 	 */
< 	public void dispose() {
< 		if (composite != null && ! composite.isDisposed() && painter != null)
< 			composite.removePaintListener(painter);
< 		super.dispose();
< 
< 	}
< 
< 	/**
< 	 * @return - create and return a painter for the section composite which
< 	 *         will do partial gradient color fill fopr the section widget
< 	 */
< 	protected PaintListener createPainter() {
< 		return new PaintListener() {
< 
< 			public void paintControl(PaintEvent e) {
< 				Rectangle bounds = composite.getClientArea();
< 				GC gc = e.gc;
< 
< 				gc.setForeground(gc.getBackground());
< 				gc.setBackground(getWidgetFactory().getColors().getColor(
< 					FormColors.TB_BG));
< 
< 				gc.fillGradientRectangle(4 + bounds.width / 2, 0,
< 					bounds.width / 2 - 9, bounds.height, false);
< 
< 				gc.setForeground(getWidgetFactory().getColors().getColor(
< 					FormColors.TB_BORDER));
< 				gc.drawLine(bounds.width - 5, 0, bounds.width - 5,
< 					bounds.height);
< 			}
< 
< 		};
< 
