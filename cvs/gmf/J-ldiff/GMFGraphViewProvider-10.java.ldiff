0a1,10
> /**
>  * Copyright (c) 2006 Borland Software Corporation and others.
>  * All rights reserved. This program and the accompanying materials
>  * are made available under the terms of the Eclipse Public License v1.0
>  * which accompanies this distribution, and is available at
>  * http://www.eclipse.org/legal/epl-v10.html
>  *
>  * Contributors:
>  *     Borland Software Corporation - initial API and implementation
>  */
78a145,145
> 		IElementType elementType = getSemanticElementType(semanticAdapter);
79,79c146,146
< 		if (semanticAdapter != null && semanticAdapter.getAdapter(IElementType.class) != null && GMFGraphElementTypes.getElement(semanticAdapter) == null) {
---
> 		if (elementType != null && !GMFGraphElementTypes.isKnownElementType(elementType)) {
82,82d92
< 
86,86d95
< 
136,136d144
< 		if (semanticAdapter.getAdapter(IElementType.class) != null && GMFGraphElementTypes.getElement(semanticAdapter) == null) {
138a149,149
> 		if (GMFGraphElementTypes.DiagramElementFigure_4001.equals(elementType)) {
139,139c89,89
< 		IElementType elementType = getSemanticElementType(semanticAdapter);
---
> 		IElementType elementType = getSemanticElementType(semanticAdapter);
140,140c90,90
< 		if (GMFGraphElementTypes.DiagramElementFigure_3001.equals(elementType)) {
---
> 		if (elementType != null && !GMFGraphElementTypes.isKnownElementType(elementType)) {
143,143d151
< 
149,149d156
< 
151,151d157
< 
