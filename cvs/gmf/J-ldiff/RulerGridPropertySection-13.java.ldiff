55a56,57
> import org.eclipse.swt.widgets.ToolBar;
> import org.eclipse.swt.widgets.ToolItem;
78,78c80,80
< 	private Button lineColorButton;
---
> 	private ToolItem lineColorButton;
288a291,294
> 		ToolBar toolBar = new ToolBar(composite, SWT.FLAT);
> 			toolBar.setLayout(new GridLayout(1, false));
> 			toolBar.setBackground(composite.getBackground());
> 		lineColorButton = new ToolItem(toolBar, SWT.DROP_DOWN);
289,290d290
< 
< 		lineColorButton = new Button(composite, SWT.PUSH);
292,298d295
< 
<         lineColorButton.getAccessible().addAccessibleListener(new AccessibleAdapter() {
< 					public void getName(AccessibleEvent e) {
< 						e.result = DiagramUIMessages.PropertyDescriptorFactory_LineColor;
< 					}
< 				});
< 
318a316,324
> 
> 		//the accessibility listener is applied to the whole tool bar because there is only one item in it, in the event
> 		//that additional tool items are added, this should be changed to search for the tool bar's children and their
> 		//their respective tool tips. Refer to ColorsAndFontsPropertySection.java.
>         toolBar.getAccessible().addAccessibleListener(new AccessibleAdapter() {
> 			public void getName(AccessibleEvent e) {
> 				e.result = DiagramUIMessages.PropertyDescriptorFactory_LineColor;
> 			}
> 		});		
344,344c350,350
< 	 * @param button -
---
> 	 * @param toolItem -
351,351c357,357
< 	private RGB changeColor(SelectionEvent event, Button button,
---
> 	private RGB changeColor(SelectionEvent event, ToolItem toolItem,
354,354c360,360
< 		ColorPalettePopup popup = new ColorPalettePopup(button.getParent()
---
> 		ColorPalettePopup popup = new ColorPalettePopup(toolItem.getParent()
357a364,364
> 		Rectangle r = toolItem.getBounds();
358,358d363
< 		Rectangle r = button.getBounds();
359,359c365,365
< 		Point location = button.getParent().toDisplay(r.x, r.y);
---
> 		Point location = toolItem.getParent().toDisplay(r.x, r.y);
366,366c372,372
< 			disposeImage(button.getImage());
---
> 			disposeImage(toolItem.getImage());
367,367c373,373
< 			button.setImage(overlyedImage);
---
> 			toolItem.setImage(overlyedImage);
375,375c381,381
< 			disposeImage(button.getImage());
---
> 			disposeImage(toolItem.getImage());
376,376c382,382
< 			button.setImage(overlyedImage);
---
> 			toolItem.setImage(overlyedImage);
