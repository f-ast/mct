615,615c615,615
< 			return getDomainGenModel().getModelName();
---
> 			return getDomainGenModel() == null ? "Design" : getDomainGenModel().getModelName();
664a665,668
> 			String prefix = getDomainFileExtension();
> 			if (prefix == null || prefix.trim().length() == 0) {
> 				prefix = "design";
> 			}
665,665c669,669
< 			return getDomainFileExtension() + "_diagram";
---
> 			return prefix + "_diagram";
1123a1128,1129
> 		String name = "Design";
> 		if (getDomainGenModel() != null) {
1124a1131,1131
> 		}
1124,1124c1130,1130
< 		String name = CodeGenUtil.validJavaIdentifier(getDomainGenModel().getModelName());
---
> 			name = CodeGenUtil.validJavaIdentifier(getDomainGenModel().getModelName());
