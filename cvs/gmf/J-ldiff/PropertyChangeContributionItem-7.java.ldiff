17a18,18
> import org.eclipse.emf.transaction.RunnableWithResult;
18a25,25
> import org.eclipse.gmf.runtime.emf.core.util.PackageUtil;
19,19c26,26
< import org.eclipse.jface.util.Assert;
---
> import org.eclipse.jface.util.Assert;
20,20c27,27
< import org.eclipse.ui.IWorkbenchPage;
---
> import org.eclipse.ui.IWorkbenchPage;
21,22d27
< 
< import org.eclipse.gmf.runtime.diagram.core.internal.util.MEditingDomainGetter;
25a20,20
> import org.eclipse.gmf.runtime.common.core.util.Log;
26,26d19
< import org.eclipse.gmf.runtime.emf.core.edit.MRunnable;
27,27c21,21
< import org.eclipse.gmf.runtime.emf.core.util.MetaModelUtil;
---
> import org.eclipse.gmf.runtime.common.core.util.Trace;
28,28d21
< import org.eclipse.gmf.runtime.notation.View;
148a148,151
> 		try {
> 			return editPart.getEditingDomain().runExclusive(
> 				new RunnableWithResult.Impl() {
> 
149,149d147
< 		return MEditingDomainGetter.getMEditingDomain((View)editPart.getModel()).runAsRead(new MRunnable() {
150,150c152,152
< 			public Object run() {
---
> 					public void run() {
151a154,154
> 							.getElement(thePropertyId);
151,151c153,153
< 				ENamedElement element = MetaModelUtil.getElement(thePropertyId);
---
> 						ENamedElement element = PackageUtil
152a156,156
> 							setResult(editPart
153,153c157,157
< 					return editPart.getStructuralFeatureValue((EStructuralFeature)element);
---
> 								.getStructuralFeatureValue((EStructuralFeature) element));
154,154d157
< 				return null;
156a160,168
> 		} catch (InterruptedException e) {
> 			Trace.catching(DiagramActionsPlugin.getInstance(),
> 				DiagramActionsDebugOptions.EXCEPTIONS_CATCHING, getClass(),
> 				"getPropertyValue", e); //$NON-NLS-1$
> 			Log.error(DiagramActionsPlugin.getInstance(),
> 				DiagramActionsStatusCodes.IGNORED_EXCEPTION_WARNING,
> 				"getPropertyValue", e); //$NON-NLS-1$
> 			return null;
> 		}
