26a27,27
> import org.eclipse.gef.editparts.ZoomListener;
29,29c48,48
< import org.eclipse.jface.preference.IPreferenceStore;
---
> import org.eclipse.jface.preference.IPreferenceStore;
30,30c49,49
< import org.eclipse.jface.util.IPropertyChangeListener;
---
> import org.eclipse.jface.util.IPropertyChangeListener;
31,31c50,50
< import org.eclipse.swt.widgets.Display;
---
> import org.eclipse.swt.widgets.Display;
32,32d50
< 
81a83,94
> 	static protected class DiagramScalableFreeformLayeredPane extends
> 		org.eclipse.gmf.runtime.draw2d.ui.internal.graphics.ScalableFreeformLayeredPane implements ZoomListener {
> 	
> 		/* 
> 		 * (non-Javadoc)
> 		 * @see org.eclipse.gef.editparts.ZoomListener#zoomChanged(double)
> 		 */
> 		public void zoomChanged(double zoom) {
> 			ScaledGraphics.resetFontCache();
> 		}
> 	}
> 
175a189,189
> 		return new DiagramScalableFreeformLayeredPane();
176,176c45,45
< 		return new org.eclipse.gmf.runtime.draw2d.ui.internal.graphics.ScalableFreeformLayeredPane();
---
> import org.eclipse.gmf.runtime.draw2d.ui.internal.graphics.ScaledGraphics;
491a505,509
> 		
> 		ScalableFreeformLayeredPane pane = getLayers();
> 		if (pane instanceof ZoomListener) {
> 			getZoomManager().addZoomListener((ZoomListener)pane);
> 		}
500a519,524
> 		
> 		ScalableFreeformLayeredPane pane = getLayers();
> 		if (pane instanceof ZoomListener) {
> 			getZoomManager().removeZoomListener((ZoomListener)pane);
> 		}
> 		
