24,24d23
< import org.eclipse.gmf.runtime.diagram.ui.internal.tools.AbstractPopupBarTool;
80,80c79,79
< 		if (myRequest != null) {
---
> 		if (getCreateRequest() != null) {
81,81c80,80
< 			return myRequest;
---
> 			return getCreateRequest();
104,104c103,103
< 		Command theCmd = myHostEditPart.getCommand(theRequest);
---
> 		Command theCmd = getHost().getCommand(theRequest);
121,121c120,120
< 			.resolveSemanticElement((View) myHostEditPart.getModel());
---
> 			.resolveSemanticElement((View) getHost().getModel());
132,132c131,131
< 			Command theRealCmd = ((IGraphicalEditPart) myHostEditPart)
---
> 			Command theRealCmd = ((IGraphicalEditPart) getHost())
