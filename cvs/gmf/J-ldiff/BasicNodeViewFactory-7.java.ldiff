13a14,17
> import java.util.HashMap;
> import java.util.Map;
> 
> import org.eclipse.core.commands.ExecutionException;
15a24,29
> import org.eclipse.emf.transaction.Transaction;
> import org.eclipse.emf.transaction.util.TransactionUtil;
> import org.eclipse.emf.workspace.AbstractEMFOperation;
> import org.eclipse.gmf.runtime.common.core.util.Log;
> import org.eclipse.gmf.runtime.common.core.util.StringStatics;
> import org.eclipse.gmf.runtime.common.core.util.Trace;
15a32,32
> import org.eclipse.gmf.runtime.diagram.ui.internal.DiagramUIDebugOptions;
16,16c33,33
< import org.eclipse.gmf.runtime.diagram.core.internal.util.MEditingDomainGetter;
---
> import org.eclipse.gmf.runtime.diagram.ui.internal.DiagramUIPlugin;
16a34,34
> import org.eclipse.gmf.runtime.diagram.ui.internal.DiagramUIStatusCodes;
19a20,20
> import org.eclipse.core.runtime.IStatus;
19,19c19,19
< import org.eclipse.gmf.runtime.emf.core.edit.MRunOption;
---
> import org.eclipse.core.runtime.IProgressMonitor;
20a22,22
> import org.eclipse.core.runtime.Status;
20,20c21,21
< import org.eclipse.gmf.runtime.emf.core.edit.MRunnable;
---
> import org.eclipse.core.runtime.NullProgressMonitor;
72,72d85
< 		int options = MRunOption.UNCHECKED | MRunOption.SILENT;
73a87,100
> 
> 		Map options = new HashMap();
> 		options.put(Transaction.OPTION_UNPROTECTED, Boolean.TRUE);
> 		options.put(Transaction.OPTION_NO_NOTIFICATIONS, Boolean.TRUE);
> 		options.put(Transaction.OPTION_NO_TRIGGERS, Boolean.TRUE);
> 
> 		AbstractEMFOperation operation = new AbstractEMFOperation(
> 			TransactionUtil.getEditingDomain(node), StringStatics.BLANK,
> 			options) {
> 
> 			protected IStatus doExecute(IProgressMonitor monitor,
> 					IAdaptable info)
> 				throws ExecutionException {
> 
74,75d86
< 		MEditingDomainGetter.getMEditingDomain(containerView).runWithOptions(new MRunnable() {
< 			public Object run() {
77a103,118
> 				decorateView(containerView, node, semanticAdapter,
> 					semanticHint, index, childPersisted);
> 
> 				return Status.OK_STATUS;
> 			}
> 		};
> 		try {
> 			operation.execute(new NullProgressMonitor(), null);
> 		} catch (ExecutionException e) {
> 			Trace.catching(DiagramUIPlugin.getInstance(),
> 				DiagramUIDebugOptions.EXCEPTIONS_CATCHING, getClass(),
> 				"createView", e); //$NON-NLS-1$
> 			Log
> 				.warning(DiagramUIPlugin.getInstance(),
> 					DiagramUIStatusCodes.IGNORED_EXCEPTION_WARNING,
> 					"createView", e); //$NON-NLS-1$
78,79d102
< 				decorateView(containerView,node, semanticAdapter, semanticHint, index, childPersisted);
< 				return null;
81,81d119
< 		},options);
