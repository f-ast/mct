27,28d26
< import org.eclipse.core.runtime.IExtension;
< import org.eclipse.core.runtime.IExtensionPoint;
30,32d27
< import org.eclipse.core.runtime.dynamichelpers.ExtensionTracker;
< import org.eclipse.core.runtime.dynamichelpers.IExtensionChangeHandler;
< import org.eclipse.core.runtime.dynamichelpers.IExtensionTracker;
107,109d101
< 	private ExtensionTracker extensionTracker;
< 	private IExtensionChangeHandler extensionListener;
< 
123,124d114
< 
< 		startExtensionTracking();
128,154d117
< 	private void startExtensionTracking() {
< 		extensionListener = new IExtensionChangeHandler() {
< 			public void addExtension(IExtensionTracker tracker, IExtension extension) {
< 				load(extension.getConfigurationElements());
< 			}
< 
< 			public void removeExtension(IExtension extension, Object[] objects) {
< 				// FIXME implement extension removal
< 			}
< 		};
< 		final IExtensionPoint pt = Platform.getExtensionRegistry().getExtensionPoint(EMFTypePlugin.getPluginId(), ELEMENT_TYPES_EXT_P_NAME);
< 		extensionTracker = new ExtensionTracker();
< 		extensionTracker.registerHandler(extensionListener, ExtensionTracker.createExtensionPointFilter(pt));
< 	}
< 
< 	private void stopExtensionTracking() {
< 		if (extensionTracker != null) {
< 			extensionTracker.unregisterHandler(extensionListener);
< 			extensionTracker = null;
< 			extensionListener = null;
< 		}
< 	}
< 
< 	public void shutdown() {
< 		stopExtensionTracking();
< 	}
< 
932,932c895,895
< 	private synchronized void load(IConfigurationElement[] configs) {
---
> 	private void load(IConfigurationElement[] configs) {
