16a17,18
> import org.eclipse.emf.transaction.TransactionalEditingDomain;
> import org.eclipse.emf.transaction.util.TransactionUtil;
66a69,69
> 	protected boolean prepare() {
67,67d68
< 	public boolean canExecute() {
70a73,76
> 		TransactionalEditingDomain domain = TransactionUtil.getEditingDomain(getParent());
> 		if (domain == null || domain.isReadOnly(getParent().eResource())) {
> 			return false;
> 		}
