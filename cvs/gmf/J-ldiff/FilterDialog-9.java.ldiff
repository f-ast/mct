20a21,21
> import org.eclipse.emf.transaction.TransactionalEditingDomain;
32,32c33,33
< import org.eclipse.gmf.runtime.emf.commands.core.command.CompositeModelCommand;
---
> import org.eclipse.gmf.runtime.emf.commands.core.command.CompositeTransactionalCommand;
438a440,441
>         TransactionalEditingDomain editingDomain = null;
>         List childCommands = new ArrayList();
438a465,466
>         
>         CompositeTransactionalCommand cc = new CompositeTransactionalCommand(editingDomain, 
439,439d464
< 		CompositeModelCommand cc = new CompositeModelCommand(
440a468,468
>         
440,440c467,467
< 			DiagramUIMessages.Command_SortFilterCommand);		
---
>             DiagramUIMessages.Command_SortFilterCommand, childCommands);   
443a445,449
>             
>             if (editingDomain == null) {
>                 editingDomain = ep.getEditingDomain();
>             }
>             
451,451c457,457
< 						cc.compose(new CommandProxy(editPart
---
>                         childCommands.add(new CommandProxy(editPart
453,453c459,459
< 						cc.compose(new CommandProxy(editPart
---
>                         childCommands.add(new CommandProxy(editPart
