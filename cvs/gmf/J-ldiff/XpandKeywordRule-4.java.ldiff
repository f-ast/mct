17,19d16
< import java.util.ArrayList;
< import java.util.List;
< 
30,30c27,27
<     private IToken token;
---
>     private final IToken token;
32,32c29,29
<     private String[] keywords;
---
>     private final String[] keywords;
34,35d46
<     private String[] getKeywords(final String prefix) {
<         final List<String> result = new ArrayList<String>();
36,36c47,47
<         for (final String w : keywords) {
---
>         for (final String w : keywords) {
37a49,49
> 				return true;
37,37c48,48
<             if (w.startsWith(prefix)) {
---
>             if (w.startsWith(prefix)) {
38,38d48
< 				result.add(w);
39,39c50,50
< 			}
---
> 			}
40a52,52
>         return false;
40,40c51,51
<         }
---
>         }
41,41d51
<         return  result.toArray(new String[result.size()]);
54,56d30
<     /**
<      * 
<      */
57,57c31,31
<     public XpandKeywordRule(final IToken token, final String[] keywords) {
---
>     public XpandKeywordRule(final IToken token, final String[] keywords) {
58,58c32,32
<         this.token = token;
---
>         this.token = token;
59,59c33,33
<         this.keywords = keywords;
---
>         this.keywords = keywords;
60,65d33
<     }
< 
<     /**
<      * @param prefix
<      * @return
<      */
67,68d46
<         final String[] currentWords = getKeywords(prefix.toString());
<         return (currentWords != null) && (currentWords.length > 0);
72,72c56,56
<         final StringBuffer buff = new StringBuffer();
---
>         final StringBuilder buff = new StringBuilder();
