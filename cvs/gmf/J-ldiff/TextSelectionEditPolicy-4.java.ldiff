2,2c2,2
<  * Copyright (c) 2002, 2003 IBM Corporation and others.
---
>  * Copyright (c) 2002, 2007 IBM Corporation and others.
13a44,44
>     }
14,14d43
< 
16,16d14
< 
17,17c15,15
< import org.eclipse.gmf.runtime.draw2d.ui.figures.WrapLabel;
---
> import org.eclipse.gmf.runtime.diagram.ui.label.ILabelDelegate;
20,20c18,18
<  * A non-resizable editpolicy for text compartments. It handles the
---
>  * A non-resizable editpolicy for text compartments. It handles the selection
21,21c19,19
<  * selection and focus feedback of text compartments.
---
>  * and focus feedback of text compartments.
28a27,34
>     /**
>      * Gets the label delegate that is used to interact with the label figure
>      * inside the host editpart.
>      * 
>      * @return the label delegate
>      */
>     private ILabelDelegate getLabel() {
>         return (ILabelDelegate) getHost().getAdapter(ILabelDelegate.class);
29,30d26
< 	private WrapLabel getLabel() {
< 		return (WrapLabel) getHostFigure();
36a41,41
>         if (getLabel() != null) {
43a50,50
>         if (getLabel() != null) {
45a53,53
>         }
52a61,61
>         if (getLabel() != null) {
54a64,64
>     }
59a70,70
>         if (getLabel() != null) {
62a74,74
>     }
67a80,80
>         if (getLabel() != null) {
71a85,85
> }
