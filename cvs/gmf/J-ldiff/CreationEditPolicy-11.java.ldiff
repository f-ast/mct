43,43c39,39
< import org.eclipse.gmf.runtime.diagram.ui.commands.CommandProxy;
---
> import org.eclipse.gmf.runtime.diagram.ui.commands.CommandProxy;
58,58d57
< import org.eclipse.gmf.runtime.notation.Diagram;
275,279d273
< 			EObject hostElement;
< 			if (view instanceof Diagram){
< 				hostElement = view.getDiagram();
< 			}
< 			else{
280,280c274,274
< 				hostElement = ViewUtil.resolveSemanticElement(view);
---
> 			EObject hostElement = ViewUtil.resolveSemanticElement(view);
280a275,277
> 			
> 			if (hostElement == null && view.getElement() == null) {
> 				hostElement = view;
