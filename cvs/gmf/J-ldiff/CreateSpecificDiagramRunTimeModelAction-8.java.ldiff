9,9d8
< import org.eclipse.emf.codegen.ecore.genmodel.GenModelFactory;
15a15,15
> import org.eclipse.gmf.internal.bridge.genmodel.DummyGenModel;
27a28,28
> 
33a35,35
> 	@SuppressWarnings("unchecked")
44a47,47
> 		// Resource drtGenModelRes =
45,45c48,48
< //		Resource drtGenModelRes = resSet.createResource(getDestGenModelURI());
---
> 		// resSet.createResource(getDestGenModelURI());
78a82,82
> 	@SuppressWarnings("unchecked")
79,81d81
< 	/**
< 	 * @see org.eclipse.emf.codegen.ecore.Generator#run(java.lang.Object) (-ecore2GenModel key)
< 	 */
82a84,84
> 		GenModel genModel = new DummyGenModel(model, null).create();
83,83d83
<           GenModel genModel = GenModelFactory.eINSTANCE.createGenModel();
85,89d86
<           genModel.initialize(Collections.singleton(model));
<           GenPackage genPackage = (GenPackage)genModel.getGenPackages().get(0);
<           genModel.setModelName(model.eResource().getURI().lastSegment());
<           genModel.setModelPluginID(model.eResource().getURI().lastSegment());
<           genModel.setModelDirectory("/" + model.eResource().getURI().lastSegment() + "/src/");
90,90c87,87
< 
---
> 
90a88,88
> 		GenPackage genPackage = (GenPackage)genModel.getGenPackages().get(0);
92,92d86
<           // need different prefix to avoid name collisions with code generated for domain model
