2,2c2,2
<  * Copyright (c) 2004 IBM Corporation and others.
---
>  * Copyright (c) 2004, 2006 IBM Corporation and others.
14,14d13
< import java.util.Collection;
17a17,17
> import org.eclipse.core.commands.ExecutionException;
108,108c108,108
< 		super(DiagramUIMessages.CreateCommand_Label);
---
> 		super(DiagramUIMessages.CreateCommand_Label, null);
120a121,121
>     public List getAffectedFiles() {
121,124d120
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.ICommand#getAffectedObjects()
< 	 */
< 	public Collection getAffectedObjects() {
131a129,129
> 
132,132c130,130
< 		return super.getAffectedObjects();
---
>         return super.getAffectedFiles();
162,162d159
< 	 * @see org.eclipse.gmf.runtime.common.core.command.AbstractCommand#doExecute(org.eclipse.core.runtime.IProgressMonitor)
164a162,164
>             IProgressMonitor progressMonitor, IAdaptable info)
>         throws ExecutionException {
>         
164,164c161,161
< 	protected CommandResult doExecute(IProgressMonitor progressMonitor) {
---
>     protected CommandResult doExecuteWithResult(
174,174c174,174
< 				return newErrorCommandResult(getLabel());
---
> 				return CommandResult.newErrorCommandResult(getLabel());
203,203c203,203
< 						return newOKCommandResult(getResult());
---
> 						return CommandResult.newOKCommandResult(getResult());
209,209c209,209
< 					cmd.execute(progressMonitor);					
---
> 					cmd.execute(progressMonitor, info);					
211,211c211,211
< 						return newCancelledCommandResult();
---
> 						return CommandResult.newCancelledCommandResult();
217,217c217,217
< 					return newOKCommandResult(getResult());
---
> 					return CommandResult.newOKCommandResult(getResult());
222,222c222,222
< 		return newErrorCommandResult(getLabel());
---
> 		return CommandResult.newErrorCommandResult(getLabel());
224a225,225
>     public boolean canUndo() {
225,228d224
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.ICommand#isUndoable()
< 	 */
< 	public boolean isUndoable() {
231a229,229
>     public boolean canRedo() {
232,235d228
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.ICommand#isRedoable()
< 	 */
< 	public boolean isRedoable() {
238a233,236
>     
>     protected CommandResult doRedoWithResult(IProgressMonitor progressMonitor, IAdaptable info)
>         throws ExecutionException {
>         
239,242d232
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.AbstractCommand#doRedo()
< 	 */
< 	protected CommandResult doRedo() {
246,246c240,240
< 		return newOKCommandResult();
---
>         return CommandResult.newOKCommandResult();
248a243,245
>     protected CommandResult doUndoWithResult(IProgressMonitor progressMonitor, IAdaptable info)
>         throws ExecutionException {
> 
249,252d242
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.AbstractCommand#doUndo()
< 	 */
< 	protected CommandResult doUndo() {
256,256c249,249
< 		return newOKCommandResult();
---
>         return CommandResult.newOKCommandResult();
