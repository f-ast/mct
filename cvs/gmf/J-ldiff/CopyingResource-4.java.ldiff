259,259c259,259
< 		EObject eObj = (EObject) xmlResource.getIDToEObjectMap().get(id);
---
> 		EObject eObj = xmlResource.getEObject(id);
318a319,323
> 		for (Iterator iter = xmlResource.getAllContents(); iter.hasNext(); ) {
> 			EObject eObject = (EObject)iter.next();
> 			getEObjectToIDMap().put(eObject, EObjectUtil.getID(eObject));
> 			getIDToEObjectMap().put(EObjectUtil.getID(eObject), eObject);
> 		}
319,320d318
< 		getEObjectToIDMap().putAll(xmlResource.getEObjectToIDMap());
< 		getIDToEObjectMap().putAll(xmlResource.getIDToEObjectMap());
