64,64c67,67
< 	protected ElementInfo createElementInfo(Object element) throws org.eclipse.core.runtime.CoreException, CoreException {
---
> 	protected ElementInfo createElementInfo(Object element) throws CoreException {
93,93c96,96
< 	 * Sets up the given document as it would be provided for the given element.
---
> 	 * Sets up the given document as it would be provided for the given element. The
94,94c97,97
< 	 * The content of the document is not changed. This default implementation
---
> 	 * content of the document is not changed. This default implementation is empty.
95,95c98,98
< 	 * is empty. Subclasses may reimplement.
---
> 	 * Subclasses may reimplement.
97,97d99
< 	 * @param element
98,98c100,100
< 	 *            the blue-print element
---
> 	 * @param element the blue-print element
99,99d100
< 	 * @param document
100,100c101,101
< 	 *            the document to set up
---
> 	 * @param document the document to set up
134a136,140
> 	/**
> 	 * @generated
> 	 */
> 	private TransactionalEditingDomain createEditingDomain() {
> 		TransactionalEditingDomain editingDomain = DiagramEditingDomainFactory.getInstance().createEditingDomain();
135,135c44,44
< 	private org.eclipse.emf.transaction.TransactionalEditingDomain createEditingDomain() {
---
> import org.eclipse.gmf.runtime.diagram.core.DiagramEditingDomainFactory;
136,136d44
< 		org.eclipse.emf.transaction.TransactionalEditingDomain editingDomain = org.eclipse.gmf.runtime.diagram.core.DiagramEditingDomainFactory.getInstance().createEditingDomain();
137a142,143
> 		final NotificationFilter diagramResourceModifiedFilter = NotificationFilter.createNotifierFilter(editingDomain.getResourceSet())
> 				.and(NotificationFilter.createEventTypeFilter(Notification.ADD)).and(NotificationFilter.createFeatureFilter(ResourceSet.class, ResourceSet.RESOURCE_SET__RESOURCES));
138,141d141
< 		final org.eclipse.emf.transaction.NotificationFilter diagramResourceModifiedFilter = org.eclipse.emf.transaction.NotificationFilter.createNotifierFilter(editingDomain.getResourceSet()).and(
< 				org.eclipse.emf.transaction.NotificationFilter.createEventTypeFilter(org.eclipse.emf.common.notify.Notification.ADD)).and(
< 				org.eclipse.emf.transaction.NotificationFilter
< 						.createFeatureFilter(org.eclipse.emf.ecore.resource.ResourceSet.class, org.eclipse.emf.ecore.resource.ResourceSet.RESOURCE_SET__RESOURCES));
142,142c144,144
< 		editingDomain.getResourceSet().eAdapters().add(new org.eclipse.emf.common.notify.Adapter() {
---
> 		editingDomain.getResourceSet().eAdapters().add(new Adapter() {
143a146,146
> 			private Notifier myTarger;
144,144c34,34
< 			private org.eclipse.emf.common.notify.Notifier myTarger;
---
> import org.eclipse.emf.common.notify.Notifier;
145a148,148
> 			public Notifier getTarget() {
146,146c32,32
< 			public org.eclipse.emf.common.notify.Notifier getTarget() {
---
> import org.eclipse.emf.common.notify.Adapter;
154,154c156,156
< 			public void notifyChanged(org.eclipse.emf.common.notify.Notification notification) {
---
> 			public void notifyChanged(Notification notification) {
156a159,159
> 					if (value instanceof Resource) {
157,157d158
< 					if (value instanceof org.eclipse.emf.ecore.resource.Resource) {
158,158c160,160
< 						((org.eclipse.emf.ecore.resource.Resource) value).setTrackingModification(true);
---
> 						((Resource) value).setTrackingModification(true);
163,163c165,165
< 			public void setTarget(org.eclipse.emf.common.notify.Notifier newTarget) {
---
> 			public void setTarget(Notifier newTarget) {
194,194c196,196
< 						// options.put(org.eclipse.emf.ecore.xmi.XMLResource.OPTION_RECORD_UNKNOWN_FEATURE,
---
> 						// options.put(org.eclipse.emf.ecore.xmi.XMLResource.OPTION_RECORD_UNKNOWN_FEATURE, Boolean.TRUE);
195,195d196
< 						// Boolean.TRUE);
284,284c285,285
< 	protected void doValidateState(Object element, Object computationContext) throws org.eclipse.core.runtime.CoreException, CoreException {
---
> 	protected void doValidateState(Object element, Object computationContext) throws CoreException {
622,622c628,628
< 		private IDiagramDocument myDocument;
---
> 		private IDiagramDocument myDocument;
627,627c623,623
< 		private Collection myUnSynchronizedResources = new ArrayList();
---
> 		private Collection myUnSynchronizedResources = new ArrayList();
891,891c892,892
< 			if (myModifiedFilter.matches(notification)) {
---
> 			if (!notification.isTouch() && myModifiedFilter.matches(notification)) {
