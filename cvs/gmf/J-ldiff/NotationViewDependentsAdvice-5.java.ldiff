2,2c2,2
<  * Copyright (c) 2006 IBM Corporation and others.
---
>  * Copyright (c) 2006, 2007 IBM Corporation and others.
26a27,29
> import org.eclipse.gmf.runtime.diagram.core.commands.UngroupCommand;
> import org.eclipse.gmf.runtime.diagram.core.commands.UpdateGroupLocationCommand;
> import org.eclipse.gmf.runtime.diagram.core.util.ViewType;
84a88,109
> 		
> 		// handle deletion of groups
>         if (destructee instanceof Node) {
>             EObject parent = ((Node) destructee).eContainer();
>             if (parent instanceof Node
>                 && ViewType.GROUP.equals(((Node) parent).getType())) {
>                 if (((Node) parent).getChildren().size() == 2) {
>                     // There will only be one child of the group left after this
>                     // child is destroyed, so remove the group as well.
>                     result = CompositeCommand.compose(result,
>                         new UngroupCommand(request.getEditingDomain(),
>                             (Node) parent));
>                 } else {
>                     // The remaining group's location may require changing after
>                     // the deletion.
>                     result = CompositeCommand.compose(result,
>                         new UpdateGroupLocationCommand(request
>                             .getEditingDomain(), (Node) parent));
>                 }
>             }
>         }
>         
