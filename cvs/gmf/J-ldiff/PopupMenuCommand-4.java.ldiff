15,15c21,21
< import org.eclipse.jface.dialogs.Dialog;
---
> import org.eclipse.jface.dialogs.Dialog;
16,16c22,22
< import org.eclipse.swt.widgets.Shell;
---
> import org.eclipse.swt.widgets.Shell;
17,17d22
< 
65,65c66,66
< 		super(label);
---
> 		super(label, null);
77,77c78,78
< 		super(label);
---
> 		super(label, null);
81a14,15
> import org.eclipse.core.commands.ExecutionException;
> import org.eclipse.core.runtime.IAdaptable;
81a83,85
> 	protected CommandResult doExecuteWithResult(
>             IProgressMonitor progressMonitor, IAdaptable info)
>         throws ExecutionException {
82,85d13
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.AbstractCommand#doExecute(org.eclipse.core.runtime.IProgressMonitor)
< 	 */
< 	protected CommandResult doExecute(IProgressMonitor progressMonitor) {
91,91c91,91
< 				return newCancelledCommandResult();
---
> 				return CommandResult.newCancelledCommandResult();
93,93c93,93
< 			return newOKCommandResult(getPopupMenu().getResult());
---
> 			return CommandResult.newOKCommandResult(getPopupMenu().getResult());
102,102c102,102
< 				return newCancelledCommandResult();
---
> 				return CommandResult.newCancelledCommandResult();
104,104c104,104
< 			return newOKCommandResult(getPopupDialog().getResult()[0]);
---
> 			return CommandResult.newOKCommandResult(getPopupDialog().getResult()[0]);
107,107c107,107
< 		return newOKCommandResult();
---
> 		return CommandResult.newOKCommandResult();
109a110,114
>     
>     protected CommandResult doRedoWithResult(IProgressMonitor progressMonitor, IAdaptable info)
>         throws ExecutionException {
> 
> 		return CommandResult.newOKCommandResult();
110,114d109
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.AbstractCommand#doRedo()
< 	 */
< 	protected CommandResult doRedo() {
< 		return newOKCommandResult();
117a118,122
>     
>     protected CommandResult doUndoWithResult(IProgressMonitor progressMonitor, IAdaptable info)
>         throws ExecutionException {
> 
> 		return CommandResult.newOKCommandResult();
118,122d117
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.AbstractCommand#doUndo()
< 	 */
< 	protected CommandResult doUndo() {
< 		return newOKCommandResult();
124a125,125
>     public boolean canRedo() {
125,128d124
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.ICommand#isRedoable()
< 	 */
< 	public boolean isRedoable() {
131a129,129
>     public boolean canUndo() {
132,135d128
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.ICommand#isUndoable()
< 	 */
< 	public boolean isUndoable() {
