20a21,21
> import org.eclipse.emf.ecore.EPackage;
73,73c74,74
< 	public TypePattern resolve(EClass type) {
---
> 	public TypePattern resolve(EClass type, EPackage domainPackage) {
77,77c78,78
< 		EReference[] containments = getContainments(type);
---
> 		EReference[] containments = getContainments(type, domainPackage);
143,143c144,144
< 	protected EReference[] getContainments(EClass type) {
---
> 	protected EReference[] getContainments(EClass type, EPackage domainPackage) {
145,145c146,146
< 		for (Iterator it = type.getEPackage().eAllContents(); it.hasNext();) {
---
> 		for (Iterator it = domainPackage.eAllContents(); it.hasNext();) {
