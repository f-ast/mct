14a15,15
> import java.util.Iterator;
22a24,24
> import org.eclipse.gmf.runtime.common.core.command.CompositeCommand;
28a31,31
> import org.eclipse.gmf.runtime.diagram.ui.editparts.TopGraphicEditPart;
29a33,33
> import org.eclipse.gmf.runtime.diagram.ui.requests.ChangeChildPropertyValueRequest;
57a163,165
> 			request.getType().equals(RequestConstants.REQ_CHILD_PROPERTY_CHANGE)||
> 			request.getType().equals(RequestConstants.REQ_SHOW_ALL_COMPARTMENTS)) {
> 			
57,57c162,162
< 		if (request.getType().equals(RequestConstants.REQ_PROPERTY_CHANGE)) {
---
> 		if (request.getType().equals(RequestConstants.REQ_PROPERTY_CHANGE) ||
58,60d162
< 
< 			ChangePropertyValueRequest cpvr =
< 				(ChangePropertyValueRequest) request;
62,62d63
< 
63a65,71
> 				View view = ((IGraphicalEditPart) ep).getNotationView();
> 				ChangePropertyValueRequest cpvr =
> 					(ChangePropertyValueRequest) request;
> 				if (request.getType().equals(RequestConstants.REQ_CHILD_PROPERTY_CHANGE)){
> 					view = ViewUtil.getChildBySemanticHint(view,((ChangeChildPropertyValueRequest)cpvr).getNotationViewType());
> 				}
> 				if (view !=null){
64,65d64
< 				View view = (View)((IGraphicalEditPart) ep).getModel();
< 
74a81,104
> 			}
> 		} else if (request.getType().equals(RequestConstants.REQ_SHOW_ALL_COMPARTMENTS)){
> 			EditPart ep = getHost();
> 			if (ep instanceof TopGraphicEditPart) {
> 				TopGraphicEditPart topEP = (TopGraphicEditPart) ep;
> 				List resizableViews = topEP.getResizableNotationViews();
> 				if (resizableViews.isEmpty())
> 					return null;
> 				ChangePropertyValueRequest cpvr =
> 					(ChangePropertyValueRequest) request;
> 				CompositeCommand compositeCommand = 
> 					new CompositeCommand(cpvr.getPropertyName());
> 				for (Iterator iter = resizableViews.iterator(); iter.hasNext();) {
> 					View childView = (View) iter.next();
> 					if (ViewUtil.isPropertySupported(childView,cpvr.getPropertyID())) {
> 						compositeCommand.compose(new SetPropertyCommand(
> 								new EObjectAdapter(childView),
> 								cpvr.getPropertyID(),
> 								cpvr.getPropertyName(),
> 								((ChangePropertyValueRequest) request).getValue()));
> 					}
> 				}
> 				return new EtoolsProxyCommand(compositeCommand);
> 			}
115a62,62
> 			request.getType().equals(RequestConstants.REQ_CHILD_PROPERTY_CHANGE)) {
115,115c61,61
< 		if (request.getType().equals(RequestConstants.REQ_PROPERTY_CHANGE))
---
> 		if (request.getType().equals(RequestConstants.REQ_PROPERTY_CHANGE) || 
117,117d148
< 
131,131c145,145
< 		if (request.getType().equals(RequestConstants.REQ_PROPERTY_CHANGE)) {
---
> 		if (request.getType().equals(RequestConstants.REQ_PROPERTY_CHANGE)||
131a146,147
> 			request.getType().equals(RequestConstants.REQ_CHILD_PROPERTY_CHANGE)||
> 			request.getType().equals(RequestConstants.REQ_SHOW_ALL_COMPARTMENTS))
