212,212d211
< 		// FIXME reuse
213a213,217
> 			EClassifier type = null;
> 			if (!((Collection) obj).isEmpty()) {
> 				// FIXME respect all! elements in the collection, not only the first one
> 				type = getType(((Collection) obj).iterator().next());
> 			}
214a219,219
> 				return collectionTypes.getSetType(type);
215,215d218
< 				return CollectionTypesSupport.SET_OF_OBJECT;
217a222,222
> 				return collectionTypes.getListType(type);
218,218d221
< 				return CollectionTypesSupport.LIST_OF_OBJECT;
219a224,224
> 			return collectionTypes.getCollectionType(type);
220,220d223
< 			return CollectionTypesSupport.COLLECTION_OF_OBJECT;
