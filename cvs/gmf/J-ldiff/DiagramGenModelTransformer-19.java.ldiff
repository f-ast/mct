1114a1115,1121
> 		mainToolBar.getItems().add(createGroupMarker("\"group.file\"")); //$NON-NLS-1$
> 		mainToolBar.getItems().add(createFileToolBar(application.getSharedContributionItems()));
> 		mainToolBar.getItems().add(createGroupMarker("org.eclipse.ui.IWorkbenchActionConstants.MB_ADDITIONS")); //$NON-NLS-1$
> 		mainToolBar.getItems().add(createGroupMarker("\"group.nav\"")); //$NON-NLS-1$
> 		mainToolBar.getItems().add(createGroupMarker("org.eclipse.ui.IWorkbenchActionConstants.GROUP_EDITOR")); //$NON-NLS-1$
> 		mainToolBar.getItems().add(createGroupMarker("org.eclipse.ui.IWorkbenchActionConstants.GROUP_HELP")); //$NON-NLS-1$
> 		mainToolBar.getItems().add(createHelpToolBar(application.getSharedContributionItems()));
1136a1144,1160
> 		GenSharedContributionItem sitem = GMFGenFactory.eINSTANCE.createGenSharedContributionItem();
> 		if (actualItem instanceof GenActionFactoryContributionItem) {
> 			GenActionFactoryContributionItem afActualItem = (GenActionFactoryContributionItem) actualItem;
> 			for (GenContributionItem item : (List<GenContributionItem>) sharedItems) {
> 				if (item instanceof GenActionFactoryContributionItem) {
> 					GenActionFactoryContributionItem afItem = (GenActionFactoryContributionItem) item;
> 					if (afItem.getName().equals(afActualItem.getName())) {
> 						// shared action factory item is already contributed
> 						sitem.setActualItem(afItem);
> 						actualItem = null;
> 						break;
> 					}
> 				}
> 			}
> 		}
> 		if (actualItem != null) {
> 			sitem.setActualItem(actualItem);
1137,1138d1143
< 		GenSharedContributionItem item = GMFGenFactory.eINSTANCE.createGenSharedContributionItem();
< 		item.setActualItem(actualItem);
1139a1162,1162
> 		}
1140,1140c1163,1163
< 		return item;
---
> 		return sitem;
1209a1233,1254
> 
> 	private GenToolBarManager createFileToolBar(List sharedItems) {
> 		GenToolBarManager toolBar = GMFGenFactory.eINSTANCE.createGenToolBarManager();
> 		toolBar.setID("org.eclipse.ui.IWorkbenchActionConstants.TOOLBAR_FILE"); //$NON-NLS-1$
> 		toolBar.getItems().add(createSeparator("org.eclipse.ui.IWorkbenchActionConstants.NEW_GROUP")); //$NON-NLS-1$
> 		toolBar.getItems().add(createGroupMarker("org.eclipse.ui.IWorkbenchActionConstants.NEW_EXT")); //$NON-NLS-1$
> 		toolBar.getItems().add(createGroupMarker("org.eclipse.ui.IWorkbenchActionConstants.SAVE_GROUP")); //$NON-NLS-1$
> 		toolBar.getItems().add(createSharedItem(sharedItems, createActionFactoryItem("SAVE"))); //$NON-NLS-1$
> 		toolBar.getItems().add(createGroupMarker("org.eclipse.ui.IWorkbenchActionConstants.SAVE_EXT")); //$NON-NLS-1$
> 		toolBar.getItems().add(createSharedItem(sharedItems, createActionFactoryItem("PRINT"))); //$NON-NLS-1$
> 		toolBar.getItems().add(createGroupMarker("org.eclipse.ui.IWorkbenchActionConstants.PRINT_EXT")); //$NON-NLS-1$
> 		toolBar.getItems().add(createSeparator("org.eclipse.ui.IWorkbenchActionConstants.MB_ADDITIONS")); //$NON-NLS-1$
> 		return toolBar;
> 	}
> 
> 	private GenToolBarManager createHelpToolBar(List sharedItems) {
> 		GenToolBarManager toolBar = GMFGenFactory.eINSTANCE.createGenToolBarManager();
> 		toolBar.setID("org.eclipse.ui.IWorkbenchActionConstants.TOOLBAR_HELP"); //$NON-NLS-1$
> 		toolBar.getItems().add(createSeparator("org.eclipse.ui.IWorkbenchActionConstants.GROUP_HELP")); //$NON-NLS-1$
> 		toolBar.getItems().add(createGroupMarker("org.eclipse.ui.IWorkbenchActionConstants.GROUP_APP")); //$NON-NLS-1$
> 		return toolBar;
> 	}
