17a18,19
> import org.eclipse.emf.transaction.RunnableWithResult;
> import org.eclipse.emf.transaction.TransactionalEditingDomain;
18a21,24
> import org.eclipse.gmf.runtime.common.core.util.Log;
> import org.eclipse.gmf.runtime.common.core.util.Trace;
> import org.eclipse.gmf.runtime.diagram.ui.actions.internal.DiagramActionsDebugOptions;
> import org.eclipse.gmf.runtime.diagram.ui.actions.internal.DiagramActionsPlugin;
19,19c25,25
< import org.eclipse.gmf.runtime.diagram.core.internal.util.MEditingDomainGetter;
---
> import org.eclipse.gmf.runtime.diagram.ui.actions.internal.DiagramActionsStatusCodes;
22,23d27
< import org.eclipse.gmf.runtime.emf.core.edit.MEditingDomain;
< import org.eclipse.gmf.runtime.emf.core.edit.MRunnable;
24,24c28,28
< import org.eclipse.gmf.runtime.emf.core.util.MetaModelUtil;
---
> import org.eclipse.gmf.runtime.emf.core.util.PackageUtil;
26,26d29
< import org.eclipse.gmf.runtime.notation.View;
54,54c57,57
< 			MetaModelUtil.getID(NotationPackage.eINSTANCE.getView_Visible()),
---
> 			PackageUtil.getID(NotationPackage.eINSTANCE.getView_Visible()),
69a73,73
> 			TransactionalEditingDomain editingDomain = conEP.getEditingDomain();
70,71d72
< 			MEditingDomain editingDomain = MEditingDomainGetter
< 				.getMEditingDomain((View) editpart.getModel());
74,74d75
< 				targetEP = (EditPart) editingDomain.runAsRead(new MRunnable() {
75a77,82
> 				try {
> 					targetEP = (EditPart) editingDomain
> 						.runExclusive(new RunnableWithResult.Impl() {
> 
> 							public void run() {
> 								setResult(conEP
76,77d76
< 					public Object run() {
< 						return conEP
78,78c83,83
< 							.getChildBySemanticHint(getLabelSemanticHints()[index]);
---
> 									.getChildBySemanticHint(getLabelSemanticHints()[index]));
80a86,94
> 				} catch (InterruptedException e) {
> 					Trace.catching(DiagramActionsPlugin.getInstance(),
> 						DiagramActionsDebugOptions.EXCEPTIONS_CATCHING,
> 						getClass(), "getTargetEditParts", e); //$NON-NLS-1$
> 					Log.error(DiagramActionsPlugin.getInstance(),
> 						DiagramActionsStatusCodes.IGNORED_EXCEPTION_WARNING,
> 						"getTargetEditParts", e); //$NON-NLS-1$
> 				}
> 				
