10,10d9
< import org.eclipse.emf.common.notify.NotificationChain;
34,34c33,33
< 	 * The cached value of the '{@link #getSourceDecoration() <em>Source Decoration</em>}' containment reference.
---
> 	 * The cached value of the '{@link #getSourceDecoration() <em>Source Decoration</em>}' reference.
44,44c43,43
< 	 * The cached value of the '{@link #getTargetDecoration() <em>Target Decoration</em>}' containment reference.
---
> 	 * The cached value of the '{@link #getTargetDecoration() <em>Target Decoration</em>}' reference.
84a92,93
> 	public DecorationFigure basicGetSourceDecoration() {
> 		return sourceDecoration;
85,85d101
< 	public NotificationChain basicSetSourceDecoration(DecorationFigure newSourceDecoration, NotificationChain msgs) {
86,86c102,102
< 		DecorationFigure oldSourceDecoration = sourceDecoration;
---
> 		DecorationFigure oldSourceDecoration = sourceDecoration;
87,87c103,103
< 		sourceDecoration = newSourceDecoration;
---
> 		sourceDecoration = newSourceDecoration;
88,88c104,104
< 		if (eNotificationRequired()) {
---
> 		if (eNotificationRequired())
89,89c105,105
< 			ENotificationImpl notification = new ENotificationImpl(this, Notification.SET, GMFGraphPackage.POLYLINE_CONNECTION__SOURCE_DECORATION, oldSourceDecoration, newSourceDecoration);
---
> 			eNotify(new ENotificationImpl(this, Notification.SET, GMFGraphPackage.POLYLINE_CONNECTION__SOURCE_DECORATION, oldSourceDecoration, sourceDecoration));
90,92d105
< 			if (msgs == null) msgs = notification; else msgs.add(notification);
< 		}
< 		return msgs;
100a76,82
> 		if (sourceDecoration != null && sourceDecoration.eIsProxy()) {
> 			InternalEObject oldSourceDecoration = (InternalEObject)sourceDecoration;
> 			sourceDecoration = (DecorationFigure)eResolveProxy(oldSourceDecoration);
> 			if (sourceDecoration != oldSourceDecoration) {
> 				if (eNotificationRequired())
> 					eNotify(new ENotificationImpl(this, Notification.RESOLVE, GMFGraphPackage.POLYLINE_CONNECTION__SOURCE_DECORATION, oldSourceDecoration, sourceDecoration));
> 			}
101,108d75
< 		if (newSourceDecoration != sourceDecoration) {
< 			NotificationChain msgs = null;
< 			if (sourceDecoration != null)
< 				msgs = ((InternalEObject)sourceDecoration).eInverseRemove(this, EOPPOSITE_FEATURE_BASE - GMFGraphPackage.POLYLINE_CONNECTION__SOURCE_DECORATION, null, msgs);
< 			if (newSourceDecoration != null)
< 				msgs = ((InternalEObject)newSourceDecoration).eInverseAdd(this, EOPPOSITE_FEATURE_BASE - GMFGraphPackage.POLYLINE_CONNECTION__SOURCE_DECORATION, null, msgs);
< 			msgs = basicSetSourceDecoration(newSourceDecoration, msgs);
< 			if (msgs != null) msgs.dispatch();
109,109c83,83
< 		}
---
> 		}
110,111d83
< 		else if (eNotificationRequired())
< 			eNotify(new ENotificationImpl(this, Notification.SET, GMFGraphPackage.POLYLINE_CONNECTION__SOURCE_DECORATION, newSourceDecoration, newSourceDecoration));
120,120c122,122
< 		return targetDecoration;
---
> 		return targetDecoration;
121a114,117
> 		if (targetDecoration != null && targetDecoration.eIsProxy()) {
> 			InternalEObject oldTargetDecoration = (InternalEObject)targetDecoration;
> 			targetDecoration = (DecorationFigure)eResolveProxy(oldTargetDecoration);
> 			if (targetDecoration != oldTargetDecoration) {
122,130d113
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
< 	public NotificationChain basicSetTargetDecoration(DecorationFigure newTargetDecoration, NotificationChain msgs) {
< 		DecorationFigure oldTargetDecoration = targetDecoration;
< 		targetDecoration = newTargetDecoration;
131,131c118,118
< 		if (eNotificationRequired()) {
---
> 				if (eNotificationRequired())
132,132c119,119
< 			ENotificationImpl notification = new ENotificationImpl(this, Notification.SET, GMFGraphPackage.POLYLINE_CONNECTION__TARGET_DECORATION, oldTargetDecoration, newTargetDecoration);
---
> 					eNotify(new ENotificationImpl(this, Notification.RESOLVE, GMFGraphPackage.POLYLINE_CONNECTION__TARGET_DECORATION, oldTargetDecoration, targetDecoration));
133,133d119
< 			if (msgs == null) msgs = notification; else msgs.add(notification);
135,135d121
< 		return msgs;
142a130,131
> 	public DecorationFigure basicGetTargetDecoration() {
> 		return targetDecoration;
143,143c139,139
< 	public void setTargetDecoration(DecorationFigure newTargetDecoration) {
---
> 	public void setTargetDecoration(DecorationFigure newTargetDecoration) {
143a140,142
> 		DecorationFigure oldTargetDecoration = targetDecoration;
> 		targetDecoration = newTargetDecoration;
> 		if (eNotificationRequired())
144,153d139
< 		if (newTargetDecoration != targetDecoration) {
< 			NotificationChain msgs = null;
< 			if (targetDecoration != null)
< 				msgs = ((InternalEObject)targetDecoration).eInverseRemove(this, EOPPOSITE_FEATURE_BASE - GMFGraphPackage.POLYLINE_CONNECTION__TARGET_DECORATION, null, msgs);
< 			if (newTargetDecoration != null)
< 				msgs = ((InternalEObject)newTargetDecoration).eInverseAdd(this, EOPPOSITE_FEATURE_BASE - GMFGraphPackage.POLYLINE_CONNECTION__TARGET_DECORATION, null, msgs);
< 			msgs = basicSetTargetDecoration(newTargetDecoration, msgs);
< 			if (msgs != null) msgs.dispatch();
< 		}
< 		else if (eNotificationRequired())
154,154c143,143
< 			eNotify(new ENotificationImpl(this, Notification.SET, GMFGraphPackage.POLYLINE_CONNECTION__TARGET_DECORATION, newTargetDecoration, newTargetDecoration));
---
> 			eNotify(new ENotificationImpl(this, Notification.SET, GMFGraphPackage.POLYLINE_CONNECTION__TARGET_DECORATION, oldTargetDecoration, targetDecoration));
162,169d138
< 	public NotificationChain eInverseRemove(InternalEObject otherEnd, int featureID, NotificationChain msgs) {
< 		switch (featureID) {
< 			case GMFGraphPackage.POLYLINE_CONNECTION__SOURCE_DECORATION:
< 				return basicSetSourceDecoration(null, msgs);
< 			case GMFGraphPackage.POLYLINE_CONNECTION__TARGET_DECORATION:
< 				return basicSetTargetDecoration(null, msgs);
< 		}
< 		return super.eInverseRemove(otherEnd, featureID, msgs);
179a154,154
> 				if (resolve) return getSourceDecoration();
180,180c155,155
< 				return getSourceDecoration();
---
> 				return basicGetSourceDecoration();
181a157,157
> 				if (resolve) return getTargetDecoration();
182,182c158,158
< 				return getTargetDecoration();
---
> 				return basicGetTargetDecoration();
