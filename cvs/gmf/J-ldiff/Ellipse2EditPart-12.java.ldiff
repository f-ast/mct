49a50,50
> import org.eclipse.gmf.gmfgraph.XYLayout;
282,282c283,283
< 							if (modelElement.getLayoutData() instanceof XYLayoutData) {
---
> 							if (modelElement.getLayoutData() instanceof XYLayoutData || (modelElement.getParent() != null && modelElement.getParent().getLayout() instanceof XYLayout)) {
283a285,294
> 								if (xyLayoutData == null) {
> 									xyLayoutData = GMFGraphFactory.eINSTANCE.createXYLayoutData();
> 									modelElement.setLayoutData(xyLayoutData);
> 									xyLayoutData.setTopLeft(GMFGraphFactory.eINSTANCE.createPoint());
> 									xyLayoutData.getTopLeft().setX(0);
> 									xyLayoutData.getTopLeft().setY(0);
> 									xyLayoutData.setSize(GMFGraphFactory.eINSTANCE.createDimension());
> 									xyLayoutData.getSize().setDx(40);
> 									xyLayoutData.getSize().setDy(40);
> 								}
459,459c470,470
< 		return new XYLayoutEditPolicy() {
---
> 		XYLayoutEditPolicy lep = new XYLayoutEditPolicy() {
482a494,494
> 		return lep;
