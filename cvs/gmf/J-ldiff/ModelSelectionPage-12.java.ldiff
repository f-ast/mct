21a22,22
> import org.eclipse.emf.ecore.resource.ResourceSet;
60a62,63
> 	private ResourceSet resourceSet;
> 
65,65c68,68
< 	public ModelSelectionPage(String pageId, ResourceLocationProvider rloc) {
---
> 	public ModelSelectionPage(String pageId, ResourceLocationProvider rloc, ResourceSet resourceSet) {
67a71,78
> 		this.resourceSet = resourceSet;
> 	}
> 
> 	protected ResourceSet getResourceSet() {
> 		if (resourceSet == null) {
> 			resourceSet = new ResourceSetImpl();
> 		}
> 		return resourceSet;
317,317c328,328
< 		Resource resource = new ResourceSetImpl().createResource(uri);
---
> 		Resource resource = getResourceSet().createResource(uri);
332a344,346
> 		if (this.resource != null && this.resource.isLoaded()) {
> 			this.resource.unload();
> 		}
