26a27,27
> import org.eclipse.gmf.mappings.LabelNodeMapping;
28a30,30
> import org.eclipse.gmf.mappings.ShapeNodeMapping;
165a168,168
>                 if (mapping instanceof ShapeNodeMapping && ((ShapeNodeMapping) mapping).getDiagramNode() != null) { 
166,166d167
<                 if (mapping.getDiagramNode() != null) { 
167a170,171
>                 } else if (mapping instanceof LabelNodeMapping && ((LabelNodeMapping) mapping).getDiagramLabel() != null) { 
>                     result += ((LabelNodeMapping) mapping).getDiagramLabel().getName(); 
167,167c169,169
<                     result += reference.getChild().getDiagramNode().getName(); 
---
>                     result += ((ShapeNodeMapping) mapping).getDiagramNode().getName(); 
217a222,227
> 				 GMFMapFactory.eINSTANCE.createShapeNodeMapping()));
> 
> 		newChildDescriptors.add
> 			(createChildParameter
> 				(GMFMapPackage.eINSTANCE.getChildReference_OwnedChild(),
> 				 GMFMapFactory.eINSTANCE.createLabelNodeMapping()));
218,218d221
< 				 GMFMapFactory.eINSTANCE.createNodeMapping()));
