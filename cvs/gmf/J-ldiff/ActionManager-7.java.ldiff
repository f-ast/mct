2,2c2,2
<  * Copyright (c) 2002, 2005 IBM Corporation and others.
---
>  * Copyright (c) 2002, 2006 IBM Corporation and others.
19a20,21
> import org.eclipse.core.commands.operations.IOperationHistory;
> import org.eclipse.core.commands.operations.OperationHistoryFactory;
55a58,58
>     private final IOperationHistory operationHistory;
56,59d57
< 	/**
< 	 * The command manager with which this action manager is associated.
< 	 */
< 	private final CommandManager commandManager;
72a72,72
>      * Intializes me with an operation history.
73,73d71
< 	 * Constructs a new action manager for the specified command manager.
74a83,85
>    	/**
> 	 * Constructs a new action manager for the specified command manager.
> 	 * 
74a74,74
>      * @param operationHistory The operation history for this action manager.
75,75c86,86
< 	 * @param commandManager The command manager for this action manager.
---
> 	 * @param commandManager The command manager for this action manager.
75a87,90
>      * @deprecated Use {@link #ActionManager(IOperationHistory)} instead.
> 	 */
> 	public ActionManager(CommandManager commandManager) {
> 		this(OperationHistoryFactory.getOperationHistory());
77,77c76,76
< 	public ActionManager(CommandManager commandManager) {
---
>     public ActionManager(IOperationHistory operationHistory) {
79a79,81
>         assert null != operationHistory;
>         this.operationHistory = operationHistory;
>     }
80,80d78
< 		assert null != commandManager;
82,82d82
< 		this.commandManager = commandManager;
92,92c100,100
< 			actionManager = new ActionManager(CommandManager.getDefault());
---
> 			actionManager = new ActionManager(OperationHistoryFactory.getOperationHistory());
98a107,115
>      * Gets my operation history.
>      * 
>      * @return my operation history
>      */
>     public final IOperationHistory getOperationHistory() {
>         return operationHistory;
>     }
> 
> 	/**
101a119,119
>      * @deprecated Use {@link #getOperationHistory()} instead.
103a122,122
> 		return CommandManager.getDefault();
104,104d121
< 		return commandManager;
