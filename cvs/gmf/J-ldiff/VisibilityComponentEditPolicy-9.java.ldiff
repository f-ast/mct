2,2c2,2
<  * Copyright (c) 2004 IBM Corporation and others.
---
>  * Copyright (c) 2004, 2006 IBM Corporation and others.
15a16,16
> import org.eclipse.emf.transaction.TransactionalEditingDomain;
43a45,45
>         TransactionalEditingDomain editingDomain = ((IGraphicalEditPart) getHost()).getEditingDomain();
45,45c47,47
< 			SetPropertyCommand c = new SetPropertyCommand(
---
> 			SetPropertyCommand c = new SetPropertyCommand(editingDomain,
53,53c55,55
< 				SetPropertyCommand c = new SetPropertyCommand(
---
> 				SetPropertyCommand c = new SetPropertyCommand(editingDomain,
61,61c63,63
< 		return new EtoolsProxyCommand(cc.unwrap());		
---
> 		return new EtoolsProxyCommand(cc.reduce());		
