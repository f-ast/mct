15a16,16
> import org.eclipse.emf.transaction.RunnableWithResult;
16a18,18
> import org.eclipse.gmf.runtime.common.core.util.Log;
17,17c19,19
< import org.eclipse.gmf.runtime.diagram.core.internal.util.MEditingDomainGetter;
---
> import org.eclipse.gmf.runtime.common.core.util.Trace;
18a21,23
> import org.eclipse.gmf.runtime.diagram.ui.actions.internal.DiagramActionsDebugOptions;
> import org.eclipse.gmf.runtime.diagram.ui.actions.internal.DiagramActionsPlugin;
> import org.eclipse.gmf.runtime.diagram.ui.actions.internal.DiagramActionsStatusCodes;
22,22d26
< import org.eclipse.gmf.runtime.emf.core.edit.MRunnable;
23,23c27,27
< import org.eclipse.gmf.runtime.emf.core.util.MetaModelUtil;
---
> import org.eclipse.gmf.runtime.emf.core.util.PackageUtil;
52,52c56,56
< 			MetaModelUtil.getID(NotationPackage.eINSTANCE.getView_Visible()),
---
> 			PackageUtil.getID(NotationPackage.eINSTANCE.getView_Visible()),
83a88,92
> 		
> 		try {
> 			return editPart.getEditingDomain().runExclusive(
> 				new RunnableWithResult.Impl() {
> 
84,84d87
< 		return MEditingDomainGetter.getMEditingDomain((View)editPart.getModel()).runAsRead( new MRunnable() {
85,85c93,93
< 			public Object run() {
---
> 					public void run() {
86a95,95
> 							.getElement(thePropertyId);
86,86c94,94
< 				ENamedElement element = MetaModelUtil.getElement(thePropertyId);
---
> 						ENamedElement element = PackageUtil
89a99,100
> 								View childView = ViewUtil
> 									.getChildBySemanticHint(view,
90,90c101,101
< 						View childView = ViewUtil.getChildBySemanticHint(view,getCompartmentSemanticHint());
---
> 										getCompartmentSemanticHint());
91a103,103
> 									setResult(ViewUtil
92,92c104,104
< 							return ViewUtil.getStructuralFeatureValue(childView,(EStructuralFeature)element);
---
> 										.getStructuralFeatureValue(childView,
92a105,105
> 											(EStructuralFeature) element));
96,96d108
< 				return null;
98a111,119
> 		} catch (InterruptedException e) {
> 			Trace.catching(DiagramActionsPlugin.getInstance(),
> 				DiagramActionsDebugOptions.EXCEPTIONS_CATCHING, getClass(),
> 				"getPropertyValue", e); //$NON-NLS-1$
> 			Log.error(DiagramActionsPlugin.getInstance(),
> 				DiagramActionsStatusCodes.IGNORED_EXCEPTION_WARNING,
> 				"getPropertyValue", e); //$NON-NLS-1$
> 		}
> 		return null;
