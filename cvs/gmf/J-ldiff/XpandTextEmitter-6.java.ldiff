2,2c2,2
<  * Copyright (c) 2007 Borland Software Corporation
---
>  * Copyright (c) 2007, 2008 Borland Software Corporation
16a17,18
> import java.util.List;
> import java.util.Map;
34a37,37
> 	private final List<Variable> myGlobals;
36a40,43
> 		this(manager, templateFQN, context, null);
> 	}
> 
> 	public XpandTextEmitter(ResourceManager manager, String templateFQN, ClassLoader context, Map<String, Object> globals) {
40a48,55
> 		if (globals != null && globals.size() > 0) {
> 			myGlobals = new ArrayList<Variable>(globals.size());
> 			for (Map.Entry<String, Object> e : globals.entrySet()) {
> 				myGlobals.add(new Variable(e.getKey(), e.getValue()));
> 			}
> 		} else {
> 			myGlobals = Collections.<Variable>emptyList();
> 		}
76,76c91,91
< 		return ContextFactory.createXpandContext(myResourceManager, output, Collections.<Variable>emptyList(), myContext);
---
> 		return ContextFactory.createXpandContext(myResourceManager, output, myGlobals, myContext);
