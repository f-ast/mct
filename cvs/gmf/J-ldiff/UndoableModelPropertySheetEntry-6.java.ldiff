17a18,18
> import org.eclipse.core.commands.operations.TriggeredOperations;
124,132d124
<         /*
<         Object newValue = editor.getValue();
<         boolean changed = false;
<         if (editValue == null) {
<             if (newValue != null)
<                 changed = true;
<         } else if (!editValue.equals(newValue))
<             changed = true;
<             */
171a164,165
>                 TriggeredOperations triggerOperation = 
>                     new TriggeredOperations(cc, getOperationHistory());
172,172c166,166
<                 getOperationHistory().execute(cc, new NullProgressMonitor(), null);
---
>                 getOperationHistory().execute(triggerOperation, new NullProgressMonitor(), null);
247a242,243
>                 TriggeredOperations triggerOperation = 
>                     new TriggeredOperations(command, getOperationHistory());
248,248c244,244
<                 getOperationHistory().execute(command, new NullProgressMonitor(), null);
---
>                 getOperationHistory().execute(triggerOperation, new NullProgressMonitor(), null);
