30a31,31
> import org.eclipse.emf.ecore.util.FeatureMapUtil;
402,402c403,403
< 					if (ref.isMany()) {
---
> 					if (FeatureMapUtil.isMany(eObject,ref)) {
532,532c541,541
< 					if (eReference.isMany() == false) {
---
> 					if (FeatureMapUtil.isMany(eObject,eReference)) {
540,540c533,533
< 					if (eReference.isMany()) {
---
> 					if (!FeatureMapUtil.isMany(eObject,eReference)) {
566,566c567,567
< 			if (eReference.isMany() && !eObject.eIsSet(eReference))
---
> 			if (FeatureMapUtil.isMany(eObject, eReference) && !eObject.eIsSet(eReference))
