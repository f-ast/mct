14a15,15
> import org.eclipse.emf.edit.domain.AdapterFactoryEditingDomain;
16,16c25,25
< import org.eclipse.ui.views.properties.IPropertySourceProvider;
---
> import org.eclipse.ui.views.properties.IPropertySourceProvider;
17,17d25
< 
22a17,17
> import org.eclipse.emf.transaction.TransactionalEditingDomain;
23,23c18,18
< import org.eclipse.gmf.runtime.emf.core.internal.util.MSLAdapterFactoryManager;
---
> import org.eclipse.emf.transaction.util.TransactionUtil;
40,40d40
< 		// TODO Auto-generated constructor stub
41a42,42
> 
46a48,52
>         TransactionalEditingDomain editingDomain = TransactionUtil
>             .getEditingDomain(object);
> 
>         if (editingDomain instanceof AdapterFactoryEditingDomain) {
>             return ((AdapterFactoryEditingDomain) editingDomain)
46,46c47,47
< 	protected static AdapterFactory getAdapterFactory() {
---
> 	protected static AdapterFactory getAdapterFactory(Object object) {
47a54,55
>         }
>         return null;
47,47c53,53
< 		return MSLAdapterFactoryManager.getAdapterFactory();
---
>                 .getAdapterFactory();
59a68,71
>             AdapterFactory adapterFactory = getAdapterFactory(object);
>             if (adapterFactory == null) {
>                 return null;
>             }
60,60c72,72
< 			IItemPropertySource itemPropertySource = (IItemPropertySource) (getAdapterFactory()
---
> 			IItemPropertySource itemPropertySource = (IItemPropertySource) (adapterFactory
