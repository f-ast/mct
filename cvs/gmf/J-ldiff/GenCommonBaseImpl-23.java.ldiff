8a9,9
> import java.util.ArrayList;
9a11,12
> import java.util.Iterator;
> import java.util.List;
21,21c24,24
< import org.eclipse.emf.ecore.util.EObjectContainmentEList;
---
> import org.eclipse.emf.ecore.util.EObjectContainmentWithInverseEList;
24,24c27,27
< import org.eclipse.gmf.codegen.gmfgen.CustomBehaviour;
---
> import org.eclipse.gmf.codegen.gmfgen.Behaviour;
28a32,32
> import org.eclipse.gmf.codegen.gmfgen.SharedBehaviour;
46,46c50,50
<  *   <li>{@link org.eclipse.gmf.codegen.gmfgen.impl.GenCommonBaseImpl#getCustomBehaviour <em>Custom Behaviour</em>}</li>
---
>  *   <li>{@link org.eclipse.gmf.codegen.gmfgen.impl.GenCommonBaseImpl#getBehaviour <em>Behaviour</em>}</li>
164,164c168,168
< 	 * The cached value of the '{@link #getCustomBehaviour() <em>Custom Behaviour</em>}' containment reference list.
---
> 	 * The cached value of the '{@link #getBehaviour() <em>Behaviour</em>}' containment reference list.
167,167c171,171
< 	 * @see #getCustomBehaviour()
---
> 	 * @see #getBehaviour()
171,171c175,175
< 	protected EList customBehaviour = null;
---
> 	protected EList behaviour = null;
416,416c420,420
< 	public EList getCustomBehaviour() {
---
> 	public EList getBehaviour() {
417,417c421,421
< 		if (customBehaviour == null) {
---
> 		if (behaviour == null) {
418,418c422,422
< 			customBehaviour = new EObjectContainmentEList(CustomBehaviour.class, this, GMFGenPackage.GEN_COMMON_BASE__CUSTOM_BEHAVIOUR);
---
> 			behaviour = new EObjectContainmentWithInverseEList(Behaviour.class, this, GMFGenPackage.GEN_COMMON_BASE__BEHAVIOUR, GMFGenPackage.BEHAVIOUR__SUBJECT);
420,420c424,424
< 		return customBehaviour;
---
> 		return behaviour;
490a495,496
> 			case GMFGenPackage.GEN_COMMON_BASE__BEHAVIOUR:
> 				return ((InternalEList)getBehaviour()).basicAdd(otherEnd, msgs);
505a512,512
> 			case GMFGenPackage.GEN_COMMON_BASE__BEHAVIOUR:
506,506d511
< 			case GMFGenPackage.GEN_COMMON_BASE__CUSTOM_BEHAVIOUR:
507,507c513,513
< 				return ((InternalEList)getCustomBehaviour()).basicRemove(otherEnd, msgs);
---
> 				return ((InternalEList)getBehaviour()).basicRemove(otherEnd, msgs);
534,534c540,540
< 			case GMFGenPackage.GEN_COMMON_BASE__CUSTOM_BEHAVIOUR:
---
> 			case GMFGenPackage.GEN_COMMON_BASE__BEHAVIOUR:
535,535c541,541
< 				return getCustomBehaviour();
---
> 				return getBehaviour();
567a574,575
> 			case GMFGenPackage.GEN_COMMON_BASE__BEHAVIOUR:
> 				getBehaviour().clear();
568,569d573
< 			case GMFGenPackage.GEN_COMMON_BASE__CUSTOM_BEHAVIOUR:
< 				getCustomBehaviour().clear();
570,570c576,576
< 				getCustomBehaviour().addAll((Collection)newValue);
---
> 				getBehaviour().addAll((Collection)newValue);
604,604c610,610
< 			case GMFGenPackage.GEN_COMMON_BASE__CUSTOM_BEHAVIOUR:
---
> 			case GMFGenPackage.GEN_COMMON_BASE__BEHAVIOUR:
605,605c611,611
< 				getCustomBehaviour().clear();
---
> 				getBehaviour().clear();
632,632c638,638
< 			case GMFGenPackage.GEN_COMMON_BASE__CUSTOM_BEHAVIOUR:
---
> 			case GMFGenPackage.GEN_COMMON_BASE__BEHAVIOUR:
633,633c639,639
< 				return customBehaviour != null && !customBehaviour.isEmpty();
---
> 				return behaviour != null && !behaviour.isEmpty();
697a704,717
> 	@SuppressWarnings("unchecked")
> 	public <T extends Behaviour> List<T> getBehaviour(Class<T> behaviourClass) {
> 		ArrayList<T> rv = new ArrayList<T>(getBehaviour().size());
> 		for (Iterator it = getBehaviour().iterator(); it.hasNext(); ) {
> 			Object next = it.next();
> 			if (next instanceof SharedBehaviour) {
> 				next = ((SharedBehaviour) next).getDelegate();
> 			}
> 			if (behaviourClass.isInstance(next)) {
> 				rv.add((T) next);
> 			}
> 		}
> 		return rv;
> 	}
