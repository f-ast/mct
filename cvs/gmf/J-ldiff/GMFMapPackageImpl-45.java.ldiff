16a17,17
> import org.eclipse.gmf.internal.common.migrate.MigrationConfig;
29a31,31
> import org.eclipse.gmf.mappings.FeatureInitializer;
47a50,50
> import org.eclipse.gmf.mappings.ReferenceNewElementSpec;
52a56,56
> import org.eclipse.gmf.mappings.util.GMFMapMigration;
179a184,190
> 	private EClass featureInitializerEClass = null;
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
186a198,204
> 	private EClass referenceNewElementSpecEClass = null;
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
376a395,395
> 		MigrationConfig.Registry.INSTANCE.register(GMFMapMigration.CONFIG);
968a1033,1034
> 	public EClass getReferenceNewElementSpec() {
> 		return referenceNewElementSpecEClass;
968a1042,1042
> 	public EReference getReferenceNewElementSpec_NewElementInitializers() {
969,969d1041
< 	public EReference getFeatureValueSpec_Feature() {
970,970c1043,1043
< 		return (EReference)featureValueSpecEClass.getEStructuralFeatures().get(0);
---
> 		return (EReference)referenceNewElementSpecEClass.getEStructuralFeatures().get(0);
977a979,1015
> 	public EReference getFeatureSeqInitializer_ElementClass() {
> 		return (EReference)featureSeqInitializerEClass.getEStructuralFeatures().get(1);
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public EReference getFeatureSeqInitializer_CreatingInitializer() {
> 		return (EReference)featureSeqInitializerEClass.getEStructuralFeatures().get(2);
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public EClass getFeatureInitializer() {
> 		return featureInitializerEClass;
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public EReference getFeatureInitializer_Feature() {
> 		return (EReference)featureInitializerEClass.getEStructuralFeatures().get(0);
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public EReference getFeatureInitializer_FeatureSeqInitializer() {
978,978d978
< 	public EReference getFeatureValueSpec_FeatureSeqInitializer() {
979,979c1016,1016
< 		return (EReference)featureValueSpecEClass.getEStructuralFeatures().get(1);
---
> 		return (EReference)featureInitializerEClass.getEStructuralFeatures().get(1);
979a1017,1023
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
1520a1585,1590
> 		createEReference(featureSeqInitializerEClass, FEATURE_SEQ_INITIALIZER__ELEMENT_CLASS);
> 		createEReference(featureSeqInitializerEClass, FEATURE_SEQ_INITIALIZER__CREATING_INITIALIZER);
> 
> 		featureInitializerEClass = createEClass(FEATURE_INITIALIZER);
> 		createEReference(featureInitializerEClass, FEATURE_INITIALIZER__FEATURE);
> 		createEReference(featureInitializerEClass, FEATURE_INITIALIZER__FEATURE_SEQ_INITIALIZER);
1522a1593,1595
> 
> 		referenceNewElementSpecEClass = createEClass(REFERENCE_NEW_ELEMENT_SPEC);
> 		createEReference(referenceNewElementSpecEClass, REFERENCE_NEW_ELEMENT_SPEC__NEW_ELEMENT_INITIALIZERS);
1522a1998,1998
> 		  (featureValueSpecEClass, 
1523,1524d1997
< 		createEReference(featureValueSpecEClass, FEATURE_VALUE_SPEC__FEATURE);
< 		createEReference(featureValueSpecEClass, FEATURE_VALUE_SPEC__FEATURE_SEQ_INITIALIZER);
1634a1706,1707
> 		featureValueSpecEClass.getESuperTypes().add(this.getFeatureInitializer());
> 		referenceNewElementSpecEClass.getESuperTypes().add(this.getFeatureInitializer());
1658,1658c1731,1731
< 		initEReference(getMappingEntry_DomainInitializer(), this.getElementInitializer(), this.getElementInitializer_MappingEntry(), "domainInitializer", null, 0, 1, MappingEntry.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getMappingEntry_DomainInitializer(), this.getElementInitializer(), null, "domainInitializer", null, 0, 1, MappingEntry.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1724,1724c1797,1797
< 		initEReference(getElementInitializer_MappingEntry(), this.getMappingEntry(), this.getMappingEntry_DomainInitializer(), "mappingEntry", null, 1, 1, ElementInitializer.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getElementInitializer_MappingEntry(), this.getMappingEntry(), null, "mappingEntry", null, 1, 1, ElementInitializer.class, IS_TRANSIENT, IS_VOLATILE, !IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1726a1809,1810
> 
> 		initEClass(referenceNewElementSpecEClass, ReferenceNewElementSpec.class, "ReferenceNewElementSpec", !IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
1727,1727c1811,1811
< 		initEReference(getFeatureSeqInitializer_Initializers(), this.getFeatureValueSpec(), this.getFeatureValueSpec_FeatureSeqInitializer(), "initializers", null, 1, -1, FeatureSeqInitializer.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getReferenceNewElementSpec_NewElementInitializers(), this.getFeatureSeqInitializer(), this.getFeatureSeqInitializer_CreatingInitializer(), "newElementInitializers", null, 1, -1, ReferenceNewElementSpec.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1729a1800,1805
> 		initEReference(getFeatureSeqInitializer_Initializers(), this.getFeatureInitializer(), this.getFeatureInitializer_FeatureSeqInitializer(), "initializers", null, 1, -1, FeatureSeqInitializer.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 		initEReference(getFeatureSeqInitializer_ElementClass(), ecorePackage.getEClass(), null, "elementClass", null, 0, 1, FeatureSeqInitializer.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 		initEReference(getFeatureSeqInitializer_CreatingInitializer(), this.getReferenceNewElementSpec(), this.getReferenceNewElementSpec_NewElementInitializers(), "creatingInitializer", null, 0, 1, FeatureSeqInitializer.class, !IS_TRANSIENT, !IS_VOLATILE, !IS_CHANGEABLE, !IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 
> 		initEClass(featureInitializerEClass, FeatureInitializer.class, "FeatureInitializer", IS_ABSTRACT, IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
> 		initEReference(getFeatureInitializer_Feature(), ecorePackage.getEStructuralFeature(), null, "feature", null, 1, 1, FeatureInitializer.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1730,1730d1799
< 		initEReference(getFeatureValueSpec_Feature(), ecorePackage.getEStructuralFeature(), null, "feature", null, 1, 1, FeatureValueSpec.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1731,1731c1806,1806
< 		initEReference(getFeatureValueSpec_FeatureSeqInitializer(), this.getFeatureSeqInitializer(), this.getFeatureSeqInitializer_Initializers(), "featureSeqInitializer", null, 1, 1, FeatureValueSpec.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getFeatureInitializer_FeatureSeqInitializer(), this.getFeatureSeqInitializer(), this.getFeatureSeqInitializer_Initializers(), "featureSeqInitializer", null, 1, 1, FeatureInitializer.class, !IS_TRANSIENT, !IS_VOLATILE, !IS_CHANGEABLE, !IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1850a1985,1985
> 		  (getFeatureSeqInitializer_Initializers(), 
1851,1851d1984
< 		  (getMappingEntry_DomainInitializer(), 
1852,1852c1986,1986
< 		   source, 
---
> 		   source, 
1853,1853c1987,1987
< 		   new String[] {
---
> 		   new String[] {
1854,1854c1988,1988
< 			 "def", "context",
---
> 			 "def", "context",
1854a1989,1990
> 			 "ocl", "self.elementClass"
> 		   });									
1855,1856d1988
< 			 "ocl", "self.getDomainContext()"
< 		   });																									
1857,1857c1991,1991
< 		addAnnotation
---
> 		addAnnotation
1918,1918d1997
< 		  (getFeatureValueSpec_Feature(), 
1921,1921c2001,2001
< 			 "def", "type"
---
> 			 "def", "type",
1921a2002,2002
> 			 "ocl", "feature"
2128a2210,2252
> 		  (getFeatureSeqInitializer_ElementClass(), 
> 		   source, 
> 		   new String[] {
> 			 "ocl", "not creatingInitializer.feature.oclIsUndefined() implies creatingInitializer.feature.oclAsType(ecore::EReference).eReferenceType.isSuperTypeOf(elementClass)",
> 			 "description", "\'elementClass\' must be the same as or sub-type of the containing \'GenReferenceNewElementSpec\' reference type"
> 		   });		
> 		addAnnotation
> 		  (getFeatureSeqInitializer_ElementClass(), 
> 		   source, 
> 		   new String[] {
> 			 "ocl", "not creatingInitializer.feature.oclIsUndefined() implies not (elementClass.interface or elementClass.abstract)",
> 			 "description", "\'elementClass\' must be a concrete EClass which is the same or sub-type of the containing \'GenReferenceNewElementSpec\' reference type"
> 		   });			
> 		addAnnotation
> 		  (getFeatureInitializer_Feature(), 
> 		   source, 
> 		   new String[] {
> 			 "ocl", "feature <> null implies not featureSeqInitializer.initializers->exists(i| i <> self and feature = self.feature)",
> 			 "description", "The feature is already initialized by another \'FeatureInitializer\' in the sequence"
> 		   });		
> 		addAnnotation
> 		  (getFeatureInitializer_Feature(), 
> 		   source, 
> 		   new String[] {
> 			 "ocl", "feature <> null implies feature.eContainingClass.isSuperTypeOf(featureSeqInitializer.elementClass)",
> 			 "description", "The \'feature\' of \'FeatureInitializer\' must be available in \'Meta Class\' of the initialized element"
> 		   });		
> 		addAnnotation
> 		  (getFeatureInitializer_Feature(), 
> 		   source, 
> 		   new String[] {
> 			 "ocl", "feature <> null implies feature.changeable",
> 			 "description", "The \'feature\' of \'FeatureInitializer\' must be changeable"
> 		   });					
> 		addAnnotation
> 		  (referenceNewElementSpecEClass, 
> 		   source, 
> 		   new String[] {
> 			 "ocl", "feature.many = false implies not (newElementInitializers->size() > 1)",
> 			 "description", "FeatureInitializer for single element EReference can\'t contain multiple element initializers"
> 		   });		
> 		addAnnotation
> 		  (referenceNewElementSpecEClass, 
2129,2129d2209
< 		  (getFeatureValueSpec_Feature(), 
2131a2255,2256
> 			 "ocl", "let r: ecore::EReference = feature.oclAsType(ecore::EReference) in feature <> null implies r.containment",
> 			 "description", "\'feature\' of \'ReferenceNewElementSpec\' must refer to containment ecore::EReference"
2132,2133d2254
< 			 "ocl", "feature.eContainingClass.isSuperTypeOf(featureSeqInitializer.mappingEntry.getDomainContext())",
< 			 "description", "Initialized \'Feature\' must be owned by \'Domain Element\' or its super type"
