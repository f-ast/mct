29a30,30
> import org.eclipse.gmf.gmfgraph.FigureHandle;
109a111,114
> 			FigureHandle nextFigure = next.getFigure();
> 			if (nextFigure == null){
> 				throw new NullPointerException("Compartment without figure : " + next);
> 			}
110,110c115,115
< 			if (next.getFigure() instanceof Figure) {
---
> 			if (nextFigure instanceof Figure) {
111,111c116,116
< 				handleFigure((Figure) next.getFigure());
---
> 				handleFigure((Figure) nextFigure);
