48a49,49
> import org.eclipse.gmf.runtime.draw2d.ui.figures.WrappingLabel;
126a128,128
> 		if (figure instanceof WrappingLabel) {
127,127d127
< 		if (figure instanceof WrapLabel) {
128,128c129,129
< 			return ((WrapLabel) figure).getText();
---
> 			return ((WrappingLabel) figure).getText();
137a139,139
> 		if (figure instanceof WrappingLabel) {
138,138d138
< 		if (figure instanceof WrapLabel) {
139,139c140,140
< 			((WrapLabel) figure).setText(text);
---
> 			((WrappingLabel) figure).setText(text);
148a150,150
> 		if (figure instanceof WrappingLabel) {
149,149d149
< 		if (figure instanceof WrapLabel) {
150,150c151,151
< 			return ((WrapLabel) figure).getIcon();
---
> 			return ((WrappingLabel) figure).getIcon();
159a161,161
> 		if (figure instanceof WrappingLabel) {
160,160d160
< 		if (figure instanceof WrapLabel) {
161,161c162,162
< 			((WrapLabel) figure).setIcon(icon);
---
> 			((WrappingLabel) figure).setIcon(icon);
195a197,197
> 		return resolveSemanticElement();
196,197d196
< 		EObject element = resolveSemanticElement();
< 		return element != null ? element : (View) getModel();
215a216,217
> 		EObject parserElement = getParserElement();
> 		if (parserElement != null && getParser() != null) {
216,216d215
< 		if (getParser() != null) {
217,217c218,218
< 			text = getParser().getPrintString(new EObjectAdapter(getParserElement()), getParserOptions().intValue());
---
> 			text = getParser().getPrintString(new EObjectAdapter(parserElement), getParserOptions().intValue());
240,240c241,241
< 		if (getParser() == null) {
---
> 		if (getParserElement() == null || getParser() == null) {
286,286c287,287
< 		if (getParser() == null) {
---
> 		if (getParserElement() == null || getParser() == null) {
410a412,412
> 		if (style != null && getFigure() instanceof WrappingLabel) {
411,411d411
< 		if (style != null && getFigure() instanceof WrapLabel) {
412,412c413,413
< 			((WrapLabel) getFigure()).setTextUnderline(style.isUnderline());
---
> 			((WrappingLabel) getFigure()).setTextUnderline(style.isUnderline());
420a422,422
> 		if (style != null && getFigure() instanceof WrappingLabel) {
421,421d421
< 		if (style != null && getFigure() instanceof WrapLabel) {
422,422c423,423
< 			((WrapLabel) getFigure()).setTextStrikeThrough(style.isStrikeThrough());
---
> 			((WrappingLabel) getFigure()).setTextStrikeThrough(style.isStrikeThrough());
