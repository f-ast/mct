38a39,41
> import org.eclipse.emf.common.util.BasicDiagnostic;
> import org.eclipse.emf.common.util.Diagnostic;
> import org.eclipse.emf.common.util.DiagnosticException;
123a127,136
> 		if (ex instanceof DiagnosticException) {
> 			// unwind invocation target exceptions as much as possible 
> 			final Diagnostic diagnostic = ((DiagnosticException) ex).getDiagnostic();
> 			if (diagnostic.getException() instanceof InvocationTargetException) {
> 				Throwable originalEx = ((InvocationTargetException) diagnostic.getException()).getCause();
> 				handleException(newStatus(originalEx));
> 			} else {
> 				handleException(BasicDiagnostic.toIStatus(diagnostic));
> 			}
> 		} else {
125a139,139
> 	}
139a154,154
> 		return new Status(severity, Activator.getID(), 0, GeneratorBaseMessages.bind(GeneratorBaseMessages.exception, msg), ex);
139,139c153,153
< 		return new Status(severity, Activator.getID(), 0, ex.getMessage() == null ? ex.getClass().getName() : ex.getMessage(), ex);
---
> 		final String msg = ex.getMessage() == null ? ex.getClass().getName() : ex.getMessage();
