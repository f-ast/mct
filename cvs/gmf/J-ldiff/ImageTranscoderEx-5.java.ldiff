204a205,213
> 				float xscale = newWidth / docWidth;
>                 float yscale = newHeight / docHeight;
>                 if (docHeight / docWidth > newHeight / newWidth) {
>                     xscale = yscale;
>                 } else {
>                     yscale = xscale;
>                 }
>                 
> 				Px = AffineTransform.getScaleInstance(xscale, yscale);
205,208d204
< 				float d = Math.max(docWidth, docHeight);
< 				float dd = Math.max(newWidth, newHeight);
< 				float scale = dd/d;
< 				Px = AffineTransform.getScaleInstance(scale, scale);
