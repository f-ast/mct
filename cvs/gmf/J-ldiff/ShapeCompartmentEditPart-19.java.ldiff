2,2c2,2
<  * Copyright (c) 2002, 2006 IBM Corporation and others.
---
>  * Copyright (c) 2002, 2007 IBM Corporation and others.
36,36d35
< import org.eclipse.gef.CompoundSnapToHelper;
44,47d42
< import org.eclipse.gef.SnapToGeometry;
< import org.eclipse.gef.SnapToGrid;
< import org.eclipse.gef.SnapToGuides;
< import org.eclipse.gef.SnapToHelper;
50,50d44
< import org.eclipse.gef.rulers.RulerProvider;
662,694d655
< 	/** Adds the ability to adapt to {@link SnapToHelper}. */
< 	public Object getAdapter(Class adapter) {
< 
< 		if (adapter == SnapToHelper.class) {
< 
< 			List snapStrategies = new ArrayList();
< 
< 			Boolean val = (Boolean) getViewer().getProperty(
< 				RulerProvider.PROPERTY_RULER_VISIBILITY);
< 			if (val != null && val.booleanValue())
< 				snapStrategies.add(new SnapToGuides(this));
< 
< 			val = (Boolean) getViewer().getProperty(
< 				SnapToGeometry.PROPERTY_SNAP_ENABLED);
< 			if (val != null && val.booleanValue())
< 				snapStrategies.add(new SnapToGrid((GraphicalEditPart) this
< 					.getParent()));
< 
< 			if (snapStrategies.size() == 0)
< 				return null;
< 
< 			if (snapStrategies.size() == 1)
< 				return snapStrategies.get(0);
< 
< 			SnapToHelper ss[] = new SnapToHelper[snapStrategies.size()];
< 			for (int i = 0; i < snapStrategies.size(); i++)
< 				ss[i] = (SnapToHelper) snapStrategies.get(i);
< 			return new CompoundSnapToHelper(ss);
< 		}
< 
< 		return super.getAdapter(adapter);
< 	}
< 
