2,2c2,2
<  * Copyright (c) 2007 IBM Corporation and others.
---
>  * Copyright (c) 2007, 2008 IBM Corporation and others.
20a21,21
> import org.eclipse.gef.commands.Command;
21a23,23
> import org.eclipse.gmf.runtime.diagram.ui.actions.ActionIds;
28a31,31
> import org.eclipse.gmf.runtime.diagram.ui.requests.ArrangeRequest;
42a46,77
>      * A <code>ContainerEditPolicy</code> for a <code>GroupEditPart</code>.
>      * 
>      * @since 2.1
>      */
>     protected static class GroupContainerEditPolicy
>         extends ContainerEditPolicy {
> 
>         protected Command getArrangeCommand(ArrangeRequest request) {
>             if (ActionIds.ACTION_ARRANGE_SELECTION.equals(request.getType())
>                 || ActionIds.ACTION_TOOLBAR_ARRANGE_SELECTION.equals(request
>                     .getType())) {
>                 List parts = request.getPartsToArrange();
>                 if (parts.size() == 1 && parts.contains(getHost())) {
>                     ArrangeRequest newRequest = createRequest(request,
>                         getHost().getChildren());
>                     return super.getArrangeCommand(newRequest);
>                 }
>             }
>             return super.getArrangeCommand(request);
>         }
> 
>         private ArrangeRequest createRequest(ArrangeRequest request,
>                 List partsToArrange) {
>             ArrangeRequest newRequest = new ArrangeRequest((String) request
>                 .getType(), request.getLayoutType());
>             newRequest.setExtendedData(request.getExtendedData());
>             newRequest.setPartsToArrange(partsToArrange);
>             return newRequest;
>         }
>     }
>     
>     /**
76,76c111,111
<         installEditPolicy(EditPolicy.CONTAINER_ROLE, new ContainerEditPolicy());
---
>         installEditPolicy(EditPolicy.CONTAINER_ROLE, new GroupContainerEditPolicy());
