98,98d97
< import org.eclipse.gmf.runtime.diagram.ui.internal.pagesetup.DefaultValues;
1203a1203,1204
>         // Initialize printing defaults from the workspace preferences 
>         IPreferenceStore workspacePreferences = (IPreferenceStore)preferencesHint.getPreferenceStore();
1204,1205d1202
<         // Set defaults for Page Setup Dialog
<         // PSDialog.initDefaultPreferences(store);
1207,1242d1205
<         // PSDefault.initDefaultPSPreferencePagePreferences(globalPreferenceStore);
< 
<         // String pageType = PageInfoHelper.getPrinterPageType();
<         // String pageSize = PageInfoHelper.getLocaleSpecificPageType();
<         // Point2D.Double point = (Point2D.Double)
<         // nnn.getPaperSizesInInchesMap().get(pageSize);
< 
<         // double[] marginSizes = nnn.getDefaultMarginSizes();
< 
<         // store.setValue(WorkspaceViewerProperties.USE_WORKSPACE_PRINT_SETTINGS,
<         // true);
<         // store.setValue(WorkspaceViewerProperties.USE_DIAGRAM_PRINT_SETTINGS,
<         // false);
< 
<         // store.setValue(WorkspaceViewerProperties.USE_INCHES, true);
<         // store.setValue(WorkspaceViewerProperties.USE_MILLIMETRES, false);
< 
<         // store.setValue(WorkspaceViewerProperties.PAGE_ORIENTATION_LANDSCAPE,
<         // false);
<         // store.setValue(WorkspaceViewerProperties.PAGE_ORIENTATION_PORTRAIT,
<         // true);
< 
<         // store.setValue(WorkspaceViewerProperties.PAGE_TYPE, pageSize);
< 
<         // store.setValue(WorkspaceViewerProperties.PAGE_WIDTH, point.x);
<         // store.setValue(WorkspaceViewerProperties.PAGE_HEIGHT, point.y);
< 
<         // store.setValue(WorkspaceViewerProperties.MARGIN_LEFT,
<         // marginSizes[0]);
<         // store.setValue(WorkspaceViewerProperties.MARGIN_TOP, marginSizes[1]);
<         // store.setValue(WorkspaceViewerProperties.MARGIN_RIGHT,
<         // marginSizes[2]);
<         // store.setValue(WorkspaceViewerProperties.MARGIN_BOTTOM,
<         // marginSizes[3]);
< 
<         // Initialize printing defaults
1243a1207,1209
> 						workspacePreferences
> 								.getBoolean(WorkspaceViewerProperties.PREF_USE_WORKSPACE_SETTINGS));
> 
1244,1244d1206
<             DefaultValues.DEFAULT_USE_WORKSPACE_SETTINGS);
1245a1211,1212
> 						workspacePreferences
> 								.getBoolean(WorkspaceViewerProperties.PREF_USE_WORKSPACE_SETTINGS));
1246,1246d1210
<             DefaultValues.DEFAULT_USE_DIAGRAM_SETTINGS);
1248a1215,1217
> 				workspacePreferences
> 						.getBoolean(WorkspaceViewerProperties.PREF_USE_INCHES));
> 
1249,1249d1214
<             DefaultValues.DEFAULT_INCHES);
1250a1219,1220
> 				workspacePreferences
> 						.getBoolean(WorkspaceViewerProperties.PREF_USE_MILLIM));
1251,1251d1218
<             DefaultValues.DEFAULT_MILLIM);
1253a1223,1225
> 						workspacePreferences
> 								.getBoolean(WorkspaceViewerProperties.PREF_USE_PORTRAIT));
> 		
1254,1254d1222
<             DefaultValues.DEFAULT_PORTRAIT);
1256,1256d1226
<             DefaultValues.DEFAULT_LANDSCAPE);
1257a1227,1233
> 						workspacePreferences
> 								.getBoolean(WorkspaceViewerProperties.PREF_USE_LANDSCAPE));
> 
> 		store.setValue(WorkspaceViewerProperties.PREF_PAGE_SIZE,
> 				workspacePreferences
> 						.getString(WorkspaceViewerProperties.PREF_PAGE_SIZE));
> 
1258,1259d1226
<         store.setValue(WorkspaceViewerProperties.PREF_PAGE_SIZE, DefaultValues
<             .getLocaleSpecificPageType().getName());
1260a1235,1236
> 				workspacePreferences
> 						.getDouble(WorkspaceViewerProperties.PREF_PAGE_WIDTH));
1260,1260c1234,1234
<         store.setValue(WorkspaceViewerProperties.PREF_PAGE_WIDTH, DefaultValues
---
> 		store.setValue(WorkspaceViewerProperties.PREF_PAGE_WIDTH,
1261,1261d1234
<             .getLocaleSpecificPageType().getWidth());
1262a1239,1240
> 				workspacePreferences
> 						.getDouble(WorkspaceViewerProperties.PREF_PAGE_HEIGHT));
1263,1263d1238
<             DefaultValues.getLocaleSpecificPageType().getHeight());
1265a1243,1245
> 				workspacePreferences
> 						.getDouble(WorkspaceViewerProperties.PREF_MARGIN_TOP));
> 
1266,1266d1242
<             DefaultValues.DEFAULT_MARGIN_TOP);
1267a1247,1249
> 						workspacePreferences
> 								.getDouble(WorkspaceViewerProperties.PREF_MARGIN_BOTTOM));
> 
1268,1268d1246
<             DefaultValues.DEFAULT_MARGIN_BOTTOM);
1269a1251,1252
> 				workspacePreferences
> 						.getDouble(WorkspaceViewerProperties.PREF_MARGIN_LEFT));
1270,1270d1253
<             DefaultValues.DEFAULT_MARGIN_LEFT);
1271a1255,1256
> 						workspacePreferences
> 								.getDouble(WorkspaceViewerProperties.PREF_MARGIN_RIGHT));
1271,1271c1254,1254
<         store.setValue(WorkspaceViewerProperties.PREF_MARGIN_RIGHT,
---
> 		store.setValue(WorkspaceViewerProperties.PREF_MARGIN_RIGHT,
1272,1272d1254
<             DefaultValues.DEFAULT_MARGIN_RIGHT);
