423,425d422
< 				// Only listening to these.
< 				// if (event.getType() == IResourceDelta.POST_CHANGE)
< 				{
434,434d430
< 								if (delta.getFlags() != IResourceDelta.MARKERS &&
435,435c431,431
< 								    delta.getResource().getType() == IResource.FILE) {
---
> 							if (delta.getResource().getType() == IResource.FILE) {
435a432,432
> 								if (delta.getKind() == IResourceDelta.REMOVED ||
436,436c433,433
< 									if ((delta.getKind() & (IResourceDelta.CHANGED | IResourceDelta.REMOVED)) != 0) {
---
> 								    delta.getKind() == IResourceDelta.CHANGED && delta.getFlags() != IResourceDelta.MARKERS) {
439,439c436,436
< 											if ((delta.getKind() & IResourceDelta.REMOVED) != 0) {
---
> 										if (delta.getKind() == IResourceDelta.REMOVED) {
493,493d489
< 			}
535a532,534
> 			if (isDirty()) {
> 				changedResources.addAll(editingDomain.getResourceSet().getResources());
> 			}
551a551,555
> 
> 			if (AdapterFactoryEditingDomain.isStale(editorSelection)) {
> 				setSelection(StructuredSelection.EMPTY);
> 			}
> 
