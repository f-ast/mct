2,2c2,2
<  * Copyright (c) 2002, 2005 IBM Corporation and others.
---
>  * Copyright (c) 2002, 2006 IBM Corporation and others.
17a18,18
> import org.eclipse.gmf.runtime.common.core.service.IProvider;
70a72,72
> 					IProvider theProvider = getProvider();
71,71c73,73
< 					return getProvider().provides(operation);
---
> 					return theProvider != null ? theProvider.provides(operation) : false;
74a77,77
> 			IProvider theProvider = getProvider();
75,75c78,78
< 			return getProvider().provides(operation);
---
> 			return theProvider != null ? theProvider.provides(operation) : false;
85a89,89
> 					&& providerConfiguration != null) {
85,85c88,88
< 			if (operation instanceof GetIconOperation) {
---
> 			if (operation instanceof GetIconOperation
