53,53c87,87
< import org.eclipse.gmf.runtime.diagram.ui.resources.editor.document.IDiagramDocument;
---
> import org.eclipse.gmf.runtime.diagram.ui.resources.editor.document.IDiagramDocument;
54,54c88,88
< import org.eclipse.gmf.runtime.diagram.ui.resources.editor.document.IDocument;
---
> import org.eclipse.gmf.runtime.diagram.ui.resources.editor.document.IDocument;
134,134c134,134
< 		if (input instanceof URIEditorInput) {
---
> 		if (input instanceof IFileEditorInput || input instanceof URIEditorInput) {
135,135c135,135
< 			return new URIDiagramDocumentProvider();
---
> 			return GMFGraphDiagramEditorPlugin.getInstance().getDocumentProvider();
155,155c155,155
< 		if (input instanceof IFileEditorInput) {
---
> 		if (input instanceof IFileEditorInput || input instanceof URIEditorInput) {
157,158d156
< 		} else if (input instanceof URIEditorInput) {
< 			setDocumentProvider(new URIDiagramDocumentProvider());
159a158,158
> 			super.setDocumentProvider(input);
160,160d157
< 			setDocumentProvider(new StorageDiagramDocumentProvider());
