44a45,45
> import org.eclipse.gef.RootEditPart;
1493,1493c1494,1494
< 	 * @return <code>IMapMode</code> that allows for the coordinate mapping
---
> 	 * @return <code>IMapMode</code> that allows for the coordinate mapping from device to
1494,1494c1495,1495
< 	 *         from device to logical units.
---
> 	 * logical units. 
1496a1498,1502
> 		RootEditPart root = getRoot();
> 		if (root instanceof DiagramRootEditPart) {
> 			DiagramRootEditPart dgrmRoot = (DiagramRootEditPart)root;
> 			return dgrmRoot.getMapMode();
> 		}
1497,1503d1497
< 		EditPart parent = getParent();
< 		if (parent instanceof DiagramRootEditPart)
< 			return ((DiagramRootEditPart) parent).getMapMode();
< 		else if (parent instanceof org.eclipse.gef.GraphicalEditPart)
< 			return MapModeUtil
< 				.getMapMode(((org.eclipse.gef.GraphicalEditPart) parent)
< 					.getFigure());
