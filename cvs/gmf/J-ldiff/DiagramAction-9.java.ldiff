302,302c302,302
< 	 * A utility method to return the active part if it implements the
---
> 	 * A utility method to return the active part if it implements 
303,303c303,303
< 	 * <code>IDiagramWorkbenchPart</code> interface
---
> 	 * or adapts to the <code>IDiagramWorkbenchPart</code> interface
305,305c305,305
< 	 * @return The current part if it implements
---
> 	 * @return The current part if it implements or adapts to
309a310,321
> 		IDiagramWorkbenchPart diagramPart = null;
> 		IWorkbenchPart part = getWorkbenchPart();
> 		
> 		if (part instanceof IDiagramWorkbenchPart) {
> 			diagramPart = (IDiagramWorkbenchPart) part;
> 			
> 		} else {
> 			diagramPart = (IDiagramWorkbenchPart) part
> 					.getAdapter(IDiagramWorkbenchPart.class);
> 		}
> 
> 		return diagramPart;
310,311d309
< 		return getWorkbenchPart() instanceof IDiagramWorkbenchPart ? (IDiagramWorkbenchPart) getWorkbenchPart()
< 			: null;
