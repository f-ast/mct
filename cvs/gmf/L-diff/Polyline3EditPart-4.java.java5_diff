2a3,4
> import org.eclipse.draw2d.CompoundBorder;
> 
4a7,10
> import org.eclipse.draw2d.LineBorder;
> 
> import org.eclipse.draw2d.MarginBorder;
> 
9,10d14
< import org.eclipse.gef.EditPart;
< 
13,16d16
< import org.eclipse.gef.Request;
< 
< import org.eclipse.gef.commands.Command;
< 
19,22d18
< import org.eclipse.gef.editpolicies.NonResizableEditPolicy;
< 
< import org.eclipse.gef.requests.CreateRequest;
< 
25c21
< import org.eclipse.gmf.runtime.diagram.ui.editparts.ShapeNodeEditPart;
---
> import org.eclipse.gmf.graphdef.editor.edit.polocies.DomainBasedXYLayoutEditPolicy;
35c31,35
< public class Polyline3EditPart extends ShapeNodeEditPart {
---
> import org.eclipse.swt.SWT;
> 
> import org.eclipse.swt.widgets.Display;
> 
> public class Polyline3EditPart extends AbstractFigureEditPart {
51,72c51
<         LayoutEditPolicy lep = new LayoutEditPolicy () {
< 
<             protected EditPolicy createChildEditPolicy (EditPart child) {
<                 EditPolicy result = child.getEditPolicy (EditPolicy.PRIMARY_DRAG_ROLE);
<                 if (result == null) {
<                     result = new NonResizableEditPolicy ();
<                 }
<                 return result;
<             }
< 
<             protected Command getMoveChildrenCommand (Request request) {
<                 return null;
<             }
< 
<             protected Command getCreateCommand (CreateRequest request) {
<                 return null;
<             }
< 
<         }
< 
<         ;
<         return lep;
---
>         return new DomainBasedXYLayoutEditPolicy (getMapMode ());
84a64,67
>         LineBorder contourBorder = new LineBorder (Display.getDefault ().getSystemColor (SWT.COLOR_WIDGET_NORMAL_SHADOW));
>         MarginBorder marginBorder = new MarginBorder (5);
>         CompoundBorder compoundBorder = new CompoundBorder (contourBorder, marginBorder);
>         result.setBorder (compoundBorder);
