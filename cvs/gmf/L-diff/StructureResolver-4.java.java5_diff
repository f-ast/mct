14a15,16
> import org.eclipse.emf.ecore.EPackage;
> 
62c64
<     public TypePattern resolve (EClass type) {
---
>     public TypePattern resolve (EClass type, EPackage domainPackage) {
66c68
<         EReference [] containments = getContainments (type);
---
>         EReference [] containments = getContainments (type, domainPackage);
121c123
<     protected EReference [] getContainments (EClass type) {
---
>     protected EReference [] getContainments (EClass type, EPackage domainPackage) {
123c125
<         for (Iterator it = type.getEPackage ().eAllContents ();
---
>         for (Iterator it = domainPackage.eAllContents ();
