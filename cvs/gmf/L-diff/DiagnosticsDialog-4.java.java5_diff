28a29,30
> import org.eclipse.emf.ecore.EValidator;
> 
94a97,98
> import org.eclipse.ui.IEditorDescriptor;
> 
112a117,120
> import org.eclipse.ui.internal.ide.IDEWorkbenchPlugin;
> 
> import org.eclipse.ui.part.FileEditorInput;
> 
515,517c523,529
<         IMarker marker = (markerMap != null) ? markerMap.getMap ().get (diagnostic) : null;
<         IFile file = ValidationHelper.getFileFromDiagnostic (diagnostic);
<         if (file != null) {
---
>         IMarker marker = null;
>         if (markerMap != null) {
>             if (! markerMap.getMap ().containsKey (diagnostic) && diagnostic == rootDiagnotic && ! diagnostic.getChildren ().isEmpty ()) {
>                 diagnostic = (Diagnostic) diagnostic.getChildren ().get (0);
>             }
>             marker = markerMap.getMap ().get (diagnostic);
>         }
525,527c537,555
<                 IEditorPart editorPart = IDE.openEditor (page, file, true);
<                 IGotoMarker gotoMarkerSupport = (editorPart != null) ? (IGotoMarker) editorPart.getAdapter (IGotoMarker.class) : null;
<                 if (gotoMarkerSupport != null && marker != null) {
---
>             page.showView ("org.eclipse.ui.views.ProblemView");
>         } catch (PartInitException e) {
>             CodeGenUIPlugin.getDefault ().getLog ().log (e.getStatus ());
>         }
>         IFile file = ValidationHelper.getFileFromDiagnostic (diagnostic);
>         if (file != null) {
>             try {
>                 String editorId = "org.eclipse.ui.DefaultTextEditor";
>                 IEditorPart editorPart = null;
>                 if (marker == null || marker.getAttribute (EValidator.URI_ATTRIBUTE, null) != null) {
>                     IEditorDescriptor [] editorDescriptors = PlatformUI.getWorkbench ().getEditorRegistry ().getEditors (file.getName ());
>                     if (editorDescriptors.length > 0) {
>                         editorId = editorDescriptors [0].getId ();
>                     }
>                 }
>                 editorPart = page.openEditor (new FileEditorInput (file), editorId, true, IWorkbenchPage.MATCH_INPUT | IWorkbenchPage.MATCH_ID);
>                 IGotoMarker gotoMarkerSupport = null;
>                 if (editorPart != null) {
>                     gotoMarkerSupport = (IGotoMarker) editorPart.getAdapter (IGotoMarker.class);
528a557,558
>                 }
>                 if (gotoMarkerSupport != null && marker != null) {
530,531d559
<                 } else {
<                     return;
533d560
<                 PlatformUI.getWorkbench ().getActiveWorkbenchWindow ().getActivePage ().showView ("org.eclipse.ui.views.ProblemView");
