6a7,10
> import javax.print.PrintService;
> 
> import javax.print.PrintServiceLookup;
> 
59c63
< import org.eclipse.gmf.runtime.diagram.ui.printing.internal.util.PrintHelper;
---
> import org.eclipse.gmf.runtime.diagram.ui.printing.internal.util.PrintHelperUtil;
101,102d104
< import org.eclipse.swt.printing.Printer;
< 
136a139
>     protected boolean enablePrinting = true;
173a177,180
>     public void enablePrinting (boolean enablePrinting) {
>         this.enablePrinting = enablePrinting;
>     }
> 
231c238
<         if (printActionHelper == null) {
---
>         if (printActionHelper == null || ! enablePrinting) {
488c495
<             pageBreakBounds = PrintHelper.getPageBreakBounds (getDiagramEditPart (), true);
---
>             pageBreakBounds = PrintHelperUtil.getPageBreakBounds (getDiagramEditPart (), true);
504,505c511,512
<             diagramEditPart = PrintHelper.createDiagramEditPart (diagram, preferencesHint, getTempShell ());
<             PrintHelper.initializePreferences (diagramEditPart, preferencesHint);
---
>             diagramEditPart = PrintHelperUtil.createDiagramEditPart (diagram, preferencesHint, getTempShell ());
>             PrintHelperUtil.initializePreferences (diagramEditPart, preferencesHint);
533d539
<         Printer printer = null;
535c541,542
<             printer = new Printer ();
---
>             PrintService [] printServices = PrintServiceLookup.lookupPrintServices (null, null);
>             return printServices.length > 0;
545,546d551
<         printer.dispose ();
<         return true;
