74a75,76
> import org.eclipse.ui.PlatformUI;
> 
154,157d155
<             try {
<                 TransactionUtil.getEditingDomain (getDecoratorTarget ().getAdapter (View.class)).runExclusive (new Runnable () {
< 
<                     public void run () {
161,175c159
<                             Iterator iter = list.iterator ();
<                             while (iter.hasNext ()) {
<                                 IDecorator decorator = (IDecorator) iter.next ();
<                                 if (decorator != null) {
<                                     decorator.refresh ();
<                                 }
<                             }
<                         }
<                     }
< 
<                 }
< 
<                 );
<             } catch (Exception e) {
<                 Trace.catching (DiagramProvidersPlugin.getInstance (), DiagramActionsDebugOptions.EXCEPTIONS_CATCHING, getClass (), "handleMarkerDeleted()", e);
---
>                 refreshDecorators (list);
183a168,178
>             String elementId = marker.getAttribute (IBookmark.ELEMENT_ID, StringStatics.BLANK);
>             List list = elementId != null ? (List) mapOfIdsToDecorators.get (elementId) : null;
>             if (list != null && ! list.isEmpty ()) {
>                 refreshDecorators (list);
>             }
>         }
> 
>         private void refreshDecorators (final List decorators) {
>             PlatformUI.getWorkbench ().getDisplay ().asyncExec (new Runnable () {
> 
>                 public void run () {
188,191c183
<                         String elementId = marker.getAttribute (IBookmark.ELEMENT_ID, StringStatics.BLANK);
<                         List list = elementId != null ? (List) mapOfIdsToDecorators.get (elementId) : null;
<                         if (list != null && ! list.isEmpty ()) {
<                             Iterator iter = list.iterator ();
---
>                                 Iterator iter = decorators.iterator ();
199d190
<                     }
205c196,197
<                 Trace.catching (DiagramProvidersPlugin.getInstance (), DiagramActionsDebugOptions.EXCEPTIONS_CATCHING, getClass (), "handleMarkerChanged()", e);
---
>                         Trace.catching (DiagramProvidersPlugin.getInstance (), DiagramActionsDebugOptions.EXCEPTIONS_CATCHING, getClass (), "refreshDecorators()", e);
>                     }
206a199,202
> 
>             }
> 
>             );
