121,125c121
<         String value = getEditPartClassNameGen ();
<         if (isEmpty (value)) {
<             value = getClassNamePrefix () + EDIT_PART_SUFFIX;
<         }
<         return value;
---
>         return getValidClassName (getEditPartClassNameGen (), this, EDIT_PART_SUFFIX);
140,144c136
<         String value = getItemSemanticEditPolicyClassNameGen ();
<         if (isEmpty (value)) {
<             value = getClassNamePrefix () + ITEM_SEMANTIC_EDIT_POLICY_SUFFIX;
<         }
<         return value;
---
>         return getValidClassName (getItemSemanticEditPolicyClassNameGen (), this, ITEM_SEMANTIC_EDIT_POLICY_SUFFIX);
159,163c151
<         String value = getNotationViewFactoryClassNameGen ();
<         if (isEmpty (value)) {
<             value = getClassNamePrefix () + NOTATION_VIEW_FACTORY_SUFFIX;
<         }
<         return value;
---
>         return getValidClassName (getNotationViewFactoryClassNameGen (), this, NOTATION_VIEW_FACTORY_SUFFIX);
206a195,207
>     static String getValidClassName (String className, GenCommonBase genElement, String suffixPart) {
>         assert genElement != null;
>         assert suffixPart != null;
>         if (isEmpty (className)) {
>             String prefixPart = genElement.getClassNamePrefix ();
>             if (isEmpty (prefixPart)) {
>                 prefixPart = DEFAULT_CLASS_NAME_PREFIX;
>             }
>             className = prefixPart + suffixPart;
>         }
>         return className;
>     }
> 
214c215,216
<         return getClassNamePrefix () + '_' + getVisualID ();
---
>         String prefixPart = isEmpty (getClassNamePrefix ()) ? DEFAULT_CLASS_NAME_PREFIX : getClassNamePrefix ();
>         return prefixPart + '_' + getVisualID ();
