32a33,34
> import org.eclipse.emf.edit.domain.AdapterFactoryEditingDomain;
> 
48a51,52
> import org.eclipse.emf.transaction.TransactionalEditingDomain;
> 
59,60d62
< import org.eclipse.gmf.runtime.emf.core.internal.util.MSLAdapterFactoryManager;
< 
293c295,299
<         return (IItemPropertySource) MSLAdapterFactoryManager.getAdapterFactory ().adapt (value, IItemPropertySource.class);
---
>         TransactionalEditingDomain editingDomain = TransactionUtil.getEditingDomain (getObject ());
>         if (editingDomain instanceof AdapterFactoryEditingDomain) {
>             return (IItemPropertySource) ((AdapterFactoryEditingDomain) editingDomain).getAdapterFactory ().adapt (value, IItemPropertySource.class);
>         }
>         return null;
