3,4d2
< import java.util.Collection;
< 
7,10d4
< import org.eclipse.emf.common.notify.NotificationChain;
< 
< import org.eclipse.emf.ecore.EAttribute;
< 
13,16d6
< import org.eclipse.emf.ecore.EReference;
< 
< import org.eclipse.emf.ecore.EStructuralFeature;
< 
21,22d10
< import org.eclipse.emf.ecore.util.InternalEList;
< 
25,28d12
< import org.eclipse.gmf.mappings.Constraint;
< 
< import org.eclipse.gmf.mappings.ElementInitializer;
< 
33,34d16
< import org.eclipse.gmf.mappings.Tool;
< 
48,49c30,31
<             Node oldDiagramNode = diagramNode;
<             diagramNode = (Node) eResolveProxy ((InternalEObject) diagramNode);
---
>             InternalEObject oldDiagramNode = (InternalEObject) diagramNode;
>             diagramNode = (Node) eResolveProxy (oldDiagramNode);
69,128c51,52
<     public NotificationChain eInverseAdd (InternalEObject otherEnd, int featureID, Class baseClass, NotificationChain msgs) {
<         if (featureID >= 0) {
<             switch (eDerivedStructuralFeatureID (featureID, baseClass)) {
<                 case GMFMapPackage.NODE_MAPPING__CHILD_MAPPINGS :
<                     return ((InternalEList) getChildMappings ()).basicAdd (otherEnd, msgs);
<                 case GMFMapPackage.NODE_MAPPING__COMPARTMENT_MAPPINGS :
<                     return ((InternalEList) getCompartmentMappings ()).basicAdd (otherEnd, msgs);
<                 default :
<                     return eDynamicInverseAdd (otherEnd, featureID, baseClass, msgs);
<             }
<         }
<         if (eContainer != null) msgs = eBasicRemoveFromContainer (msgs);
< 
<         return eBasicSetContainer (otherEnd, featureID, msgs);
<     }
< 
<     public NotificationChain eInverseRemove (InternalEObject otherEnd, int featureID, Class baseClass, NotificationChain msgs) {
<         if (featureID >= 0) {
<             switch (eDerivedStructuralFeatureID (featureID, baseClass)) {
<                 case GMFMapPackage.NODE_MAPPING__DOMAIN_SPECIALIZATION :
<                     return basicSetDomainSpecialization (null, msgs);
<                 case GMFMapPackage.NODE_MAPPING__DOMAIN_INITIALIZER :
<                     return basicSetDomainInitializer (null, msgs);
<                 case GMFMapPackage.NODE_MAPPING__CHILD_MAPPINGS :
<                     return ((InternalEList) getChildMappings ()).basicRemove (otherEnd, msgs);
<                 case GMFMapPackage.NODE_MAPPING__COMPARTMENT_MAPPINGS :
<                     return ((InternalEList) getCompartmentMappings ()).basicRemove (otherEnd, msgs);
<                 case GMFMapPackage.NODE_MAPPING__TOOL :
<                     return basicSetTool (null, msgs);
<                 default :
<                     return eDynamicInverseRemove (otherEnd, featureID, baseClass, msgs);
<             }
<         }
<         return eBasicSetContainer (null, featureID, msgs);
<     }
< 
<     public Object eGet (EStructuralFeature eFeature, boolean resolve) {
<         switch (eDerivedStructuralFeatureID (eFeature)) {
<             case GMFMapPackage.NODE_MAPPING__DOMAIN_META_ELEMENT :
<                 if (resolve) return getDomainMetaElement ();
< 
<                 return basicGetDomainMetaElement ();
<             case GMFMapPackage.NODE_MAPPING__DOMAIN_SPECIALIZATION :
<                 return getDomainSpecialization ();
<             case GMFMapPackage.NODE_MAPPING__DOMAIN_INITIALIZER :
<                 return getDomainInitializer ();
<             case GMFMapPackage.NODE_MAPPING__CONTAINMENT_FEATURE :
<                 if (resolve) return getContainmentFeature ();
< 
<                 return basicGetContainmentFeature ();
<             case GMFMapPackage.NODE_MAPPING__EDIT_FEATURE :
<                 if (resolve) return getEditFeature ();
< 
<                 return basicGetEditFeature ();
<             case GMFMapPackage.NODE_MAPPING__CHILD_MAPPINGS :
<                 return getChildMappings ();
<             case GMFMapPackage.NODE_MAPPING__COMPARTMENT_MAPPINGS :
<                 return getCompartmentMappings ();
<             case GMFMapPackage.NODE_MAPPING__TOOL :
<                 return getTool ();
---
>     public Object eGet (int featureID, boolean resolve, boolean coreType) {
>         switch (featureID) {
134c58
<         return eDynamicGet (eFeature, resolve);
---
>         return super.eGet (featureID, resolve, coreType);
137,164c61,62
<     public void eSet (EStructuralFeature eFeature, Object newValue) {
<         switch (eDerivedStructuralFeatureID (eFeature)) {
<             case GMFMapPackage.NODE_MAPPING__DOMAIN_META_ELEMENT :
<                 setDomainMetaElement ((EClass) newValue);
<                 return;
<             case GMFMapPackage.NODE_MAPPING__DOMAIN_SPECIALIZATION :
<                 setDomainSpecialization ((Constraint) newValue);
<                 return;
<             case GMFMapPackage.NODE_MAPPING__DOMAIN_INITIALIZER :
<                 setDomainInitializer ((ElementInitializer) newValue);
<                 return;
<             case GMFMapPackage.NODE_MAPPING__CONTAINMENT_FEATURE :
<                 setContainmentFeature ((EReference) newValue);
<                 return;
<             case GMFMapPackage.NODE_MAPPING__EDIT_FEATURE :
<                 setEditFeature ((EAttribute) newValue);
<                 return;
<             case GMFMapPackage.NODE_MAPPING__CHILD_MAPPINGS :
<                 getChildMappings ().clear ();
<                 getChildMappings ().addAll ((Collection) newValue);
<                 return;
<             case GMFMapPackage.NODE_MAPPING__COMPARTMENT_MAPPINGS :
<                 getCompartmentMappings ().clear ();
<                 getCompartmentMappings ().addAll ((Collection) newValue);
<                 return;
<             case GMFMapPackage.NODE_MAPPING__TOOL :
<                 setTool ((Tool) newValue);
<                 return;
---
>     public void eSet (int featureID, Object newValue) {
>         switch (featureID) {
169c67
<         eDynamicSet (eFeature, newValue);
---
>         super.eSet (featureID, newValue);
172,197c70,71
<     public void eUnset (EStructuralFeature eFeature) {
<         switch (eDerivedStructuralFeatureID (eFeature)) {
<             case GMFMapPackage.NODE_MAPPING__DOMAIN_META_ELEMENT :
<                 setDomainMetaElement ((EClass) null);
<                 return;
<             case GMFMapPackage.NODE_MAPPING__DOMAIN_SPECIALIZATION :
<                 setDomainSpecialization ((Constraint) null);
<                 return;
<             case GMFMapPackage.NODE_MAPPING__DOMAIN_INITIALIZER :
<                 setDomainInitializer ((ElementInitializer) null);
<                 return;
<             case GMFMapPackage.NODE_MAPPING__CONTAINMENT_FEATURE :
<                 setContainmentFeature ((EReference) null);
<                 return;
<             case GMFMapPackage.NODE_MAPPING__EDIT_FEATURE :
<                 setEditFeature ((EAttribute) null);
<                 return;
<             case GMFMapPackage.NODE_MAPPING__CHILD_MAPPINGS :
<                 getChildMappings ().clear ();
<                 return;
<             case GMFMapPackage.NODE_MAPPING__COMPARTMENT_MAPPINGS :
<                 getCompartmentMappings ().clear ();
<                 return;
<             case GMFMapPackage.NODE_MAPPING__TOOL :
<                 setTool ((Tool) null);
<                 return;
---
>     public void eUnset (int featureID) {
>         switch (featureID) {
202c76
<         eDynamicUnset (eFeature);
---
>         super.eUnset (featureID);
205,222c79,80
<     public boolean eIsSet (EStructuralFeature eFeature) {
<         switch (eDerivedStructuralFeatureID (eFeature)) {
<             case GMFMapPackage.NODE_MAPPING__DOMAIN_META_ELEMENT :
<                 return domainMetaElement != null;
<             case GMFMapPackage.NODE_MAPPING__DOMAIN_SPECIALIZATION :
<                 return domainSpecialization != null;
<             case GMFMapPackage.NODE_MAPPING__DOMAIN_INITIALIZER :
<                 return domainInitializer != null;
<             case GMFMapPackage.NODE_MAPPING__CONTAINMENT_FEATURE :
<                 return containmentFeature != null;
<             case GMFMapPackage.NODE_MAPPING__EDIT_FEATURE :
<                 return editFeature != null;
<             case GMFMapPackage.NODE_MAPPING__CHILD_MAPPINGS :
<                 return childMappings != null && ! childMappings.isEmpty ();
<             case GMFMapPackage.NODE_MAPPING__COMPARTMENT_MAPPINGS :
<                 return compartmentMappings != null && ! compartmentMappings.isEmpty ();
<             case GMFMapPackage.NODE_MAPPING__TOOL :
<                 return tool != null;
---
>     public boolean eIsSet (int featureID) {
>         switch (featureID) {
226c84
<         return eDynamicIsSet (eFeature);
---
>         return super.eIsSet (featureID);
