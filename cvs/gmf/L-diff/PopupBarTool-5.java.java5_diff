23,24d22
< import org.eclipse.gmf.runtime.diagram.ui.internal.tools.AbstractPopupBarTool;
< 
47,48c45,46
<         if (myRequest != null) {
<             return myRequest;
---
>         if (getCreateRequest () != null) {
>             return getCreateRequest ();
60c58
<         Command theCmd = myHostEditPart.getCommand (theRequest);
---
>         Command theCmd = getHost ().getCommand (theRequest);
68c66
<         EObject hostElement = ViewUtil.resolveSemanticElement ((View) myHostEditPart.getModel ());
---
>         EObject hostElement = ViewUtil.resolveSemanticElement ((View) getHost ().getModel ());
72c70
<             Command theRealCmd = ((IGraphicalEditPart) myHostEditPart).getCommand (semReq);
---
>             Command theRealCmd = ((IGraphicalEditPart) getHost ()).getCommand (semReq);
