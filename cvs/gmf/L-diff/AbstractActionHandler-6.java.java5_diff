52a53,54
> import org.eclipse.swt.widgets.Display;
> 
62a65,66
> import org.eclipse.ui.PlatformUI;
> 
261,262c265,279
<     protected void openErrorDialog (IStatus status) {
<         ErrorDialog.openError (getWorkbenchPart ().getSite ().getShell (), removeMnemonics (getLabel ()), null, status);
---
>     protected void openErrorDialog (final IStatus status) {
>         final Display workbenchDisplay = PlatformUI.getWorkbench ().getDisplay ();
>         if (workbenchDisplay.getThread () == Thread.currentThread ()) {
>             ErrorDialog.openError (workbenchDisplay.getActiveShell (), removeMnemonics (getLabel ()), null, status);
>         } else {
>             workbenchDisplay.asyncExec (new Runnable () {
> 
>                 public void run () {
>                     ErrorDialog.openError (workbenchDisplay.getActiveShell (), removeMnemonics (getLabel ()), null, status);
>                 }
> 
>             }
> 
>             );
>         }
