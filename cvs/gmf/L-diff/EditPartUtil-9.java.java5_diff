2a3,4
> import java.util.Iterator;
> 
12a15,20
> import org.eclipse.gef.EditPart;
> 
> import org.eclipse.gef.EditPolicy;
> 
> import org.eclipse.gef.editparts.AbstractGraphicalEditPart;
> 
14a23,24
> import org.eclipse.gmf.runtime.diagram.ui.editpolicies.EditPolicyRoles;
> 
35a46,70
>     public static void removeCanonicalEditPolicies (EditPart editPart, boolean considerChildren) {
>         EditPolicy ep = editPart.getEditPolicy (EditPolicyRoles.CANONICAL_ROLE);
>         if (ep != null) {
>             editPart.removeEditPolicy (ep);
>         }
>         if (considerChildren) {
>             Iterator childrenIterator = editPart.getChildren ().iterator ();
>             removeCanonicalEditPolicies (childrenIterator);
>             if (editPart instanceof AbstractGraphicalEditPart) {
>                 AbstractGraphicalEditPart gEP = (AbstractGraphicalEditPart) editPart;
>                 Iterator sourceConnectionsIterator = gEP.getSourceConnections ().iterator ();
>                 removeCanonicalEditPolicies (sourceConnectionsIterator);
>                 Iterator targetConnectionsIterator = gEP.getTargetConnections ().iterator ();
>                 removeCanonicalEditPolicies (targetConnectionsIterator);
>             }
>         }
>     }
> 
>     private static void removeCanonicalEditPolicies (Iterator childrenIterator) {
>         while (childrenIterator.hasNext ()) {
>             EditPart child = (EditPart) childrenIterator.next ();
>             removeCanonicalEditPolicies (child, true);
>         }
>     }
> 
