8a9,12
> import org.eclipse.core.runtime.IStatus;
> 
> import org.eclipse.core.runtime.Status;
> 
20a25,26
> import org.eclipse.gmf.internal.codegen.CodeGenUIPlugin;
> 
22a29,32
> import org.eclipse.jface.dialogs.MessageDialog;
> 
> import org.eclipse.jface.dialogs.MessageDialogWithToggle;
> 
26a37,38
> import org.eclipse.jface.preference.IPreferenceStore;
> 
30a43,44
> import org.eclipse.swt.widgets.Shell;
> 
35a50,51
>     private static final String ASK_INFO = "ask_info";
>     private static final String ASK_OK = "ask_ok";
37a54
>     private IStatus myRunStatus;
44a62
>             myRunStatus = Status.CANCEL_STATUS;
45a64,78
>             if (getRunStatus ().isOK ()) {
>                 if (! MessageDialogWithToggle.ALWAYS.equals (getPreferences ().getString (ASK_OK))) {
>                     MessageDialogWithToggle.openInformation (getShell (), getStatusDialogTitle (), CodeGenUIPlugin.getBundleString ("generatecode.ok"), CodeGenUIPlugin.getBundleString ("generatecode.neveragain"), false, getPreferences (), ASK_OK);
>                 }
>             } else if ((myRunStatus.getSeverity () & IStatus.ERROR) != 0) {
>                 CodeGenUIPlugin.getDefault ().getLog ().log (getRunStatus ());
>                 MessageDialog.openError (getShell (), getStatusDialogTitle (), formatMessage ("generatecode.err", getRunStatus ()));
>             } else if ((myRunStatus.getSeverity () & IStatus.WARNING) != 0) {
>                 MessageDialog.openWarning (getShell (), getStatusDialogTitle (), formatMessage ("generatecode.warn", getRunStatus ()));
>             } else if ((myRunStatus.getSeverity () & IStatus.INFO) != 0) {
>                 if (! MessageDialogWithToggle.ALWAYS.equals (getPreferences ().getString (ASK_INFO))) {
>                     MessageDialogWithToggle.openInformation (getShell (), getStatusDialogTitle (), formatMessage ("generatecode.info", getRunStatus ()), CodeGenUIPlugin.getBundleString ("generatecode.neveragain"), false, getPreferences (), ASK_INFO);
>                 }
>             }
> 
58a92,96
>         myRunStatus = g.getRunStatus ();
>     }
> 
>     private String getStatusDialogTitle () {
>         return CodeGenUIPlugin.getBundleString ("generatecode.status.title");
70a109,135
>     private String formatMessage (String bundleStringKey, IStatus status) {
>         if (status.isMultiStatus ()) {
>             IStatus [] children = status.getChildren ();
>             StringBuffer sb = new StringBuffer ();
>             for (int i = 0;
>             i < children.length; i ++) {
>                 sb.append (children [i].getMessage ());
>                 sb.append ('\n');
>             }
>             return CodeGenUIPlugin.getBundleString (bundleStringKey, new Object [] {sb.toString ()});
>         } else {
>             return CodeGenUIPlugin.getBundleString (bundleStringKey, new Object [] {status.getMessage ()});
>         }
>     }
> 
>     private IStatus getRunStatus () {
>         return myRunStatus;
>     }
> 
>     private static IPreferenceStore getPreferences () {
>         return CodeGenUIPlugin.getDefault ().getPreferenceStore ();
>     }
> 
>     private Shell getShell () {
>         return myPart.getSite ().getShell ();
>     }
> 
