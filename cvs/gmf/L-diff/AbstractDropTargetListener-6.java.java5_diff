219,221c219
<             if (System.getProperty ("RUN_PROGRESS_IN_THREAD") != null) {
<                 new ProgressMonitorDialog (null).run (true, cancelable, runnable);
<             } else {
---
>             if (System.getProperty ("RUN_PROGRESS_IN_UI_HACK") != null) {
222a221,222
>             } else {
>                 new ProgressMonitorDialog (null).run (true, cancelable, runnable);
