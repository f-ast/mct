6a7,8
> import java.lang.reflect.InvocationTargetException;
> 
37,38d38
< import org.eclipse.emf.codegen.jet.JETException;
< 
91c91,95
< import org.eclipse.gmf.common.codegen.GeneratorBase;
---
> import org.eclipse.gmf.internal.common.codegen.GeneratorBase;
> 
> import org.eclipse.gmf.internal.common.codegen.ImportUtil;
> 
> import org.eclipse.gmf.internal.common.codegen.JETEmitterAdapter;
255c259
<         doGenerateJavaClass (myEmitters.getReorientConnectionViewCommandEmitter (), myDiagram.getEditCommandsPackageName (), myDiagram.getReorientConnectionViewCommandClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getReorientConnectionViewCommandEmitter (), myDiagram.getEditCommandsPackageName (), myDiagram.getReorientConnectionViewCommandClassName (), myDiagram);
259c263
<         doGenerateJavaClass (myEmitters.getBaseEditHelperEmitter (), myDiagram.getEditHelpersPackageName (), myDiagram.getBaseEditHelperClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getBaseEditHelperEmitter (), myDiagram.getEditHelpersPackageName (), myDiagram.getBaseEditHelperClassName (), myDiagram);
273c277
<         doGenerateJavaClass (myEmitters.getEditHelperEmitter (), myDiagram.getEditHelpersPackageName (), genType.getEditHelperClassName (), genType);
---
>         internalGenerateJavaClass (myEmitters.getEditHelperEmitter (), myDiagram.getEditHelpersPackageName (), genType.getEditHelperClassName (), genType);
277c281
<         doGenerateJavaClass (myEmitters.getEditHelperAdviceEmitter (), myDiagram.getEditHelpersPackageName (), genType.getEditHelperAdviceClassName (), genType);
---
>         internalGenerateJavaClass (myEmitters.getEditHelperAdviceEmitter (), myDiagram.getEditHelpersPackageName (), genType.getEditHelperAdviceClassName (), genType);
281c285
<         doGenerateJavaClass (myEmitters.getDiagramEditPartEmitter (), myDiagram.getEditPartsPackageName (), myDiagram.getEditPartClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getDiagramEditPartEmitter (), myDiagram.getEditPartsPackageName (), myDiagram.getEditPartClassName (), myDiagram);
285c289
<         doGenerateJavaClass (myEmitters.getDiagramExternalNodeLabelEditPartEmitter (), myDiagram.getEditPartsPackageName (), myDiagram.getBaseExternalNodeLabelEditPartClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getDiagramExternalNodeLabelEditPartEmitter (), myDiagram.getEditPartsPackageName (), myDiagram.getBaseExternalNodeLabelEditPartClassName (), myDiagram);
289c293
<         doGenerateJavaClass (myEmitters.getNodeEditPartEmitter (), myDiagram.getEditPartsPackageName (), genNode.getEditPartClassName (), genNode);
---
>         internalGenerateJavaClass (myEmitters.getNodeEditPartEmitter (), myDiagram.getEditPartsPackageName (), genNode.getEditPartClassName (), genNode);
293c297
<         doGenerateJavaClass (myEmitters.getNodeLabelEditPartEmitter (), myDiagram.getEditPartsPackageName (), label.getEditPartClassName (), label);
---
>         internalGenerateJavaClass (myEmitters.getNodeLabelEditPartEmitter (), myDiagram.getEditPartsPackageName (), label.getEditPartClassName (), label);
297c301
<         doGenerateJavaClass (myEmitters.getExternalNodeLabelEditPartEmitter (), myDiagram.getEditPartsPackageName (), label.getEditPartClassName (), label);
---
>         internalGenerateJavaClass (myEmitters.getExternalNodeLabelEditPartEmitter (), myDiagram.getEditPartsPackageName (), label.getEditPartClassName (), label);
301c305
<         doGenerateJavaClass (myEmitters.getChildNodeEditPartEmitter (), myDiagram.getEditPartsPackageName (), genChildNode.getEditPartClassName (), genChildNode);
---
>         internalGenerateJavaClass (myEmitters.getChildNodeEditPartEmitter (), myDiagram.getEditPartsPackageName (), genChildNode.getEditPartClassName (), genChildNode);
305c309
<         doGenerateJavaClass (myEmitters.getCompartmentEditPartEmitter (), myDiagram.getEditPartsPackageName (), genCompartment.getEditPartClassName (), genCompartment);
---
>         internalGenerateJavaClass (myEmitters.getCompartmentEditPartEmitter (), myDiagram.getEditPartsPackageName (), genCompartment.getEditPartClassName (), genCompartment);
309c313
<         doGenerateJavaClass (myEmitters.getLinkEditPartEmitter (), myDiagram.getEditPartsPackageName (), genLink.getEditPartClassName (), genLink);
---
>         internalGenerateJavaClass (myEmitters.getLinkEditPartEmitter (), myDiagram.getEditPartsPackageName (), genLink.getEditPartClassName (), genLink);
313c317
<         doGenerateJavaClass (myEmitters.getLinkLabelEditPartEmitter (), myDiagram.getEditPartsPackageName (), label.getEditPartClassName (), label);
---
>         internalGenerateJavaClass (myEmitters.getLinkLabelEditPartEmitter (), myDiagram.getEditPartsPackageName (), label.getEditPartClassName (), label);
317c321
<         doGenerateJavaClass (myEmitters.getEditPartFactoryEmitter (), myDiagram.getEditPartsPackageName (), myDiagram.getEditPartFactoryClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getEditPartFactoryEmitter (), myDiagram.getEditPartsPackageName (), myDiagram.getEditPartFactoryClassName (), myDiagram);
321c325
<         doGenerateJavaClass (myEmitters.getBaseItemSemanticEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), myDiagram.getBaseItemSemanticEditPolicyClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getBaseItemSemanticEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), myDiagram.getBaseItemSemanticEditPolicyClassName (), myDiagram);
325c329
<         doGenerateJavaClass (myEmitters.getBaseGraphicalNodeEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), myDiagram.getBaseGraphicalNodeEditPolicyClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getBaseGraphicalNodeEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), myDiagram.getBaseGraphicalNodeEditPolicyClassName (), myDiagram);
329c333
<         doGenerateJavaClass (myEmitters.getDiagramCanonicalEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), myDiagram.getCanonicalEditPolicyClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getDiagramCanonicalEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), myDiagram.getCanonicalEditPolicyClassName (), myDiagram);
333c337
<         doGenerateJavaClass (myEmitters.getChildContainerCanonicalEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), genContainer.getCanonicalEditPolicyClassName (), genContainer);
---
>         internalGenerateJavaClass (myEmitters.getChildContainerCanonicalEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), genContainer.getCanonicalEditPolicyClassName (), genContainer);
337c341
<         doGenerateJavaClass (myEmitters.getDiagramItemSemanticEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), myDiagram.getItemSemanticEditPolicyClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getDiagramItemSemanticEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), myDiagram.getItemSemanticEditPolicyClassName (), myDiagram);
341c345
<         doGenerateJavaClass (myEmitters.getCompartmentItemSemanticEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), genCompartment.getItemSemanticEditPolicyClassName (), genCompartment);
---
>         internalGenerateJavaClass (myEmitters.getCompartmentItemSemanticEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), genCompartment.getItemSemanticEditPolicyClassName (), genCompartment);
345c349
<         doGenerateJavaClass (myEmitters.getNodeGraphicalNodeEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), genNode.getGraphicalNodeEditPolicyClassName (), genNode);
---
>         internalGenerateJavaClass (myEmitters.getNodeGraphicalNodeEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), genNode.getGraphicalNodeEditPolicyClassName (), genNode);
349c353
<         doGenerateJavaClass (myEmitters.getNodeItemSemanticEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), genNode.getItemSemanticEditPolicyClassName (), genNode);
---
>         internalGenerateJavaClass (myEmitters.getNodeItemSemanticEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), genNode.getItemSemanticEditPolicyClassName (), genNode);
353c357
<         doGenerateJavaClass (myEmitters.getLinkItemSemanticEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), genLink.getItemSemanticEditPolicyClassName (), genLink);
---
>         internalGenerateJavaClass (myEmitters.getLinkItemSemanticEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), genLink.getItemSemanticEditPolicyClassName (), genLink);
357c361
<         doGenerateJavaClass (myEmitters.getTextSelectionEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), myDiagram.getTextSelectionEditPolicyClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getTextSelectionEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), myDiagram.getTextSelectionEditPolicyClassName (), myDiagram);
361c365
<         doGenerateJavaClass (myEmitters.getTextNonResizableEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), myDiagram.getTextNonResizableEditPolicyClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getTextNonResizableEditPolicyEmitter (), myDiagram.getEditPoliciesPackageName (), myDiagram.getTextNonResizableEditPolicyClassName (), myDiagram);
365c369
<         doGenerateJavaClass (myEmitters.getAbstractParserEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getAbstractParserClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getAbstractParserEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getAbstractParserClassName (), myDiagram);
369c373
<         doGenerateJavaClass (myEmitters.getStructuralFeatureParserEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getStructuralFeatureParserClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getStructuralFeatureParserEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getStructuralFeatureParserClassName (), myDiagram);
373c377
<         doGenerateJavaClass (myEmitters.getStructuralFeaturesParserEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getStructuralFeaturesParserClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getStructuralFeaturesParserEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getStructuralFeaturesParserClassName (), myDiagram);
377c381
<         doGenerateJavaClass (myEmitters.getElementTypesEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getElementTypesClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getElementTypesEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getElementTypesClassName (), myDiagram);
381c385
<         doGenerateJavaClass (myEmitters.getViewProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getNotationViewProviderClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getViewProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getNotationViewProviderClassName (), myDiagram);
385c389
<         doGenerateJavaClass (myEmitters.getEditPartProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getEditPartProviderClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getEditPartProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getEditPartProviderClassName (), myDiagram);
389c393
<         doGenerateJavaClass (myEmitters.getPaletteProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getPaletteProviderClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getPaletteProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getPaletteProviderClassName (), myDiagram);
393c397
<         doGenerateJavaClass (myEmitters.getModelingAssistantProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getModelingAssistantProviderClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getModelingAssistantProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getModelingAssistantProviderClassName (), myDiagram);
397c401
<         doGenerateJavaClass (myEmitters.getPropertyProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getPropertyProviderClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getPropertyProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getPropertyProviderClassName (), myDiagram);
401c405
<         doGenerateJavaClass (myEmitters.getIconProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getIconProviderClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getIconProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getIconProviderClassName (), myDiagram);
405c409
<         doGenerateJavaClass (myEmitters.getParserProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getParserProviderClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getParserProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getParserProviderClassName (), myDiagram);
409c413
<         doGenerateJavaClass (myEmitters.getValidationProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getValidationProviderClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getValidationProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getValidationProviderClassName (), myDiagram);
413c417
<         doGenerateJavaClass (myEmitters.getValidationDecoratorProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getValidationDecoratorProviderClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getValidationDecoratorProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getValidationDecoratorProviderClassName (), myDiagram);
417c421
<         doGenerateJavaClass (myEmitters.getShortcutsDecoratorProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getShortcutsDecoratorProviderClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getShortcutsDecoratorProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getShortcutsDecoratorProviderClassName (), myDiagram);
421c425
<         doGenerateJavaClass (myEmitters.getMetricProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getMetricProviderClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getMetricProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getMetricProviderClassName (), myDiagram);
425c429
<         doGenerateJavaClass (myEmitters.getMarkerNavigationProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getMarkerNavigationProviderClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getMarkerNavigationProviderEmitter (), myDiagram.getProvidersPackageName (), myDiagram.getMarkerNavigationProviderClassName (), myDiagram);
429c433
<         doGenerateJavaClass (myEmitters.getViewFactoryEmitter (), myDiagram.getNotationViewFactoriesPackageName (), genElement.getNotationViewFactoryClassName (), genElement);
---
>         internalGenerateJavaClass (myEmitters.getViewFactoryEmitter (), myDiagram.getNotationViewFactoriesPackageName (), genElement.getNotationViewFactoryClassName (), genElement);
433c437
<         doGenerateJavaClass (myEmitters.getLabelViewFactoryEmitter (), myDiagram.getNotationViewFactoriesPackageName (), label.getNotationViewFactoryClassName (), label);
---
>         internalGenerateJavaClass (myEmitters.getLabelViewFactoryEmitter (), myDiagram.getNotationViewFactoriesPackageName (), label.getNotationViewFactoryClassName (), label);
437c441
<         doGenerateJavaClass (myEmitters.getLabelViewFactoryEmitter (), myDiagram.getNotationViewFactoriesPackageName (), label.getNotationViewFactoryClassName (), label);
---
>         internalGenerateJavaClass (myEmitters.getLabelViewFactoryEmitter (), myDiagram.getNotationViewFactoriesPackageName (), label.getNotationViewFactoryClassName (), label);
441c445
<         doGenerateJavaClass (myEmitters.getLabelTextViewFactoryEmitter (), myDiagram.getNotationViewFactoriesPackageName (), label.getNotationViewFactoryClassName (), label);
---
>         internalGenerateJavaClass (myEmitters.getLabelTextViewFactoryEmitter (), myDiagram.getNotationViewFactoriesPackageName (), label.getNotationViewFactoryClassName (), label);
445c449
<         doGenerateJavaClass (myEmitters.getInitDiagramFileActionEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getInitDiagramFileActionClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getInitDiagramFileActionEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getInitDiagramFileActionClassName (), myDiagram);
449c453
<         doGenerateJavaClass (myEmitters.getNewDiagramFileWizardEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getNewDiagramFileWizardClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getNewDiagramFileWizardEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getNewDiagramFileWizardClassName (), myDiagram);
456c460
<         doGenerateJavaClass (myEmitters.getPaletteEmitter (), myDiagram.getPalette ().getPackageName (), myDiagram.getPalette ().getFactoryClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getPaletteEmitter (), myDiagram.getPalette ().getPackageName (), myDiagram.getPalette ().getFactoryClassName (), myDiagram);
460c464
<         doGenerateJavaClass (myEmitters.getDiagramEditorUtilEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getDiagramEditorUtilClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getDiagramEditorUtilEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getDiagramEditorUtilClassName (), myDiagram);
464c468
<         doGenerateJavaClass (myEmitters.getDiagramFileCreatorEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getDiagramFileCreatorClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getDiagramFileCreatorEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getDiagramFileCreatorClassName (), myDiagram);
468c472
<         doGenerateJavaClass (myEmitters.getVisualIDRegistryEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getVisualIDRegistryClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getVisualIDRegistryEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getVisualIDRegistryClassName (), myDiagram);
472c476
<         doGenerateJavaClass (myEmitters.getCreationWizardEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getCreationWizardClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getCreationWizardEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getCreationWizardClassName (), myDiagram);
476c480
<         doGenerateJavaClass (myEmitters.getCreationWizardPageEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getCreationWizardPageClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getCreationWizardPageEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getCreationWizardPageClassName (), myDiagram);
481c485
<         doGenerateJavaClass (myEmitters.getEditorEmitter (), editor.getPackageName (), editor.getClassName (), editor);
---
>         internalGenerateJavaClass (myEmitters.getEditorEmitter (), editor.getPackageName (), editor.getClassName (), editor);
488c492
<         doGenerateJavaClass (myEmitters.getCreateShortcutActionEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getCreateShortcutActionClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getCreateShortcutActionEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getCreateShortcutActionClassName (), myDiagram);
492c496
<         doGenerateJavaClass (myEmitters.getLoadResourceActionEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getLoadResourceActionClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getLoadResourceActionEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getLoadResourceActionClassName (), myDiagram);
499c503
<         doGenerateJavaClass (myEmitters.getElementChooserEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getElementChooserClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getElementChooserEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getElementChooserClassName (), myDiagram);
503c507
<         doGenerateJavaClass (myEmitters.getDocumentProviderEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getDocumentProviderClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getDocumentProviderEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getDocumentProviderClassName (), myDiagram);
508c512
<         doGenerateJavaClass (myEmitters.getActionBarContributorEmitter (), editor.getPackageName (), editor.getActionBarContributorClassName (), editor);
---
>         internalGenerateJavaClass (myEmitters.getActionBarContributorEmitter (), editor.getPackageName (), editor.getActionBarContributorClassName (), editor);
512c516
<         doGenerateJavaClass (myEmitters.getMatchingStrategyEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getMatchingStrategyClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getMatchingStrategyEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getMatchingStrategyClassName (), myDiagram);
516c520
<         doGenerateJavaClass (myEmitters.getPreferencesInitializerEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getPreferenceInitializerClassName (), myEditorGen);
---
>         internalGenerateJavaClass (myEmitters.getPreferencesInitializerEmitter (), myEditorGen.getEditor ().getPackageName (), myDiagram.getPreferenceInitializerClassName (), myEditorGen);
520c524
<         doGenerateJavaClass (myEmitters.getPluginClassEmitter (), myEditorGen.getEditor ().getPackageName (), myEditorGen.getPlugin ().getActivatorClassName (), myEditorGen.getPlugin ());
---
>         internalGenerateJavaClass (myEmitters.getPluginClassEmitter (), myEditorGen.getEditor ().getPackageName (), myEditorGen.getPlugin ().getActivatorClassName (), myEditorGen.getPlugin ());
525c529
<         doGenerateJavaClass (myEmitters.getAbstractExpressionEmitter (), providerContainer.getExpressionsPackageName (), providerContainer.getAbstractExpressionClassName (), myDiagram);
---
>         internalGenerateJavaClass (myEmitters.getAbstractExpressionEmitter (), providerContainer.getExpressionsPackageName (), providerContainer.getAbstractExpressionClassName (), myDiagram);
539c543
<                     doGenerateJavaClass (providerEmitter, providerContainer.getExpressionsPackageName (), interpreter.getClassName (), interpreter);
---
>                     internalGenerateJavaClass (providerEmitter, providerContainer.getExpressionsPackageName (), interpreter.getClassName (), interpreter);
546c550
<         doGenerateFile (myEmitters.getPluginXmlEmitter (), new Path ("plugin.xml"), myDiagram.getEditorGen ().getPlugin ());
---
>         doGenerateFile (myEmitters.getPluginXmlEmitter (), new Path ("plugin.xml"), new Object [] {myDiagram.getEditorGen ().getPlugin ()});
550c554
<         doGenerateFile (myEmitters.getPluginPropertiesEmitter (), new Path ("plugin.properties"), myDiagram.getEditorGen ().getPlugin ());
---
>         doGenerateFile (myEmitters.getPluginPropertiesEmitter (), new Path ("plugin.properties"), new Object [] {myDiagram.getEditorGen ().getPlugin ()});
554c558
<         doGenerateFile (myEmitters.getOptionsFileEmitter (), new Path (".options"), myDiagram.getEditorGen ().getPlugin ());
---
>         doGenerateFile (myEmitters.getOptionsFileEmitter (), new Path (".options"), new Object [] {myDiagram.getEditorGen ().getPlugin ()});
558c562
<         doGenerateFile (myEmitters.getBundleManifestEmitter (), new Path ("META-INF/MANIFEST.MF"), myDiagram.getEditorGen ().getPlugin ());
---
>         doGenerateFile (myEmitters.getBundleManifestEmitter (), new Path ("META-INF/MANIFEST.MF"), new Object [] {myDiagram.getEditorGen ().getPlugin ()});
562c566
<         doGenerateFile (myEmitters.getBuildPropertiesEmitter (), new Path ("build.properties"), myDiagram);
---
>         doGenerateFile (myEmitters.getBuildPropertiesEmitter (), new Path ("build.properties"), new Object [] {myDiagram});
569c573
<             pm.beginTask (iconPath.lastSegment (), 3);
---
>             pm.beginTask (iconPath.lastSegment (), 4);
573c577
<             byte [] contents = myEmitters.getShortcutImageEmitter ().generateGif ();
---
>             byte [] contents = myEmitters.getShortcutImageEmitter ().generate (new SubProgressMonitor (pm, 1), null);
584,585c588,589
<         } catch (JETException ex) {
<             handleException (ex.getStatus ());
---
>         } catch (InvocationTargetException ex) {
>             handleException (ex.getCause ());
592a597,601
>     private void internalGenerateJavaClass (JETEmitter emitter, String packageName, String className, Object argument) throws InterruptedException {
>         ImportUtil importUtil = new ImportUtil (packageName, className);
>         doGenerateJavaClass (new JETEmitterAdapter (emitter), packageName, className, new Object [] {new Object [] {argument, importUtil}});
>     }
> 
