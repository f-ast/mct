100c100,106
<         List result = specializationTypeRegistry.getEditHelperAdvice (eObject, getMetamodelTypeDescriptor (eObject));
---
>         Collection result;
>         MetamodelTypeDescriptor desc = getMetamodelTypeDescriptor (eObject);
>         if (desc == null) {
>             result = specializationTypeRegistry.getEditHelperAdvice (eObject, DefaultMetamodelType.getDescriptorInstance ());
>         } else {
>             result = specializationTypeRegistry.getEditHelperAdvice (eObject, desc);
>         }
179c185,189
<         return getMetamodelType (eClass);
---
>         IElementType result = getMetamodelType (eClass);
>         if (result == null) {
>             result = DefaultMetamodelType.getInstance ();
>         }
>         return result;
183c193,197
<         return getMetamodelType (eObject);
---
>         IElementType result = getMetamodelType (eObject);
>         if (result == null) {
>             result = DefaultMetamodelType.getInstance ();
>         }
>         return result;
212c226,232
<             Collection specializations = specializationTypeRegistry.getSpecializationDescriptorsMatching (eObject, getMetamodelTypeDescriptor (eObject));
---
>             Collection specializations;
>             MetamodelTypeDescriptor desc = getMetamodelTypeDescriptor (eObject);
>             if (desc == null) {
>                 specializations = Collections.EMPTY_LIST;
>             } else {
>                 specializations = specializationTypeRegistry.getSpecializationDescriptorsMatching (eObject, desc);
>             }
225a246,248
>         if (result.isEmpty ()) {
>             result.add (DefaultMetamodelType.getInstance ());
>         }
232a256,257
>         } else if (DefaultMetamodelType.ID.equals (id)) {
>             return DefaultMetamodelType.getInstance ();
233a259
> 
