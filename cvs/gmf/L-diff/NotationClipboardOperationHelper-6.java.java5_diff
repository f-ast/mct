102c102
<         if ((parentEObject instanceof Diagram) && (eObject instanceof View)) {
---
>         if ((parentEObject instanceof View) && (eObject instanceof View)) {
114,118c114,118
<             EPackage diagramRootContainerEpackage = EcoreUtil.getRootContainer (parentEObject).eClass ().getEPackage ();
<             EPackage sematicDiagramRootContainerEpackage = null;
<             EObject sematicDiagramElement = ((View) parentEObject).getElement ();
<             if (sematicDiagramElement != null) {
<                 sematicDiagramRootContainerEpackage = EcoreUtil.getRootContainer (sematicDiagramElement).eClass ().getEPackage ();
---
>             EPackage parentRootContainerEpackage = EcoreUtil.getRootContainer (parentEObject).eClass ().getEPackage ();
>             EPackage sematicParentRootContainerEpackage = null;
>             EObject sematicParentElement = ((View) parentEObject).getElement ();
>             if (sematicParentElement != null) {
>                 sematicParentRootContainerEpackage = EcoreUtil.getRootContainer (sematicParentElement).eClass ().getEPackage ();
120,121c120,121
<             if (diagramRootContainerEpackage != NotationPackage.eINSTANCE) {
<                 if (semanticChildEpackage != diagramRootContainerEpackage) {
---
>             if (parentRootContainerEpackage != NotationPackage.eINSTANCE) {
>                 if (semanticChildEpackage != parentRootContainerEpackage) {
125,126c125,126
<             if ((sematicDiagramRootContainerEpackage != null) && (sematicDiagramRootContainerEpackage != NotationPackage.eINSTANCE)) {
<                 if (semanticChildEpackage != sematicDiagramRootContainerEpackage) {
---
>             if ((sematicParentRootContainerEpackage != null) && (sematicParentRootContainerEpackage != NotationPackage.eINSTANCE)) {
>                 if (semanticChildEpackage != sematicParentRootContainerEpackage) {
