23,24d22
< import org.eclipse.emf.ecore.util.EcoreUtil;
< 
26a25,26
> import org.eclipse.gmf.internal.common.migrate.ModelLoadHelper;
> 
76,82c76,78
<         Resource resource = MigrationUtil.migrateModel (fileURI);
<         if (resource == null) {
<             return;
<         }
<         if (! resource.getErrors ().isEmpty () || ! resource.getWarnings ().isEmpty ()) {
<             IStatus loadStatus = BasicDiagnostic.toIStatus (EcoreUtil.computeDiagnostic (resource, true));
<             openErrorDialog (action.getText (), Messages.migration_problemsDetectedTitle, loadStatus);
---
>         ModelLoadHelper loadHelper = MigrationUtil.migrateModel (fileURI);
>         if (! loadHelper.isOK ()) {
>             DiagnosticsDialog.openOk (getShell (), action.getText (), Messages.migration_problemsDetectedTitle, loadHelper.getDiagnostics ());
99a96
>         Resource resource = loadHelper.getLoadedResource ();
