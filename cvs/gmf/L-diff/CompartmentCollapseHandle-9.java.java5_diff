22a23,24
> import org.eclipse.emf.transaction.TransactionalEditingDomain;
> 
104c106
<             DiagramEventBroker.getInstance ().addNotificationListener (owner.getNotationView (), CompartmentCollapseHandle.this);
---
>             getDiagramEventBroker ().addNotificationListener (owner.getNotationView (), CompartmentCollapseHandle.this);
110c112
<         DiagramEventBroker.getInstance ().removeNotificationListener (owner.getNotationView (), this);
---
>         getDiagramEventBroker ().removeNotificationListener (owner.getNotationView (), this);
113a116,123
>     private DiagramEventBroker getDiagramEventBroker () {
>         TransactionalEditingDomain theEditingDomain = ((IGraphicalEditPart) getOwner ()).getEditingDomain ();
>         if (theEditingDomain != null) {
>             return DiagramEventBroker.getInstance (theEditingDomain);
>         }
>         return null;
>     }
> 
