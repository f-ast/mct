10a11,12
> import org.eclipse.gmf.runtime.diagram.ui.editparts.INotableEditPart;
> 
14a17,18
> import org.eclipse.gmf.runtime.emf.type.core.IElementType;
> 
27,28d30
< import org.eclipse.gmf.runtime.emf.type.core.IElementType;
< 
54a57,59
>         if (source != null) {
>             INotableEditPart noteable = (INotableEditPart) source.getAdapter (INotableEditPart.class);
>             if (noteable != null && noteable.canAttachNote ()) {
56a62,64
>         }
>         return Collections.EMPTY_LIST;
>     }
58a67,69
>         if (target != null) {
>             INotableEditPart noteable = (INotableEditPart) target.getAdapter (INotableEditPart.class);
>             if (noteable != null && noteable.canAttachNote ()) {
60a72,74
>         }
>         return Collections.EMPTY_LIST;
>     }
63c77,89
<         return source.getAdapter (NoteEditPart.class) != null || target.getAdapter (NoteEditPart.class) != null ? getConnectorTypes () : Collections.EMPTY_LIST;
---
>         if (source.getAdapter (NoteEditPart.class) != null) {
>             INotableEditPart noteable = (INotableEditPart) target.getAdapter (INotableEditPart.class);
>             if (noteable != null && noteable.canAttachNote ()) {
>                 return getConnectorTypes ();
>             }
>         } else if (target.getAdapter (NoteEditPart.class) != null) {
>             INotableEditPart noteable = (INotableEditPart) source.getAdapter (INotableEditPart.class);
>             if (noteable != null && noteable.canAttachNote ()) {
>                 return getConnectorTypes ();
>             }
>         }
> 
>         return Collections.EMPTY_LIST;
