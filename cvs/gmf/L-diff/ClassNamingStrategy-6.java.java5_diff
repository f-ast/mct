17a18
>     private static final int MAX_SEGMENT_LENGTH = 23;
73c74,78
<             return createClassName (getLabelHostPrefix (mapping) + sb.toString ());
---
>             String name = sb.toString ();
>             if (name.length () > MAX_SEGMENT_LENGTH) {
>                 name = name.substring (0, MAX_SEGMENT_LENGTH);
>             }
>             return createClassName (getLabelHostPrefix (mapping) + name);
