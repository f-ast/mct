50a51,52
> import org.eclipse.gmf.runtime.diagram.ui.commands.CommandProxy;
> 
59,60d60
< import org.eclipse.gmf.runtime.diagram.ui.commands.CommandProxy;
< 
89,90d88
< import org.eclipse.gmf.runtime.notation.Diagram;
< 
200,204c198,200
<             EObject hostElement;
<             if (view instanceof Diagram) {
<                 hostElement = view.getDiagram ();
<             } else {
<                 hostElement = ViewUtil.resolveSemanticElement (view);
---
>             EObject hostElement = ViewUtil.resolveSemanticElement (view);
>             if (hostElement == null && view.getElement () == null) {
>                 hostElement = view;
