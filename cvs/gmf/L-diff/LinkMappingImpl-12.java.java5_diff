11,12d10
< import org.eclipse.emf.ecore.EReference;
< 
21,23c19
< import org.eclipse.gmf.mappings.Constraint;
< 
< import org.eclipse.gmf.mappings.ElementInitializer;
---
> import org.eclipse.gmf.mappings.AppearanceSteward;
31c27,35
< import org.eclipse.gmf.mappings.Tool;
---
> import org.eclipse.gmf.mappings.MenuOwner;
> 
> import org.eclipse.gmf.mappings.ToolOwner;
> 
> import org.eclipse.gmf.tooldef.AbstractTool;
> 
> import org.eclipse.gmf.tooldef.ContextMenu;
> 
> import org.eclipse.gmf.tooldef.StyleSelector;
33a38,40
>     protected ContextMenu contextMenu = null;
>     protected AbstractTool tool = null;
>     protected StyleSelector appearanceStyle = null;
35,38d41
<     protected EClass domainMetaElement = null;
<     protected Constraint domainSpecialization = null;
<     protected ElementInitializer domainInitializer = null;
<     protected EReference containmentFeature = null;
44d46
<     protected Tool tool = null;
53a56,78
>     public ContextMenu getContextMenu () {
>         if (contextMenu != null && contextMenu.eIsProxy ()) {
>             InternalEObject oldContextMenu = (InternalEObject) contextMenu;
>             contextMenu = (ContextMenu) eResolveProxy (oldContextMenu);
>             if (contextMenu != oldContextMenu) {
>                 if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.RESOLVE, GMFMapPackage.LINK_MAPPING__CONTEXT_MENU, oldContextMenu, contextMenu));
> 
>             }
>         }
>         return contextMenu;
>     }
> 
>     public ContextMenu basicGetContextMenu () {
>         return contextMenu;
>     }
> 
>     public void setContextMenu (ContextMenu newContextMenu) {
>         ContextMenu oldContextMenu = contextMenu;
>         contextMenu = newContextMenu;
>         if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFMapPackage.LINK_MAPPING__CONTEXT_MENU, oldContextMenu, contextMenu));
> 
>     }
> 
77,182d101
<     public EClass getDomainMetaElement () {
<         if (domainMetaElement != null && domainMetaElement.eIsProxy ()) {
<             InternalEObject oldDomainMetaElement = (InternalEObject) domainMetaElement;
<             domainMetaElement = (EClass) eResolveProxy (oldDomainMetaElement);
<             if (domainMetaElement != oldDomainMetaElement) {
<                 if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.RESOLVE, GMFMapPackage.LINK_MAPPING__DOMAIN_META_ELEMENT, oldDomainMetaElement, domainMetaElement));
< 
<             }
<         }
<         return domainMetaElement;
<     }
< 
<     public EClass basicGetDomainMetaElement () {
<         return domainMetaElement;
<     }
< 
<     public void setDomainMetaElement (EClass newDomainMetaElement) {
<         EClass oldDomainMetaElement = domainMetaElement;
<         domainMetaElement = newDomainMetaElement;
<         if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFMapPackage.LINK_MAPPING__DOMAIN_META_ELEMENT, oldDomainMetaElement, domainMetaElement));
< 
<     }
< 
<     public Constraint getDomainSpecialization () {
<         return domainSpecialization;
<     }
< 
<     public NotificationChain basicSetDomainSpecialization (Constraint newDomainSpecialization, NotificationChain msgs) {
<         Constraint oldDomainSpecialization = domainSpecialization;
<         domainSpecialization = newDomainSpecialization;
<         if (eNotificationRequired ()) {
<             ENotificationImpl notification = new ENotificationImpl (this, Notification.SET, GMFMapPackage.LINK_MAPPING__DOMAIN_SPECIALIZATION, oldDomainSpecialization, newDomainSpecialization);
<             if (msgs == null) msgs = notification;
<             else msgs.add (notification);
< 
<         }
<         return msgs;
<     }
< 
<     public void setDomainSpecialization (Constraint newDomainSpecialization) {
<         if (newDomainSpecialization != domainSpecialization) {
<             NotificationChain msgs = null;
<             if (domainSpecialization != null) msgs = ((InternalEObject) domainSpecialization).eInverseRemove (this, EOPPOSITE_FEATURE_BASE - GMFMapPackage.LINK_MAPPING__DOMAIN_SPECIALIZATION, null, msgs);
< 
<             if (newDomainSpecialization != null) msgs = ((InternalEObject) newDomainSpecialization).eInverseAdd (this, EOPPOSITE_FEATURE_BASE - GMFMapPackage.LINK_MAPPING__DOMAIN_SPECIALIZATION, null, msgs);
< 
<             msgs = basicSetDomainSpecialization (newDomainSpecialization, msgs);
<             if (msgs != null) msgs.dispatch ();
< 
<         } else if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFMapPackage.LINK_MAPPING__DOMAIN_SPECIALIZATION, newDomainSpecialization, newDomainSpecialization));
< 
<     }
< 
<     public ElementInitializer getDomainInitializer () {
<         return domainInitializer;
<     }
< 
<     public NotificationChain basicSetDomainInitializer (ElementInitializer newDomainInitializer, NotificationChain msgs) {
<         ElementInitializer oldDomainInitializer = domainInitializer;
<         domainInitializer = newDomainInitializer;
<         if (eNotificationRequired ()) {
<             ENotificationImpl notification = new ENotificationImpl (this, Notification.SET, GMFMapPackage.LINK_MAPPING__DOMAIN_INITIALIZER, oldDomainInitializer, newDomainInitializer);
<             if (msgs == null) msgs = notification;
<             else msgs.add (notification);
< 
<         }
<         return msgs;
<     }
< 
<     public void setDomainInitializer (ElementInitializer newDomainInitializer) {
<         if (newDomainInitializer != domainInitializer) {
<             NotificationChain msgs = null;
<             if (domainInitializer != null) msgs = ((InternalEObject) domainInitializer).eInverseRemove (this, EOPPOSITE_FEATURE_BASE - GMFMapPackage.LINK_MAPPING__DOMAIN_INITIALIZER, null, msgs);
< 
<             if (newDomainInitializer != null) msgs = ((InternalEObject) newDomainInitializer).eInverseAdd (this, EOPPOSITE_FEATURE_BASE - GMFMapPackage.LINK_MAPPING__DOMAIN_INITIALIZER, null, msgs);
< 
<             msgs = basicSetDomainInitializer (newDomainInitializer, msgs);
<             if (msgs != null) msgs.dispatch ();
< 
<         } else if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFMapPackage.LINK_MAPPING__DOMAIN_INITIALIZER, newDomainInitializer, newDomainInitializer));
< 
<     }
< 
<     public EReference getContainmentFeature () {
<         if (containmentFeature != null && containmentFeature.eIsProxy ()) {
<             InternalEObject oldContainmentFeature = (InternalEObject) containmentFeature;
<             containmentFeature = (EReference) eResolveProxy (oldContainmentFeature);
<             if (containmentFeature != oldContainmentFeature) {
<                 if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.RESOLVE, GMFMapPackage.LINK_MAPPING__CONTAINMENT_FEATURE, oldContainmentFeature, containmentFeature));
< 
<             }
<         }
<         return containmentFeature;
<     }
< 
<     public EReference basicGetContainmentFeature () {
<         return containmentFeature;
<     }
< 
<     public void setContainmentFeature (EReference newContainmentFeature) {
<         EReference oldContainmentFeature = containmentFeature;
<         containmentFeature = newContainmentFeature;
<         if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFMapPackage.LINK_MAPPING__CONTAINMENT_FEATURE, oldContainmentFeature, containmentFeature));
< 
<     }
< 
313c232,240
<     public Tool getTool () {
---
>     public AbstractTool getTool () {
>         if (tool != null && tool.eIsProxy ()) {
>             InternalEObject oldTool = (InternalEObject) tool;
>             tool = (AbstractTool) eResolveProxy (oldTool);
>             if (tool != oldTool) {
>                 if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.RESOLVE, GMFMapPackage.LINK_MAPPING__TOOL, oldTool, tool));
> 
>             }
>         }
317,318c244,249
<     public NotificationChain basicSetTool (Tool newTool, NotificationChain msgs) {
<         Tool oldTool = tool;
---
>     public AbstractTool basicGetTool () {
>         return tool;
>     }
> 
>     public void setTool (AbstractTool newTool) {
>         AbstractTool oldTool = tool;
320,323c251
<         if (eNotificationRequired ()) {
<             ENotificationImpl notification = new ENotificationImpl (this, Notification.SET, GMFMapPackage.LINK_MAPPING__TOOL, oldTool, newTool);
<             if (msgs == null) msgs = notification;
<             else msgs.add (notification);
---
>         if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFMapPackage.LINK_MAPPING__TOOL, oldTool, tool));
326,327d253
<         return msgs;
<     }
329,332c255,260
<     public void setTool (Tool newTool) {
<         if (newTool != tool) {
<             NotificationChain msgs = null;
<             if (tool != null) msgs = ((InternalEObject) tool).eInverseRemove (this, EOPPOSITE_FEATURE_BASE - GMFMapPackage.LINK_MAPPING__TOOL, null, msgs);
---
>     public StyleSelector getAppearanceStyle () {
>         if (appearanceStyle != null && appearanceStyle.eIsProxy ()) {
>             InternalEObject oldAppearanceStyle = (InternalEObject) appearanceStyle;
>             appearanceStyle = (StyleSelector) eResolveProxy (oldAppearanceStyle);
>             if (appearanceStyle != oldAppearanceStyle) {
>                 if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.RESOLVE, GMFMapPackage.LINK_MAPPING__APPEARANCE_STYLE, oldAppearanceStyle, appearanceStyle));
334c262,265
<             if (newTool != null) msgs = ((InternalEObject) newTool).eInverseAdd (this, EOPPOSITE_FEATURE_BASE - GMFMapPackage.LINK_MAPPING__TOOL, null, msgs);
---
>             }
>         }
>         return appearanceStyle;
>     }
336,337c267,269
<             msgs = basicSetTool (newTool, msgs);
<             if (msgs != null) msgs.dispatch ();
---
>     public StyleSelector basicGetAppearanceStyle () {
>         return appearanceStyle;
>     }
339c271,274
<         } else if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFMapPackage.LINK_MAPPING__TOOL, newTool, newTool));
---
>     public void setAppearanceStyle (StyleSelector newAppearanceStyle) {
>         StyleSelector oldAppearanceStyle = appearanceStyle;
>         appearanceStyle = newAppearanceStyle;
>         if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFMapPackage.LINK_MAPPING__APPEARANCE_STYLE, oldAppearanceStyle, appearanceStyle));
365,368d299
<             case GMFMapPackage.LINK_MAPPING__DOMAIN_SPECIALIZATION :
<                 return basicSetDomainSpecialization (null, msgs);
<             case GMFMapPackage.LINK_MAPPING__DOMAIN_INITIALIZER :
<                 return basicSetDomainInitializer (null, msgs);
371,372d301
<             case GMFMapPackage.LINK_MAPPING__TOOL :
<                 return basicSetTool (null, msgs);
378a308,319
>             case GMFMapPackage.LINK_MAPPING__CONTEXT_MENU :
>                 if (resolve) return getContextMenu ();
> 
>                 return basicGetContextMenu ();
>             case GMFMapPackage.LINK_MAPPING__TOOL :
>                 if (resolve) return getTool ();
> 
>                 return basicGetTool ();
>             case GMFMapPackage.LINK_MAPPING__APPEARANCE_STYLE :
>                 if (resolve) return getAppearanceStyle ();
> 
>                 return basicGetAppearanceStyle ();
383,394d323
<             case GMFMapPackage.LINK_MAPPING__DOMAIN_META_ELEMENT :
<                 if (resolve) return getDomainMetaElement ();
< 
<                 return basicGetDomainMetaElement ();
<             case GMFMapPackage.LINK_MAPPING__DOMAIN_SPECIALIZATION :
<                 return getDomainSpecialization ();
<             case GMFMapPackage.LINK_MAPPING__DOMAIN_INITIALIZER :
<                 return getDomainInitializer ();
<             case GMFMapPackage.LINK_MAPPING__CONTAINMENT_FEATURE :
<                 if (resolve) return getContainmentFeature ();
< 
<                 return basicGetContainmentFeature ();
413,414d341
<             case GMFMapPackage.LINK_MAPPING__TOOL :
<                 return getTool ();
421,422c348,349
<             case GMFMapPackage.LINK_MAPPING__DIAGRAM_LINK :
<                 setDiagramLink ((Connection) newValue);
---
>             case GMFMapPackage.LINK_MAPPING__CONTEXT_MENU :
>                 setContextMenu ((ContextMenu) newValue);
424,428c351,352
<             case GMFMapPackage.LINK_MAPPING__DOMAIN_META_ELEMENT :
<                 setDomainMetaElement ((EClass) newValue);
<                 return;
<             case GMFMapPackage.LINK_MAPPING__DOMAIN_SPECIALIZATION :
<                 setDomainSpecialization ((Constraint) newValue);
---
>             case GMFMapPackage.LINK_MAPPING__TOOL :
>                 setTool ((AbstractTool) newValue);
430,431c354,355
<             case GMFMapPackage.LINK_MAPPING__DOMAIN_INITIALIZER :
<                 setDomainInitializer ((ElementInitializer) newValue);
---
>             case GMFMapPackage.LINK_MAPPING__APPEARANCE_STYLE :
>                 setAppearanceStyle ((StyleSelector) newValue);
433,434c357,358
<             case GMFMapPackage.LINK_MAPPING__CONTAINMENT_FEATURE :
<                 setContainmentFeature ((EReference) newValue);
---
>             case GMFMapPackage.LINK_MAPPING__DIAGRAM_LINK :
>                 setDiagramLink ((Connection) newValue);
451,453d374
<             case GMFMapPackage.LINK_MAPPING__TOOL :
<                 setTool ((Tool) newValue);
<                 return;
460,464c381,382
<             case GMFMapPackage.LINK_MAPPING__DIAGRAM_LINK :
<                 setDiagramLink ((Connection) null);
<                 return;
<             case GMFMapPackage.LINK_MAPPING__DOMAIN_META_ELEMENT :
<                 setDomainMetaElement ((EClass) null);
---
>             case GMFMapPackage.LINK_MAPPING__CONTEXT_MENU :
>                 setContextMenu ((ContextMenu) null);
466,467c384,385
<             case GMFMapPackage.LINK_MAPPING__DOMAIN_SPECIALIZATION :
<                 setDomainSpecialization ((Constraint) null);
---
>             case GMFMapPackage.LINK_MAPPING__TOOL :
>                 setTool ((AbstractTool) null);
469,470c387,388
<             case GMFMapPackage.LINK_MAPPING__DOMAIN_INITIALIZER :
<                 setDomainInitializer ((ElementInitializer) null);
---
>             case GMFMapPackage.LINK_MAPPING__APPEARANCE_STYLE :
>                 setAppearanceStyle ((StyleSelector) null);
472,473c390,391
<             case GMFMapPackage.LINK_MAPPING__CONTAINMENT_FEATURE :
<                 setContainmentFeature ((EReference) null);
---
>             case GMFMapPackage.LINK_MAPPING__DIAGRAM_LINK :
>                 setDiagramLink ((Connection) null);
490,492d407
<             case GMFMapPackage.LINK_MAPPING__TOOL :
<                 setTool ((Tool) null);
<                 return;
498a414,419
>             case GMFMapPackage.LINK_MAPPING__CONTEXT_MENU :
>                 return contextMenu != null;
>             case GMFMapPackage.LINK_MAPPING__TOOL :
>                 return tool != null;
>             case GMFMapPackage.LINK_MAPPING__APPEARANCE_STYLE :
>                 return appearanceStyle != null;
501,508d421
<             case GMFMapPackage.LINK_MAPPING__DOMAIN_META_ELEMENT :
<                 return domainMetaElement != null;
<             case GMFMapPackage.LINK_MAPPING__DOMAIN_SPECIALIZATION :
<                 return domainSpecialization != null;
<             case GMFMapPackage.LINK_MAPPING__DOMAIN_INITIALIZER :
<                 return domainInitializer != null;
<             case GMFMapPackage.LINK_MAPPING__CONTAINMENT_FEATURE :
<                 return containmentFeature != null;
519,520d431
<             case GMFMapPackage.LINK_MAPPING__TOOL :
<                 return tool != null;
524a436,491
>     public int eBaseStructuralFeatureID (int derivedFeatureID, Class baseClass) {
>         if (baseClass == MenuOwner.class) {
>             switch (derivedFeatureID) {
>                 case GMFMapPackage.LINK_MAPPING__CONTEXT_MENU :
>                     return GMFMapPackage.MENU_OWNER__CONTEXT_MENU;
>                 default :
>                     return - 1;
>             }
>         }
>         if (baseClass == ToolOwner.class) {
>             switch (derivedFeatureID) {
>                 case GMFMapPackage.LINK_MAPPING__TOOL :
>                     return GMFMapPackage.TOOL_OWNER__TOOL;
>                 default :
>                     return - 1;
>             }
>         }
>         if (baseClass == AppearanceSteward.class) {
>             switch (derivedFeatureID) {
>                 case GMFMapPackage.LINK_MAPPING__APPEARANCE_STYLE :
>                     return GMFMapPackage.APPEARANCE_STEWARD__APPEARANCE_STYLE;
>                 default :
>                     return - 1;
>             }
>         }
>         return super.eBaseStructuralFeatureID (derivedFeatureID, baseClass);
>     }
> 
>     public int eDerivedStructuralFeatureID (int baseFeatureID, Class baseClass) {
>         if (baseClass == MenuOwner.class) {
>             switch (baseFeatureID) {
>                 case GMFMapPackage.MENU_OWNER__CONTEXT_MENU :
>                     return GMFMapPackage.LINK_MAPPING__CONTEXT_MENU;
>                 default :
>                     return - 1;
>             }
>         }
>         if (baseClass == ToolOwner.class) {
>             switch (baseFeatureID) {
>                 case GMFMapPackage.TOOL_OWNER__TOOL :
>                     return GMFMapPackage.LINK_MAPPING__TOOL;
>                 default :
>                     return - 1;
>             }
>         }
>         if (baseClass == AppearanceSteward.class) {
>             switch (baseFeatureID) {
>                 case GMFMapPackage.APPEARANCE_STEWARD__APPEARANCE_STYLE :
>                     return GMFMapPackage.LINK_MAPPING__APPEARANCE_STYLE;
>                 default :
>                     return - 1;
>             }
>         }
>         return super.eDerivedStructuralFeatureID (baseFeatureID, baseClass);
>     }
> 
