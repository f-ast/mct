6a7,10
> import java.util.HashSet;
> 
> import java.util.Iterator;
> 
8a13,14
> import java.util.Set;
> 
14a21,22
> import org.eclipse.emf.ecore.EReference;
> 
71c79,90
<                         return nm.getDomainMetaElement ().getEAllContainments ();
---
>                         Set features = new HashSet ();
>                         for (Iterator it = nm.getDomainMetaElement ().getEPackage ().eAllContents ();
>                         it.hasNext ();) {
>                             Object next = it.next ();
>                             if (next instanceof EReference) {
>                                 EReference ref = (EReference) next;
>                                 if (ref.isContainment () && nm.getDomainMetaElement ().equals (ref.getEType ())) {
>                                     features.add (ref);
>                                 }
>                             }
>                         }
>                         return features;
