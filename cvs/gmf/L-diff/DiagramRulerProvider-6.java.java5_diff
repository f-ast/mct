3,6d2
< import java.beans.PropertyChangeEvent;
< 
< import java.beans.PropertyChangeListener;
< 
14a11,12
> import org.eclipse.emf.common.notify.Notification;
> 
25c23
< import org.eclipse.gmf.runtime.diagram.core.listener.NotificationEvent;
---
> import org.eclipse.gmf.runtime.diagram.core.listener.NotificationListener;
28a27,28
> import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
> 
30a31,32
> import org.eclipse.gmf.runtime.diagram.ui.internal.properties.Properties;
> 
39,42d40
< import org.eclipse.gmf.runtime.diagram.ui.properties.Properties;
< 
< import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
< 
56c54
<     private PropertyChangeListener rulerListener = new PropertyChangeListener () {
---
>     private NotificationListener rulerListener = new NotificationListener () {
58,62c56,57
<         public void propertyChange (PropertyChangeEvent evt) {
<             if (evt instanceof NotificationEvent) {
<                 handleNotificationEvent ((NotificationEvent) evt);
<                 return;
<             }
---
>         public void notifyChanged (Notification evt) {
>             handleNotificationEvent (evt);
65c60
<         private void handleNotificationEvent (NotificationEvent event) {
---
>         private void handleNotificationEvent (Notification event) {
71c66
<                     PresentationListener.getInstance ().addPropertyChangeListener (guide, guideListener);
---
>                     PresentationListener.getInstance ().addNotificationListener (guide, guideListener);
75c70
<                     PresentationListener.getInstance ().removePropertyChangeListener (guide, guideListener);
---
>                     PresentationListener.getInstance ().removeNotificationListener (guide, guideListener);
87c82
<     private PropertyChangeListener guideListener = new PropertyChangeListener () {
---
>     private NotificationListener guideListener = new NotificationListener () {
89,93c84,85
<         public void propertyChange (PropertyChangeEvent evt) {
<             if (evt instanceof NotificationEvent) {
<                 handleNotificationEvent ((NotificationEvent) evt);
<                 return;
<             }
---
>         public void notifyChanged (Notification evt) {
>             handleNotificationEvent (evt);
96c88
<         private void handleNotificationEvent (NotificationEvent event) {
---
>         private void handleNotificationEvent (Notification event) {
101c93
<                     ((RulerChangeListener) listeners.get (i)).notifyGuideMoved (event.getSource ());
---
>                     ((RulerChangeListener) listeners.get (i)).notifyGuideMoved (event.getNotifier ());
108c100
<                     ((RulerChangeListener) listeners.get (i)).notifyPartAttachmentChanged (event.getNewValue (), event.getSource ());
---
>                     ((RulerChangeListener) listeners.get (i)).notifyPartAttachmentChanged (event.getNewValue (), event.getNotifier ());
123c115
<         theRuler.addPropertyChangeListener (rulerListener);
---
>         theRuler.addNotificationListener (rulerListener);
127c119
<             PresentationListener.getInstance ().addPropertyChangeListener (guide, guideListener);
---
>             PresentationListener.getInstance ().addNotificationListener (guide, guideListener);
133c125
<         theRuler.removePropertyChangeListener (rulerListener);
---
>         theRuler.removeNotificationListener (rulerListener);
