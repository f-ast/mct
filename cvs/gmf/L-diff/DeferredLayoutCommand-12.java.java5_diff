24a25,26
> import org.eclipse.core.runtime.IStatus;
> 
26a29,30
> import org.eclipse.emf.transaction.RunnableWithResult;
> 
44a49,50
> import org.eclipse.gmf.runtime.diagram.ui.util.EditPartUtil;
> 
81a88,104
>         RunnableWithResult refreshRunnable = new RunnableWithResult () {
>             private IStatus status;
>             private Object result;
> 
>             public Object getResult () {
>                 return result;
>             }
> 
>             public void setStatus (IStatus status) {
>                 this.status = status;
>             }
> 
>             public IStatus getStatus () {
>                 return status;
>             }
> 
>             public void run () {
97c120,121
<             return CommandResult.newOKCommandResult ();
---
>                     result = editParts;
>                     return;
108a133,143
>                 result = editParts;
>             }
> 
>         }
> 
>         ;
>         EditPartUtil.synchronizeRunnableToMainThread (containerEP, refreshRunnable);
>         List editParts = (List) refreshRunnable.getResult ();
>         if (editParts == null || editParts.isEmpty ()) {
>             return CommandResult.newOKCommandResult ();
>         }
