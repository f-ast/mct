72a73,74
> import org.eclipse.gmf.runtime.draw2d.ui.figures.WrappingLabel;
> 
133,134c135,136
<         if (figure instanceof WrapLabel) {
<             return ((WrapLabel) figure).getText ();
---
>         if (figure instanceof WrappingLabel) {
>             return ((WrappingLabel) figure).getText ();
141,142c143,144
<         if (figure instanceof WrapLabel) {
<             ((WrapLabel) figure).setText (text);
---
>         if (figure instanceof WrappingLabel) {
>             ((WrappingLabel) figure).setText (text);
149,150c151,152
<         if (figure instanceof WrapLabel) {
<             return ((WrapLabel) figure).getIcon ();
---
>         if (figure instanceof WrappingLabel) {
>             return ((WrappingLabel) figure).getIcon ();
157,158c159,160
<         if (figure instanceof WrapLabel) {
<             ((WrapLabel) figure).setIcon (icon);
---
>         if (figure instanceof WrappingLabel) {
>             ((WrappingLabel) figure).setIcon (icon);
181,182c183
<         EObject element = resolveSemanticElement ();
<         return element != null ? element : (View) getModel ();
---
>         return resolveSemanticElement ();
195,196c196,198
<         if (getParser () != null) {
<             text = getParser ().getPrintString (new EObjectAdapter (getParserElement ()), getParserOptions ().intValue ());
---
>         EObject parserElement = getParserElement ();
>         if (parserElement != null && getParser () != null) {
>             text = getParser ().getPrintString (new EObjectAdapter (parserElement), getParserOptions ().intValue ());
213c215
<         if (getParser () == null) {
---
>         if (getParserElement () == null || getParser () == null) {
254c256
<         if (getParser () == null) {
---
>         if (getParserElement () == null || getParser () == null) {
350,351c352,353
<         if (style != null && getFigure () instanceof WrapLabel) {
<             ((WrapLabel) getFigure ()).setTextUnderline (style.isUnderline ());
---
>         if (style != null && getFigure () instanceof WrappingLabel) {
>             ((WrappingLabel) getFigure ()).setTextUnderline (style.isUnderline ());
357,358c359,360
<         if (style != null && getFigure () instanceof WrapLabel) {
<             ((WrapLabel) getFigure ()).setTextStrikeThrough (style.isStrikeThrough ());
---
>         if (style != null && getFigure () instanceof WrappingLabel) {
>             ((WrappingLabel) getFigure ()).setTextStrikeThrough (style.isStrikeThrough ());
