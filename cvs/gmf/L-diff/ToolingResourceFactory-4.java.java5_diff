10a11,12
> import org.eclipse.emf.ecore.xmi.impl.XMIResourceImpl;
> 
14,17c16,30
<         XMLResource resource = (XMLResource) super.createResource (uri);
<         resource.getDefaultLoadOptions ().put (XMLResource.OPTION_DEFER_IDREF_RESOLUTION, Boolean.TRUE);
<         resource.getDefaultSaveOptions ().put (XMLResource.OPTION_LINE_WIDTH, new Integer (1));
<         return resource;
---
>         return new ToolResource (uri);
>     }
> 
>     public static class ToolResource extends XMIResourceImpl {
> 
>         public ToolResource (URI uri) {
>             super (uri);
>             setupOptions ();
>         }
> 
>         private void setupOptions () {
>             getDefaultLoadOptions ().put (XMLResource.OPTION_DEFER_IDREF_RESOLUTION, Boolean.TRUE);
>             getDefaultSaveOptions ().put (XMLResource.OPTION_LINE_WIDTH, new Integer (1));
>         }
> 
