4a5,6
> import org.eclipse.draw2d.ColorConstants;
> 
40,42c42,43
<     private RenderingListenerImpl renderingListener = new RenderingListenerImpl (this);
<     static private class RenderingListenerImpl implements RenderingListener {
<         private ScalableImageFigure fig;
---
>     private RenderingListenerImpl renderingListener = new RenderingListenerImpl ();
>     private class RenderingListenerImpl implements RenderingListener {
44c45
<         public RenderingListenerImpl (ScalableImageFigure fig) {
---
>         public RenderingListenerImpl () {
46d46
<             this.fig = fig;
49,50c49,50
<         public ScalableImageFigure getFigure () {
<             return fig;
---
>         public void paintFigureWhileRendering (Graphics g) {
>             ScalableImageFigure.this.paintFigureWhileRendering (g);
54,56c54,56
<             if (getFigure ().getParent () != null) {
<                 getFigure ().setRenderedImage (rndImg);
<                 getFigure ().repaint ();
---
>             if (ScalableImageFigure.this.getParent () != null) {
>                 ScalableImageFigure.this.setRenderedImage (rndImg);
>                 ScalableImageFigure.this.repaint ();
59a60,63
>         public ScalableImageFigure getFigure () {
>             return ScalableImageFigure.this;
>         }
> 
68c72
<             return getFigure ().hashCode ();
---
>             return ScalableImageFigure.this.hashCode ();
175a180,192
>     protected void paintFigureWhileRendering (Graphics g) {
>         Rectangle area = getClientArea ().getCopy ();
>         g.pushState ();
>         g.setBackgroundColor (ColorConstants.white);
>         g.fillRectangle (area.x, area.y, area.width - 1, area.height - 1);
>         g.setForegroundColor (ColorConstants.red);
>         g.drawRectangle (area.x, area.y, area.width - 1, area.height - 1);
>         g.setLineStyle (SWT.LINE_DOT);
>         g.drawLine (area.x, area.y, area.x + area.width, area.y + area.height);
>         g.drawLine (area.x + area.width, area.y, area.x, area.y + area.height);
>         g.popState ();
>     }
> 
