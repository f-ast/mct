27c27
< import org.eclipse.gmf.runtime.draw2d.ui.mapmode.MapMode;
---
> import org.eclipse.gmf.runtime.draw2d.ui.mapmode.MapModeUtil;
60c60
<         Point pt = new Point (rBox.getRight ().x - MapMode.DPtoLP (alpha_ir.width), rBox.getTop ().y);
---
>         Point pt = new Point (rBox.getRight ().x - MapModeUtil.getMapMode (figure).DPtoLP (alpha_ir.width), rBox.getTop ().y);
66c66
<         Dimension dim = getRightShadowDimension (rBox);
---
>         Dimension dim = getRightShadowDimension (figure, rBox);
68c68
<         Point pt = new Point (rBox.getRight ().x - MapMode.DPtoLP (alpha_ir.width), rBox.getTop ().y + MapMode.DPtoLP (alpha_itr.height));
---
>         Point pt = new Point (rBox.getRight ().x - MapModeUtil.getMapMode (figure).DPtoLP (alpha_ir.width), rBox.getTop ().y + MapModeUtil.getMapMode (figure).DPtoLP (alpha_itr.height));
77c77
<         Point pt = new Point (rBox.getRight ().x - MapMode.DPtoLP (alpha_ir.width), rBox.getBottom ().y - MapMode.DPtoLP (alpha_ib.height));
---
>         Point pt = new Point (rBox.getRight ().x - MapModeUtil.getMapMode (figure).DPtoLP (alpha_ir.width), rBox.getBottom ().y - MapModeUtil.getMapMode (figure).DPtoLP (alpha_ib.height));
83c83
<         Dimension dim = getBottomShadowDimension (rBox);
---
>         Dimension dim = getBottomShadowDimension (figure, rBox);
85c85
<         Point pt = new Point (rBox.getLeft ().x + MapMode.DPtoLP (alpha_ilb.width), rBox.getBottom ().y - MapMode.DPtoLP (alpha_ib.height));
---
>         Point pt = new Point (rBox.getLeft ().x + MapModeUtil.getMapMode (figure).DPtoLP (alpha_ilb.width), rBox.getBottom ().y - MapModeUtil.getMapMode (figure).DPtoLP (alpha_ib.height));
93c93
<         Point pt = new Point (rBox.getLeft ().x, rBox.getBottom ().y - MapMode.DPtoLP (alpha_ib.height));
---
>         Point pt = new Point (rBox.getLeft ().x, rBox.getBottom ().y - MapModeUtil.getMapMode (figure).DPtoLP (alpha_ib.height));
98,99c98,99
<     protected Dimension getRightShadowDimension (Rectangle rBox) {
<         int height = Math.max (MapMode.LPtoDP (rBox.height) - alpha_itr.height - alpha_irb.height, 1);
---
>     protected Dimension getRightShadowDimension (IFigure figure, Rectangle rBox) {
>         int height = Math.max (MapModeUtil.getMapMode (figure).LPtoDP (rBox.height) - alpha_itr.height - alpha_irb.height, 1);
107,108c107,108
<     protected Dimension getBottomShadowDimension (Rectangle rBox) {
<         int width = Math.max (MapMode.LPtoDP (rBox.width) - alpha_ilb.width - alpha_irb.width, 1);
---
>     protected Dimension getBottomShadowDimension (IFigure figure, Rectangle rBox) {
>         int width = Math.max (MapModeUtil.getMapMode (figure).LPtoDP (rBox.width) - alpha_ilb.width - alpha_irb.width, 1);
