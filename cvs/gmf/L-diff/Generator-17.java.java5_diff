127a128,137
>         if (isPathInsideGenerationTarget (myDiagram.getCreationWizardIconPathX ()) || isPathInsideGenerationTarget (myEditorGen.getEditor ().getIconPathX ())) {
>             generateDiagramIcon (isPathInsideGenerationTarget (myDiagram.getCreationWizardIconPathX ()) ? myDiagram.getCreationWizardIconPathX () : myEditorGen.getEditor ().getIconPathX ());
>         }
>         generateWizardBanner ();
>     }
> 
>     private static boolean isPathInsideGenerationTarget (String path) {
>         assert path != null;
>         Path p = new Path (path);
>         return ! p.isAbsolute () && ! p.segment (0).equals ("..");
151a162,172
>     private void generateDiagramIcon (String path) throws UnexpectedBehaviourException, InterruptedException {
>         Object [] args = new Object [] {myDiagram.getDomainDiagramElement () == null ? myEditorGen.getDiagramFileExtension () : myDiagram.getDomainDiagramElement ().getGenPackage ().getPrefix ()};
>         doGenerateBinaryFile (myEmitters.getDiagramIconEmitter (), new Path (path), args);
>     }
> 
>     private void generateWizardBanner () throws UnexpectedBehaviourException, InterruptedException {
>         String stem = myDiagram.getDomainDiagramElement () == null ? "" : myDiagram.getDomainDiagramElement ().getGenPackage ().getPrefix ();
>         Object [] args = new Object [] {stem.length () == 0 ? myEditorGen.getDiagramFileExtension () : stem};
>         doGenerateBinaryFile (myEmitters.getWizardBannerImageEmitter (), new Path ("icons/wizban/New" + stem + "Wizard.gif"), args);
>     }
> 
