18a19,22
> import org.eclipse.emf.ecore.xmi.XMLResource;
> 
> import org.eclipse.emf.transaction.util.TransactionUtil;
> 
37,38d40
< import org.eclipse.gmf.runtime.diagram.ui.internal.util.DiagramMEditingDomainGetter;
< 
43,45c45
< import org.eclipse.gmf.runtime.emf.core.edit.MRunnable;
< 
< import org.eclipse.gmf.runtime.emf.core.util.EObjectUtil;
---
> import org.eclipse.gmf.runtime.emf.core.util.EMFCoreUtil;
70c70
<             DiagramMEditingDomainGetter.getMEditingDomain (editorPart).runAsRead (new MRunnable () {
---
>             TransactionUtil.getEditingDomain (editorPart.getDiagram ()).runExclusive (new Runnable () {
72c72
<                 public Object run () {
---
>                 public void run () {
84c84
<                             elementName = EObjectUtil.getQName (semanticElement, true);
---
>                             elementName = EMFCoreUtil.getQualifiedName (semanticElement, true);
91c91
<                             attribMap.put (IBookmark.ELEMENT_ID, EObjectUtil.getID (view));
---
>                             attribMap.put (IBookmark.ELEMENT_ID, ((XMLResource) view.eResource ()).getID (view));
103d102
<                     return null;
