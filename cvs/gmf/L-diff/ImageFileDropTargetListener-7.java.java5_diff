6a7,8
> import org.eclipse.core.resources.IFile;
> 
14a17,22
> import org.eclipse.jface.util.LocalSelectionTransfer;
> 
> import org.eclipse.jface.viewers.ISelection;
> 
> import org.eclipse.jface.viewers.IStructuredSelection;
> 
44c52,68
<                     return null;
---
>                     continue;
>                 }
>             }
>         }
>         if (fileList.size () == 0) {
>             ISelection selection = null;
>             if (LocalSelectionTransfer.getTransfer ().getSelection () != null) {
>                 selection = LocalSelectionTransfer.getTransfer ().getSelection ();
>             }
>             if (selection instanceof IStructuredSelection && ! selection.isEmpty ()) {
>                 Object [] array = ((IStructuredSelection) selection).toArray ();
>                 for (int j = 0;
>                 j < array.length; j ++) {
>                     if (array [j] instanceof IFile) {
>                         IFile dropFile = (IFile) array [j];
>                         fileList.add (dropFile.getLocation ().toOSString ());
>                     }
46a71
>             return fileList;
