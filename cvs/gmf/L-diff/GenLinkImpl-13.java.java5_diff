26a27,28
> import org.eclipse.gmf.codegen.gmfgen.FeatureModelFacet;
> 
36a39,40
> import org.eclipse.gmf.codegen.gmfgen.LinkModelFacet;
> 
38a43,44
> import org.eclipse.gmf.codegen.gmfgen.TypeLinkModelFacet;
> 
41,42c47,48
< public abstract class GenLinkImpl extends GenBaseElementImpl implements GenLink {
<     protected GenFeature domainLinkTargetFeature = null;
---
> public class GenLinkImpl extends GenBaseElementImpl implements GenLink {
>     protected LinkModelFacet modelFacet = null;
59,65c65,66
<     public GenFeature getDomainLinkTargetFeature () {
<         if (domainLinkTargetFeature != null && domainLinkTargetFeature.eIsProxy ()) {
<             GenFeature oldDomainLinkTargetFeature = domainLinkTargetFeature;
<             domainLinkTargetFeature = (GenFeature) eResolveProxy ((InternalEObject) domainLinkTargetFeature);
<             if (domainLinkTargetFeature != oldDomainLinkTargetFeature) {
<                 if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.RESOLVE, GMFGenPackage.GEN_LINK__DOMAIN_LINK_TARGET_FEATURE, oldDomainLinkTargetFeature, domainLinkTargetFeature));
< 
---
>     public LinkModelFacet getModelFacet () {
>         return modelFacet;
66a68,76
> 
>     public NotificationChain basicSetModelFacet (LinkModelFacet newModelFacet, NotificationChain msgs) {
>         LinkModelFacet oldModelFacet = modelFacet;
>         modelFacet = newModelFacet;
>         if (eNotificationRequired ()) {
>             ENotificationImpl notification = new ENotificationImpl (this, Notification.SET, GMFGenPackage.GEN_LINK__MODEL_FACET, oldModelFacet, newModelFacet);
>             if (msgs == null) msgs = notification;
>             else msgs.add (notification);
> 
68c78
<         return domainLinkTargetFeature;
---
>         return msgs;
71,73c81,89
<     public GenFeature basicGetDomainLinkTargetFeature () {
<         return domainLinkTargetFeature;
<     }
---
>     public void setModelFacet (LinkModelFacet newModelFacet) {
>         if (newModelFacet != modelFacet) {
>             NotificationChain msgs = null;
>             if (modelFacet != null) msgs = ((InternalEObject) modelFacet).eInverseRemove (this, EOPPOSITE_FEATURE_BASE - GMFGenPackage.GEN_LINK__MODEL_FACET, null, msgs);
> 
>             if (newModelFacet != null) msgs = ((InternalEObject) newModelFacet).eInverseAdd (this, EOPPOSITE_FEATURE_BASE - GMFGenPackage.GEN_LINK__MODEL_FACET, null, msgs);
> 
>             msgs = basicSetModelFacet (newModelFacet, msgs);
>             if (msgs != null) msgs.dispatch ();
75,78c91
<     public void setDomainLinkTargetFeature (GenFeature newDomainLinkTargetFeature) {
<         GenFeature oldDomainLinkTargetFeature = domainLinkTargetFeature;
<         domainLinkTargetFeature = newDomainLinkTargetFeature;
<         if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFGenPackage.GEN_LINK__DOMAIN_LINK_TARGET_FEATURE, oldDomainLinkTargetFeature, domainLinkTargetFeature));
---
>         } else if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFGenPackage.GEN_LINK__MODEL_FACET, newModelFacet, newModelFacet));
121a135,136
>                 case GMFGenPackage.GEN_LINK__MODEL_FACET :
>                     return basicSetModelFacet (null, msgs);
163,166c178,179
<             case GMFGenPackage.GEN_LINK__DOMAIN_LINK_TARGET_FEATURE :
<                 if (resolve) return getDomainLinkTargetFeature ();
< 
<                 return basicGetDomainLinkTargetFeature ();
---
>             case GMFGenPackage.GEN_LINK__MODEL_FACET :
>                 return getModelFacet ();
196,197c209,210
<             case GMFGenPackage.GEN_LINK__DOMAIN_LINK_TARGET_FEATURE :
<                 setDomainLinkTargetFeature ((GenFeature) newValue);
---
>             case GMFGenPackage.GEN_LINK__MODEL_FACET :
>                 setModelFacet ((LinkModelFacet) newValue);
230,231c243,244
<             case GMFGenPackage.GEN_LINK__DOMAIN_LINK_TARGET_FEATURE :
<                 setDomainLinkTargetFeature ((GenFeature) null);
---
>             case GMFGenPackage.GEN_LINK__MODEL_FACET :
>                 setModelFacet ((LinkModelFacet) null);
258,259c271,272
<             case GMFGenPackage.GEN_LINK__DOMAIN_LINK_TARGET_FEATURE :
<                 return domainLinkTargetFeature != null;
---
>             case GMFGenPackage.GEN_LINK__MODEL_FACET :
>                 return modelFacet != null;
265a279,299
>     public String getClassNamePrefix () {
>         LinkModelFacet aModelFacet = getModelFacet ();
>         if (aModelFacet instanceof FeatureModelFacet) {
>             GenFeature metaFeature = ((FeatureModelFacet) aModelFacet).getMetaFeature ();
>             return metaFeature.getGenClass ().getName () + metaFeature.getCapName ();
>         } else if (aModelFacet instanceof TypeLinkModelFacet) {
>             GenClass metaClass = ((TypeLinkModelFacet) aModelFacet).getMetaClass ();
>             return metaClass.getName ();
>         }
> 
>         return "Link$" + hashCode ();
>     }
> 
>     public String getClassNameSuffux () {
>         return "Link";
>     }
> 
>     public String getUniqueIdentifier () {
>         return getClassNamePrefix () + "_" + getVisualID ();
>     }
> 
