55,56c55,57
<             IFigure fig = getContentPaneFor ((IGraphicalEditPart) childEditPart);
<             fig.add (childFigure, index);
---
>             IFigure parent = getContentPaneFor ((IGraphicalEditPart) childEditPart);
>             index = Math.min (parent.getChildren ().size (), index);
>             parent.add (childFigure, - 1);
