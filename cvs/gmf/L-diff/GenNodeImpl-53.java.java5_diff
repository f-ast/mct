327c327
<         if (getModelFacet () == null) {
---
>         if (getModelFacet () == null || getModelFacet ().getMetaClass () == null || getModelFacet ().getMetaClass ().getEcoreClass () == null) {
348a349,351
>             if (incomingClass == null || incomingClass.getEcoreClass () == null || outgoingClass == null || outgoingClass.getEcoreClass () == null) {
>                 continue;
>             }
