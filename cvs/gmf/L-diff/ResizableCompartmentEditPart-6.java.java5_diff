3,4d2
< import java.beans.PropertyChangeEvent;
< 
6a5,6
> import org.eclipse.emf.common.notify.Notification;
> 
11,12d10
< import org.eclipse.gmf.runtime.diagram.core.listener.NotificationEvent;
< 
17c15
< import org.eclipse.gmf.runtime.diagram.ui.l10n.PresentationResourceManager;
---
> import org.eclipse.gmf.runtime.diagram.ui.internal.properties.Properties;
19c17
< import org.eclipse.gmf.runtime.diagram.ui.properties.Properties;
---
> import org.eclipse.gmf.runtime.diagram.ui.l10n.PresentationResourceManager;
76,79c74,78
<     protected void handlePropertyChangeEvent (PropertyChangeEvent evt) {
<         if (evt.getPropertyName ().equals (Properties.ID_RATIO) || evt.getOldValue () instanceof Ratio || evt.getNewValue () instanceof Ratio) refreshRatio ();
<         else if (evt.getPropertyName ().equals (Properties.ID_COLLAPSED)) {
<             setCollapsed (((Boolean) evt.getNewValue ()).booleanValue (), true);
---
>     protected void handleNotificationEvent (Notification event) {
>         Object feature = event.getFeature ();
>         if (NotationPackage.eINSTANCE.getRatio_Value ().equals (feature) || event.getOldValue () instanceof Ratio || event.getNewValue () instanceof Ratio) refreshRatio ();
>         else if (NotationPackage.eINSTANCE.getDrawerStyle_Collapsed ().equals (feature)) {
>             setCollapsed (event.getNewBooleanValue (), true);
81,83c80,82
<         } else if (evt.getPropertyName ().equals (Properties.ID_SHOWCOMPARTMENTTITLE)) setShowCompartmentTitle (((Boolean) evt.getNewValue ()).booleanValue ());
<         else if (evt.getPropertyName ().equals (Properties.ID_FONTCOLOR)) {
<             Integer c = (Integer) evt.getNewValue ();
---
>         } else if (NotationPackage.eINSTANCE.getTitleStyle_ShowTitle ().equals (feature)) setShowCompartmentTitle (event.getNewBooleanValue ());
>         else if (NotationPackage.eINSTANCE.getFontStyle_FontColor ().equals (feature)) {
>             Integer c = (Integer) event.getNewValue ();
85,91c84,86
<         } else super.handlePropertyChangeEvent (evt);
< 
<     }
< 
<     protected void handleNotificationEvent (NotificationEvent event) {
<         if (NotationPackage.eINSTANCE.getFontStyle ().isInstance (event.getElement ())) refreshFont ();
<         else super.handleNotificationEvent (event);
---
>         } else if (NotationPackage.eINSTANCE.getFontStyle ().isInstance (event.getNotifier ())) {
>             refreshFont ();
>         } else super.handleNotificationEvent (event);
