34a35,36
> import org.eclipse.emf.ecore.util.FeatureMapUtil;
> 
270c272
<                     if (ref.isMany ()) {
---
>                     if (FeatureMapUtil.isMany (eObject, ref)) {
382c384
<                     if (eReference.isMany () == false) {
---
>                     if (! FeatureMapUtil.isMany (eObject, eReference)) {
389c391
<                     if (eReference.isMany ()) {
---
>                     if (FeatureMapUtil.isMany (eObject, eReference)) {
411c413
<             if (eReference.isMany () && ! eObject.eIsSet (eReference)) return false;
---
>             if (FeatureMapUtil.isMany (eObject, eReference) && ! eObject.eIsSet (eReference)) return false;
