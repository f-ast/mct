38a39,40
> import org.eclipse.emf.common.notify.Adapter;
> 
40a43,44
> import org.eclipse.emf.common.notify.Notifier;
> 
58a63,64
> import org.eclipse.gmf.runtime.diagram.core.DiagramEditingDomainFactory;
> 
87c93
<     protected ElementInfo createElementInfo (Object element) throws org.eclipse.core.runtime.CoreException, CoreException {
---
>     protected ElementInfo createElementInfo (Object element) throws CoreException {
135,136c141,142
<     private org.eclipse.emf.transaction.TransactionalEditingDomain createEditingDomain () {
<         org.eclipse.emf.transaction.TransactionalEditingDomain editingDomain = org.eclipse.gmf.runtime.diagram.core.DiagramEditingDomainFactory.getInstance ().createEditingDomain ();
---
>     private TransactionalEditingDomain createEditingDomain () {
>         TransactionalEditingDomain editingDomain = DiagramEditingDomainFactory.getInstance ().createEditingDomain ();
138,140c144,146
<         final org.eclipse.emf.transaction.NotificationFilter diagramResourceModifiedFilter = org.eclipse.emf.transaction.NotificationFilter.createNotifierFilter (editingDomain.getResourceSet ()).and (org.eclipse.emf.transaction.NotificationFilter.createEventTypeFilter (org.eclipse.emf.common.notify.Notification.ADD)).and (org.eclipse.emf.transaction.NotificationFilter.createFeatureFilter (org.eclipse.emf.ecore.resource.ResourceSet.class, org.eclipse.emf.ecore.resource.ResourceSet.RESOURCE_SET__RESOURCES));
<         editingDomain.getResourceSet ().eAdapters ().add (new org.eclipse.emf.common.notify.Adapter () {
<             private org.eclipse.emf.common.notify.Notifier myTarger;
---
>         final NotificationFilter diagramResourceModifiedFilter = NotificationFilter.createNotifierFilter (editingDomain.getResourceSet ()).and (NotificationFilter.createEventTypeFilter (Notification.ADD)).and (NotificationFilter.createFeatureFilter (ResourceSet.class, ResourceSet.RESOURCE_SET__RESOURCES));
>         editingDomain.getResourceSet ().eAdapters ().add (new Adapter () {
>             private Notifier myTarger;
142c148
<             public org.eclipse.emf.common.notify.Notifier getTarget () {
---
>             public Notifier getTarget () {
150c156
<             public void notifyChanged (org.eclipse.emf.common.notify.Notification notification) {
---
>             public void notifyChanged (Notification notification) {
153,154c159,160
<                     if (value instanceof org.eclipse.emf.ecore.resource.Resource) {
<                         ((org.eclipse.emf.ecore.resource.Resource) value).setTrackingModification (true);
---
>                     if (value instanceof Resource) {
>                         ((Resource) value).setTrackingModification (true);
159c165
<             public void setTarget (org.eclipse.emf.common.notify.Notifier newTarget) {
---
>             public void setTarget (Notifier newTarget) {
261c267
<     protected void doValidateState (Object element, Object computationContext) throws org.eclipse.core.runtime.CoreException, CoreException {
---
>     protected void doValidateState (Object element, Object computationContext) throws CoreException {
530d535
<         private IDiagramDocument myDocument;
531a537
>         private IDiagramDocument myDocument;
701c707
<             if (myModifiedFilter.matches (notification)) {
---
>             if (! notification.isTouch () && myModifiedFilter.matches (notification)) {
