5c5
< import org.eclipse.swt.graphics.Image;
---
> import org.eclipse.draw2d.geometry.Dimension;
7c7
< import org.eclipse.swt.printing.Printer;
---
> import org.eclipse.draw2d.geometry.Rectangle;
16a17,22
> import org.eclipse.gmf.runtime.draw2d.ui.render.internal.RenderingListener;
> 
> import org.eclipse.swt.graphics.Image;
> 
> import org.eclipse.swt.printing.Printer;
> 
18a25,28
>     public boolean shouldAllowDelayRender () {
>         return false;
>     }
> 
23,25c33,35
<     public RenderedImage drawRenderedImage (RenderedImage srcImage, int x, int y, int width, int height) {
<         int nNewWidth = (int) Math.round (width * getPrintScale ());
<         int nNewHeight = (int) Math.round (height * getPrintScale ());
---
>     public RenderedImage drawRenderedImage (RenderedImage srcImage, Rectangle rect, RenderingListener listener) {
>         int nNewWidth = (int) Math.round (rect.width * getPrintScale ());
>         int nNewHeight = (int) Math.round (rect.height * getPrintScale ());
27c37
<         info.setValues (nNewWidth, nNewHeight, info.getFillColor (), info.getOutlineColor (), info.shouldMaintainAspectRatio (), true);
---
>         info.setValues (nNewWidth, nNewHeight, info.shouldMaintainAspectRatio (), true, info.getBackgroundColor (), info.getForegroundColor ());
30c40
<         drawImage (swtImg, x, y + height - swtImg.getBounds ().height);
---
>         drawImage (swtImg, rect.x, rect.y + rect.height - swtImg.getBounds ().height);
33a44,47
>     public Dimension getMaximumRenderSize () {
>         return null;
>     }
> 
