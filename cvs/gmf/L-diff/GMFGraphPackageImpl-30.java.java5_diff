9,10d8
< import org.eclipse.emf.ecore.EOperation;
< 
16a15,18
> import org.eclipse.gmf.gmfgraph.AbstractFigure;
> 
> import org.eclipse.gmf.gmfgraph.AbstractNode;
> 
30a33,34
> import org.eclipse.gmf.gmfgraph.ChildAccess;
> 
79,81c83
< import org.eclipse.gmf.gmfgraph.FigureGallery;
< 
< import org.eclipse.gmf.gmfgraph.FigureHandle;
---
> import org.eclipse.gmf.gmfgraph.FigureDescriptor;
83c85
< import org.eclipse.gmf.gmfgraph.FigureMarker;
---
> import org.eclipse.gmf.gmfgraph.FigureGallery;
142a145,146
> import org.eclipse.gmf.gmfgraph.RealFigure;
> 
158a163,164
> import org.eclipse.gmf.gmfgraph.*;
> 
163a170
>     private EClass abstractNodeEClass = null;
164a172,173
>     private EClass childAccessEClass = null;
>     private EClass realFigureEClass = null;
174,175d182
<     private EClass figureMarkerEClass = null;
<     private EClass figureHandleEClass = null;
176a184,185
>     private EClass figureDescriptorEClass = null;
>     private EClass abstractFigureEClass = null;
278a288,291
>     public EReference getFigureGallery_Descriptors () {
>         return (EReference) figureGalleryEClass.getEStructuralFeatures ().get (1);
>     }
> 
280c293
<         return (EAttribute) figureGalleryEClass.getEStructuralFeatures ().get (1);
---
>         return (EAttribute) figureGalleryEClass.getEStructuralFeatures ().get (2);
302a316,319
>     public EClass getAbstractNode () {
>         return abstractNodeEClass;
>     }
> 
307,308c324,325
<     public EReference getNode_NodeFigure () {
<         return (EReference) nodeEClass.getEStructuralFeatures ().get (0);
---
>     public EAttribute getNode_ResizeConstraint () {
>         return (EAttribute) nodeEClass.getEStructuralFeatures ().get (0);
311c328
<     public EAttribute getNode_ResizeConstraint () {
---
>     public EAttribute getNode_AffixedParentSide () {
315,316c332,333
<     public EAttribute getNode_AffixedParentSide () {
<         return (EAttribute) nodeEClass.getEStructuralFeatures ().get (2);
---
>     public EReference getNode_ContentPane () {
>         return (EReference) nodeEClass.getEStructuralFeatures ().get (2);
319,320c336,345
<     public EClass getConnection () {
<         return connectionEClass;
---
>     public EClass getChildAccess () {
>         return childAccessEClass;
>     }
> 
>     public EReference getChildAccess_Owner () {
>         return (EReference) childAccessEClass.getEStructuralFeatures ().get (0);
>     }
> 
>     public EAttribute getChildAccess_Accessor () {
>         return (EAttribute) childAccessEClass.getEStructuralFeatures ().get (1);
323,324c348,365
<     public EReference getConnection_ConnectionFigure () {
<         return (EReference) connectionEClass.getEStructuralFeatures ().get (0);
---
>     public EReference getChildAccess_Figure () {
>         return (EReference) childAccessEClass.getEStructuralFeatures ().get (2);
>     }
> 
>     public EClass getRealFigure () {
>         return realFigureEClass;
>     }
> 
>     public EAttribute getRealFigure_Name () {
>         return (EAttribute) realFigureEClass.getEStructuralFeatures ().get (0);
>     }
> 
>     public EReference getRealFigure_Children () {
>         return (EReference) realFigureEClass.getEStructuralFeatures ().get (1);
>     }
> 
>     public EClass getConnection () {
>         return connectionEClass;
338a380,383
>     public EReference getCompartment_Accessor () {
>         return (EReference) compartmentEClass.getEStructuralFeatures ().get (2);
>     }
> 
346a392,403
>     public EReference getDiagramLabel_Accessor () {
>         return (EReference) diagramLabelEClass.getEStructuralFeatures ().get (1);
>     }
> 
>     public EReference getDiagramLabel_Container () {
>         return (EReference) diagramLabelEClass.getEStructuralFeatures ().get (2);
>     }
> 
>     public EAttribute getDiagramLabel_External () {
>         return (EAttribute) diagramLabelEClass.getEStructuralFeatures ().get (3);
>     }
> 
399,414d455
<     public EClass getFigureMarker () {
<         return figureMarkerEClass;
<     }
< 
<     public EReference getFigureMarker_Parent () {
<         return (EReference) figureMarkerEClass.getEStructuralFeatures ().get (0);
<     }
< 
<     public EClass getFigureHandle () {
<         return figureHandleEClass;
<     }
< 
<     public EReference getFigureHandle_ReferencingElements () {
<         return (EReference) figureHandleEClass.getEStructuralFeatures ().get (0);
<     }
< 
419c460
<     public EReference getFigure_Children () {
---
>     public EReference getFigure_Descriptor () {
462a504,519
>     public EClass getFigureDescriptor () {
>         return figureDescriptorEClass;
>     }
> 
>     public EReference getFigureDescriptor_ActualFigure () {
>         return (EReference) figureDescriptorEClass.getEStructuralFeatures ().get (0);
>     }
> 
>     public EReference getFigureDescriptor_Accessors () {
>         return (EReference) figureDescriptorEClass.getEStructuralFeatures ().get (1);
>     }
> 
>     public EClass getAbstractFigure () {
>         return abstractFigureEClass;
>     }
> 
587,590d643
<     public EAttribute getCustomClass_BundleName () {
<         return (EAttribute) customClassEClass.getEStructuralFeatures ().get (1);
<     }
< 
592c645
<         return (EReference) customClassEClass.getEStructuralFeatures ().get (2);
---
>         return (EReference) customClassEClass.getEStructuralFeatures ().get (1);
972a1026
>         createEReference (figureGalleryEClass, FIGURE_GALLERY__DESCRIPTORS);
978a1033
>         abstractNodeEClass = createEClass (ABSTRACT_NODE);
980d1034
<         createEReference (nodeEClass, NODE__NODE_FIGURE);
982a1037
>         createEReference (nodeEClass, NODE__CONTENT_PANE);
984d1038
<         createEReference (connectionEClass, CONNECTION__CONNECTION_FIGURE);
987a1042
>         createEReference (compartmentEClass, COMPARTMENT__ACCESSOR);
989a1045,1047
>         createEReference (diagramLabelEClass, DIAGRAM_LABEL__ACCESSOR);
>         createEReference (diagramLabelEClass, DIAGRAM_LABEL__CONTAINER);
>         createEAttribute (diagramLabelEClass, DIAGRAM_LABEL__EXTERNAL);
1003,1006d1060
<         figureMarkerEClass = createEClass (FIGURE_MARKER);
<         createEReference (figureMarkerEClass, FIGURE_MARKER__PARENT);
<         figureHandleEClass = createEClass (FIGURE_HANDLE);
<         createEReference (figureHandleEClass, FIGURE_HANDLE__REFERENCING_ELEMENTS);
1008c1062
<         createEReference (figureEClass, FIGURE__CHILDREN);
---
>         createEReference (figureEClass, FIGURE__DESCRIPTOR);
1018a1073,1083
>         abstractFigureEClass = createEClass (ABSTRACT_FIGURE);
>         figureDescriptorEClass = createEClass (FIGURE_DESCRIPTOR);
>         createEReference (figureDescriptorEClass, FIGURE_DESCRIPTOR__ACTUAL_FIGURE);
>         createEReference (figureDescriptorEClass, FIGURE_DESCRIPTOR__ACCESSORS);
>         childAccessEClass = createEClass (CHILD_ACCESS);
>         createEReference (childAccessEClass, CHILD_ACCESS__OWNER);
>         createEAttribute (childAccessEClass, CHILD_ACCESS__ACCESSOR);
>         createEReference (childAccessEClass, CHILD_ACCESS__FIGURE);
>         realFigureEClass = createEClass (REAL_FIGURE);
>         createEAttribute (realFigureEClass, REAL_FIGURE__NAME);
>         createEReference (realFigureEClass, REAL_FIGURE__CHILDREN);
1050d1114
<         createEAttribute (customClassEClass, CUSTOM_CLASS__BUNDLE_NAME);
1156c1220,1221
<         nodeEClass.getESuperTypes ().add (this.getDiagramElement ());
---
>         abstractNodeEClass.getESuperTypes ().add (this.getDiagramElement ());
>         nodeEClass.getESuperTypes ().add (this.getAbstractNode ());
1165,1174c1230,1239
<         figureMarkerEClass.getESuperTypes ().add (this.getLayoutable ());
<         figureEClass.getESuperTypes ().add (this.getFigureMarker ());
<         figureEClass.getESuperTypes ().add (this.getFigureHandle ());
<         figureEClass.getESuperTypes ().add (this.getIdentity ());
<         figureRefEClass.getESuperTypes ().add (this.getFigureMarker ());
<         connectionFigureEClass.getESuperTypes ().add (this.getFigure ());
<         decorationFigureEClass.getESuperTypes ().add (this.getFigure ());
<         shapeEClass.getESuperTypes ().add (this.getFigure ());
<         labelEClass.getESuperTypes ().add (this.getFigure ());
<         labeledContainerEClass.getESuperTypes ().add (this.getFigure ());
---
>         figureEClass.getESuperTypes ().add (this.getLayoutable ());
>         abstractFigureEClass.getESuperTypes ().add (this.getFigure ());
>         figureDescriptorEClass.getESuperTypes ().add (this.getIdentity ());
>         realFigureEClass.getESuperTypes ().add (this.getAbstractFigure ());
>         figureRefEClass.getESuperTypes ().add (this.getAbstractFigure ());
>         connectionFigureEClass.getESuperTypes ().add (this.getRealFigure ());
>         decorationFigureEClass.getESuperTypes ().add (this.getRealFigure ());
>         shapeEClass.getESuperTypes ().add (this.getRealFigure ());
>         labelEClass.getESuperTypes ().add (this.getRealFigure ());
>         labeledContainerEClass.getESuperTypes ().add (this.getRealFigure ());
1187,1188c1252
<         figureAccessorEClass.getESuperTypes ().add (this.getFigureHandle ());
<         customFigureEClass.getESuperTypes ().add (this.getFigure ());
---
>         customFigureEClass.getESuperTypes ().add (this.getRealFigure ());
1221c1285,1286
<         initEReference (getFigureGallery_Figures (), this.getFigure (), null, "figures", null, 0, - 1, FigureGallery.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, ! IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
---
>         initEReference (getFigureGallery_Figures (), this.getRealFigure (), null, "figures", null, 0, - 1, FigureGallery.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, ! IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
>         initEReference (getFigureGallery_Descriptors (), this.getFigureDescriptor (), null, "descriptors", null, 0, - 1, FigureGallery.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, ! IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
1226c1291
<         initEReference (getDiagramElement_Figure (), this.getFigureHandle (), this.getFigureHandle_ReferencingElements (), "figure", null, 1, 1, DiagramElement.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, ! IS_COMPOSITE, IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
---
>         initEReference (getDiagramElement_Figure (), this.getFigureDescriptor (), null, "figure", null, 1, 1, DiagramElement.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, ! IS_COMPOSITE, IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
1228,1229c1293
<         EOperation op = addEOperation (diagramElementEClass, this.getVisualFacet (), "find", 0, 1);
<         addEParameter (op, ecorePackage.getEJavaClass (), "facetClass", 0, 1);
---
>         initEClass (abstractNodeEClass, AbstractNode.class, "AbstractNode", IS_ABSTRACT, ! IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
1231d1294
<         initEReference (getNode_NodeFigure (), this.getFigure (), null, "nodeFigure", null, 1, 1, Node.class, IS_TRANSIENT, IS_VOLATILE, ! IS_CHANGEABLE, ! IS_COMPOSITE, ! IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, IS_DERIVED, IS_ORDERED);
1233a1297
>         initEReference (getNode_ContentPane (), this.getChildAccess (), null, "contentPane", null, 0, 1, Node.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, ! IS_COMPOSITE, IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
1235d1298
<         initEReference (getConnection_ConnectionFigure (), this.getFigure (), null, "connectionFigure", null, 1, 1, Connection.class, IS_TRANSIENT, IS_VOLATILE, ! IS_CHANGEABLE, ! IS_COMPOSITE, ! IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, IS_DERIVED, IS_ORDERED);
1238a1302
>         initEReference (getCompartment_Accessor (), this.getChildAccess (), null, "accessor", null, 0, 1, Compartment.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, ! IS_COMPOSITE, IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
1240a1305,1307
>         initEReference (getDiagramLabel_Accessor (), this.getChildAccess (), null, "accessor", null, 0, 1, DiagramLabel.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, ! IS_COMPOSITE, IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
>         initEReference (getDiagramLabel_Container (), this.getChildAccess (), null, "container", null, 0, 1, DiagramLabel.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, ! IS_COMPOSITE, IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
>         initEAttribute (getDiagramLabel_External (), ecorePackage.getEBoolean (), "external", null, 0, 1, DiagramLabel.class, IS_TRANSIENT, IS_VOLATILE, ! IS_CHANGEABLE, ! IS_UNSETTABLE, ! IS_ID, IS_UNIQUE, IS_DERIVED, IS_ORDERED);
1254,1257d1320
<         initEClass (figureMarkerEClass, FigureMarker.class, "FigureMarker", IS_ABSTRACT, IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
<         initEReference (getFigureMarker_Parent (), this.getFigure (), this.getFigure_Children (), "parent", null, 0, 1, FigureMarker.class, ! IS_TRANSIENT, ! IS_VOLATILE, ! IS_CHANGEABLE, ! IS_COMPOSITE, ! IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
<         initEClass (figureHandleEClass, FigureHandle.class, "FigureHandle", IS_ABSTRACT, IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
<         initEReference (getFigureHandle_ReferencingElements (), this.getDiagramElement (), this.getDiagramElement_Figure (), "referencingElements", null, 0, - 1, FigureHandle.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, ! IS_COMPOSITE, IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
1259c1322
<         initEReference (getFigure_Children (), this.getFigureMarker (), this.getFigureMarker_Parent (), "children", null, 0, - 1, Figure.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, ! IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
---
>         initEReference (getFigure_Descriptor (), this.getFigureDescriptor (), null, "descriptor", null, 0, 1, Figure.class, IS_TRANSIENT, IS_VOLATILE, ! IS_CHANGEABLE, ! IS_COMPOSITE, ! IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, IS_DERIVED, IS_ORDERED);
1269a1333,1343
>         initEClass (abstractFigureEClass, AbstractFigure.class, "AbstractFigure", IS_ABSTRACT, ! IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
>         initEClass (figureDescriptorEClass, FigureDescriptor.class, "FigureDescriptor", ! IS_ABSTRACT, ! IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
>         initEReference (getFigureDescriptor_ActualFigure (), this.getFigure (), null, "actualFigure", null, 1, 1, FigureDescriptor.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, ! IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
>         initEReference (getFigureDescriptor_Accessors (), this.getChildAccess (), this.getChildAccess_Owner (), "accessors", null, 0, - 1, FigureDescriptor.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, ! IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
>         initEClass (childAccessEClass, ChildAccess.class, "ChildAccess", ! IS_ABSTRACT, ! IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
>         initEReference (getChildAccess_Owner (), this.getFigureDescriptor (), this.getFigureDescriptor_Accessors (), "owner", null, 1, 1, ChildAccess.class, ! IS_TRANSIENT, ! IS_VOLATILE, ! IS_CHANGEABLE, ! IS_COMPOSITE, ! IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
>         initEAttribute (getChildAccess_Accessor (), ecorePackage.getEString (), "accessor", null, 0, 1, ChildAccess.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, ! IS_UNSETTABLE, ! IS_ID, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
>         initEReference (getChildAccess_Figure (), this.getFigure (), null, "figure", null, 1, 1, ChildAccess.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, ! IS_COMPOSITE, IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
>         initEClass (realFigureEClass, RealFigure.class, "RealFigure", IS_ABSTRACT, ! IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
>         initEAttribute (getRealFigure_Name (), ecorePackage.getEString (), "name", null, 0, 1, RealFigure.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, ! IS_UNSETTABLE, ! IS_ID, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
>         initEReference (getRealFigure_Children (), this.getFigure (), null, "children", null, 0, - 1, RealFigure.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, ! IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
1271c1345
<         initEReference (getFigureRef_Figure (), this.getFigure (), null, "figure", null, 1, 1, FigureRef.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, ! IS_COMPOSITE, IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
---
>         initEReference (getFigureRef_Figure (), this.getRealFigure (), null, "figure", null, 1, 1, FigureRef.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, ! IS_COMPOSITE, IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
1301d1374
<         initEAttribute (getCustomClass_BundleName (), ecorePackage.getEString (), "bundleName", null, 0, 1, CustomClass.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, ! IS_UNSETTABLE, ! IS_ID, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
1310c1383
<         initEReference (getFigureAccessor_TypedFigure (), this.getCustomFigure (), null, "typedFigure", null, 0, 1, FigureAccessor.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, ! IS_COMPOSITE, IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
---
>         initEReference (getFigureAccessor_TypedFigure (), this.getRealFigure (), null, "typedFigure", null, 1, 1, FigureAccessor.class, ! IS_TRANSIENT, ! IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, ! IS_RESOLVE_PROXIES, ! IS_UNSETTABLE, IS_UNIQUE, ! IS_DERIVED, IS_ORDERED);
