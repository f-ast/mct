9,10d8
< import org.eclipse.gef.EditPart;
< 
13,16d10
< import org.eclipse.gef.Request;
< 
< import org.eclipse.gef.commands.Command;
< 
19,22d12
< import org.eclipse.gef.editpolicies.NonResizableEditPolicy;
< 
< import org.eclipse.gef.requests.CreateRequest;
< 
25c15
< import org.eclipse.gmf.runtime.diagram.ui.editparts.ShapeNodeEditPart;
---
> import org.eclipse.gmf.graphdef.editor.edit.polocies.DomainBasedXYLayoutEditPolicy;
35c25
< public class Polyline2EditPart extends ShapeNodeEditPart {
---
> public class Polyline2EditPart extends AbstractFigureEditPart {
51,72c41
<         LayoutEditPolicy lep = new LayoutEditPolicy () {
< 
<             protected EditPolicy createChildEditPolicy (EditPart child) {
<                 EditPolicy result = child.getEditPolicy (EditPolicy.PRIMARY_DRAG_ROLE);
<                 if (result == null) {
<                     result = new NonResizableEditPolicy ();
<                 }
<                 return result;
<             }
< 
<             protected Command getMoveChildrenCommand (Request request) {
<                 return null;
<             }
< 
<             protected Command getCreateCommand (CreateRequest request) {
<                 return null;
<             }
< 
<         }
< 
<         ;
<         return lep;
---
>         return new DomainBasedXYLayoutEditPolicy (getMapMode ());
