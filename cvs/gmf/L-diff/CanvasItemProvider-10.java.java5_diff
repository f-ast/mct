16a17,20
> import org.eclipse.emf.ecore.EClass;
> 
> import org.eclipse.emf.ecore.EObject;
> 
131c135,143
<         return first.getFeature ().equals (second.getFeature ()) && first.getValue ().equals (second.getValue ());
---
>         if (! first.getFeature ().equals (second.getFeature ())) {
>             return false;
>         }
>         assert first.getValue () instanceof EObject;
>         assert second.getValue () instanceof EObject;
>         EClass firstEClass = ((EObject) first.getValue ()).eClass ();
>         EClass secondEClass = ((EObject) second.getValue ()).eClass ();
>         assert firstEClass.getEPackage ().getNsURI ().equals (secondEClass.getEPackage ().getNsURI ());
>         return firstEClass.getClassifierID () == secondEClass.getClassifierID ();
