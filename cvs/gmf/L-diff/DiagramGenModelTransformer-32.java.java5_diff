190a191,192
> import org.eclipse.gmf.gmfgraph.DiagramElement;
> 
196a199,200
> import org.eclipse.gmf.gmfgraph.VisualFacet;
> 
417c421
<         genNode.setViewmap (myViewmaps.create (nme.getDiagramNode ()));
---
>         genNode.setViewmap (myViewmaps.create ((Node) nme.getDiagramNode ()));
507c511
<         } else if (childNodeMapping.getDiagramNode ().getAffixedParentSide () != Direction.NONE_LITERAL) {
---
>         } else if (((Node) childNodeMapping.getDiagramNode ()).getAffixedParentSide () != Direction.NONE_LITERAL) {
509,510c513,514
<             sideAffixedNode.setViewmap (myViewmaps.create (childNodeMapping.getDiagramNode ()));
<             String positionConstantName = getAffixedSideAsPositionConstantsName (childNodeMapping.getDiagramNode ());
---
>             sideAffixedNode.setViewmap (myViewmaps.create ((Node) childNodeMapping.getDiagramNode ()));
>             String positionConstantName = getAffixedSideAsPositionConstantsName ((Node) childNodeMapping.getDiagramNode ());
516c520
<             childNode.setViewmap (myViewmaps.create (childNodeMapping.getDiagramNode ()));
---
>             childNode.setViewmap (myViewmaps.create ((Node) childNodeMapping.getDiagramNode ()));
624c628
<         if (Knowledge.isExternal (mapping.getDiagramLabel ())) {
---
>         if (mapping.getDiagramLabel ().isExternal ()) {
648,649c652,653
<         if (mapping.getDiagramLabel ().find (AlignmentFacet.class) != null) {
<             AlignmentFacet af = (AlignmentFacet) mapping.getDiagramLabel ().find (AlignmentFacet.class);
---
>         if (findVF (mapping.getDiagramLabel (), AlignmentFacet.class) != null) {
>             AlignmentFacet af = findVF (mapping.getDiagramLabel (), AlignmentFacet.class);
653c657
<         LabelOffsetFacet lof = (LabelOffsetFacet) mapping.getDiagramLabel ().find (LabelOffsetFacet.class);
---
>         LabelOffsetFacet lof = findVF (mapping.getDiagramLabel (), LabelOffsetFacet.class);
664a669,677
>     private static < T extends VisualFacet > T findVF (DiagramElement element, Class < T > facetClass) {
>         for (VisualFacet vf : element.getFacets ()) {
>             if (facetClass.isInstance (vf)) {
>                 return facetClass.cast (vf);
>             }
>         }
>         return null;
>     }
> 
