2a3,5
> import org.eclipse.core.commands.ExecutionException;
> 
> import org.eclipse.core.runtime.IAdaptable;
3,3d2
< import java.util.Collection;
8a13,13
> import org.eclipse.gmf.runtime.emf.core.util.EMFCoreUtil;
9,9d12
< import org.eclipse.emf.ecore.EReference;
10,10c14,14
< 
---
> 
22a25,27
>     protected CommandResult doExecuteWithResult (IProgressMonitor monitor, IAdaptable info) throws ExecutionException {
>         if (getElementToDestroy ().eResource () != null) {
>             EMFCoreUtil.destroy (getElementToDestroy ());
23,28d24
<     protected CommandResult doExecute (IProgressMonitor progressMonitor) {
<         EReference reference = getElementToDestroy ().eContainmentFeature ();
<         if (reference.isMany ()) {
<             ((Collection) getElementToEdit ().eGet (reference)).remove (getElementToDestroy ());
<         } else {
<             getElementToEdit ().eSet (reference, null);
30,30c29,29
<         return newOKCommandResult ();
---
>         return CommandResult.newOKCommandResult ();
37,37c36,36
<     public boolean isExecutable () {
---
>     public boolean canExecute () {
