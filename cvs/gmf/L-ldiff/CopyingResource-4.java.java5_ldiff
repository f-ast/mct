215,215c215,215
<         EObject eObj = (EObject) xmlResource.getIDToEObjectMap ().get (id);
---
>         EObject eObj = xmlResource.getEObject (id);
244a245,250
>         for (Iterator iter = xmlResource.getAllContents ();
>         iter.hasNext ();) {
>             EObject eObject = (EObject) iter.next ();
>             getEObjectToIDMap ().put (eObject, EObjectUtil.getID (eObject));
>             getIDToEObjectMap ().put (EObjectUtil.getID (eObject), eObject);
>         }
245,246d244
<         getEObjectToIDMap ().putAll (xmlResource.getEObjectToIDMap ());
<         getIDToEObjectMap ().putAll (xmlResource.getIDToEObjectMap ());
