143,144d142
< import org.eclipse.gmf.internal.codegen.dispatch.TemplateRegistry;
< 
174a173,177
>         this (usePrecompiled, templateDirectory, getDefaultVariables (), new StaticTemplateRegistry (CodegenEmitters.class.getClassLoader ()));
>     }
> 
>     public CodegenEmitters (boolean usePrecompiled, String templateDirectory, String [] variables, StaticTemplateRegistry registry) {
>         initRegistry (registry);
174a815,815
>     protected static String [] getDefaultVariables () {
175,175d814
<         TemplateRegistry registry = initRegistry ();
176a817,818
>     }
> 
176,176c816,816
<         String [] variables = new String [] {"org.eclipse.emf.codegen", "org.eclipse.emf.codegen.ecore", "org.eclipse.emf.common", "org.eclipse.emf.ecore", "org.eclipse.gmf.common", "org.eclipse.gmf.codegen"};
---
>         return new String [] {"org.eclipse.emf.codegen", "org.eclipse.emf.codegen.ecore", "org.eclipse.emf.common", "org.eclipse.emf.ecore", "org.eclipse.gmf.common", "org.eclipse.gmf.codegen",};
201,201c202,202
<     private static TemplateRegistry initRegistry () {
---
>     private static void initRegistry (StaticTemplateRegistry tr) {
202,202d202
<         final StaticTemplateRegistry tr = new StaticTemplateRegistry (CodegenEmitters.class.getClassLoader ());
254,254d253
<         return tr;
257,257c256,256
<     private static void put (StaticTemplateRegistry tr, String path, Class < ? > precompiledTemplate) {
---
>     protected static void put (StaticTemplateRegistry tr, String path, Class < ? > precompiledTemplate) {
812,812c811,811
<     private TextEmitter newXpandEmitter (String definition) {
---
>     protected TextEmitter newXpandEmitter (String definition) {
