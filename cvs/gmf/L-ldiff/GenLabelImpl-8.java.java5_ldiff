2a3,4
> import java.util.Iterator;
> 
8a11,14
> import org.eclipse.emf.common.util.BasicEList;
> 
> import org.eclipse.emf.common.util.EList;
> 
14a21,22
> import org.eclipse.gmf.codegen.gmfgen.CompositeFeatureModelFacet;
> 
20a29,30
> import org.eclipse.gmf.codegen.gmfgen.LabelModelFacet;
> 
24,24c34,34
<     protected FeatureModelFacet modelFacet = null;
---
>     protected LabelModelFacet modelFacet = null;
45,45c55,55
<     public FeatureModelFacet getModelFacet () {
---
>     public LabelModelFacet getModelFacet () {
49,49c59,59
<     public NotificationChain basicSetModelFacet (FeatureModelFacet newModelFacet, NotificationChain msgs) {
---
>     public NotificationChain basicSetModelFacet (LabelModelFacet newModelFacet, NotificationChain msgs) {
50,50c60,60
<         FeatureModelFacet oldModelFacet = modelFacet;
---
>         LabelModelFacet oldModelFacet = modelFacet;
61,61c71,71
<     public void setModelFacet (FeatureModelFacet newModelFacet) {
---
>     public void setModelFacet (LabelModelFacet newModelFacet) {
75,78d84
<     public GenFeature getMetaFeature () {
<         return getModelFacet () == null ? null : getModelFacet ().getMetaFeature ();
<     }
< 
82a89,102
>     public EList getMetaFeatures () {
>         EList metaFeatures = new BasicEList ();
>         if (getModelFacet () instanceof FeatureModelFacet) {
>             GenFeature metaFeature = ((FeatureModelFacet) getModelFacet ()).getMetaFeature ();
>             if (metaFeature != null) {
>                 metaFeatures.add (metaFeature);
>             }
>         } else if (getModelFacet () instanceof CompositeFeatureModelFacet) {
>             metaFeatures.addAll (((CompositeFeatureModelFacet) getModelFacet ()).getMetaFeatures ());
>         }
> 
>         return metaFeatures;
>     }
> 
107,107c127,127
<                 setModelFacet ((FeatureModelFacet) newValue);
---
>                 setModelFacet ((LabelModelFacet) newValue);
119,119c139,139
<                 setModelFacet ((FeatureModelFacet) null);
---
>                 setModelFacet ((LabelModelFacet) null);
147a168,175
>         StringBuffer sb = new StringBuffer ();
>         for (Iterator it = getMetaFeatures ().iterator ();
>         it.hasNext ();) {
>             GenFeature metaFeature = (GenFeature) it.next ();
>             sb.append (metaFeature.getCapName ());
>         }
>         if (sb.length () > 0) {
>             return sb.toString ();
148,150d167
<         GenFeature metaFeature = getMetaFeature ();
<         if (metaFeature != null) {
<             return metaFeature.getCapName ();
