20a13,13
> import org.eclipse.emf.ecore.EClassifier;
21,21d12
< import org.eclipse.emf.ecore.util.EcoreUtil;
22a15,16
> import org.eclipse.emf.ecore.EObject;
> 
22,22c14,14
< 
---
> 
25,25c29,29
< import org.eclipse.gmf.mappings.FeatureSeqInitializer;
---
> import org.eclipse.gmf.mappings.FeatureSeqInitializer;
27,27c27,27
< import org.eclipse.gmf.mappings.FeatureValueSpec;
---
> import org.eclipse.gmf.mappings.FeatureInitializer;
32a35,36
> import org.eclipse.gmf.mappings.ReferenceNewElementSpec;
> 
34a39,39
>     protected EClass elementClass = null;
44a50,51
>         MappingEntry mappingEntry = basicGetMappingEntry ();
>         return mappingEntry != null && mappingEntry.eIsProxy () ? (MappingEntry) eResolveProxy ((InternalEObject) mappingEntry) : mappingEntry;
45,45d112
<         if (eContainerFeatureID != GMFMapPackage.FEATURE_SEQ_INITIALIZER__MAPPING_ENTRY) return null;
46a114,116
>     public ReferenceNewElementSpec getCreatingInitializer () {
>         if (eContainerFeatureID != GMFMapPackage.FEATURE_SEQ_INITIALIZER__CREATING_INITIALIZER) return null;
> 
46,46c113,113
< 
---
> 
47,47c117,117
<         return (MappingEntry) eContainer ();
---
>         return (ReferenceNewElementSpec) eContainer ();
49a54,59
>     public MappingEntry basicGetMappingEntry () {
>         EObject container = eContainer ();
>         while (container != null && ! (container instanceof MappingEntry)) {
>             container = container.eContainer ();
>         }
>         return (container != null) ? (MappingEntry) container : null;
50,52d53
<     public NotificationChain basicSetMappingEntry (MappingEntry newMappingEntry, NotificationChain msgs) {
<         msgs = eBasicSetContainer ((InternalEObject) newMappingEntry, GMFMapPackage.FEATURE_SEQ_INITIALIZER__MAPPING_ENTRY, msgs);
<         return msgs;
55,57d61
<     public void setMappingEntry (MappingEntry newMappingEntry) {
<         if (newMappingEntry != eInternalContainer () || (eContainerFeatureID != GMFMapPackage.FEATURE_SEQ_INITIALIZER__MAPPING_ENTRY && newMappingEntry != null)) {
<             if (EcoreUtil.isAncestor (this, newMappingEntry)) throw new IllegalArgumentException ("Recursive containment not allowed for " + toString ());
58a69,82
>     public EClass getElementClass () {
>         if (getCreatingInitializer () == null) {
>             return (getMappingEntry () != null) ? getMappingEntry ().getDomainContext () : null;
>         }
>         EClass eClass = getElementClassGen ();
>         if (eClass != null) {
>             return eClass;
>         }
>         EClassifier eClassifier = null;
>         if (getCreatingInitializer ().getFeature () != null) {
>             eClassifier = getCreatingInitializer ().getFeature ().getEType ();
>         }
>         return (eClassifier instanceof EClass) ? (EClass) eClassifier : null;
>     }
59,60d68
<             NotificationChain msgs = null;
<             if (eInternalContainer () != null) msgs = eBasicRemoveFromContainer (msgs);
61a84,89
>     public EClass getElementClassGen () {
>         if (elementClass != null && elementClass.eIsProxy ()) {
>             InternalEObject oldElementClass = (InternalEObject) elementClass;
>             elementClass = (EClass) eResolveProxy (oldElementClass);
>             if (elementClass != oldElementClass) {
>                 if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.RESOLVE, GMFMapPackage.FEATURE_SEQ_INITIALIZER__ELEMENT_CLASS, oldElementClass, elementClass));
62,62d83
<             if (newMappingEntry != null) msgs = ((InternalEObject) newMappingEntry).eInverseAdd (this, GMFMapPackage.MAPPING_ENTRY__DOMAIN_INITIALIZER, MappingEntry.class, msgs);
64,65d90
<             msgs = basicSetMappingEntry (newMappingEntry, msgs);
<             if (msgs != null) msgs.dispatch ();
66a96,98
>     public EClass basicGetElementClass () {
>         return elementClass;
>     }
67,67d95
<         } else if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFMapPackage.FEATURE_SEQ_INITIALIZER__MAPPING_ENTRY, newMappingEntry, newMappingEntry));
68a100,104
>     public void setElementClass (EClass newElementClass) {
>         if (getCreatingInitializer () == null && eContainer () != null) {
>             return;
>         }
>         setElementClassGen (newElementClass);
70a107,111
>     public void setElementClassGen (EClass newElementClass) {
>         EClass oldElementClass = elementClass;
>         elementClass = newElementClass;
>         if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFMapPackage.FEATURE_SEQ_INITIALIZER__ELEMENT_CLASS, oldElementClass, elementClass));
> 
71,71c62,62
<     public EList getInitializers () {
---
>     public EList getInitializers () {
72,72c63,63
<         if (initializers == null) {
---
>         if (initializers == null) {
73a65,67
>         }
>         return initializers;
>     }
73,73c64,64
<             initializers = new EObjectContainmentWithInverseEList (FeatureValueSpec.class, this, GMFMapPackage.FEATURE_SEQ_INITIALIZER__INITIALIZERS, GMFMapPackage.FEATURE_VALUE_SPEC__FEATURE_SEQ_INITIALIZER);
---
>             initializers = new EObjectContainmentWithInverseEList (FeatureInitializer.class, this, GMFMapPackage.FEATURE_SEQ_INITIALIZER__INITIALIZERS, GMFMapPackage.FEATURE_INITIALIZER__FEATURE_SEQ_INITIALIZER);
74a91,92
>             }
>         }
75a94,94
>     }
75,75c93,93
<         return initializers;
---
>         return elementClass;
79a124,124
>             case GMFMapPackage.FEATURE_SEQ_INITIALIZER__CREATING_INITIALIZER :
80,80d123
<             case GMFMapPackage.FEATURE_SEQ_INITIALIZER__MAPPING_ENTRY :
81,81c125,125
<                 if (eInternalContainer () != null) msgs = eBasicRemoveFromContainer (msgs);
---
>                 if (eInternalContainer () != null) msgs = eBasicRemoveFromContainer (msgs);
82,82c126,126
< 
---
> 
83,83c127,127
<                 return basicSetMappingEntry ((MappingEntry) otherEnd, msgs);
---
>                 return eBasicSetContainer (otherEnd, GMFMapPackage.FEATURE_SEQ_INITIALIZER__CREATING_INITIALIZER, msgs);
92,92c136,136
<             case GMFMapPackage.FEATURE_SEQ_INITIALIZER__MAPPING_ENTRY :
---
>             case GMFMapPackage.FEATURE_SEQ_INITIALIZER__CREATING_INITIALIZER :
92a137,137
>                 return eBasicSetContainer (null, GMFMapPackage.FEATURE_SEQ_INITIALIZER__CREATING_INITIALIZER, msgs);
93,93d136
<                 return basicSetMappingEntry (null, msgs);
102,102c144,144
<             case GMFMapPackage.FEATURE_SEQ_INITIALIZER__MAPPING_ENTRY :
---
>             case GMFMapPackage.FEATURE_SEQ_INITIALIZER__CREATING_INITIALIZER :
103,103c145,145
<                 return eInternalContainer ().eInverseRemove (this, GMFMapPackage.MAPPING_ENTRY__DOMAIN_INITIALIZER, MappingEntry.class, msgs);
---
>                 return eInternalContainer ().eInverseRemove (this, GMFMapPackage.REFERENCE_NEW_ELEMENT_SPEC__NEW_ELEMENT_INITIALIZERS, ReferenceNewElementSpec.class, msgs);
110a153,154
>                 if (resolve) return getMappingEntry ();
> 
111,111c155,155
<                 return getMappingEntry ();
---
>                 return basicGetMappingEntry ();
113a158,163
>             case GMFMapPackage.FEATURE_SEQ_INITIALIZER__ELEMENT_CLASS :
>                 if (resolve) return getElementClass ();
> 
>                 return basicGetElementClass ();
>             case GMFMapPackage.FEATURE_SEQ_INITIALIZER__CREATING_INITIALIZER :
>                 return getCreatingInitializer ();
119a174,175
>             case GMFMapPackage.FEATURE_SEQ_INITIALIZER__ELEMENT_CLASS :
>                 setElementClass ((EClass) newValue);
120,121d173
<             case GMFMapPackage.FEATURE_SEQ_INITIALIZER__MAPPING_ENTRY :
<                 setMappingEntry ((MappingEntry) newValue);
122,122c176,176
<                 return;
---
>                 return;
133,133c199,199
<             case GMFMapPackage.FEATURE_SEQ_INITIALIZER__MAPPING_ENTRY :
---
>             case GMFMapPackage.FEATURE_SEQ_INITIALIZER__ELEMENT_CLASS :
134,134d199
<                 setMappingEntry ((MappingEntry) null);
135a201,202
>             case GMFMapPackage.FEATURE_SEQ_INITIALIZER__CREATING_INITIALIZER :
>                 return getCreatingInitializer () != null;
135,135c200,200
<                 return;
---
>                 return elementClass != null;
138a186,188
>             case GMFMapPackage.FEATURE_SEQ_INITIALIZER__ELEMENT_CLASS :
>                 setElementClass ((EClass) null);
>                 return;
146,146c196,196
<                 return getMappingEntry () != null;
---
>                 return basicGetMappingEntry () != null;
