16a17,18
> import org.eclipse.emf.common.notify.Notification;
> 
43,44d44
< import org.eclipse.gmf.runtime.diagram.core.listener.NotificationEvent;
< 
53,54d52
< import org.eclipse.gmf.runtime.diagram.ui.properties.Properties;
< 
193a192,195
>     protected boolean isAffectingParserOptions (Notification evt) {
>         return false;
>     }
> 
258,259d259
<     protected void handleNotificationEvent (NotificationEvent event) {
<         if (getParser () != null && getParser ().isAffectingEvent (event.getNotification (), getParserOptions ().intValue ())) {
265,265c277,277
<             if (modelParser.areSemanticElementsAffected (null, event.getNotification ())) {
---
>                 if (modelParser.areSemanticElementsAffected (null, event)) {
273,273c287,287
<         super.handleNotificationEvent (event);
---
>         super.handleNotificationEvent (event);
275a260,263
>     protected void handleNotificationEvent (Notification event) {
>         Object feature = event.getFeature ();
>         if (NotationPackage.eINSTANCE.getFontStyle_FontColor ().equals (feature)) {
>             Integer c = (Integer) event.getNewValue ();
276,278d259
<     protected void handlePropertyChangeEvent (PropertyChangeEvent evt) {
<         if (evt.getPropertyName ().equals (Properties.ID_FONTCOLOR)) {
<             Integer c = (Integer) evt.getNewValue ();
279a265,267
>         } else if (NotationPackage.eINSTANCE.getFontStyle_Underline ().equals (feature)) refreshUnderline ();
>         else if (NotationPackage.eINSTANCE.getFontStyle_StrikeThrough ().equals (feature)) refreshStrikeThrough ();
>         else if (isAffectingParserOptions (event)) {
279,279c264,264
<             setFontColor (PresentationResourceManager.getInstance ().getColor (c));
---
>             setFontColor (PresentationResourceManager.getInstance ().getColor (c));
280,282d264
<         } else if (evt.getPropertyName ().equals (Properties.ID_FONTUNDERLINE)) refreshUnderline ();
<         else if (evt.getPropertyName ().equals (Properties.ID_FONTSTRIKETHROUGH)) refreshStrikeThrough ();
<         else if (isAffectingParserOptions (evt)) {
283,283c268,268
<             refreshParserOptions ();
---
>             refreshParserOptions ();
284a270,271
>         } else {
>             if (getParser () != null && getParser ().isAffectingEvent (event, getParserOptions ().intValue ())) {
284,284c269,269
<             refreshLabel ();
---
>             refreshLabel ();
285,286d269
<         } else super.handlePropertyChangeEvent (evt);
< 
