2a3,14
> import org.eclipse.draw2d.AbstractLocator;
> 
> import org.eclipse.draw2d.IFigure;
> 
> import org.eclipse.draw2d.PositionConstants;
> 
> import org.eclipse.draw2d.geometry.Point;
> 
> import org.eclipse.emf.common.notify.Notification;
> 
> import org.eclipse.gef.GraphicalEditPart;
> 
7,7c31,31
<     public BaseExternalNodeLabelEditPart (org.eclipse.gmf.runtime.notation.View view) {
---
>     public BaseExternalNodeLabelEditPart (View view) {
11a36,36
>         Node node = (Node) getModel ();
11a17,24
> import org.eclipse.gmf.runtime.lite.edit.parts.update.IExternallyUpdatableEditPart;
> 
> import org.eclipse.gmf.runtime.lite.edit.parts.update.UpdaterUtil;
> 
> import org.eclipse.gmf.runtime.notation.Location;
> 
> import org.eclipse.gmf.runtime.notation.Node;
> 
12,12c25,25
<         org.eclipse.gmf.runtime.notation.Node node = (org.eclipse.gmf.runtime.notation.Node) getModel ();
---
> import org.eclipse.gmf.runtime.notation.NotationPackage;
12a26,28
> 
> import org.eclipse.gmf.runtime.notation.View;
> 
15a40,41
>         assert node.getLayoutConstraint () instanceof Location;
>         final Location location = (Location) node.getLayoutConstraint ();
16,17d39
<         assert node.getLayoutConstraint () instanceof org.eclipse.gmf.runtime.notation.Location;
<         final org.eclipse.gmf.runtime.notation.Location location = (org.eclipse.gmf.runtime.notation.Location) node.getLayoutConstraint ();
18,18c42,42
<         getFigure ().getParent ().setConstraint (getFigure (), new org.eclipse.draw2d.AbstractLocator () {
---
>         getFigure ().getParent ().setConstraint (getFigure (), new AbstractLocator () {
19a44,44
>             protected Point getReferencePoint () {
20,20d43
<             protected org.eclipse.draw2d.geometry.Point getReferencePoint () {
21,21c45,45
<                 return getLabelLocation (((org.eclipse.gef.GraphicalEditPart) getParent ()).getFigure ()).translate (location.getX (), location.getY ());
---
>                 return getLabelLocation (((GraphicalEditPart) getParent ()).getFigure ()).translate (location.getX (), location.getY ());
25,25c49,49
<                 return org.eclipse.draw2d.PositionConstants.SOUTH;
---
>                 return PositionConstants.SOUTH;
37a62,62
>     protected IExternallyUpdatableEditPart.ExternalRefresher boundsRefresher = new IExternallyUpdatableEditPart.ExternalRefresher () {
38,38d61
<     protected org.eclipse.gmf.runtime.lite.edit.parts.update.IUpdatableEditPart.Refresher boundsRefresher = new org.eclipse.gmf.runtime.lite.edit.parts.update.IUpdatableEditPart.Refresher () {
43a68,77
>         public boolean isAffectingEvent (Notification msg) {
>             if (NotationPackage.eINSTANCE.getLocation ().getEStructuralFeatures ().contains (msg.getFeature ())) {
>                 return true;
>             }
>             if (NotationPackage.eINSTANCE.getNode_LayoutConstraint () == msg.getFeature ()) {
>                 return UpdaterUtil.affects (msg, NotationPackage.eINSTANCE.getLocation ());
>             }
>             return false;
>         }
> 
47a82,82
>     public Point getReferencePoint () {
48,48d81
<     public org.eclipse.draw2d.geometry.Point getReferencePoint () {
49,49c83,83
<         return getLabelLocation (((org.eclipse.gef.GraphicalEditPart) getParent ()).getFigure ());
---
>         return getLabelLocation (((GraphicalEditPart) getParent ()).getFigure ());
51a86,86
>     protected Point getLabelLocation (IFigure parent) {
52,52d85
<     protected org.eclipse.draw2d.geometry.Point getLabelLocation (org.eclipse.draw2d.IFigure parent) {
53,53c87,87
<         org.eclipse.draw2d.geometry.Point result = parent.getBounds ().getBottom ();
---
>         Point result = parent.getBounds ().getBottom ();
