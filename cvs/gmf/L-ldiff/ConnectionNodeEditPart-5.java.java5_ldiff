3,4d2
< import java.beans.PropertyChangeEvent;
< 
25,25d22
< import org.eclipse.gmf.runtime.diagram.core.listener.NotificationEvent;
29,30d22
< import org.eclipse.gmf.runtime.diagram.ui.properties.Properties;
< 
31,31c23,23
< import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
---
> import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
32,32d23
< 
37,38d30
< import org.eclipse.gmf.runtime.emf.core.util.MetaModelUtil;
< 
142,152d133
<     protected void handlePropertyChangeEvent (PropertyChangeEvent event) {
<         if (Properties.ID_SOURCECONNECTIONS.equals (event.getPropertyName ())) refreshSourceConnections ();
<         else if (Properties.ID_TARGETCONNECTIONS.equals (event.getPropertyName ())) refreshTargetConnections ();
<         else super.handlePropertyChangeEvent (event);
< 
<         Object element = MetaModelUtil.getElement (event.getPropertyName ());
<         if (element != null && element.equals (NotationPackage.eINSTANCE.getIdentityAnchor_Id ())) {
<             anchorChange ();
<         }
<     }
< 
157a139,141
>         Object feature = notification.getFeature ();
>         if (NotationPackage.eINSTANCE.getView_SourceEdges ().equals (feature)) refreshSourceConnections ();
>         else if (NotationPackage.eINSTANCE.getView_TargetEdges ().equals (feature)) refreshTargetConnections ();
157,157c138,138
<     protected void handleNotificationEvent (NotificationEvent e) {
---
>     protected void handleNotificationEvent (Notification notification) {
158,158c142,142
<         super.handleNotificationEvent (e);
---
>         else super.handleNotificationEvent (notification);
158a143,143
> 
159,159d142
<         Notification event = e.getNotification ();
160,160c144,144
<         if (event.getNewValue () instanceof IdentityAnchor || event.getOldValue () instanceof IdentityAnchor) {
---
>         if (NotationPackage.eINSTANCE.getIdentityAnchor_Id ().equals (feature) || notification.getNewValue () instanceof IdentityAnchor || notification.getOldValue () instanceof IdentityAnchor) {
