19,19c39,39
< import org.eclipse.jface.preference.IPreferenceStore;
---
> import org.eclipse.jface.preference.IPreferenceStore;
20,20c40,40
< 
---
> 
21,21c41,41
< import org.eclipse.jface.resource.ImageDescriptor;
---
> import org.eclipse.jface.resource.ImageDescriptor;
22,22c42,42
< 
---
> 
23,23c43,43
< import org.eclipse.swt.graphics.GC;
---
> import org.eclipse.swt.graphics.GC;
24,24c44,44
< 
---
> 
25,25c45,45
< import org.eclipse.swt.graphics.Image;
---
> import org.eclipse.swt.graphics.Image;
26,26c46,46
< 
---
> 
27,27c47,47
< import org.eclipse.swt.graphics.ImageData;
---
> import org.eclipse.swt.graphics.ImageData;
28,28c48,48
< 
---
> 
29,29c49,49
< import org.eclipse.swt.graphics.Rectangle;
---
> import org.eclipse.swt.graphics.Rectangle;
30,30c50,50
< 
---
> 
31,31c51,51
< import org.eclipse.swt.widgets.Display;
---
> import org.eclipse.swt.widgets.Display;
32,32c52,52
< 
---
> 
45,45c31,31
< import org.eclipse.gmf.runtime.draw2d.ui.mapmode.MapMode;
---
> import org.eclipse.gmf.runtime.draw2d.ui.mapmode.IMapMode;
94a95,95
>             IMapMode mm = getMapMode ();
95,95c96,96
<             awtImage = new BufferedImage (MapMode.LPtoDP (sourceRect.width), MapMode.LPtoDP (sourceRect.height), BufferedImage.TYPE_4BYTE_ABGR_PRE);
---
>             awtImage = new BufferedImage (mm.LPtoDP (sourceRect.width), mm.LPtoDP (sourceRect.height), BufferedImage.TYPE_4BYTE_ABGR_PRE);
105a107,107
>             Graphics graphics = new GraphicsToGraphics2DAdaptor (g2d, new Rectangle (0, 0, mm.LPtoDP (sourceRect.width), mm.LPtoDP (sourceRect.height)));
106,106d106
<             Graphics graphics = new GraphicsToGraphics2DAdaptor (g2d, new Rectangle (0, 0, MapMode.LPtoDP (sourceRect.width), MapMode.LPtoDP (sourceRect.height)));
107,107c108,108
<             RenderedMapModeGraphics mapModeGraphics = new RenderedMapModeGraphics (graphics);
---
>             RenderedMapModeGraphics mapModeGraphics = new RenderedMapModeGraphics (graphics, mm);
