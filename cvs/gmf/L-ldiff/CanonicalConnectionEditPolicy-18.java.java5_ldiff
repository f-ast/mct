26a27,28
> import org.eclipse.emf.ecore.xmi.XMLResource;
> 
73,73c75,75
< import org.eclipse.gmf.runtime.emf.core.util.EObjectUtil;
---
> import org.eclipse.gmf.runtime.emf.core.util.PackageUtil;
120,120c122,122
<                 List parts = ((IDiagramGraphicalViewer) viewer).findEditPartsForElement (EObjectUtil.getID (element), INodeEditPart.class);
---
>                 List parts = ((IDiagramGraphicalViewer) viewer).findEditPartsForElement (((XMLResource) element.eResource ()).getID (element), INodeEditPart.class);
126,126c128,128
<                         parts = ((IDiagramGraphicalViewer) viewer).findEditPartsForElement (EObjectUtil.getID (element), INodeEditPart.class);
---
>                         parts = ((IDiagramGraphicalViewer) viewer).findEditPartsForElement (((XMLResource) element.eResource ()).getID (element), INodeEditPart.class);
391,391c393,393
<         return dropElement instanceof EObject ? ! EObjectUtil.canContain (getSemanticHost (), ((EObject) dropElement).eClass (), false) : false;
---
>         return dropElement instanceof EObject ? ! PackageUtil.canContain (getSemanticHost ().eClass (), ((EObject) dropElement).eClass (), false) : false;
