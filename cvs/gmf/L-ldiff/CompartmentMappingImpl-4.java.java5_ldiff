25,26d24
< import org.eclipse.gmf.mappings.AbstractNodeMapping;
< 
27,27c25,25
< import org.eclipse.gmf.mappings.ChildNodeMapping;
---
> import org.eclipse.gmf.mappings.ChildReference;
32a31,32
> import org.eclipse.gmf.mappings.NodeMapping;
> 
35,35c35,35
<     protected EList childNodes = null;
---
>     protected EList children = null;
45,50d44
<     public AbstractNodeMapping getParentNodeMapping () {
<         if (eContainerFeatureID != GMFMapPackage.COMPARTMENT_MAPPING__PARENT_NODE_MAPPING) return null;
< 
<         return (AbstractNodeMapping) eContainer ();
<     }
< 
73a68,73
>     public NodeMapping getParentNode () {
>         if (eContainerFeatureID != GMFMapPackage.COMPARTMENT_MAPPING__PARENT_NODE) return null;
> 
>         return (NodeMapping) eContainer ();
>     }
> 
74,74c74,74
<     public EList getChildNodes () {
---
>     public EList getChildren () {
75,75c75,75
<         if (childNodes == null) {
---
>         if (children == null) {
76,76c76,76
<             childNodes = new EObjectWithInverseResolvingEList (ChildNodeMapping.class, this, GMFMapPackage.COMPARTMENT_MAPPING__CHILD_NODES, GMFMapPackage.CHILD_NODE_MAPPING__COMPARTMENT);
---
>             children = new EObjectWithInverseResolvingEList (ChildReference.class, this, GMFMapPackage.COMPARTMENT_MAPPING__CHILDREN, GMFMapPackage.CHILD_REFERENCE__COMPARTMENT);
78,78c78,78
<         return childNodes;
---
>         return children;
83,83c83,83
<             case GMFMapPackage.COMPARTMENT_MAPPING__PARENT_NODE_MAPPING :
---
>             case GMFMapPackage.COMPARTMENT_MAPPING__PARENT_NODE :
85a86,87
>                 return eBasicSetContainer (otherEnd, GMFMapPackage.COMPARTMENT_MAPPING__PARENT_NODE, msgs);
>             case GMFMapPackage.COMPARTMENT_MAPPING__CHILDREN :
86,87d85
<                 return eBasicSetContainer (otherEnd, GMFMapPackage.COMPARTMENT_MAPPING__PARENT_NODE_MAPPING, msgs);
<             case GMFMapPackage.COMPARTMENT_MAPPING__CHILD_NODES :
88,88c88,88
<                 return ((InternalEList) getChildNodes ()).basicAdd (otherEnd, msgs);
---
>                 return ((InternalEList) getChildren ()).basicAdd (otherEnd, msgs);
94a95,97
>             case GMFMapPackage.COMPARTMENT_MAPPING__PARENT_NODE :
>                 return eBasicSetContainer (null, GMFMapPackage.COMPARTMENT_MAPPING__PARENT_NODE, msgs);
>             case GMFMapPackage.COMPARTMENT_MAPPING__CHILDREN :
95,97d94
<             case GMFMapPackage.COMPARTMENT_MAPPING__PARENT_NODE_MAPPING :
<                 return eBasicSetContainer (null, GMFMapPackage.COMPARTMENT_MAPPING__PARENT_NODE_MAPPING, msgs);
<             case GMFMapPackage.COMPARTMENT_MAPPING__CHILD_NODES :
98,98c98,98
<                 return ((InternalEList) getChildNodes ()).basicRemove (otherEnd, msgs);
---
>                 return ((InternalEList) getChildren ()).basicRemove (otherEnd, msgs);
105,105c105,105
<             case GMFMapPackage.COMPARTMENT_MAPPING__PARENT_NODE_MAPPING :
---
>             case GMFMapPackage.COMPARTMENT_MAPPING__PARENT_NODE :
106,106c106,106
<                 return eInternalContainer ().eInverseRemove (this, GMFMapPackage.ABSTRACT_NODE_MAPPING__COMPARTMENT_MAPPINGS, AbstractNodeMapping.class, msgs);
---
>                 return eInternalContainer ().eInverseRemove (this, GMFMapPackage.NODE_MAPPING__COMPARTMENTS, NodeMapping.class, msgs);
113,113c117,117
<             case GMFMapPackage.COMPARTMENT_MAPPING__PARENT_NODE_MAPPING :
---
>             case GMFMapPackage.COMPARTMENT_MAPPING__PARENT_NODE :
114a119,120
>             case GMFMapPackage.COMPARTMENT_MAPPING__CHILDREN :
>                 return getChildren ();
114,114c118,118
<                 return getParentNodeMapping ();
---
>                 return getParentNode ();
119,120d116
<             case GMFMapPackage.COMPARTMENT_MAPPING__CHILD_NODES :
<                 return getChildNodes ();
129a130,131
>             case GMFMapPackage.COMPARTMENT_MAPPING__CHILDREN :
>                 getChildren ().clear ();
130,131d129
<             case GMFMapPackage.COMPARTMENT_MAPPING__CHILD_NODES :
<                 getChildNodes ().clear ();
132,132c132,132
<                 getChildNodes ().addAll ((Collection) newValue);
---
>                 getChildren ().addAll ((Collection) newValue);
143,143c143,143
<             case GMFMapPackage.COMPARTMENT_MAPPING__CHILD_NODES :
---
>             case GMFMapPackage.COMPARTMENT_MAPPING__CHILDREN :
144,144c144,144
<                 getChildNodes ().clear ();
---
>                 getChildren ().clear ();
152,152c154,154
<             case GMFMapPackage.COMPARTMENT_MAPPING__PARENT_NODE_MAPPING :
---
>             case GMFMapPackage.COMPARTMENT_MAPPING__PARENT_NODE :
153a156,157
>             case GMFMapPackage.COMPARTMENT_MAPPING__CHILDREN :
>                 return children != null && ! children.isEmpty ();
153,153c155,155
<                 return getParentNodeMapping () != null;
---
>                 return getParentNode () != null;
156,157d153
<             case GMFMapPackage.COMPARTMENT_MAPPING__CHILD_NODES :
<                 return childNodes != null && ! childNodes.isEmpty ();
