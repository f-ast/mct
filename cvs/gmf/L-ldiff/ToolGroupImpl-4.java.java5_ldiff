1,1c1,1
< package org.eclipse.gmf.tooldef.impl;
---
> package org.eclipse.gmf.codegen.gmfgen.impl;
2a3,4
> import java.util.Collection;
> 
3a6,7
> 
> import org.eclipse.emf.common.util.EList;
3,3c5,5
< import org.eclipse.emf.common.notify.Notification;
---
> import org.eclipse.emf.common.notify.NotificationChain;
8a13,14
> import org.eclipse.emf.ecore.util.EObjectContainmentWithInverseEList;
> 
9a16,19
> 
> import org.eclipse.gmf.codegen.gmfgen.GMFGenPackage;
> 
> import org.eclipse.gmf.codegen.gmfgen.LinkEntry;
9,9c15,15
< import org.eclipse.emf.ecore.impl.ENotificationImpl;
---
> import org.eclipse.emf.ecore.util.InternalEList;
11,11c21,21
< import org.eclipse.gmf.tooldef.AbstractTool;
---
> import org.eclipse.gmf.codegen.gmfgen.NodeEntry;
13,13c23,23
< import org.eclipse.gmf.tooldef.GMFToolPackage;
---
> import org.eclipse.gmf.codegen.gmfgen.Palette;
15,15c25,25
< import org.eclipse.gmf.tooldef.ToolGroup;
---
> import org.eclipse.gmf.codegen.gmfgen.ToolGroup;
16a27,29
> public class ToolGroupImpl extends EntryBaseImpl implements ToolGroup {
>     protected EList nodeTools = null;
>     protected EList linkTools = null;
17,22d26
< public class ToolGroupImpl extends ToolContainerImpl implements ToolGroup {
<     protected static final boolean COLLAPSIBLE_EDEFAULT = false;
<     protected boolean collapsible = COLLAPSIBLE_EDEFAULT;
<     protected static final boolean STACK_EDEFAULT = false;
<     protected boolean stack = STACK_EDEFAULT;
<     protected AbstractTool active = null;
29,29c36,36
<         return GMFToolPackage.eINSTANCE.getToolGroup ();
---
>         return GMFGenPackage.eINSTANCE.getToolGroup ();
31a39,41
>     public EList getNodeTools () {
>         if (nodeTools == null) {
>             nodeTools = new EObjectContainmentWithInverseEList (NodeEntry.class, this, GMFGenPackage.TOOL_GROUP__NODE_TOOLS, GMFGenPackage.NODE_ENTRY__GROUP);
32,33d38
<     public boolean isCollapsible () {
<         return collapsible;
35,40d42
< 
<     public void setCollapsible (boolean newCollapsible) {
<         boolean oldCollapsible = collapsible;
<         collapsible = newCollapsible;
<         if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFToolPackage.TOOL_GROUP__COLLAPSIBLE, oldCollapsible, collapsible));
< 
42a46,50
>     public EList getLinkTools () {
>         if (linkTools == null) {
>             linkTools = new EObjectContainmentWithInverseEList (LinkEntry.class, this, GMFGenPackage.TOOL_GROUP__LINK_TOOLS, GMFGenPackage.LINK_ENTRY__GROUP);
>         }
>         return linkTools;
43,44d45
<     public boolean isStack () {
<         return stack;
46a53,54
>     public Palette getPalette () {
>         if (eContainerFeatureID != GMFGenPackage.TOOL_GROUP__PALETTE) return null;
47,50d52
<     public void setStack (boolean newStack) {
<         boolean oldStack = stack;
<         stack = newStack;
<         if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFToolPackage.TOOL_GROUP__STACK, oldStack, stack));
51a56,56
>         return (Palette) eContainer ();
53a59,66
>     public NotificationChain eInverseAdd (InternalEObject otherEnd, int featureID, NotificationChain msgs) {
>         switch (featureID) {
>             case GMFGenPackage.TOOL_GROUP__NODE_TOOLS :
>                 return ((InternalEList) getNodeTools ()).basicAdd (otherEnd, msgs);
>             case GMFGenPackage.TOOL_GROUP__LINK_TOOLS :
>                 return ((InternalEList) getLinkTools ()).basicAdd (otherEnd, msgs);
>             case GMFGenPackage.TOOL_GROUP__PALETTE :
>                 if (eInternalContainer () != null) msgs = eBasicRemoveFromContainer (msgs);
54,59d58
<     public AbstractTool getActive () {
<         if (active != null && active.eIsProxy ()) {
<             InternalEObject oldActive = (InternalEObject) active;
<             active = (AbstractTool) eResolveProxy (oldActive);
<             if (active != oldActive) {
<                 if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.RESOLVE, GMFToolPackage.TOOL_GROUP__ACTIVE, oldActive, active));
60a68,68
>                 return eBasicSetContainer (otherEnd, GMFGenPackage.TOOL_GROUP__PALETTE, msgs);
61a70,70
>         return super.eInverseAdd (otherEnd, featureID, msgs);
62,62d42
<         }
63,63c43,43
<         return active;
---
>         return nodeTools;
65a73,88
>     public NotificationChain eInverseRemove (InternalEObject otherEnd, int featureID, NotificationChain msgs) {
>         switch (featureID) {
>             case GMFGenPackage.TOOL_GROUP__NODE_TOOLS :
>                 return ((InternalEList) getNodeTools ()).basicRemove (otherEnd, msgs);
>             case GMFGenPackage.TOOL_GROUP__LINK_TOOLS :
>                 return ((InternalEList) getLinkTools ()).basicRemove (otherEnd, msgs);
>             case GMFGenPackage.TOOL_GROUP__PALETTE :
>                 return eBasicSetContainer (null, GMFGenPackage.TOOL_GROUP__PALETTE, msgs);
>         }
>         return super.eInverseRemove (otherEnd, featureID, msgs);
>     }
> 
>     public NotificationChain eBasicRemoveFromContainerFeature (NotificationChain msgs) {
>         switch (eContainerFeatureID) {
>             case GMFGenPackage.TOOL_GROUP__PALETTE :
>                 return eInternalContainer ().eInverseRemove (this, GMFGenPackage.PALETTE__GROUPS, Palette.class, msgs);
66,67d72
<     public AbstractTool basicGetActive () {
<         return active;
68a90,90
>         return super.eBasicRemoveFromContainerFeature (msgs);
69,74d89
< 
<     public void setActive (AbstractTool newActive) {
<         AbstractTool oldActive = active;
<         active = newActive;
<         if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFToolPackage.TOOL_GROUP__ACTIVE, oldActive, active));
< 
78a95,100
>             case GMFGenPackage.TOOL_GROUP__NODE_TOOLS :
>                 return getNodeTools ();
>             case GMFGenPackage.TOOL_GROUP__LINK_TOOLS :
>                 return getLinkTools ();
>             case GMFGenPackage.TOOL_GROUP__PALETTE :
>                 return getPalette ();
79,86d94
<             case GMFToolPackage.TOOL_GROUP__COLLAPSIBLE :
<                 return isCollapsible () ? Boolean.TRUE : Boolean.FALSE;
<             case GMFToolPackage.TOOL_GROUP__STACK :
<                 return isStack () ? Boolean.TRUE : Boolean.FALSE;
<             case GMFToolPackage.TOOL_GROUP__ACTIVE :
<                 if (resolve) return getActive ();
< 
<                 return basicGetActive ();
92a107,113
>             case GMFGenPackage.TOOL_GROUP__NODE_TOOLS :
>                 getNodeTools ().clear ();
>                 getNodeTools ().addAll ((Collection) newValue);
>                 return;
>             case GMFGenPackage.TOOL_GROUP__LINK_TOOLS :
>                 getLinkTools ().clear ();
>                 getLinkTools ().addAll ((Collection) newValue);
93,100d106
<             case GMFToolPackage.TOOL_GROUP__COLLAPSIBLE :
<                 setCollapsible (((Boolean) newValue).booleanValue ());
<                 return;
<             case GMFToolPackage.TOOL_GROUP__STACK :
<                 setStack (((Boolean) newValue).booleanValue ());
<                 return;
<             case GMFToolPackage.TOOL_GROUP__ACTIVE :
<                 setActive ((AbstractTool) newValue);
107a121,122
>             case GMFGenPackage.TOOL_GROUP__NODE_TOOLS :
>                 getNodeTools ().clear ();
108,112d120
<             case GMFToolPackage.TOOL_GROUP__COLLAPSIBLE :
<                 setCollapsible (COLLAPSIBLE_EDEFAULT);
<                 return;
<             case GMFToolPackage.TOOL_GROUP__STACK :
<                 setStack (STACK_EDEFAULT);
113a124,125
>             case GMFGenPackage.TOOL_GROUP__LINK_TOOLS :
>                 getLinkTools ().clear ();
114,115d123
<             case GMFToolPackage.TOOL_GROUP__ACTIVE :
<                 setActive ((AbstractTool) null);
122a133,138
>             case GMFGenPackage.TOOL_GROUP__NODE_TOOLS :
>                 return nodeTools != null && ! nodeTools.isEmpty ();
>             case GMFGenPackage.TOOL_GROUP__LINK_TOOLS :
>                 return linkTools != null && ! linkTools.isEmpty ();
>             case GMFGenPackage.TOOL_GROUP__PALETTE :
>                 return getPalette () != null;
123,128d132
<             case GMFToolPackage.TOOL_GROUP__COLLAPSIBLE :
<                 return collapsible != COLLAPSIBLE_EDEFAULT;
<             case GMFToolPackage.TOOL_GROUP__STACK :
<                 return stack != STACK_EDEFAULT;
<             case GMFToolPackage.TOOL_GROUP__ACTIVE :
<                 return active != null;
133,144d142
<     public String toString () {
<         if (eIsProxy ()) return super.toString ();
< 
<         StringBuffer result = new StringBuffer (super.toString ());
<         result.append (" (collapsible: ");
<         result.append (collapsible);
<         result.append (", stack: ");
<         result.append (stack);
<         result.append (')');
<         return result.toString ();
<     }
< 
