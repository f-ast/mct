6a7,8
> import org.eclipse.emf.transaction.RunnableWithResult;
> 
8a11,12
> import org.eclipse.gmf.runtime.common.core.util.Log;
> 
9,9c13,13
< import org.eclipse.gmf.runtime.diagram.core.internal.util.MEditingDomainGetter;
---
> import org.eclipse.gmf.runtime.common.core.util.Trace;
12a17,22
> import org.eclipse.gmf.runtime.diagram.ui.actions.internal.DiagramActionsDebugOptions;
> 
> import org.eclipse.gmf.runtime.diagram.ui.actions.internal.DiagramActionsPlugin;
> 
> import org.eclipse.gmf.runtime.diagram.ui.actions.internal.DiagramActionsStatusCodes;
> 
19,20d28
< import org.eclipse.gmf.runtime.emf.core.edit.MRunnable;
< 
21,21c29,29
< import org.eclipse.gmf.runtime.emf.core.util.MetaModelUtil;
---
> import org.eclipse.gmf.runtime.emf.core.util.PackageUtil;
35,35c43,43
<         super (workbenchPage, MetaModelUtil.getID (NotationPackage.eINSTANCE.getView_Visible ()), DiagramUIActionsMessages.ConstrainedFlowLayoutEditPolicy_changeVisibilityCommand_label);
---
>         super (workbenchPage, PackageUtil.getID (NotationPackage.eINSTANCE.getView_Visible ()), DiagramUIActionsMessages.ConstrainedFlowLayoutEditPolicy_changeVisibilityCommand_label);
48a57,58
>         try {
>             return editPart.getEditingDomain ().runExclusive (new RunnableWithResult.Impl () {
49,49d56
<         return MEditingDomainGetter.getMEditingDomain ((View) editPart.getModel ()).runAsRead (new MRunnable () {
50a60,60
>                 public void run () {
51,51d59
<             public Object run () {
52,52c61,61
<                 ENamedElement element = MetaModelUtil.getElement (thePropertyId);
---
>                     ENamedElement element = PackageUtil.getElement (thePropertyId);
58,58c67,67
<                             return ViewUtil.getStructuralFeatureValue (childView, (EStructuralFeature) element);
---
>                                 setResult (ViewUtil.getStructuralFeatureValue (childView, (EStructuralFeature) element));
62,62d70
<                 return null;
67a76,80
>         } catch (InterruptedException e) {
>             Trace.catching (DiagramActionsPlugin.getInstance (), DiagramActionsDebugOptions.EXCEPTIONS_CATCHING, getClass (), "getPropertyValue", e);
>             Log.error (DiagramActionsPlugin.getInstance (), DiagramActionsStatusCodes.IGNORED_EXCEPTION_WARNING, "getPropertyValue", e);
>         }
>         return null;
