16a17,18
> import org.eclipse.gmf.mappings.LabelNodeMapping;
> 
26a29,30
> import org.eclipse.gmf.mappings.ShapeNodeMapping;
> 
175a180,180
>                     if (next.getChild () instanceof ShapeNodeMapping && ((ShapeNodeMapping) next.getChild ()).getDiagramNode () != null) {
176,176d179
<                     if (next.getChild ().getDiagramNode () != null) {
177,177c181,181
<                         sb.append (next.getChild ().getDiagramNode ().getName ());
---
>                         sb.append (((ShapeNodeMapping) next.getChild ()).getDiagramNode ().getName ());
177a182,186
>                         if (next.getContainmentFeature () != null) {
>                             sb.append (";  ");
>                         }
>                     } else if (next.getChild () instanceof LabelNodeMapping && ((LabelNodeMapping) next.getChild ()).getDiagramLabel () != null) {
>                         sb.append (((LabelNodeMapping) next.getChild ()).getDiagramLabel ().getName ());
181a191,191
> 
392,392c402,402
<                     NodeMapping nm = GMFMapFactory.eINSTANCE.createNodeMapping ();
---
>                     ShapeNodeMapping nm = GMFMapFactory.eINSTANCE.createShapeNodeMapping ();
610a621,621
>             if (m instanceof ShapeNodeMapping && ((ShapeNodeMapping) m).getDiagramNode () != null) {
611,611d620
<             if (m.getDiagramNode () != null) {
612,612c622,622
<                 diagramElementLabel.setText (m.getDiagramNode ().getName ());
---
>                 diagramElementLabel.setText (((ShapeNodeMapping) m).getDiagramNode ().getName ());
