57,57c57,57
< import org.eclipse.gmf.runtime.diagram.core.commands.SetConnectorAnchorsCommand;
---
> import org.eclipse.gmf.runtime.diagram.core.commands.SetConnectionAnchorsCommand;
59,59c59,59
< import org.eclipse.gmf.runtime.diagram.core.commands.SetConnectorEndsCommand;
---
> import org.eclipse.gmf.runtime.diagram.core.commands.SetConnectionEndsCommand;
64a85,85
> import org.eclipse.gmf.runtime.diagram.ui.l10n.DiagramResourceManager;
65,65d84
< import org.eclipse.gmf.runtime.diagram.ui.IPreferenceConstants;
66a87,87
> import org.eclipse.gmf.runtime.diagram.ui.preferences.IPreferenceConstants;
66,66c86,86
< 
---
> 
83,83c81,81
< import org.eclipse.gmf.runtime.diagram.ui.internal.commands.SetConnectorBendpointsCommand;
---
> import org.eclipse.gmf.runtime.diagram.ui.internal.commands.SetConnectionBendpointsCommand;
87,87d84
< import org.eclipse.gmf.runtime.diagram.ui.l10n.PresentationResourceManager;
91,91c91,91
< import org.eclipse.gmf.runtime.diagram.ui.requests.CreateConnectorViewAndElementRequest;
---
> import org.eclipse.gmf.runtime.diagram.ui.requests.CreateConnectionViewAndElementRequest;
93,93c93,93
< import org.eclipse.gmf.runtime.diagram.ui.requests.CreateConnectorViewRequest;
---
> import org.eclipse.gmf.runtime.diagram.ui.requests.CreateConnectionViewRequest;
125,125c125,125
<     private static final String CREATE_CONNECTOR_COMMAND_LABEL = PresentationResourceManager.getInstance ().getString ("GraphicalNodeEditPolicy.createRelationshipCommand.label");
---
>     private static final String CREATE_CONNECTION_COMMAND_LABEL = DiagramResourceManager.getInstance ().getString ("GraphicalNodeEditPolicy.createRelationshipCommand.label");
167a168,169
>         if (request instanceof CreateConnectionViewAndElementRequest) {
>             CreateConnectionViewAndElementRequest ccvr = (CreateConnectionViewAndElementRequest) request;
168,169d167
<         if (request instanceof CreateConnectorViewAndElementRequest) {
<             CreateConnectorViewAndElementRequest ccvr = (CreateConnectorViewAndElementRequest) request;
170,170c170,170
<             CreateElementRequestAdapter requestAdapter = ccvr.getConnectorViewAndElementDescriptor ().getCreateElementRequestAdapter ();
---
>             CreateElementRequestAdapter requestAdapter = ccvr.getConnectionViewAndElementDescriptor ().getCreateElementRequestAdapter ();
175a176,177
>         } else if (request instanceof CreateConnectionViewRequest) {
>             CreateConnectionViewRequest ccvr = (CreateConnectionViewRequest) request;
176,177d175
<         } else if (request instanceof CreateConnectorViewRequest) {
<             CreateConnectorViewRequest ccvr = (CreateConnectorViewRequest) request;
178,178c178,178
<             hint = ccvr.getConnectorViewDescriptor ().getSemanticHint ();
---
>             hint = ccvr.getConnectionViewDescriptor ().getSemanticHint ();
184,184c184,184
<     protected Command getRoutingAdjustment (IAdaptable connector, String connectorHint, Routing currentRouterType, EditPart target) {
---
>     protected Command getRoutingAdjustment (IAdaptable connection, String connectionHint, Routing currentRouterType, EditPart target) {
186,186c186,186
<         if (connectorHint == null || target == null || target.getModel () == null || ((View) target.getModel ()).getElement () == null) return null;
---
>         if (connectionHint == null || target == null || target.getModel () == null || ((View) target.getModel ()).getElement () == null) return null;
190,190c190,190
<         if (target instanceof ITreeBranchEditPart && connectorHint.equals (targetHint)) {
---
>         if (target instanceof ITreeBranchEditPart && connectionHint.equals (targetHint)) {
203,203c203,203
<             ICommand spc = new SetPropertyCommand (connector, Properties.ID_ROUTING, StringStatics.BLANK, newRouterType);
---
>             ICommand spc = new SetPropertyCommand (connection, Properties.ID_ROUTING, StringStatics.BLANK, newRouterType);
221,221c221,221
<         SetConnectorEndsCommand sceCommand = new SetConnectorEndsCommand (null);
---
>         SetConnectionEndsCommand sceCommand = new SetConnectionEndsCommand (null);
222,222c222,222
<         sceCommand.setConnectorAdaptor (new EObjectAdapter ((EObject) request.getConnectionEditPart ().getModel ()));
---
>         sceCommand.setEdgeAdaptor (new EObjectAdapter ((EObject) request.getConnectionEditPart ().getModel ()));
224,224c224,224
<         SetConnectorAnchorsCommand scaCommand = new SetConnectorAnchorsCommand (null);
---
>         SetConnectionAnchorsCommand scaCommand = new SetConnectionAnchorsCommand (null);
225,225c225,225
<         scaCommand.setConnectorAdaptor (new EObjectAdapter ((EObject) request.getConnectionEditPart ().getModel ()));
---
>         scaCommand.setEdgeAdaptor (new EObjectAdapter ((EObject) request.getConnectionEditPart ().getModel ()));
227,227c227,227
<         CompositeCommand cc = new CompositeCommand (PresentationResourceManager.getI18NString ("Commands.SetConnectorEndsCommand.Target"));
---
>         CompositeCommand cc = new CompositeCommand (DiagramResourceManager.getI18NString ("Commands.SetConnectionEndsCommand.Target"));
244,244c244,244
<             SetConnectorBendpointsCommand sbbCommand = new SetConnectorBendpointsCommand ();
---
>             SetConnectionBendpointsCommand sbbCommand = new SetConnectionBendpointsCommand ();
245,245c245,245
<             sbbCommand.setConnectorAdapter (request.getConnectionEditPart ());
---
>             sbbCommand.setEdgeAdapter (request.getConnectionEditPart ());
260,260c260,260
<         SetConnectorEndsCommand sceCommand = new SetConnectorEndsCommand (null);
---
>         SetConnectionEndsCommand sceCommand = new SetConnectionEndsCommand (null);
261,261c261,261
<         sceCommand.setConnectorAdaptor (new EObjectAdapter ((View) request.getConnectionEditPart ().getModel ()));
---
>         sceCommand.setEdgeAdaptor (new EObjectAdapter ((View) request.getConnectionEditPart ().getModel ()));
263,263c263,263
<         SetConnectorAnchorsCommand scaCommand = new SetConnectorAnchorsCommand (null);
---
>         SetConnectionAnchorsCommand scaCommand = new SetConnectionAnchorsCommand (null);
264,264c264,264
<         scaCommand.setConnectorAdaptor (new EObjectAdapter ((View) request.getConnectionEditPart ().getModel ()));
---
>         scaCommand.setEdgeAdaptor (new EObjectAdapter ((View) request.getConnectionEditPart ().getModel ()));
266,266c266,266
<         CompositeCommand cc = new CompositeCommand (PresentationResourceManager.getI18NString ("Commands.SetConnectorEndsCommand.Source"));
---
>         CompositeCommand cc = new CompositeCommand (DiagramResourceManager.getI18NString ("Commands.SetConnectionEndsCommand.Source"));
283,283c283,283
<         SetConnectorEndsCommand sceCommand = (SetConnectorEndsCommand) cc.getCommands ().get (1);
---
>         SetConnectionEndsCommand sceCommand = (SetConnectionEndsCommand) cc.getCommands ().get (1);
285,285c285,285
<         SetConnectorAnchorsCommand scaCommand = (SetConnectorAnchorsCommand) cc.getCommands ().get (2);
---
>         SetConnectionAnchorsCommand scaCommand = (SetConnectionAnchorsCommand) cc.getCommands ().get (2);
287,287c287,287
<         setViewAdapter (sceCommand.getConnectorAdaptor ());
---
>         setViewAdapter (sceCommand.getEdgeAdaptor ());
298,298c298,298
<         SetConnectorBendpointsCommand sbbCommand = (SetConnectorBendpointsCommand) cc.getCommands ().get (3);
---
>         SetConnectionBendpointsCommand sbbCommand = (SetConnectionBendpointsCommand) cc.getCommands ().get (3);
312,312c312,312
<         if (! (request instanceof CreateConnectorViewRequest)) return null;
---
>         if (! (request instanceof CreateConnectionViewRequest)) return null;
314,314c314,314
<         CreateConnectorViewRequest req = (CreateConnectorViewRequest) request;
---
>         CreateConnectionViewRequest req = (CreateConnectionViewRequest) request;
315,315c315,315
<         CompositeCommand cc = new CompositeCommand (PresentationResourceManager.getI18NString ("Commands.CreateCommand.Connector.Label"));
---
>         CompositeCommand cc = new CompositeCommand (DiagramResourceManager.getI18NString ("Commands.CreateCommand.Connection.Label"));
317,317c317,317
<         CreateCommand createCommand = new CreateCommand (req.getConnectorViewDescriptor (), diagramView.getDiagram ());
---
>         CreateCommand createCommand = new CreateCommand (req.getConnectionViewDescriptor (), diagramView.getDiagram ());
319,319c319,319
<         SetConnectorEndsCommand sceCommand = new SetConnectorEndsCommand (null);
---
>         SetConnectionEndsCommand sceCommand = new SetConnectionEndsCommand (null);
320,320c320,320
<         sceCommand.setConnectorAdaptor (getViewAdapter ());
---
>         sceCommand.setEdgeAdaptor (getViewAdapter ());
323,323c323,323
<         SetConnectorAnchorsCommand scaCommand = new SetConnectorAnchorsCommand (null);
---
>         SetConnectionAnchorsCommand scaCommand = new SetConnectionAnchorsCommand (null);
324,324c324,324
<         scaCommand.setConnectorAdaptor (getViewAdapter ());
---
>         scaCommand.setEdgeAdaptor (getViewAdapter ());
326,326c326,326
<         SetConnectorBendpointsCommand sbbCommand = new SetConnectorBendpointsCommand ();
---
>         SetConnectionBendpointsCommand sbbCommand = new SetConnectionBendpointsCommand ();
327,327c327,327
<         sbbCommand.setConnectorAdapter (getViewAdapter ());
---
>         sbbCommand.setEdgeAdapter (getViewAdapter ());
338a339,339
>             if (request instanceof CreateConnectionViewAndElementRequest) {
339,339d338
<             if (request instanceof CreateConnectorViewAndElementRequest) {
340,340c340,340
<                 return getConnectionAndRelationshipCreateCommand ((CreateConnectorViewAndElementRequest) request);
---
>                 return getConnectionAndRelationshipCreateCommand ((CreateConnectionViewAndElementRequest) request);
345a346,346
>             if (request instanceof CreateConnectionViewAndElementRequest) {
346,346d345
<             if (request instanceof CreateConnectorViewAndElementRequest) {
347,347c347,347
<                 return getConnectionAndRelationshipCompleteCommand ((CreateConnectorViewAndElementRequest) request);
---
>                 return getConnectionAndRelationshipCompleteCommand ((CreateConnectionViewAndElementRequest) request);
356a357,357
>     protected Command getConnectionAndRelationshipCreateCommand (CreateConnectionViewAndElementRequest request) {
357,357d356
<     protected Command getConnectionAndRelationshipCreateCommand (CreateConnectorViewAndElementRequest request) {
358,358c358,358
<         CreateElementRequestAdapter requestAdapter = request.getConnectorViewAndElementDescriptor ().getCreateElementRequestAdapter ();
---
>         CreateElementRequestAdapter requestAdapter = request.getConnectionViewAndElementDescriptor ().getCreateElementRequestAdapter ();
384a385,385
>                 if (individualRequest instanceof CreateConnectionViewAndElementRequest) {
385,385d384
<                 if (individualRequest instanceof CreateConnectorViewAndElementRequest) {
386,386c386,386
<                     cmd = getConnectionAndRelationshipCreateCommand ((CreateConnectorViewAndElementRequest) individualRequest);
---
>                     cmd = getConnectionAndRelationshipCreateCommand ((CreateConnectionViewAndElementRequest) individualRequest);
386a387,387
>                 } else if (individualRequest instanceof CreateConnectionViewRequest) {
387,387d386
<                 } else if (individualRequest instanceof CreateConnectorViewRequest) {
388,388c388,388
<                     cmd = getConnectionCreateCommand ((CreateConnectorViewRequest) individualRequest);
---
>                     cmd = getConnectionCreateCommand ((CreateConnectionViewRequest) individualRequest);
413a414,414
>     protected Command getConnectionAndRelationshipCompleteCommand (CreateConnectionViewAndElementRequest request) {
414,414d413
<     protected Command getConnectionAndRelationshipCompleteCommand (CreateConnectorViewAndElementRequest request) {
415,415c415,415
<         CreateElementRequestAdapter requestAdapter = request.getConnectorViewAndElementDescriptor ().getCreateElementRequestAdapter ();
---
>         CreateElementRequestAdapter requestAdapter = request.getConnectionViewAndElementDescriptor ().getCreateElementRequestAdapter ();
445,445c445,445
<         final Map connectorCmds = new HashMap ();
---
>         final Map connectionCmds = new HashMap ();
449a450,451
>             Request createConnectionRequest = request.getRequestForType (type);
>             if (createConnectionRequest != null) {
450,451d449
<             Request createConnectorRequest = request.getRequestForType (type);
<             if (createConnectorRequest != null) {
452,452c452,452
<                 Command individualCmd = getHost ().getCommand (createConnectorRequest);
---
>                 Command individualCmd = getHost ().getCommand (createConnectionRequest);
454,454c454,454
<                     connectorCmds.put (type, individualCmd);
---
>                     connectionCmds.put (type, individualCmd);
459,459c459,459
<         if (connectorCmds.isEmpty ()) {
---
>         if (connectionCmds.isEmpty ()) {
460a461,461
>         } else if (connectionCmds.size () == 1) {
461,461d460
<         } else if (connectorCmds.size () == 1) {
462,462c462,462
<             return (Command) connectorCmds.values ().toArray () [0];
---
>             return (Command) connectionCmds.values ().toArray () [0];
464,464c464,464
<             CreateOrSelectElementCommand selectAndCreateConnectorCmd = new CreateOrSelectElementCommand (CREATE_CONNECTOR_COMMAND_LABEL, Display.getCurrent ().getActiveShell (), validRelTypes) {
---
>             CreateOrSelectElementCommand selectAndCreateConnectionCmd = new CreateOrSelectElementCommand (CREATE_CONNECTION_COMMAND_LABEL, Display.getCurrent ().getActiveShell (), validRelTypes) {
473,473c473,473
<                     Command cmd = (Command) connectorCmds.get (relationshipType);
---
>                     Command cmd = (Command) connectionCmds.get (relationshipType);
497,497c497,497
<             return new EtoolsProxyCommand (selectAndCreateConnectorCmd);
---
>             return new EtoolsProxyCommand (selectAndCreateConnectionCmd);
507a508,509
>             connectionRequest.setSourceEditPart (null);
>             connectionRequest.setTargetEditPart (realSourceEP);
507,507c507,507
<             CreateConnectionRequest connectorRequest = (CreateConnectionRequest) iter.next ();
---
>             CreateConnectionRequest connectionRequest = (CreateConnectionRequest) iter.next ();
508,509d507
<             connectorRequest.setSourceEditPart (null);
<             connectorRequest.setTargetEditPart (realSourceEP);
510a511,513
>             realSourceEP.getCommand (connectionRequest);
>             connectionRequest.setSourceEditPart (realSourceEP);
>             connectionRequest.setTargetEditPart (realTargetEP);
510,510c510,510
<             connectorRequest.setType (RequestConstants.REQ_CONNECTION_START);
---
>             connectionRequest.setType (RequestConstants.REQ_CONNECTION_START);
511,513d510
<             realSourceEP.getCommand (connectorRequest);
<             connectorRequest.setSourceEditPart (realSourceEP);
<             connectorRequest.setTargetEditPart (realTargetEP);
514,514c514,514
<             connectorRequest.setType (RequestConstants.REQ_CONNECTION_END);
---
>             connectionRequest.setType (RequestConstants.REQ_CONNECTION_END);
