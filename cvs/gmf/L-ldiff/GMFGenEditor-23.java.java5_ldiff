257,257c257,257
<     protected Collection selectionChangedListeners = new ArrayList ();
---
>     protected Collection < ISelectionChangedListener > selectionChangedListeners = new ArrayList < ISelectionChangedListener > ();
294,294c294,294
<     protected Collection removedResources = new ArrayList ();
---
>     protected Collection < Resource > removedResources = new ArrayList < Resource > ();
295,295c295,295
<     protected Collection changedResources = new ArrayList ();
---
>     protected Collection < Resource > changedResources = new ArrayList < Resource > ();
296,296c296,296
<     protected Collection savedResources = new ArrayList ();
---
>     protected Collection < Resource > savedResources = new ArrayList < Resource > ();
297,297c297,297
<     protected Map resourceToDiagnosticMap = new LinkedHashMap ();
---
>     protected Map < Resource, Diagnostic > resourceToDiagnosticMap = new LinkedHashMap < Resource, Diagnostic > ();
300a301,301
>         @Override
325a327,327
>                             break;
331a334,334
>         @Override
335a339,339
>         @Override
351,351c355,355
<                         protected Collection changedResources = new ArrayList ();
---
>                         protected Collection < Resource > changedResources = new ArrayList < Resource > ();
352,352c356,356
<                         protected Collection removedResources = new ArrayList ();
---
>                         protected Collection < Resource > removedResources = new ArrayList < Resource > ();
371,371c375,375
<                         public Collection getChangedResources () {
---
>                         public Collection < Resource > getChangedResources () {
375,375c379,379
<                         public Collection getRemovedResources () {
---
>                         public Collection < Resource > getRemovedResources () {
448,449d451
<             for (Iterator i = changedResources.iterator ();
<             i.hasNext ();) {
450,450c452,452
<                 Resource resource = (Resource) i.next ();
---
>             for (Resource resource : changedResources) {
470,471d471
<             for (Iterator i = resourceToDiagnosticMap.values ().iterator ();
<             i.hasNext ();) {
472,472c472,472
<                 Diagnostic childDiagnostic = (Diagnostic) i.next ();
---
>             for (Diagnostic childDiagnostic : resourceToDiagnosticMap.values ()) {
516,516c516,516
<         List factories = new ArrayList ();
---
>         ArrayList < AdapterFactory > factories = new ArrayList < AdapterFactory > ();
548,548c548,548
<         editingDomain = new AdapterFactoryEditingDomain (adapterFactory, commandStack, new HashMap ());
---
>         editingDomain = new AdapterFactoryEditingDomain (adapterFactory, commandStack, new HashMap < Resource, Boolean > ());
550a551,551
>     @Override
555,555c556,556
<     public void setSelectionToViewer (Collection collection) {
---
>     public void setSelectionToViewer (Collection < ? > collection) {
556,556c557,557
<         final Collection theSelection = collection;
---
>         final Collection < ? > theSelection = collection;
717a719,719
>     @Override
720,720c722,722
<         if (! getEditingDomain ().getResourceSet ().getResources ().isEmpty () && ! ((Resource) getEditingDomain ().getResourceSet ().getResources ().get (0)).getContents ().isEmpty ()) {
---
>         if (! getEditingDomain ().getResourceSet ().getResources ().isEmpty () && ! (getEditingDomain ().getResourceSet ().getResources ().get (0)).getContents ().isEmpty ()) {
723a726,726
>                     @Override
729a733,733
>                     @Override
742a747,747
>                 selectionViewer.setSelection (new StructuredSelection (editingDomain.getResourceSet ().getResources ().get (0)), true);
750a756,756
>                     @Override
756a763,763
>                     @Override
775a783,783
>                     @Override
779a788,788
>                     @Override
797a807,807
>                     @Override
801a812,812
>                     @Override
820a832,832
>                     @Override
824a837,837
>                     @Override
856a870,870
>                     @Override
860a875,875
>                     @Override
893a909,909
>             @Override
929a946,946
>     @Override
936a954,955
>     @SuppressWarnings("unchecked")
>     @Override
953a973,973
>                 @Override
963,964d982
<                         ArrayList selection = new ArrayList ();
<                         selection.add (editingDomain.getResourceSet ().getResources ().get (0));
965,965c983,983
<                         contentOutlineViewer.setSelection (new StructuredSelection (selection), true);
---
>                         contentOutlineViewer.setSelection (new StructuredSelection (editingDomain.getResourceSet ().getResources ().get (0)), true);
968a987,987
>                 @Override
973a993,993
>                 @Override
998a1019,1019
>                 @Override
999,999c1020,1020
<                 public void setSelectionToViewer (List selection) {
---
>                 public void setSelectionToViewer (List < ? > selection) {
1003a1025,1025
>                 @Override
1019,1019c1041,1041
<             Iterator selectedElements = ((IStructuredSelection) selection).iterator ();
---
>             Iterator < ? > selectedElements = ((IStructuredSelection) selection).iterator ();
1023,1023c1045,1045
<                     ArrayList selectionList = new ArrayList ();
---
>                     ArrayList < Object > selectionList = new ArrayList < Object > ();
1038a1061,1061
>     @Override
1042a1066,1066
>     @Override
1045a1070,1070
>             @Override
1048,1048c1073,1073
<                 for (Iterator i = editingDomain.getResourceSet ().getResources ().iterator ();
---
>                 for (Resource resource : editingDomain.getResourceSet ().getResources ()) {
1049,1050d1073
<                 i.hasNext ();) {
<                     Resource resource = (Resource) i.next ();
1090a1114,1114
>     @Override
1094a1119,1119
>     @Override
1102,1102c1127,1127
<                 doSaveAs (URI.createPlatformResourceURI (file.getFullPath ().toString ()), new FileEditorInput (file));
---
>                 doSaveAs (URI.createPlatformResourceURI (file.getFullPath ().toString (), true), new FileEditorInput (file));
1108,1108c1133,1133
<         ((Resource) editingDomain.getResourceSet ().getResources ().get (0)).setURI (uri);
---
>         (editingDomain.getResourceSet ().getResources ().get (0)).setURI (uri);
1141a1167,1167
>     @Override
1150a1177,1177
>     @Override
1173,1174d1199
<         for (Iterator listeners = selectionChangedListeners.iterator ();
<         listeners.hasNext ();) {
1175,1175c1200,1200
<             ISelectionChangedListener listener = (ISelectionChangedListener) listeners.next ();
---
>         for (ISelectionChangedListener listener : selectionChangedListeners) {
1185,1185c1210,1210
<                 Collection collection = ((IStructuredSelection) selection).toList ();
---
>                 Collection < ? > collection = ((IStructuredSelection) selection).toList ();
1230a1256,1256
>     @Override
