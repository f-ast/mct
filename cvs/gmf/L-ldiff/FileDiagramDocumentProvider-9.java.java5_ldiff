161,161c161,161
<         DiagramIOUtil.save (domain, file, diagram, DiagramIOUtil.hasUnrecognizedData (diagram.eResource ()), monitor);
---
>         doSave (domain, file, diagram, null, monitor);
257a258,265
>     protected void doSave (TransactionalEditingDomain domain, IFile file, Diagram diagram, Map options, IProgressMonitor monitor) throws CoreException {
>         if (options == null) {
>             DiagramIOUtil.save (domain, file, diagram, DiagramIOUtil.hasUnrecognizedData (diagram.eResource ()), monitor);
>         } else {
>             DiagramIOUtil.save (domain, file, diagram, monitor, options);
>         }
>     }
> 
