190a191,192
> import org.eclipse.gmf.gmfgraph.DiagramElement;
> 
196a199,200
> import org.eclipse.gmf.gmfgraph.VisualFacet;
> 
417,417c421,421
<         genNode.setViewmap (myViewmaps.create (nme.getDiagramNode ()));
---
>         genNode.setViewmap (myViewmaps.create ((Node) nme.getDiagramNode ()));
507,507c511,511
<         } else if (childNodeMapping.getDiagramNode ().getAffixedParentSide () != Direction.NONE_LITERAL) {
---
>         } else if (((Node) childNodeMapping.getDiagramNode ()).getAffixedParentSide () != Direction.NONE_LITERAL) {
508a513,513
>             sideAffixedNode.setViewmap (myViewmaps.create ((Node) childNodeMapping.getDiagramNode ()));
509,509d512
<             sideAffixedNode.setViewmap (myViewmaps.create (childNodeMapping.getDiagramNode ()));
510,510c514,514
<             String positionConstantName = getAffixedSideAsPositionConstantsName (childNodeMapping.getDiagramNode ());
---
>             String positionConstantName = getAffixedSideAsPositionConstantsName ((Node) childNodeMapping.getDiagramNode ());
516,516c520,520
<             childNode.setViewmap (myViewmaps.create (childNodeMapping.getDiagramNode ()));
---
>             childNode.setViewmap (myViewmaps.create ((Node) childNodeMapping.getDiagramNode ()));
624,624c628,628
<         if (Knowledge.isExternal (mapping.getDiagramLabel ())) {
---
>         if (mapping.getDiagramLabel ().isExternal ()) {
648,648c652,652
<         if (mapping.getDiagramLabel ().find (AlignmentFacet.class) != null) {
---
>         if (findVF (mapping.getDiagramLabel (), AlignmentFacet.class) != null) {
649,649c653,653
<             AlignmentFacet af = (AlignmentFacet) mapping.getDiagramLabel ().find (AlignmentFacet.class);
---
>             AlignmentFacet af = findVF (mapping.getDiagramLabel (), AlignmentFacet.class);
653,653c657,657
<         LabelOffsetFacet lof = (LabelOffsetFacet) mapping.getDiagramLabel ().find (LabelOffsetFacet.class);
---
>         LabelOffsetFacet lof = findVF (mapping.getDiagramLabel (), LabelOffsetFacet.class);
664a669,677
>     private static < T extends VisualFacet > T findVF (DiagramElement element, Class < T > facetClass) {
>         for (VisualFacet vf : element.getFacets ()) {
>             if (facetClass.isInstance (vf)) {
>                 return facetClass.cast (vf);
>             }
>         }
>         return null;
>     }
> 
