14a15,16
> import org.eclipse.draw2d.geometry.Rectangle;
> 
38a41,42
> import org.eclipse.gmf.runtime.diagram.ui.editpolicies.NonResizableEditPolicyEx;
> 
75,75c79,79
<         DefaultSizeNodeFigure result = new DefaultSizeNodeFigure (getMapMode ().DPtoLP (0), getMapMode ().DPtoLP (0)) {
---
>         DefaultSizeNodeFigureExt result = new DefaultSizeNodeFigureExt (getMapMode ().DPtoLP (0), getMapMode ().DPtoLP (0));
76,83d79
< 
<             protected boolean useLocalCoordinates () {
<                 return true;
<             }
< 
<         }
< 
<         ;
148a154,154
>             refreshMainFigureBounds ();
149,149c155,155
<             getPrimaryShape ().setLineWidth (modelElement.getLineWidth ());
---
>             getPrimaryShape ().setLineWidth (modelElement.getLineWidth ());
149a156,156
>             refreshMainFigureBounds ();
214,214c295,295
<         ChangeTracker lineWidthTracker = new ChangeTracker () {
---
>         ChangeTracker lineWidthTracker = new ChangeTracker () {
215,215c296,296
< 
---
> 
216,216c297,297
<             public void modelChanged (Notification msg) {
---
>             public void modelChanged (Notification msg) {
217,217c298,298
<                 getPrimaryShape ().setLineWidth (modelElement.getLineWidth ());
---
>                 getPrimaryShape ().setLineWidth (modelElement.getLineWidth ());
217a299,299
>                 refreshMainFigureBounds ();
218,218c300,300
<             }
---
>             }
219,219c301,301
< 
---
> 
220,220c302,302
<         }
---
>         }
221,221c303,303
< 
---
> 
222,222c304,304
<         ;
---
>         ;
223,223c305,305
<         myDomainElementAdapters.add (new FeatureTracker (lineWidthTracker, GMFGraphPackage.eINSTANCE.getShape_LineWidth ()));
---
>         myDomainElementAdapters.add (new FeatureTracker (lineWidthTracker, GMFGraphPackage.eINSTANCE.getShape_LineWidth ()));
299a288,288
>                 refreshMainFigureBounds ();
322a323,352
>     public void refreshMainFigureBounds () {
>         DefaultSizeNodeFigureExt nodeFigure = (DefaultSizeNodeFigureExt) getFigure ();
>         nodeFigure.fireFigureMoved ();
>         nodeFigure.revalidate ();
>     }
> 
>     public EditPolicy getPrimaryDragEditPolicy () {
>         return new NonResizableEditPolicyEx ();
>     }
> 
>     class DefaultSizeNodeFigureExt extends DefaultSizeNodeFigure {
> 
>         DefaultSizeNodeFigureExt (int width, int height) {
>             super (width, height);
>         }
> 
>         public void setBounds (Rectangle rect) {
>             getPrimaryShape ().setBounds (rect);
>         }
> 
>         public Rectangle getBounds () {
>             return getPrimaryShape ().getBounds ();
>         }
> 
>         public void fireFigureMoved () {
>             super.fireFigureMoved ();
>         }
> 
>     }
> 
