21,21c21,21
< import org.eclipse.emf.ecore.util.EObjectContainmentEList;
---
> import org.eclipse.emf.ecore.util.EObjectContainmentWithInverseEList;
26a27,28
> import org.eclipse.gmf.codegen.gmfgen.Palette;
> 
46a49,68
>     public ToolGroup getGroup () {
>         if (eContainerFeatureID != GMFGenPackage.TOOL_GROUP__GROUP) return null;
> 
>         return (ToolGroup) eContainer ();
>     }
> 
>     public Palette getPaletteGen () {
>         if (eContainerFeatureID != GMFGenPackage.TOOL_GROUP__PALETTE) return null;
> 
>         return (Palette) eContainer ();
>     }
> 
>     public Palette getPalette () {
>         Palette p = getPaletteGen ();
>         if (p != null) {
>             return p;
>         }
>         return getGroup () == null ? null : getGroup ().getPalette ();
>     }
> 
49,49c71,71
<             entries = new EObjectContainmentEList (ToolGroupItem.class, this, GMFGenPackage.TOOL_GROUP__ENTRIES);
---
>             entries = new EObjectContainmentWithInverseEList (ToolGroupItem.class, this, GMFGenPackage.TOOL_GROUP__ENTRIES, GMFGenPackage.TOOL_GROUP_ITEM__GROUP);
63a86,101
>     public NotificationChain eInverseAdd (InternalEObject otherEnd, int featureID, NotificationChain msgs) {
>         switch (featureID) {
>             case GMFGenPackage.TOOL_GROUP__GROUP :
>                 if (eInternalContainer () != null) msgs = eBasicRemoveFromContainer (msgs);
> 
>                 return eBasicSetContainer (otherEnd, GMFGenPackage.TOOL_GROUP__GROUP, msgs);
>             case GMFGenPackage.TOOL_GROUP__PALETTE :
>                 if (eInternalContainer () != null) msgs = eBasicRemoveFromContainer (msgs);
> 
>                 return eBasicSetContainer (otherEnd, GMFGenPackage.TOOL_GROUP__PALETTE, msgs);
>             case GMFGenPackage.TOOL_GROUP__ENTRIES :
>                 return ((InternalEList) getEntries ()).basicAdd (otherEnd, msgs);
>         }
>         return super.eInverseAdd (otherEnd, featureID, msgs);
>     }
> 
87a126,129
>             case GMFGenPackage.TOOL_GROUP__GROUP :
>                 return eBasicSetContainer (null, GMFGenPackage.TOOL_GROUP__GROUP, msgs);
>             case GMFGenPackage.TOOL_GROUP__PALETTE :
>                 return eBasicSetContainer (null, GMFGenPackage.TOOL_GROUP__PALETTE, msgs);
93a136,145
>     public NotificationChain eBasicRemoveFromContainerFeature (NotificationChain msgs) {
>         switch (eContainerFeatureID) {
>             case GMFGenPackage.TOOL_GROUP__GROUP :
>                 return eInternalContainer ().eInverseRemove (this, GMFGenPackage.TOOL_GROUP__ENTRIES, ToolGroup.class, msgs);
>             case GMFGenPackage.TOOL_GROUP__PALETTE :
>                 return eInternalContainer ().eInverseRemove (this, GMFGenPackage.PALETTE__GROUPS, Palette.class, msgs);
>         }
>         return super.eBasicRemoveFromContainerFeature (msgs);
>     }
> 
95a148,151
>             case GMFGenPackage.TOOL_GROUP__GROUP :
>                 return getGroup ();
>             case GMFGenPackage.TOOL_GROUP__PALETTE :
>                 return getPalette ();
140a197,200
>             case GMFGenPackage.TOOL_GROUP__GROUP :
>                 return getGroup () != null;
>             case GMFGenPackage.TOOL_GROUP__PALETTE :
>                 return getPalette () != null;
152a213,236
>     public int eBaseStructuralFeatureID (int derivedFeatureID, Class baseClass) {
>         if (baseClass == ToolGroupItem.class) {
>             switch (derivedFeatureID) {
>                 case GMFGenPackage.TOOL_GROUP__GROUP :
>                     return GMFGenPackage.TOOL_GROUP_ITEM__GROUP;
>                 default :
>                     return - 1;
>             }
>         }
>         return super.eBaseStructuralFeatureID (derivedFeatureID, baseClass);
>     }
> 
>     public int eDerivedStructuralFeatureID (int baseFeatureID, Class baseClass) {
>         if (baseClass == ToolGroupItem.class) {
>             switch (baseFeatureID) {
>                 case GMFGenPackage.TOOL_GROUP_ITEM__GROUP :
>                     return GMFGenPackage.TOOL_GROUP__GROUP;
>                 default :
>                     return - 1;
>             }
>         }
>         return super.eDerivedStructuralFeatureID (baseFeatureID, baseClass);
>     }
> 
