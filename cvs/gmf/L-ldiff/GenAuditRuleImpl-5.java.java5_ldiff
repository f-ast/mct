2a25,25
> import org.eclipse.gmf.codegen.gmfgen.GenEditorGenerator;
3,3d24
< import org.eclipse.emf.codegen.ecore.genmodel.GenClass;
4a27,28
> import org.eclipse.gmf.codegen.gmfgen.GenRuleTarget;
> 
4,4c26,26
< 
---
> 
33,33c32,32
<     protected GenClass target = null;
---
>     protected GenRuleTarget target = null;
126a55,57
>     public GenRuleTarget getTarget () {
>         return target;
>     }
127,132d54
<     public GenClass getTarget () {
<         if (target != null && target.eIsProxy ()) {
<             InternalEObject oldTarget = (InternalEObject) target;
<             target = (GenClass) eResolveProxy (oldTarget);
<             if (target != oldTarget) {
<                 if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.RESOLVE, GMFGenPackage.GEN_AUDIT_RULE__TARGET, oldTarget, target));
133a59,66
>     public NotificationChain basicSetTarget (GenRuleTarget newTarget, NotificationChain msgs) {
>         GenRuleTarget oldTarget = target;
>         target = newTarget;
>         if (eNotificationRequired ()) {
>             ENotificationImpl notification = new ENotificationImpl (this, Notification.SET, GMFGenPackage.GEN_AUDIT_RULE__TARGET, oldTarget, newTarget);
>             if (msgs == null) msgs = notification;
>             else msgs.add (notification);
> 
133,133c58,58
< 
---
> 
134,134d58
<             }
135,135c67,67
<         }
---
>         }
135a68,68
>         return msgs;
136,136d67
<         return target;
137,137c69,69
<     }
---
>     }
138,138c70,70
< 
---
> 
138a71,74
>     public void setTarget (GenRuleTarget newTarget) {
>         if (newTarget != target) {
>             NotificationChain msgs = null;
>             if (target != null) msgs = ((InternalEObject) target).eInverseRemove (this, GMFGenPackage.GEN_RULE_TARGET__RULE, GenRuleTarget.class, msgs);
139,141d70
<     public GenClass basicGetTarget () {
<         return target;
<     }
142,142c75,75
< 
---
> 
142a76,76
>             if (newTarget != null) msgs = ((InternalEObject) newTarget).eInverseAdd (this, GMFGenPackage.GEN_RULE_TARGET__RULE, GenRuleTarget.class, msgs);
143,146d75
<     public void setTarget (GenClass newTarget) {
<         GenClass oldTarget = target;
<         target = newTarget;
<         if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFGenPackage.GEN_AUDIT_RULE__TARGET, oldTarget, target));
147,147c77,77
< 
---
> 
147a78,79
>             msgs = basicSetTarget (newTarget, msgs);
>             if (msgs != null) msgs.dispatch ();
148,148d77
<     }
149,149c80,80
< 
---
> 
149a81,84
>         } else if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFGenPackage.GEN_AUDIT_RULE__TARGET, newTarget, newTarget));
> 
>     }
> 
193a203,228
>     public String getContextSelectorClassName () {
>         if (getTarget () == null) {
>             return null;
>         }
>         GenEditorGenerator editorGen = getContainer ().getEditor ();
>         if (editorGen.getDiagram () == null) {
>             return null;
>         }
>         return editorGen.getDiagram ().getValidationProviderClassName () + "$" + getContextSelectorLocalClassName ();
>     }
> 
>     public String getContextSelectorQualifiedClassName () {
>         GenEditorGenerator editorGen = getContainer ().getEditor ();
>         if (editorGen.getDiagram () == null) {
>             return null;
>         }
>         return editorGen.getDiagram ().getValidationProviderQualifiedClassName () + "$" + getContextSelectorLocalClassName ();
>     }
> 
>     public String getContextSelectorLocalClassName () {
>         if (getTarget () == null) {
>             return null;
>         }
>         return getTarget ().getClientContextID ();
>     }
> 
195a231,234
>             case GMFGenPackage.GEN_AUDIT_RULE__TARGET :
>                 if (target != null) msgs = ((InternalEObject) target).eInverseRemove (this, EOPPOSITE_FEATURE_BASE - GMFGenPackage.GEN_AUDIT_RULE__TARGET, null, msgs);
> 
>                 return basicSetTarget ((GenRuleTarget) otherEnd, msgs);
205a245,246
>             case GMFGenPackage.GEN_AUDIT_RULE__TARGET :
>                 return basicSetTarget (null, msgs);
228,228c265,265
<             case GMFGenPackage.GEN_AUDIT_RULE__TARGET :
---
>             case GMFGenPackage.GEN_AUDIT_RULE__TARGET :
229,230d265
<                 if (resolve) return getTarget ();
< 
231,231c266,266
<                 return basicGetTarget ();
---
>                 return getTarget ();
256a290,290
>                 setTarget ((GenRuleTarget) newValue);
256,256c289,289
<             case GMFGenPackage.GEN_AUDIT_RULE__TARGET :
---
>             case GMFGenPackage.GEN_AUDIT_RULE__TARGET :
257,257d289
<                 setTarget ((GenClass) newValue);
258,258c291,291
<                 return;
---
>                 return;
289,289c322,322
<             case GMFGenPackage.GEN_AUDIT_RULE__TARGET :
---
>             case GMFGenPackage.GEN_AUDIT_RULE__TARGET :
289a323,323
>                 setTarget ((GenRuleTarget) null);
290,290d322
<                 setTarget ((GenClass) null);
291,291c324,324
<                 return;
---
>                 return;
320,320c355,355
<             case GMFGenPackage.GEN_AUDIT_RULE__TARGET :
---
>             case GMFGenPackage.GEN_AUDIT_RULE__TARGET :
321,321c356,356
<                 return target != null;
---
>                 return target != null;
