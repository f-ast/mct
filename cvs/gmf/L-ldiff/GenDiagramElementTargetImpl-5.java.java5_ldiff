2a3,6
> import java.util.Collection;
> 
> import java.util.Iterator;
> 
5,5c9,9
< import org.eclipse.emf.common.notify.Notification;
---
> import org.eclipse.emf.common.util.EList;
9,9c13,13
< import org.eclipse.emf.ecore.InternalEObject;
---
> import org.eclipse.emf.ecore.util.EObjectResolvingEList;
10,11d13
< 
< import org.eclipse.emf.ecore.impl.ENotificationImpl;
20,20c22,22
<     protected GenCommonBase element = null;
---
>     protected EList element = null;
30,30c32,32
<     public GenCommonBase getElement () {
---
>     public EList getElement () {
31,33d32
<         if (element != null && element.eIsProxy ()) {
<             InternalEObject oldElement = (InternalEObject) element;
<             element = (GenCommonBase) eResolveProxy (oldElement);
34,34c33,33
<             if (element != oldElement) {
---
>         if (element == null) {
35,35c34,34
<                 if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.RESOLVE, GMFGenPackage.GEN_DIAGRAM_ELEMENT_TARGET__ELEMENT, oldElement, element));
---
>             element = new EObjectResolvingEList (GenCommonBase.class, this, GMFGenPackage.GEN_DIAGRAM_ELEMENT_TARGET__ELEMENT);
36,39d34
< 
<             }
<         }
<         return element;
41,42d35
< 
<     public GenCommonBase basicGetElement () {
46,52d38
<     public void setElement (GenCommonBase newElement) {
<         GenCommonBase oldElement = element;
<         element = newElement;
<         if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFGenPackage.GEN_DIAGRAM_ELEMENT_TARGET__ELEMENT, oldElement, element));
< 
<     }
< 
54,54c40,40
<         if (getElement () == null) {
---
>         if (getElement ().isEmpty ()) {
56a64,64
>                 return getElement ();
56a43,43
>         return ((GenCommonBase) getElement ().get (0)).getDiagramRunTimeClass ();
57,57d63
<         return getElement ().getDiagramRunTimeClass ();
60a47,58
>         StringBuffer buf = new StringBuffer ("Ctx");
>         for (Iterator it = getElement ().iterator ();
>         it.hasNext ();) {
>             GenCommonBase nextElement = (GenCommonBase) it.next ();
>             buf.append ('_');
>             int id = nextElement.getVisualID ();
>             if (id < 0) {
>                 buf.append ('n');
>             }
>             buf.append (id);
>         }
>         return buf.toString ();
61,62d46
<         int id = getElement () != null ? getElement ().getVisualID () : - 1;
<         return "Ctx" + (id < 0 ? "_" : Integer.toString (id));
68,70d63
<                 if (resolve) return getElement ();
< 
<                 return basicGetElement ();
77a72,73
>                 getElement ().clear ();
>                 getElement ().addAll ((Collection) newValue);
78,78d71
<                 setElement ((GenCommonBase) newValue);
86a82,82
>                 getElement ().clear ();
87,87d81
<                 setElement ((GenCommonBase) null);
96,96c91,91
<                 return element != null;
---
>                 return element != null && ! element.isEmpty ();
