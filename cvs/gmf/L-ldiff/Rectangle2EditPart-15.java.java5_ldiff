48a43,43
> import org.eclipse.gmf.gmfgraph.AbstractFigure;
49,49d42
< import org.eclipse.gmf.gmfgraph.FigureMarker;
50,50c44,44
< 
---
> 
54a55,56
> import org.eclipse.gmf.gmfgraph.Layoutable;
> 
98,98c100,100
<     public static final int VISUAL_ID = 3002;
---
>     public static final int VISUAL_ID = 3011;
176,176c178,178
<         DefaultSizeNodeFigure result = new DefaultSizeNodeFigure (getMapMode ().DPtoLP (0), getMapMode ().DPtoLP (0));
---
>         DefaultSizeNodeFigure result = new DefaultSizeNodeFigure (getMapMode ().DPtoLP (40), getMapMode ().DPtoLP (40));
403,403c405,405
<                             if (modelElement.getLayoutData () instanceof XYLayoutData || (modelElement.getParent () != null && modelElement.getParent ().getLayout () instanceof XYLayout)) {
---
>                             if (modelElement.getLayoutData () instanceof XYLayoutData || (modelElement.eContainer () instanceof Layoutable && ((Layoutable) modelElement.eContainer ()).getLayout () instanceof XYLayout)) {
599,599c601,601
<         if (((View) getParent ().getModel ()).getElement () instanceof FigureMarker) {
---
>         if (((View) getParent ().getModel ()).getElement () instanceof AbstractFigure) {
680,680c682,682
<             org.eclipse.draw2d.XYLayout myGenLayoutManager = new org.eclipse.draw2d.XYLayout ();
---
>             this.setLayoutManager (new org.eclipse.draw2d.XYLayout ());
681,685d682
<             this.setLayoutManager (myGenLayoutManager);
<             createContents ();
<         }
< 
<         private void createContents () {
