2a525,525
>             org.eclipse.core.commands.operations.OperationHistoryFactory.getOperationHistory ().execute (cmd, new org.eclipse.core.runtime.NullProgressMonitor (), null);
3,6d524
< import java.util.Collections;
< 
< import java.util.List;
< 
7,7c526,526
< import org.eclipse.core.commands.ExecutionException;
---
>         } catch (org.eclipse.core.commands.ExecutionException ex) {
8,18d526
< 
< import org.eclipse.core.commands.operations.OperationHistoryFactory;
< 
< import org.eclipse.core.resources.IFile;
< 
< import org.eclipse.core.runtime.IAdaptable;
< 
< import org.eclipse.core.runtime.IProgressMonitor;
< 
< import org.eclipse.core.runtime.NullProgressMonitor;
< 
20a511,512
>         final java.util.List < org.eclipse.core.resources.IFile > files = java.util.Collections.singletonList (org.eclipse.emf.workspace.util.WorkspaceSynchronizer.getFile (getInput ().eResource ()));
>         org.eclipse.gmf.runtime.emf.commands.core.command.AbstractTransactionalCommand cmd = new org.eclipse.gmf.runtime.emf.commands.core.command.AbstractTransactionalCommand (org.eclipse.emf.transaction.util.TransactionUtil.getEditingDomain (getInput ()), "", files) {
21,26d510
< import org.eclipse.emf.transaction.util.TransactionUtil;
< 
< import org.eclipse.emf.workspace.util.WorkspaceSynchronizer;
< 
< import org.eclipse.gef.EditPart;
< 
48a515,515
>             protected org.eclipse.gmf.runtime.common.core.command.CommandResult doExecuteWithResult (org.eclipse.core.runtime.IProgressMonitor monitor, org.eclipse.core.runtime.IAdaptable info) throws org.eclipse.core.commands.ExecutionException {
49,56d514
< import org.eclipse.gmf.runtime.common.core.command.CommandResult;
< 
< import org.eclipse.gmf.runtime.emf.commands.core.command.AbstractTransactionalCommand;
< 
< import org.eclipse.gmf.runtime.notation.View;
< 
< import org.eclipse.jface.layout.GridDataFactory;
< 
62a188,188
>         parent.setLayout (new org.eclipse.swt.layout.FormLayout ());
63,64d187
< import org.eclipse.swt.layout.FormAttachment;
< 
65,65c189,189
< import org.eclipse.swt.layout.FormData;
---
>         org.eclipse.swt.layout.FormData fd;
66,66d189
< 
67a191,191
>         fd.left = new org.eclipse.swt.layout.FormAttachment (0, 20);
67,67c190,190
< import org.eclipse.swt.layout.FormLayout;
---
>         fd = new org.eclipse.swt.layout.FormData ();
68,68d190
< 
146,146c110,110
<         myLayoutKindRadios.setLayout (new org.eclipse.swt.layout.FillLayout (SWT.VERTICAL));
---
>         myLayoutKindRadios.setLayout (new org.eclipse.swt.layout.FillLayout (org.eclipse.swt.SWT.VERTICAL));
149,149c136,136
<         GridDataFactory.swtDefaults ().align (SWT.BEGINNING, SWT.BEGINNING).span (2, 1).applyTo (myFlowLayoutIsVertical);
---
>         org.eclipse.jface.layout.GridDataFactory.swtDefaults ().align (SWT.BEGINNING, SWT.BEGINNING).span (2, 1).applyTo (myFlowLayoutIsVertical);
149a137,138
>         org.eclipse.jface.layout.GridDataFactory.swtDefaults ().align (SWT.BEGINNING, SWT.BEGINNING).span (2, 1).applyTo (myFlowLayoutMatchMinor);
>         org.eclipse.jface.layout.GridDataFactory.swtDefaults ().align (SWT.BEGINNING, SWT.BEGINNING).span (2, 1).applyTo (myFlowLayoutForceSingle);
151,151d113
<         GridDataFactory.swtDefaults ().align (SWT.BEGINNING, SWT.BEGINNING).span (2, 1).applyTo (myFlowLayoutMatchMinor);
153,153d114
<         GridDataFactory.swtDefaults ().align (SWT.BEGINNING, SWT.BEGINNING).span (2, 1).applyTo (myFlowLayoutForceSingle);
173,173c134,134
<         myFlowLayoutAlign.setLayout (new org.eclipse.swt.layout.FillLayout (SWT.VERTICAL));
---
>         myFlowLayoutAlign.setLayout (new org.eclipse.swt.layout.FillLayout (org.eclipse.swt.SWT.VERTICAL));
194,194c183,183
<         GridDataFactory.swtDefaults ().align (SWT.BEGINNING, SWT.BEGINNING).span (2, 1).applyTo (myGridLayoutSameWidth);
---
>         org.eclipse.jface.layout.GridDataFactory.swtDefaults ().align (SWT.BEGINNING, SWT.BEGINNING).span (2, 1).applyTo (myGridLayoutSameWidth);
224,227d187
<         parent.setLayout (new FormLayout ());
<         FormData fd;
<         fd = new FormData ();
<         fd.left = new FormAttachment (0, 20);
228a193,193
>         fd = new org.eclipse.swt.layout.FormData ();
229,229d192
<         fd = new FormData ();
230,230c194,194
<         fd.left = new FormAttachment (myLayoutKindRadios, 20, SWT.RIGHT);
---
>         fd.left = new org.eclipse.swt.layout.FormAttachment (myLayoutKindRadios, 20, org.eclipse.swt.SWT.RIGHT);
231a196,196
>         fd = new org.eclipse.swt.layout.FormData ();
232,232d195
<         fd = new FormData ();
233,233c197,197
<         fd.left = new FormAttachment (myLayoutKindRadios, 20, SWT.RIGHT);
---
>         fd.left = new org.eclipse.swt.layout.FormAttachment (myLayoutKindRadios, 20, org.eclipse.swt.SWT.RIGHT);
234a199,199
>         fd = new org.eclipse.swt.layout.FormData ();
235,235d198
<         fd = new FormData ();
236,236c200,200
<         fd.left = new FormAttachment (myLayoutKindRadios, 20, SWT.RIGHT);
---
>         fd.left = new org.eclipse.swt.layout.FormAttachment (myLayoutKindRadios, 20, org.eclipse.swt.SWT.RIGHT);
547,548d510
<         final List < IFile > files = Collections.singletonList (WorkspaceSynchronizer.getFile (getInput ().eResource ()));
<         AbstractTransactionalCommand cmd = new AbstractTransactionalCommand (TransactionUtil.getEditingDomain (getInput ()), "", files) {
551,551d514
<             protected CommandResult doExecuteWithResult (IProgressMonitor monitor, IAdaptable info) throws ExecutionException {
553,553c517,517
<                 return CommandResult.newOKCommandResult ();
---
>                 return org.eclipse.gmf.runtime.common.core.command.CommandResult.newOKCommandResult ();
561,562d524
<             OperationHistoryFactory.getOperationHistory ().execute (cmd, new NullProgressMonitor (), null);
<         } catch (ExecutionException ex) {
574a539,539
>         if (element instanceof org.eclipse.gef.EditPart) {
575,575d538
<         if (element instanceof EditPart) {
576a541,543
>             rv = model instanceof org.eclipse.gmf.runtime.notation.View ? ((org.eclipse.gmf.runtime.notation.View) model).getElement () : null;
>         } else if (element instanceof org.eclipse.gmf.runtime.notation.View) {
>             rv = ((org.eclipse.gmf.runtime.notation.View) element).getElement ();
576,576c540,540
<             Object model = ((EditPart) element).getModel ();
---
>             Object model = ((org.eclipse.gef.EditPart) element).getModel ();
577,579d540
<             rv = model instanceof View ? ((View) model).getElement () : null;
<         } else if (element instanceof View) {
<             rv = ((View) element).getElement ();
580,580c544,544
<         } else if (element instanceof IAdaptable) {
---
>         } else if (element instanceof org.eclipse.core.runtime.IAdaptable) {
580a545,545
>             org.eclipse.gmf.runtime.notation.View view = (org.eclipse.gmf.runtime.notation.View) ((org.eclipse.core.runtime.IAdaptable) element).getAdapter (org.eclipse.gmf.runtime.notation.View.class);
581,581d544
<             View view = (View) ((IAdaptable) element).getAdapter (View.class);
594,594d557
<         final GMFGraphPackage ePack = GMFGraphPackage.eINSTANCE;
595,595c558,558
<         myModelListeners = new org.eclipse.emf.common.notify.Adapter [] {new AttachAdapter (ePack.getLayoutable_Layout (), new ChangeTracker () {
---
>         myModelListeners = new org.eclipse.emf.common.notify.Adapter [] {new AttachAdapter (GMFGraphPackage.eINSTANCE.getLayoutable_Layout (), new ChangeTracker () {
602,602c565,565
<         , new FeatureTracker (this, ePack.getFlowLayout_Vertical (), ePack.getFlowLayout_MatchMinorSize (), ePack.getFlowLayout_ForceSingleLine (), ePack.getFlowLayout_MajorSpacing (), ePack.getFlowLayout_MinorSpacing (), ePack.getGridLayout_NumColumns (), ePack.getGridLayout_EqualWidth (), ePack.getCustomClass_QualifiedClassName (), ePack.getFlowLayout_MinorAlignment (), ePack.getFlowLayout_MajorAlignment ()), new AttachAdapter (ePack.getBorderLayout_Spacing (), new FeatureTracker (this, ePack.getDimension_Dx (), ePack.getDimension_Dy ())), new AttachAdapter (ePack.getGridLayout_Margins (), new FeatureTracker (this, ePack.getDimension_Dx (), ePack.getDimension_Dy ())), new AttachAdapter (ePack.getGridLayout_Spacing (), new FeatureTracker (this, ePack.getDimension_Dx (), ePack.getDimension_Dy ())))};
---
>         , new FeatureTracker (this, GMFGraphPackage.eINSTANCE.getFlowLayout_Vertical (), GMFGraphPackage.eINSTANCE.getFlowLayout_MatchMinorSize (), GMFGraphPackage.eINSTANCE.getFlowLayout_ForceSingleLine (), GMFGraphPackage.eINSTANCE.getFlowLayout_MajorSpacing (), GMFGraphPackage.eINSTANCE.getFlowLayout_MinorSpacing (), GMFGraphPackage.eINSTANCE.getGridLayout_NumColumns (), GMFGraphPackage.eINSTANCE.getGridLayout_EqualWidth (), GMFGraphPackage.eINSTANCE.getCustomClass_QualifiedClassName (), GMFGraphPackage.eINSTANCE.getFlowLayout_MinorAlignment (), GMFGraphPackage.eINSTANCE.getFlowLayout_MajorAlignment ()), new AttachAdapter (GMFGraphPackage.eINSTANCE.getBorderLayout_Spacing (), new FeatureTracker (this, GMFGraphPackage.eINSTANCE.getDimension_Dx (), GMFGraphPackage.eINSTANCE.getDimension_Dy ())), new AttachAdapter (GMFGraphPackage.eINSTANCE.getGridLayout_Margins (), new FeatureTracker (this, GMFGraphPackage.eINSTANCE.getDimension_Dx (), GMFGraphPackage.eINSTANCE.getDimension_Dy ())), new AttachAdapter (
602a566,566
>           GMFGraphPackage.eINSTANCE.getGridLayout_Spacing (), new FeatureTracker (this, GMFGraphPackage.eINSTANCE.getDimension_Dx (), GMFGraphPackage.eINSTANCE.getDimension_Dy ())))};
617,617c581,581
<     private org.eclipse.swt.widgets.Label createLabel (Composite parent, String label) {
---
>     private org.eclipse.swt.widgets.Label createLabel (org.eclipse.swt.widgets.Composite parent, String label) {
625,625c589,589
<     private Group createGroup (Composite parent, String label) {
---
>     private org.eclipse.swt.widgets.Group createGroup (org.eclipse.swt.widgets.Composite parent, String label) {
626,626c590,590
<         Group g = new Group (parent, SWT.SHADOW_NONE);
---
>         org.eclipse.swt.widgets.Group g = new org.eclipse.swt.widgets.Group (parent, SWT.SHADOW_NONE);
