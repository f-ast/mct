62a63,64
> import org.eclipse.gef.RootEditPart;
> 
965a968,972
>         RootEditPart root = getRoot ();
>         if (root instanceof DiagramRootEditPart) {
>             DiagramRootEditPart dgrmRoot = (DiagramRootEditPart) root;
>             return dgrmRoot.getMapMode ();
>         }
966,969d967
<         EditPart parent = getParent ();
<         if (parent instanceof DiagramRootEditPart) return ((DiagramRootEditPart) parent).getMapMode ();
<         else if (parent instanceof org.eclipse.gef.GraphicalEditPart) return MapModeUtil.getMapMode (((org.eclipse.gef.GraphicalEditPart) parent).getFigure ());
< 
