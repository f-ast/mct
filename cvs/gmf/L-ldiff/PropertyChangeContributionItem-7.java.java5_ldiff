8a9,10
> import org.eclipse.emf.transaction.RunnableWithResult;
> 
11,11c25,25
< import org.eclipse.jface.util.Assert;
---
> import org.eclipse.jface.util.Assert;
13,13c27,27
< import org.eclipse.ui.IWorkbenchPage;
---
> import org.eclipse.ui.IWorkbenchPage;
14,15d27
< 
< import org.eclipse.gmf.runtime.diagram.core.internal.util.MEditingDomainGetter;
23,23c13,13
< import org.eclipse.gmf.runtime.emf.core.edit.MRunnable;
---
> import org.eclipse.gmf.runtime.common.core.util.Log;
25,25c23,23
< import org.eclipse.gmf.runtime.emf.core.util.MetaModelUtil;
---
> import org.eclipse.gmf.runtime.emf.core.util.PackageUtil;
27,27c15,15
< import org.eclipse.gmf.runtime.notation.View;
---
> import org.eclipse.gmf.runtime.common.core.util.Trace;
75a76,77
>         try {
>             return editPart.getEditingDomain ().runExclusive (new RunnableWithResult.Impl () {
76,76d75
<         return MEditingDomainGetter.getMEditingDomain ((View) editPart.getModel ()).runAsRead (new MRunnable () {
77a79,80
>                 public void run () {
>                     ENamedElement element = PackageUtil.getElement (thePropertyId);
78,79d78
<             public Object run () {
<                 ENamedElement element = MetaModelUtil.getElement (thePropertyId);
80,80c81,81
<                 if (element instanceof EStructuralFeature) return editPart.getStructuralFeatureValue ((EStructuralFeature) element);
---
>                     if (element instanceof EStructuralFeature) setResult (editPart.getStructuralFeatureValue ((EStructuralFeature) element));
82,82d82
<                 return null;
87a88,92
>         } catch (InterruptedException e) {
>             Trace.catching (DiagramActionsPlugin.getInstance (), DiagramActionsDebugOptions.EXCEPTIONS_CATCHING, getClass (), "getPropertyValue", e);
>             Log.error (DiagramActionsPlugin.getInstance (), DiagramActionsStatusCodes.IGNORED_EXCEPTION_WARNING, "getPropertyValue", e);
>             return null;
>         }
