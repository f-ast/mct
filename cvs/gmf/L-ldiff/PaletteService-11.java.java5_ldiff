43,44d48
< import org.eclipse.gmf.runtime.diagram.ui.internal.util.DiagramMEditingDomainGetter;
< 
46a11,11
> import org.eclipse.emf.edit.domain.EditingDomain;
47,47d10
< import org.eclipse.gmf.runtime.emf.core.edit.MRunnable;
48,48c12,12
< 
---
> 
48a13,16
> import org.eclipse.emf.edit.domain.IEditingDomainProvider;
> 
> import org.eclipse.emf.transaction.TransactionalEditingDomain;
> 
142a145,149
>             IEditingDomainProvider provider = (IEditingDomainProvider) editor.getAdapter (IEditingDomainProvider.class);
>             if (provider != null) {
>                 EditingDomain domain = provider.getEditingDomain ();
>                 if (domain instanceof TransactionalEditingDomain) {
>                     ((TransactionalEditingDomain) domain).runExclusive (new Runnable () {
143,143d144
<             DiagramMEditingDomainGetter.getMEditingDomain (editor).runAsRead (new MRunnable () {
145,145c151,151
<                 public Object run () {
---
>                         public void run () {
147,147d152
<                     return null;
152a158,159
>                 }
>             }
