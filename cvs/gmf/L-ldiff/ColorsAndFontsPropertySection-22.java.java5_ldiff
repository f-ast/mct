125,125c101,101
<     protected static final RGB DEFAULT_PREF_COLOR = new RGB (0, 0, 0);
---
>     protected static final RGB DEFAULT_PREF_COLOR = new RGB (0, 0, 0);
126,126c102,102
<     protected Button fontColorButton;
---
>     protected Button fontColorButton;
127,127c103,103
<     protected Button lineColorButton;
---
>     protected Button lineColorButton;
128,128c104,104
<     protected RGB fontColor;
---
>     protected RGB fontColor;
129,129c105,105
<     protected RGB lineColor;
---
>     protected RGB lineColor;
130,130c106,106
<     protected Group colorsAndFontsGroup;
---
>     protected Group colorsAndFontsGroup;
130a107,107
>     protected int previousColor;
131,131d106
< 
279a280,282
>         if (lineColor != null) {
>             previousColor = FigureUtilities.RGBToInteger (lineColor);
>         }
283a287,289
>         if (fontColor != null) {
>             previousColor = FigureUtilities.RGBToInteger (fontColor);
>         }
292a299,299
>         popup.setPreviousColor (previousColor);
