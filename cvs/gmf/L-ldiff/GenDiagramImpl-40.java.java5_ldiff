50a51,52
> import org.eclipse.gmf.codegen.gmfgen.GenCompartment;
> 
56a59,60
> import org.eclipse.gmf.codegen.gmfgen.GenTopLevelNode;
> 
68,68c72,72
<     protected EList nodes = null;
---
>     protected EList childNodes = null;
68a73,73
>     protected EList topLevelNodes = null;
69a75,75
>     protected EList compartments = null;
167a174,177
>     public EList getContainedNodes () {
>         return getTopLevelNodes ();
>     }
> 
213a224,225
>     public EList getChildNodes () {
>         if (childNodes == null) {
214,215d223
<     public EList getNodes () {
<         if (nodes == null) {
216,216c226,226
<             nodes = new EObjectContainmentWithInverseEList (GenNode.class, this, GMFGenPackage.GEN_DIAGRAM__NODES, GMFGenPackage.GEN_NODE__DIAGRAM);
---
>             childNodes = new EObjectContainmentWithInverseEList (GenChildNode.class, this, GMFGenPackage.GEN_DIAGRAM__CHILD_NODES, GMFGenPackage.GEN_CHILD_NODE__DIAGRAM);
217a228,235
>         return childNodes;
>     }
> 
>     public EList getTopLevelNodes () {
>         if (topLevelNodes == null) {
>             topLevelNodes = new EObjectContainmentWithInverseEList (GenTopLevelNode.class, this, GMFGenPackage.GEN_DIAGRAM__TOP_LEVEL_NODES, GMFGenPackage.GEN_TOP_LEVEL_NODE__DIAGRAM);
>         }
>         return topLevelNodes;
218,218d227
<         return nodes;
227a245,251
>     public EList getCompartments () {
>         if (compartments == null) {
>             compartments = new EObjectContainmentWithInverseEList (GenCompartment.class, this, GMFGenPackage.GEN_DIAGRAM__COMPARTMENTS, GMFGenPackage.GEN_COMPARTMENT__DIAGRAM);
>         }
>         return compartments;
>     }
> 
1091a1116,1129
>     public EList getAllContainers () {
>         EList result = new BasicEList ();
>         result.addAll (getAllNodes ());
>         result.addAll (getCompartments ());
>         return new BasicEList.UnmodifiableEList (result.size (), result.toArray ());
>     }
> 
>     public EList getAllNodes () {
>         EList result = new BasicEList ();
>         result.addAll (getTopLevelNodes ());
>         result.addAll (getChildNodes ());
>         return new BasicEList.UnmodifiableEList (result.size (), result.toArray ());
>     }
> 
1121a1160,1160
>             case GMFGenPackage.GEN_DIAGRAM__CHILD_NODES :
1122,1122d1159
<             case GMFGenPackage.GEN_DIAGRAM__NODES :
1123,1123c1161,1161
<                 return ((InternalEList) getNodes ()).basicAdd (otherEnd, msgs);
---
>                 return ((InternalEList) getChildNodes ()).basicAdd (otherEnd, msgs);
1123a1162,1163
>             case GMFGenPackage.GEN_DIAGRAM__TOP_LEVEL_NODES :
>                 return ((InternalEList) getTopLevelNodes ()).basicAdd (otherEnd, msgs);
1125a1166,1167
>             case GMFGenPackage.GEN_DIAGRAM__COMPARTMENTS :
>                 return ((InternalEList) getCompartments ()).basicAdd (otherEnd, msgs);
1135a1178,1178
>             case GMFGenPackage.GEN_DIAGRAM__CHILD_NODES :
1136,1136d1177
<             case GMFGenPackage.GEN_DIAGRAM__NODES :
1137a1180,1181
>             case GMFGenPackage.GEN_DIAGRAM__TOP_LEVEL_NODES :
>                 return ((InternalEList) getTopLevelNodes ()).basicRemove (otherEnd, msgs);
1137,1137c1179,1179
<                 return ((InternalEList) getNodes ()).basicRemove (otherEnd, msgs);
---
>                 return ((InternalEList) getChildNodes ()).basicRemove (otherEnd, msgs);
1139a1184,1185
>             case GMFGenPackage.GEN_DIAGRAM__COMPARTMENTS :
>                 return ((InternalEList) getCompartments ()).basicRemove (otherEnd, msgs);
1149a1196,1197
>             case GMFGenPackage.GEN_DIAGRAM__CONTAINED_NODES :
>                 return getContainedNodes ();
1158,1158c1206,1206
<             case GMFGenPackage.GEN_DIAGRAM__NODES :
---
>             case GMFGenPackage.GEN_DIAGRAM__CHILD_NODES :
1159,1159c1207,1207
<                 return getNodes ();
---
>                 return getChildNodes ();
1159a1208,1209
>             case GMFGenPackage.GEN_DIAGRAM__TOP_LEVEL_NODES :
>                 return getTopLevelNodes ();
1161a1212,1213
>             case GMFGenPackage.GEN_DIAGRAM__COMPARTMENTS :
>                 return getCompartments ();
1259a1312,1315
>             case GMFGenPackage.GEN_DIAGRAM__CONTAINED_NODES :
>                 getContainedNodes ().clear ();
>                 getContainedNodes ().addAll ((Collection) newValue);
>                 return;
1265a1322,1323
>             case GMFGenPackage.GEN_DIAGRAM__CHILD_NODES :
>                 getChildNodes ().clear ();
1266,1267d1321
<             case GMFGenPackage.GEN_DIAGRAM__NODES :
<                 getNodes ().clear ();
1268,1268c1324,1324
<                 getNodes ().addAll ((Collection) newValue);
---
>                 getChildNodes ().addAll ((Collection) newValue);
1268a1325,1328
>                 return;
>             case GMFGenPackage.GEN_DIAGRAM__TOP_LEVEL_NODES :
>                 getTopLevelNodes ().clear ();
>                 getTopLevelNodes ().addAll ((Collection) newValue);
1273a1334,1337
>             case GMFGenPackage.GEN_DIAGRAM__COMPARTMENTS :
>                 getCompartments ().clear ();
>                 getCompartments ().addAll ((Collection) newValue);
>                 return;
1419a1484,1486
>             case GMFGenPackage.GEN_DIAGRAM__CONTAINED_NODES :
>                 getContainedNodes ().clear ();
>                 return;
1426,1426c1493,1493
<             case GMFGenPackage.GEN_DIAGRAM__NODES :
---
>             case GMFGenPackage.GEN_DIAGRAM__CHILD_NODES :
1427a1495,1497
>                 return;
>             case GMFGenPackage.GEN_DIAGRAM__TOP_LEVEL_NODES :
>                 getTopLevelNodes ().clear ();
1427,1427c1494,1494
<                 getNodes ().clear ();
---
>                 getChildNodes ().clear ();
1431a1502,1504
>             case GMFGenPackage.GEN_DIAGRAM__COMPARTMENTS :
>                 getCompartments ().clear ();
>                 return;
1575a1649,1650
>             case GMFGenPackage.GEN_DIAGRAM__CONTAINED_NODES :
>                 return ! getContainedNodes ().isEmpty ();
1580,1580c1655,1655
<             case GMFGenPackage.GEN_DIAGRAM__NODES :
---
>             case GMFGenPackage.GEN_DIAGRAM__CHILD_NODES :
1581,1581c1656,1656
<                 return nodes != null && ! nodes.isEmpty ();
---
>                 return childNodes != null && ! childNodes.isEmpty ();
1581a1657,1658
>             case GMFGenPackage.GEN_DIAGRAM__TOP_LEVEL_NODES :
>                 return topLevelNodes != null && ! topLevelNodes.isEmpty ();
1583a1661,1662
>             case GMFGenPackage.GEN_DIAGRAM__COMPARTMENTS :
>                 return compartments != null && ! compartments.isEmpty ();
1944,1944c2023,2023
<         for (Iterator it = getNodes ().iterator ();
---
>         for (Iterator it = getAllNodes ().iterator ();
1954,1964d2032
<             for (Iterator childIt = nextNode.getChildNodes ().iterator ();
<             childIt.hasNext ();) {
<                 GenChildNode nextChild = (GenChildNode) childIt.next ();
<                 TypeModelFacet childModelFacet = nextChild.getModelFacet ();
<                 if (childModelFacet.getModelElementInitializer () != null) {
<                     requiredIDs.addAll (childModelFacet.getModelElementInitializer ().getRequiredPluginIDs ());
<                 }
<                 if (childModelFacet.getModelElementSelector () != null) {
<                     requiredIDs.addAll (childModelFacet.getModelElementSelector ().getRequiredPluginIDs ());
<                 }
<             }
