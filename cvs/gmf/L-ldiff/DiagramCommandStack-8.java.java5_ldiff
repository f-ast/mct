326a327,329
>             i.hasNext ();) {
>                 IUndoableOperation child = (IUndoableOperation) i.next ();
>                 if (child instanceof ICommand) {
327,327c330,330
<             i.hasNext ();) l.addAll (getReturnValues ((ICommand) i.next ()));
---
>                     l.addAll (getReturnValues ((ICommand) child));
327a331,332
>                 }
>             }
328,328d330
< 
