7,8d6
< import java.util.Iterator;
< 
69,69c67,67
<         myOutcomeGallery.setName (myInput.getFigures ().size () == 1 ? ((FigureGallery) myInput.getFigures ().get (0)).getName () : "GeneratedGallery");
---
>         myOutcomeGallery.setName (myInput.getFigures ().size () == 1 ? myInput.getFigures ().get (0).getName () : "GeneratedGallery");
90,90c88,88
<         for (Iterator galleries = myInput.getFigures ().iterator ();
---
>         for (FigureGallery next : myInput.getFigures ()) {
91,92d88
<         galleries.hasNext ();) {
<             FigureGallery next = (FigureGallery) galleries.next ();
99,99c95,95
<         for (Iterator it = myInput.getNodes ().iterator ();
---
>         for (Node next : myInput.getNodes ()) {
100,101d95
<         it.hasNext ();) {
<             Node next = (Node) it.next ();
107,107c101,101
<         for (Iterator it = myInput.getConnections ().iterator ();
---
>         for (Connection next : myInput.getConnections ()) {
108,109d101
<         it.hasNext ();) {
<             Connection next = (Connection) it.next ();
115,115c107,107
<         for (Iterator it = myInput.getCompartments ().iterator ();
---
>         for (Compartment next : myInput.getCompartments ()) {
116,117d107
<         it.hasNext ();) {
<             Compartment next = (Compartment) it.next ();
131,131c121,121
<         for (Iterator it = myInput.getLabels ().iterator ();
---
>         for (DiagramLabel next : myInput.getLabels ()) {
132,133d121
<         it.hasNext ();) {
<             DiagramLabel next = (DiagramLabel) it.next ();
165,165c153,153
<             myOutcomeGallery.getFigures ().add (myElementCopier.copy (figure));
---
>             myOutcomeGallery.getFigures ().add ((CustomFigure) myElementCopier.copy (figure));
