10a11,12
> import org.eclipse.swt.widgets.Shell;
> 
16a19,20
>         Shell shell = new Shell ();
>         try {
17,17c21,21
<         DiagramEditPart diagramEP = OffscreenEditPartFactory.getInstance ().createDiagramEditPart (diagram);
---
>             DiagramEditPart diagramEP = OffscreenEditPartFactory.getInstance ().createDiagramEditPart (diagram, shell);
19a24,26
>         } finally {
>             shell.dispose ();
>         }
25a33,34
>         Shell shell = new Shell ();
>         try {
26,26c35,35
<         DiagramEditPart diagramEP = OffscreenEditPartFactory.getInstance ().createDiagramEditPart (diagram);
---
>             DiagramEditPart diagramEP = OffscreenEditPartFactory.getInstance ().createDiagramEditPart (diagram, shell);
28a38,40
>         } finally {
>             shell.dispose ();
>         }
