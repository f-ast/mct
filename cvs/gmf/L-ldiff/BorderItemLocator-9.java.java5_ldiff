52,52d51
<         getParentFigure ().revalidate ();
158,158c157,157
<         Rectangle recommendedRect = new Rectangle (recommendedLocation, targetBorderItem.getSize ());
---
>         Rectangle recommendedRect = new Rectangle (recommendedLocation, getSize (targetBorderItem));
271,271c270,270
<         borderItem.setLocation (ptNewLocation);
---
>         borderItem.setBounds (new Rectangle (ptNewLocation, size));
272,272d270
<         borderItem.setSize (size);
306a305,305
>         if (size.isEmpty ()) {
307,307d304
<         if (LayoutHelper.UNDEFINED.getSize ().equals (size)) {
