251,251c251,251
<     protected Collection selectionChangedListeners = new ArrayList ();
---
>     protected Collection < ISelectionChangedListener > selectionChangedListeners = new ArrayList < ISelectionChangedListener > ();
288,288c288,288
<     protected Collection removedResources = new ArrayList ();
---
>     protected Collection < Resource > removedResources = new ArrayList < Resource > ();
289,289c289,289
<     protected Collection changedResources = new ArrayList ();
---
>     protected Collection < Resource > changedResources = new ArrayList < Resource > ();
290,290c290,290
<     protected Collection savedResources = new ArrayList ();
---
>     protected Collection < Resource > savedResources = new ArrayList < Resource > ();
291,291c291,291
<     protected Map resourceToDiagnosticMap = new LinkedHashMap ();
---
>     protected Map < Resource, Diagnostic > resourceToDiagnosticMap = new LinkedHashMap < Resource, Diagnostic > ();
294a295,295
>         @Override
319a321,321
>                             break;
325a328,328
>         @Override
329a333,333
>         @Override
345,345c349,349
<                         protected Collection changedResources = new ArrayList ();
---
>                         protected Collection < Resource > changedResources = new ArrayList < Resource > ();
346,346c350,350
<                         protected Collection removedResources = new ArrayList ();
---
>                         protected Collection < Resource > removedResources = new ArrayList < Resource > ();
365,365c369,369
<                         public Collection getChangedResources () {
---
>                         public Collection < Resource > getChangedResources () {
369,369c373,373
<                         public Collection getRemovedResources () {
---
>                         public Collection < Resource > getRemovedResources () {
442,443d445
<             for (Iterator i = changedResources.iterator ();
<             i.hasNext ();) {
444,444c446,446
<                 Resource resource = (Resource) i.next ();
---
>             for (Resource resource : changedResources) {
464,465d465
<             for (Iterator i = resourceToDiagnosticMap.values ().iterator ();
<             i.hasNext ();) {
466,466c466,466
<                 Diagnostic childDiagnostic = (Diagnostic) i.next ();
---
>             for (Diagnostic childDiagnostic : resourceToDiagnosticMap.values ()) {
510,510c510,510
<         List factories = new ArrayList ();
---
>         List < AdapterFactory > factories = new ArrayList < AdapterFactory > ();
540,540c540,540
<         editingDomain = new AdapterFactoryEditingDomain (adapterFactory, commandStack, new HashMap ());
---
>         editingDomain = new AdapterFactoryEditingDomain (adapterFactory, commandStack, new HashMap < Resource, Boolean > ());
542a543,543
>     @Override
547,547c548,548
<     public void setSelectionToViewer (Collection collection) {
---
>     public void setSelectionToViewer (Collection < ? > collection) {
548,548c549,549
<         final Collection theSelection = collection;
---
>         final Collection < ? > theSelection = collection;
673,673c674,674
<         URI resourceURI = URI.createPlatformResourceURI (modelFile.getFile ().getFullPath ().toString ());
---
>         URI resourceURI = URI.createPlatformResourceURI (modelFile.getFile ().getFullPath ().toString (), true);
674,674d674
<         ;
702a703,703
>     @Override
705,705c706,706
<         if (! getEditingDomain ().getResourceSet ().getResources ().isEmpty () && ! ((Resource) getEditingDomain ().getResourceSet ().getResources ().get (0)).getContents ().isEmpty ()) {
---
>         if (! getEditingDomain ().getResourceSet ().getResources ().isEmpty () && ! (getEditingDomain ().getResourceSet ().getResources ().get (0)).getContents ().isEmpty ()) {
708a710,710
>                     @Override
714a717,717
>                     @Override
727a731,731
>                 selectionViewer.setSelection (new StructuredSelection (editingDomain.getResourceSet ().getResources ().get (0)), true);
735a740,740
>                     @Override
741a747,747
>                     @Override
760a767,767
>                     @Override
764a772,772
>                     @Override
782a791,791
>                     @Override
786a796,796
>                     @Override
805a816,816
>                     @Override
809a821,821
>                     @Override
841a854,854
>                     @Override
845a859,859
>                     @Override
878a893,893
>             @Override
914a930,930
>     @Override
921a938,939
>     @SuppressWarnings("unchecked")
>     @Override
938a957,957
>                 @Override
948,949d966
<                         ArrayList selection = new ArrayList ();
<                         selection.add (editingDomain.getResourceSet ().getResources ().get (0));
950,950c967,967
<                         contentOutlineViewer.setSelection (new StructuredSelection (selection), true);
---
>                         contentOutlineViewer.setSelection (new StructuredSelection (editingDomain.getResourceSet ().getResources ().get (0)), true);
953a971,971
>                 @Override
958a977,977
>                 @Override
983a1003,1003
>                 @Override
984,984c1004,1004
<                 public void setSelectionToViewer (List selection) {
---
>                 public void setSelectionToViewer (List < ? > selection) {
988a1009,1009
>                 @Override
1004,1004c1025,1025
<             Iterator selectedElements = ((IStructuredSelection) selection).iterator ();
---
>             Iterator < ? > selectedElements = ((IStructuredSelection) selection).iterator ();
1008,1008c1029,1029
<                     ArrayList selectionList = new ArrayList ();
---
>                     ArrayList < Object > selectionList = new ArrayList < Object > ();
1023a1045,1045
>     @Override
1027a1050,1050
>     @Override
1030a1054,1054
>             @Override
1033,1033c1057,1057
<                 for (Iterator i = editingDomain.getResourceSet ().getResources ().iterator ();
---
>                 for (Resource resource : editingDomain.getResourceSet ().getResources ()) {
1034,1035d1057
<                 i.hasNext ();) {
<                     Resource resource = (Resource) i.next ();
1075a1098,1098
>     @Override
1079a1103,1103
>     @Override
1087,1087c1111,1111
<                 doSaveAs (URI.createPlatformResourceURI (file.getFullPath ().toString ()), new FileEditorInput (file));
---
>                 doSaveAs (URI.createPlatformResourceURI (file.getFullPath ().toString (), true), new FileEditorInput (file));
1093,1093c1117,1117
<         ((Resource) editingDomain.getResourceSet ().getResources ().get (0)).setURI (uri);
---
>         (editingDomain.getResourceSet ().getResources ().get (0)).setURI (uri);
1116a1141,1141
>     @Override
1125a1151,1151
>     @Override
1148,1149d1173
<         for (Iterator listeners = selectionChangedListeners.iterator ();
<         listeners.hasNext ();) {
1150,1150c1174,1174
<             ISelectionChangedListener listener = (ISelectionChangedListener) listeners.next ();
---
>         for (ISelectionChangedListener listener : selectionChangedListeners) {
1160,1160c1184,1184
<                 Collection collection = ((IStructuredSelection) selection).toList ();
---
>                 Collection < ? > collection = ((IStructuredSelection) selection).toList ();
1205a1230,1230
>     @Override
