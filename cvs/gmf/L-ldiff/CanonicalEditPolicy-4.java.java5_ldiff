38a39,40
> import org.eclipse.emf.ecore.EStructuralFeature;
> 
49,49c97,97
< import org.eclipse.jface.util.Assert;
---
> import org.eclipse.jface.util.Assert;
50,50c98,98
< 
---
> 
51,51c99,99
< import org.eclipse.swt.widgets.Display;
---
> import org.eclipse.swt.widgets.Display;
52,52c100,100
< 
---
> 
83,83c67,67
< import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
---
> import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
84,84c68,68
< 
---
> 
368a371,371
>             addListenerFilter (SEMANTIC_FILTER_ID, this, semanticHost);
369,369d370
<             addListenerFilter (SEMANTIC_FILTER_ID, this, PresentationListener.getNotifier (semanticHost));
370,370c372,372
<             addListenerFilter ("NotationListener_Visibility", this, PresentationListener.getNotifier (((View) getHost ().getModel ()), NotationPackage.eINSTANCE.getView_Visible ()));
---
>             addListenerFilter ("NotationListener_Visibility", this, (View) getHost ().getModel (), NotationPackage.eINSTANCE.getView_Visible ());
435a438,469
>     protected boolean addListenerFilter (String filterId, PropertyChangeListener listener, EObject element) {
>         if (filterId == null || listener == null) {
>             throw new NullPointerException ();
>         }
>         if (element != null) {
>             if (_listenerFilters == null) _listenerFilters = new HashMap ();
> 
>             if (! _listenerFilters.containsKey (filterId)) {
>                 PresentationListener.getInstance ().addPropertyChangeListener (element, listener);
>                 _listenerFilters.put (filterId, new Object [] {element, listener});
>                 return true;
>             }
>         }
>         return false;
>     }
> 
>     protected boolean addListenerFilter (String filterId, PropertyChangeListener listener, EObject element, EStructuralFeature feature) {
>         if (filterId == null || listener == null) {
>             throw new NullPointerException ();
>         }
>         if (element != null) {
>             if (_listenerFilters == null) _listenerFilters = new HashMap ();
> 
>             if (! _listenerFilters.containsKey (filterId)) {
>                 PresentationListener.getInstance ().addPropertyChangeListener (element, feature, listener);
>                 _listenerFilters.put (filterId, new Object [] {element, feature, listener});
>                 return true;
>             }
>         }
>         return false;
>     }
> 
441a476,479
>         if (objects.length > 2) {
>             PresentationListener.getInstance ().removePropertyChangeListener ((EObject) objects [0], (EStructuralFeature) objects [1], (PropertyChangeListener) objects [2]);
>         } else {
>             if (objects [0] instanceof PropertyChangeNotifier) {
442a481,484
>             } else {
>                 PresentationListener.getInstance ().removePropertyChangeListener ((EObject) objects [0], (PropertyChangeListener) objects [1]);
>             }
>         }
