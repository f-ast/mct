28a29,30
> import org.eclipse.core.runtime.SubProgressMonitor;
> 
50,50c52,52
<     private static boolean firstBuild = true;
---
>     private boolean firstBuild = true;
51a54,54
>     private WorkspaceModelRegistry modelRegistry;
58a166,167
>     private static boolean isXtend (final IFile resource) {
>         return XtendResource.FILE_EXTENSION.equals (resource.getFileExtension ());
59,60d165
<     private static boolean isFileOfInterest (IFile file) {
<         return XpandResource.TEMPLATE_EXTENSION.equals (file.getFileExtension ()) || XtendResource.FILE_EXTENSION.equals (file.getFileExtension ());
61,61c168,168
<     }
---
>     }
62a170,177
>     private static boolean isXpand (final IFile resource) {
>         return XpandResource.TEMPLATE_EXTENSION.equals (resource.getFileExtension ());
>     }
> 
>     private static boolean isFileOfInterest (IFile file) {
>         return isXpand (file) || isXtend (file);
>     }
> 
62,62c169,169
< 
---
> 
66a66,69
>         Activator.registerResourceManager (getProject (), resourceManager);
>         firstBuild = true;
>         modelRegistry = new WorkspaceModelRegistry ();
>         Activator.registerModelSource (modelRegistry);
73,73d75
<                 System.err.println ("First build, kind:" + kind + " and is FULLBUILD:" + (kind == FULL_BUILD));
109a112,112
>             if (isXpand (resource)) {
110,110d111
<             if (XpandResource.TEMPLATE_EXTENSION.equals (resource.getFileExtension ())) {
115,115c117,117
<             } else if (XtendResource.FILE_EXTENSION.equals (resource.getFileExtension ())) {
---
>             } else if (isXtend (resource)) {
136a139,139
>         monitor.beginTask (null, 2);
137a141,142
>         modelRegistry.build (getProject (), new SubProgressMonitor (monitor, 1));
>         monitor.done ();
137,137c140,140
<         getProject ().accept (new XpandResourceVisitor (monitor));
---
>         getProject ().accept (new XpandResourceVisitor (new SubProgressMonitor (monitor, 1)));
140a146,146
>         monitor.beginTask (null, 2);
141,141c147,147
<         delta.accept (new XpandResourceVisitor (monitor));
---
>         delta.accept (new XpandResourceVisitor (new SubProgressMonitor (monitor, 1)));
141a148,149
>         modelRegistry.build (getProject (), delta, new SubProgressMonitor (monitor, 1));
>         monitor.done ();
159,159c179,179
<         private IProgressMonitor monitor;
---
>         private final IProgressMonitor monitor;
