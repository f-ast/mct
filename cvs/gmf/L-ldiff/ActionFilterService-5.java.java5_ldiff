12a17,18
> import org.eclipse.core.commands.operations.OperationHistoryEvent;
> 
13,13c19,19
< import org.eclipse.core.runtime.IConfigurationElement;
---
> import org.eclipse.core.runtime.IConfigurationElement;
15,15c21,21
< import org.eclipse.gmf.runtime.common.core.command.CommandManager;
---
> import org.eclipse.gmf.runtime.common.core.command.CommandManager;
17,17c13,13
< import org.eclipse.gmf.runtime.common.core.command.CommandManagerChangeEvent;
---
> import org.eclipse.core.commands.operations.IOperationHistory;
19,19c15,15
< import org.eclipse.gmf.runtime.common.core.command.ICommandManagerChangeListener;
---
> import org.eclipse.core.commands.operations.IOperationHistoryListener;
45,46d46
< import org.eclipse.gmf.runtime.common.ui.services.action.internal.filter.TestAttributeOperation;
< 
55,55c55,55
< public class ActionFilterService extends Service implements IActionFilterProvider, ICommandManagerChangeListener {
---
> public class ActionFilterService extends Service implements IActionFilterProvider, IOperationHistoryListener {
101a102,102
>         getOperationHistory ().addOperationHistoryListener (this);
102,102d101
<         getCommandManager ().addCommandManagerChangeListener (this);
130a131,135
>         return CommandManager.getDefault ();
>     }
> 
>     protected IOperationHistory getOperationHistory () {
>         return getActionManager ().getOperationHistory ();
131,131d130
<         return getActionManager ().getCommandManager ();
175,175c179,179
<     public void commandManagerChanged (CommandManagerChangeEvent event) {
---
>     public void historyNotification (OperationHistoryEvent event) {
