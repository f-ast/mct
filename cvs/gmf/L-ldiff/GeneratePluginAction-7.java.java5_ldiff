36a37,38
> import org.eclipse.core.runtime.Platform;
> 
84a87,90
> import org.eclipse.swt.events.SelectionEvent;
> 
> import org.eclipse.swt.events.SelectionListener;
> 
128,128c134,134
<         StandaloneGenerator.Config config = new StandaloneGenerator.ConfigImpl (pluginId, pluginId, false);
---
>         StandaloneGenerator.Config config = new StandaloneGenerator.ConfigImpl (pluginId, pluginId, dialog.isUseMapMode ());
129,134d134
<         FigureQualifiedNameSwitch fqnSwitch;
<         if (dialog.isUseRuntimeFigures ()) {
<             fqnSwitch = new RuntimeFQNSwitch ();
<         } else {
<             fqnSwitch = new RuntimeLiteFQNSwitch ();
<         }
135,135c135,135
<         final StandaloneGenerator generator = new StandaloneGenerator (input, config, fqnSwitch);
---
>         final StandaloneGenerator generator = new StandaloneGenerator (input, config, dialog.getFigureQualifiedNameSwitch ());
249,249c249,249
<     private static class StandaloneGeneratorOptionsDialog extends Dialog {
---
>     private static class StandaloneGeneratorOptionsDialog extends FigureGeneratorOptionsDialog {
252,253d251
<         private Text errorMessageText;
<         private Button useRuntimeFiguresButton;
255,255c253,253
<         private boolean useRuntimeFigures;
---
>         private final boolean shouldWarnLiteVerstionDoesNotSupportMapMode;
257a256,260
>             this (parentShell, initialPluginId, initialUseRuntimeFigures, false, pluginIdValidator);
>         }
> 
>         public StandaloneGeneratorOptionsDialog (Shell parentShell, String initialPluginId, boolean initialUseRuntimeFigures, boolean initialUseMapMode, IInputValidator pluginIdValidator) {
>             super (parentShell, "Figure Gallery Generator", initialUseRuntimeFigures, initialUseMapMode);
258,258d255
<             super (parentShell);
263a266,266
>             shouldWarnLiteVerstionDoesNotSupportMapMode = Platform.getBundle ("org.eclipse.gmf.codegen.lite") != null;
264,264d265
<             useRuntimeFigures = initialUseRuntimeFigures;
266a269,269
>         protected void createControls (Composite result) {
267,273d268
<         protected void configureShell (Shell newShell) {
<             super.configureShell (newShell);
<             newShell.setText ("Figure Gallery Generator");
<         }
< 
<         protected Control createDialogArea (Composite parent) {
<             Composite result = (Composite) super.createDialogArea (parent);
279,279d274
<             label.setFont (parent.getFont ());
290a286,286
>             super.createControls (result);
291,297d285
<             useRuntimeFiguresButton = new Button (result, SWT.CHECK);
<             useRuntimeFiguresButton.setText ("Utilize enhanced features of GMF runtime");
<             useRuntimeFiguresButton.setSelection (useRuntimeFigures);
<             errorMessageText = new Text (result, SWT.READ_ONLY);
<             errorMessageText.setLayoutData (new GridData (GridData.GRAB_HORIZONTAL | GridData.HORIZONTAL_ALIGN_FILL));
<             errorMessageText.setBackground (errorMessageText.getDisplay ().getSystemColor (SWT.COLOR_WIDGET_BACKGROUND));
<             return result;
307a297,299
>         protected void warnLiteVerstionDoesNotSupportMapMode () {
>             if (shouldWarnLiteVerstionDoesNotSupportMapMode) {
>                 super.warnLiteVerstionDoesNotSupportMapMode ();
308,313d296
<         public void setErrorMessage (String errorMessage) {
<             errorMessageText.setText (errorMessage == null ? "" : errorMessage);
<             errorMessageText.getParent ().update ();
<             Control button = getButton (IDialogConstants.OK_ID);
<             if (button != null) {
<                 button.setEnabled (errorMessage == null);
318,318d303
<             useRuntimeFigures = useRuntimeFiguresButton.getSelection ();
327,330d311
<         public boolean isUseRuntimeFigures () {
<             return useRuntimeFigures;
<         }
< 
