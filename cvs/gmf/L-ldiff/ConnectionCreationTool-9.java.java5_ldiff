32a33,36
> import org.eclipse.gmf.runtime.diagram.ui.editparts.CompartmentEditPart;
> 
> import org.eclipse.gmf.runtime.diagram.ui.editparts.DiagramEditPart;
> 
71a76,76
>     static private Cursor CURSOR_TARGET_MENU = new Cursor (Display.getDefault (), SWT.CURSOR_HAND);
249,249c254,254
<             boolean cont = getState () == STATE_CONNECTION_STARTED && ((getCommand () == null) || ((getCommand () != null) && (getCommand ().canExecute ())));
---
>             boolean cont = getState () == STATE_CONNECTION_STARTED && ((getCurrentCommand () == null) || ((getCurrentCommand () != null) && (getCurrentCommand ().canExecute ())));
273a279,288
>     protected Cursor calculateCursor () {
>         Command command = getCurrentCommand ();
>         if (command != null && command.canExecute ()) {
>             EditPart ep = getTargetEditPart ();
>             if (ep instanceof DiagramEditPart || ep instanceof CompartmentEditPart) return CURSOR_TARGET_MENU;
> 
>         }
>         return super.calculateCursor ();
>     }
> 
