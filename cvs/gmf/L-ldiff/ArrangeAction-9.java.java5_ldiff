54a19,19
> import org.eclipse.draw2d.Animation;
55,55d18
< import org.eclipse.gmf.runtime.draw2d.ui.internal.figures.AnimationFigureHelper;
56,56c20,20
< 
---
> 
209a212,213
>         if (animatedLayout) Animation.markBegin ();
> 
210,210c214,214
<         super.doRun (progressMonitor);
---
>         super.doRun (progressMonitor);
213a216,218
>             int durationInc = 800;
>             int factor = 10;
>             int size = 0;
218a224,224
>                     size += element.getFigure ().getChildren ().size ();
219,219d223
<                     AnimationFigureHelper.getInstance ().animate (element.getFigure ());
222a228,228
>                 size += container.getFigure ().getChildren ().size ();
223,223d227
<                 AnimationFigureHelper.getInstance ().animate (container.getFigure ());
225a231,232
>             int totalDuration = Math.min (durationInc * factor / 2, Math.max (durationInc, (size / factor) * durationInc));
>             Animation.run (totalDuration);
