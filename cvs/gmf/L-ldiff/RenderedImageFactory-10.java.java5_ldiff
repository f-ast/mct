157,157c157,157
<             if (image != null) return image;
---
>             if (image != null) break;
159a160,160
>         if (image == null) {
160a162,166
>         }
>         if (image != null) {
>             instanceMap.put (key, new WeakReference (image));
>         }
>         return image;
160,160c161,161
<         return new ImageRenderedImage (buffer, key);
---
>             image = new ImageRenderedImage (buffer, key);
