7,8d6
< import java.util.Iterator;
< 
35,35c33,33
<         Collection affectedEditParts = findAffectedParts (msg);
---
>         Collection < IUpdatableEditPart > affectedEditParts = findAffectedParts (msg);
36,37d33
<         for (Iterator it = affectedEditParts.iterator ();
<         it.hasNext ();) {
38a35,41
>             if (next instanceof IExternallyUpdatableEditPart) {
>                 for (IExternallyUpdatableEditPart.ExternalRefresher nextExternalRefresher : ((IExternallyUpdatableEditPart) next).getExternalRefreshers ()) {
>                     if (nextExternalRefresher.isAffectingEvent (msg)) {
>                         nextExternalRefresher.refresh ();
>                     }
>                 }
>             }
38,38c34,34
<             IUpdatableEditPart next = (IUpdatableEditPart) it.next ();
---
>         for (IUpdatableEditPart next : affectedEditParts) {
46,46c49,49
<     private Collection findAffectedParts (Notification msg) {
---
>     private Collection < IUpdatableEditPart > findAffectedParts (Notification msg) {
51a55,55
>                 if (affectedEditPart instanceof IUpdatableEditPart) {
52,52d54
<                 if (affectedEditPart != null) {
53,53c56,56
<                     return Collections.singleton (affectedEditPart);
---
>                     return Collections.singleton ((IUpdatableEditPart) affectedEditPart);
57,57c60,60
<         return Collections.EMPTY_LIST;
---
>         return Collections.emptyList ();
