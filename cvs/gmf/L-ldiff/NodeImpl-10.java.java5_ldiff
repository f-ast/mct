6a7,8
> import org.eclipse.emf.ecore.InternalEObject;
> 
9,9c13,13
< import org.eclipse.gmf.gmfgraph.Direction;
---
> import org.eclipse.gmf.gmfgraph.Direction;
11,11c11,11
< import org.eclipse.gmf.gmfgraph.Figure;
---
> import org.eclipse.gmf.gmfgraph.ChildAccess;
17,17c19,19
< public class NodeImpl extends DiagramElementImpl implements Node {
---
> public class NodeImpl extends AbstractNodeImpl implements Node {
21a24,24
>     protected ChildAccess contentPane;
32,35d34
<     public Figure getNodeFigure () {
<         return getFigure () instanceof Figure ? (Figure) getFigure () : null;
<     }
< 
57a57,79
>     public ChildAccess getContentPane () {
>         if (contentPane != null && contentPane.eIsProxy ()) {
>             InternalEObject oldContentPane = (InternalEObject) contentPane;
>             contentPane = (ChildAccess) eResolveProxy (oldContentPane);
>             if (contentPane != oldContentPane) {
>                 if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.RESOLVE, GMFGraphPackage.NODE__CONTENT_PANE, oldContentPane, contentPane));
> 
>             }
>         }
>         return contentPane;
>     }
> 
>     public ChildAccess basicGetContentPane () {
>         return contentPane;
>     }
> 
>     public void setContentPane (ChildAccess newContentPane) {
>         ChildAccess oldContentPane = contentPane;
>         contentPane = newContentPane;
>         if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFGraphPackage.NODE__CONTENT_PANE, oldContentPane, contentPane));
> 
>     }
> 
61a88,89
>                 if (resolve) return getContentPane ();
> 
61,61c87,87
<             case GMFGraphPackage.NODE__NODE_FIGURE :
---
>             case GMFGraphPackage.NODE__CONTENT_PANE :
62,62c90,90
<                 return getNodeFigure ();
---
>                 return basicGetContentPane ();
70a95,95
>     @SuppressWarnings("unchecked")
79a105,107
>             case GMFGraphPackage.NODE__CONTENT_PANE :
>                 setContentPane ((ChildAccess) newValue);
>                 return;
92a121,123
>             case GMFGraphPackage.NODE__CONTENT_PANE :
>                 setContentPane ((ChildAccess) null);
>                 return;
100,100c135,135
<             case GMFGraphPackage.NODE__NODE_FIGURE :
---
>             case GMFGraphPackage.NODE__CONTENT_PANE :
101,101c136,136
<                 return getNodeFigure () != null;
---
>                 return contentPane != null;
