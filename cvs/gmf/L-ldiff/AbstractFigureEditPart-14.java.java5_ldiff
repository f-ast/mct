63,64d62
< import org.eclipse.gmf.gmfgraph.Shape;
< 
194a193,194
>         RealFigure realFigure = getRealFigure ();
>         if (realFigure == null || realFigure.getLayoutData () == null) {
195,196d192
<         Shape shape = getShape ();
<         if (shape == null || shape.getLayoutData () == null) {
199,199c197,197
<         LayoutData layoutData = shape.getLayoutData ();
---
>         LayoutData layoutData = realFigure.getLayoutData ();
392a391,391
>     protected RealFigure getRealFigure () {
393,393d390
<     protected Shape getShape () {
395,395c393,393
<         if (view != null && view.getElement () instanceof Shape) {
---
>         if (view != null && view.getElement () instanceof RealFigure) {
396,396c394,394
<             return (Shape) view.getElement ();
---
>             return (RealFigure) view.getElement ();
402,402c400,400
<         Font modelFont = getShape ().getFont ();
---
>         Font modelFont = getRealFigure ().getFont ();
