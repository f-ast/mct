3,4d2
< import java.util.ArrayList;
< 
23,23d20
<     private static final int STORAGE_POOL_SIZE = 10;
26,26d22
<     private final StoragePool myStoragePool;
31,31d26
<         myStoragePool = new StoragePool (STORAGE_POOL_SIZE);
65a61,61
>         final List < Pair > storage = new LinkedList < Pair > ();
66,66d60
<         List storage = myStoragePool.acquireList ();
68,68c63,63
<         for (Iterator pairs = storage.iterator ();
---
>         for (Pair next : storage) {
69,70d63
<         pairs.hasNext ();) {
<             Pair next = (Pair) pairs.next ();
87,87d79
<         myStoragePool.release (storage);
113,113c105,105
<         public void match (Collection currents, Collection olds, Collection output) {
---
>         public void match (Collection currents, Collection olds, Collection < Pair > output) {
197,217d188
<     private static class StoragePool extends AbstractPool {
< 
<         public StoragePool (int capacity) {
<             super (capacity);
<         }
< 
<         public List acquireList () {
<             return (List) internalAcquire ();
<         }
< 
<         public void release (List list) {
<             list.clear ();
<             internalRelease (list);
<         }
< 
<         protected Object createNew () {
<             return new ArrayList ();
<         }
< 
<     }
< 
