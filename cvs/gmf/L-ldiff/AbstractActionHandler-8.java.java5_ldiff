30a31,32
> import org.eclipse.gmf.runtime.common.ui.util.IPartSelector;
> 
70a73,73
>     private IPartSelector partSelector;
99,99c102,102
<                 if (part != null) refresh ();
---
>                 if (part != null && contributedToPart (part)) refresh ();
145a149,149
>             if (contributedToPart (workbenchPart)) {
159a164,190
>     }
> 
>     protected boolean contributedToPart (IWorkbenchPart part) {
>         return partSelector == null || partSelector.selects (workbenchPart);
>     }
> 
>     public final void setPartSelector (IPartSelector partSelector) {
>         if (this.partSelector == partSelector) {
>             return;
>         }
>         this.partSelector = partSelector;
>         IWorkbenchPart part = getWorkbenchPart ();
>         if (part != null && ! partSelector.selects (part)) {
>             if (isSelectionListener ()) {
>                 ISelectionProvider provider = getWorkbenchPart ().getSite ().getSelectionProvider ();
>                 if (provider != null) {
>                     provider.removeSelectionChangedListener (this);
>                 }
>             }
>             if (isPropertyListener ()) {
>                 getWorkbenchPart ().removePropertyListener (this);
>             }
>             if (isOperationHistoryListener ()) {
>                 getOperationHistory ().removeOperationHistoryListener (this);
>             }
>         }
>     }
