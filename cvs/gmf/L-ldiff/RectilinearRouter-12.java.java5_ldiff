348a349,353
>         if (checkShapesIntersect (conn, newLine)) {
>             checkEndSegments (conn, newLine);
>             resetEndPointsToEdge (conn, newLine);
>             return;
>         }
