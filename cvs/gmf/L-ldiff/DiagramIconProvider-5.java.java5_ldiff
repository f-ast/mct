33a34,35
>         View view = (View) hint.getAdapter (View.class);
>         if (view != null) {
34,34c36,36
<         if (hint instanceof View && DiagramViewProvider.isTextView ((View) hint)) {
---
>             if (DiagramViewProvider.isTextView (view)) {
36,36c38,38
<         } else if (hint instanceof View && DiagramViewProvider.isNoteView ((View) hint)) {
---
>             } else if (DiagramViewProvider.isNoteView (view)) {
37a40,41
>             }
> 
51a56,56
>         View view = (View) adapter.getAdapter (View.class);
52,52c57,57
<         if (adapter instanceof View && (DiagramViewProvider.isNoteView ((View) adapter) || DiagramViewProvider.isTextView ((View) adapter))) {
---
>         if (view != null && (DiagramViewProvider.isNoteView (view) || DiagramViewProvider.isTextView (view))) {
