105a106,111
>             public void partDeactivated (IWorkbenchPart part) {
>                 if (part != null && contributedToPart (part)) {
>                     setEnabled (false);
>                 }
>             }
> 
167,167c173,173
<         return partSelector == null || partSelector.selects (workbenchPart);
---
>         return partSelector == null || partSelector.selects (part);
317a324,325
>         int type = event.getEventType ();
>         if (type == OperationHistoryEvent.UNDONE || type == OperationHistoryEvent.REDONE || type == OperationHistoryEvent.OPERATION_ADDED || type == OperationHistoryEvent.OPERATION_CHANGED || type == OperationHistoryEvent.OPERATION_NOT_OK || type == OperationHistoryEvent.OPERATION_REMOVED) {
325a334,334
>     }
