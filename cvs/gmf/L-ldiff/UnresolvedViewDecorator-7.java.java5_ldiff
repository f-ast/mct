20a25,25
> import org.eclipse.gmf.runtime.draw2d.ui.mapmode.MapModeUtil;
20a7,8
> import org.eclipse.gef.GraphicalEditPart;
> 
21,21c9,9
< import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
---
> import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
22,22c10,10
< 
---
> 
23,23d10
< import org.eclipse.gmf.runtime.draw2d.ui.mapmode.MapMode;
34,34d35
<     private static final int RADIUS = MapMode.DPtoLP (8);
47a49,49
>         int radius = MapModeUtil.getMapMode (((GraphicalEditPart) editPart).getFigure ()).DPtoLP (8);
49,49c51,51
<             HashedCircle circle = new HashedCircle (HashedCircle.HashType.X, RADIUS);
---
>             HashedCircle circle = new HashedCircle (HashedCircle.HashType.X, radius);
51,51c53,53
<             setDecoration (getDecoratorTarget ().addShapeDecoration (circle, IDecoratorTarget.Direction.NORTH_EAST, MapMode.DPtoLP (- 4), false));
---
>             setDecoration (getDecoratorTarget ().addShapeDecoration (circle, IDecoratorTarget.Direction.NORTH_EAST, MapModeUtil.getMapMode (((ShapeEditPart) editPart).getFigure ()).DPtoLP (- 4), false));
53,53c55,55
<             Edge edge = (Edge) view;
---
>             Edge connectorView = (Edge) view;
55,55c57,57
<                 HashedCircle circle = new HashedCircle (HashedCircle.HashType.X, RADIUS);
---
>                 HashedCircle circle = new HashedCircle (HashedCircle.HashType.X, radius);
57a60,60
>             } else if ((connectorView.getTarget () != null) && (ViewUtil.resolveSemanticElement (connectorView.getTarget ()) == null)) {
58,58d59
<             } else if ((edge.getTarget () != null) && (ViewUtil.resolveSemanticElement (edge.getTarget ()) == null)) {
59,59c61,61
<                 HashedCircle circle = new HashedCircle (HashedCircle.HashType.BACKSLASH, RADIUS);
---
>                 HashedCircle circle = new HashedCircle (HashedCircle.HashType.BACKSLASH, radius);
