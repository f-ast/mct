8a9,10
> import org.eclipse.emf.transaction.RunnableWithResult;
> 
22a19,19
> import org.eclipse.gmf.runtime.common.core.util.Log;
23,23d18
< import org.eclipse.gmf.runtime.diagram.core.internal.util.MEditingDomainGetter;
24a21,22
> import org.eclipse.gmf.runtime.common.core.util.Trace;
> 
24,24c20,20
< 
---
> 
38a39,39
> import org.eclipse.gmf.runtime.diagram.ui.internal.DiagramUIDebugOptions;
39,39d38
< import org.eclipse.gmf.runtime.emf.core.edit.MRunnable;
40a41,44
> import org.eclipse.gmf.runtime.diagram.ui.internal.DiagramUIPlugin;
> 
> import org.eclipse.gmf.runtime.diagram.ui.internal.DiagramUIStatusCodes;
> 
40,40c40,40
< 
---
> 
70a79,80
>         try {
>             return (EObject) getEditingDomain ().runExclusive (new RunnableWithResult.Impl () {
71,71d78
<         return (EObject) MEditingDomainGetter.getMEditingDomain ((View) getModel ()).runAsRead (new MRunnable () {
73,73c82,82
<             public Object run () {
---
>                 public void run () {
75,75c84,84
<                 if (primary != null) return ViewUtil.resolveSemanticElement (primary);
---
>                     if (primary != null) setResult (ViewUtil.resolveSemanticElement (primary));
77,77d85
<                 return null;
82a91,95
>         } catch (InterruptedException e) {
>             Trace.catching (DiagramUIPlugin.getInstance (), DiagramUIDebugOptions.EXCEPTIONS_CATCHING, getClass (), "resolveSemanticElement", e);
>             Log.error (DiagramUIPlugin.getInstance (), DiagramUIStatusCodes.IGNORED_EXCEPTION_WARNING, "resolveSemanticElement", e);
>             return null;
>         }
