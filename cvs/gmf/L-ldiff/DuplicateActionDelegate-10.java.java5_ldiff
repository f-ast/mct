50a35,35
> import org.eclipse.gmf.runtime.common.core.util.Log;
51,51d34
< import org.eclipse.gmf.runtime.emf.ui.action.AbstractModelActionDelegate;
52,52c36,36
< 
---
> 
52a37,40
> import org.eclipse.gmf.runtime.common.core.util.Trace;
> 
> import org.eclipse.gmf.runtime.common.ui.action.AbstractActionDelegate;
> 
65,65c69,69
< public class DuplicateActionDelegate extends AbstractModelActionDelegate implements IObjectActionDelegate, IWorkbenchWindowActionDelegate, IHandler {
---
> public class DuplicateActionDelegate extends AbstractActionDelegate implements IObjectActionDelegate, IWorkbenchWindowActionDelegate, IHandler {
77a82,82
>             try {
78,78c83,83
<             IStatus status = execute (cmd, progressMonitor, null);
---
>                 IStatus status = getActionManager ().getOperationHistory ().execute (cmd, progressMonitor, null);
82,82d86
<                 } else {
84a89,92
>             } catch (ExecutionException e) {
>                 Trace.catching (DiagramActionsPlugin.getInstance (), DiagramActionsDebugOptions.EXCEPTIONS_CATCHING, getClass (), "doRun", e);
>                 Log.error (DiagramActionsPlugin.getInstance (), DiagramActionsStatusCodes.IGNORED_EXCEPTION_WARNING, "doRun", e);
>             }
