4a5,6
> import org.eclipse.emf.common.util.EList;
> 
8a11,11
> import org.eclipse.emf.ecore.util.EObjectWithInverseResolvingEList;
9,9d10
< import org.eclipse.gmf.codegen.gmfgen.CompartmentLayoutKind;
10a13,13
> import org.eclipse.emf.ecore.util.InternalEList;
11,11d12
< import org.eclipse.gmf.codegen.gmfgen.CompartmentPlacementKind;
19,20d20
< import org.eclipse.gmf.codegen.gmfgen.GenCompartment;
< 
23,24d22
< import org.eclipse.gmf.codegen.gmfgen.GenNode;
< 
25a24,24
>     protected EList containers = null;
34a34,34
>     public GenDiagram getDiagram () {
35,35d33
<     public GenChildContainer getContainer () {
36,36c35,35
<         if (eContainerFeatureID != GMFGenPackage.GEN_CHILD_NODE__CONTAINER) return null;
---
>         if (eContainerFeatureID != GMFGenPackage.GEN_CHILD_NODE__DIAGRAM) return null;
38,38c37,37
<         return (GenChildContainer) eContainer ();
---
>         return (GenDiagram) eContainer ();
40a40,42
>     public EList getContainers () {
>         if (containers == null) {
>             containers = new EObjectWithInverseResolvingEList.ManyInverse (GenChildContainer.class, this, GMFGenPackage.GEN_CHILD_NODE__CONTAINERS, GMFGenPackage.GEN_CHILD_CONTAINER__CHILD_NODES);
41,43d39
<     public boolean isListContainerEntry () {
<         if (getContainer () instanceof GenNode) {
<             return ((GenNode) getContainer ()).getChildContainersPlacement () == CompartmentPlacementKind.TOOLBAR_LITERAL;
44a44,44
>         return containers;
45,48d43
<         if (getContainer () instanceof GenCompartment) {
<             return ((GenCompartment) getContainer ()).getLayoutKind () == CompartmentLayoutKind.TOOLBAR_LITERAL;
<         }
<         return false;
53,53c49,49
<             case GMFGenPackage.GEN_CHILD_NODE__CONTAINER :
---
>             case GMFGenPackage.GEN_CHILD_NODE__DIAGRAM :
56a53,54
>             case GMFGenPackage.GEN_CHILD_NODE__CONTAINERS :
>                 return ((InternalEList) getContainers ()).basicAdd (otherEnd, msgs);
56,56c52,52
<                 return eBasicSetContainer (otherEnd, GMFGenPackage.GEN_CHILD_NODE__CONTAINER, msgs);
---
>                 return eBasicSetContainer (otherEnd, GMFGenPackage.GEN_CHILD_NODE__DIAGRAM, msgs);
62a61,62
>             case GMFGenPackage.GEN_CHILD_NODE__DIAGRAM :
>                 return eBasicSetContainer (null, GMFGenPackage.GEN_CHILD_NODE__DIAGRAM, msgs);
63,63c63,63
<             case GMFGenPackage.GEN_CHILD_NODE__CONTAINER :
---
>             case GMFGenPackage.GEN_CHILD_NODE__CONTAINERS :
64,64c64,64
<                 return eBasicSetContainer (null, GMFGenPackage.GEN_CHILD_NODE__CONTAINER, msgs);
---
>                 return ((InternalEList) getContainers ()).basicRemove (otherEnd, msgs);
71,71c71,71
<             case GMFGenPackage.GEN_CHILD_NODE__CONTAINER :
---
>             case GMFGenPackage.GEN_CHILD_NODE__DIAGRAM :
72,72c72,72
<                 return eInternalContainer ().eInverseRemove (this, GMFGenPackage.GEN_CHILD_CONTAINER__CHILD_NODES, GenChildContainer.class, msgs);
---
>                 return eInternalContainer ().eInverseRemove (this, GMFGenPackage.GEN_DIAGRAM__CHILD_NODES, GenDiagram.class, msgs);
78a79,80
>             case GMFGenPackage.GEN_CHILD_NODE__DIAGRAM :
>                 return getDiagram ();
79,79c81,81
<             case GMFGenPackage.GEN_CHILD_NODE__CONTAINER :
---
>             case GMFGenPackage.GEN_CHILD_NODE__CONTAINERS :
80,80c82,82
<                 return getContainer ();
---
>                 return getContainers ();
86a89,90
>             case GMFGenPackage.GEN_CHILD_NODE__DIAGRAM :
>                 return getDiagram () != null;
87,87c91,91
<             case GMFGenPackage.GEN_CHILD_NODE__CONTAINER :
---
>             case GMFGenPackage.GEN_CHILD_NODE__CONTAINERS :
88,88c92,92
<                 return getContainer () != null;
---
>                 return containers != null && ! containers.isEmpty ();
92a97,101
>     public boolean isListContainerEntry () {
>         if (getContainers ().size () > 0) {
>             return ((GenChildContainer) getContainers ().get (0)).isListLayout ();
>         }
>         return false;
93,94d96
<     public GenDiagram getDiagram () {
<         return getContainer ().getDiagram ();
