3,4d2
< import java.awt.Graphics2D;
< 
18a17,18
> import org.apache.batik.bridge.BridgeContext;
> 
48a49,50
> import org.eclipse.swt.graphics.Color;
> 
54a57,58
> import org.w3c.dom.Element;
> 
60a65,65
>     private ImageTranscoderEx transcoder;
82a88,88
>         transcoder = null;
128a136,152
>     protected Color getColor (Element element, String attributeName) {
>         Document document = getDocument ();
>         if (document == null || transcoder == null) {
>             return null;
>         }
>         Color color = null;
>         BridgeContext ctx = transcoder.initCSSEngine (document);
>         try {
>             color = SVGUtils.toSWTColor (element, attributeName);
>         } finally {
>             if (ctx != null) {
>                 ctx.dispose ();
>             }
>         }
>         return color;
>     }
> 
168a193,193
>         transcoder.setDraw2DGraphics (graphics);
169,178d192
<         ImageTranscoderEx transcoder = new ImageTranscoderEx () {
< 
<             @Override
<             protected Graphics2D createGraphics (int w, int h) {
<                 return new SVGGraphics2D (graphics);
<             }
< 
<         }
< 
<         ;
184a200,200
>             transcoder.setDraw2DGraphics (null);
185,185c98,98
<             ImageTranscoderEx transcoder = new ImageTranscoderEx ();
---
>             transcoder = new ImageTranscoderEx ();
