22a23,24
> import org.eclipse.emf.common.util.TreeIterator;
> 
24a27,28
> import org.eclipse.emf.ecore.EObject;
> 
30a35,36
> import org.eclipse.emf.ecore.util.EcoreUtil;
> 
40a47,48
> import org.eclipse.gmf.codegen.gmfgen.Viewmap;
> 
154a163,163
>         requiredPlugins.addAll (getViewmapRequiredPluginIDs ());
173a183,198
>     private Collection getViewmapRequiredPluginIDs () {
>         Collection result = null;
>         for (TreeIterator contents = EcoreUtil.getAllContents (getDiagram ().getAllNodes ());
>         contents.hasNext ();) {
>             EObject next = (EObject) contents.next ();
>             if (next instanceof Viewmap && next.eIsSet (GMFGenPackage.eINSTANCE.getViewmap_RequiredPluginIDs ())) {
>                 if (result == null) {
>                     result = new HashSet ();
>                 }
>                 result.addAll (((Viewmap) next).getRequiredPluginIDs ());
>                 contents.prune ();
>             }
>         }
>         return result == null ? Collections.EMPTY_LIST : result;
>     }
> 
