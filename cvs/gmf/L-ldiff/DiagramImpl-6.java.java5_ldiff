19,20d18
< import org.eclipse.emf.ecore.EObject;
< 
47a46,46
>     protected static final int MEASUREMENT_UNIT_ESETFLAG = 1 << 11;
57,57c56,56
<         return NotationPackage.eINSTANCE.getDiagram ();
---
>         return NotationPackage.Literals.DIAGRAM;
74a74,84
>     public void setMeasurementUnit (MeasurementUnit newMeasurementUnit) {
>         if (! isSetMeasurementUnit ()) {
>             MeasurementUnit oldMeasurementUnit = measurementUnit;
>             measurementUnit = newMeasurementUnit == null ? MEASUREMENT_UNIT_EDEFAULT : newMeasurementUnit;
>             boolean oldMeasurementUnitESet = (eFlags & MEASUREMENT_UNIT_ESETFLAG) != 0;
>             eFlags |= MEASUREMENT_UNIT_ESETFLAG;
>             if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, NotationPackage.DIAGRAM__MEASUREMENT_UNIT, oldMeasurementUnit, measurementUnit, ! oldMeasurementUnitESet));
> 
>         } else throw new UnsupportedOperationException ();
> 
>     }
75,75d73
<     private boolean measurementUnitInitialized = false;
76a86,87
>     public void unsetMeasurementUnit () {
>         throw new UnsupportedOperationException ();
77,81d85
<     public boolean initializeMeasurementUnit (MeasurementUnit mu) {
<         if (! measurementUnitInitialized) {
<             measurementUnit = mu;
<             measurementUnitInitialized = true;
<             return true;
82a89,91
> 
>     public boolean isSetMeasurementUnit () {
>         return (eFlags & MEASUREMENT_UNIT_ESETFLAG) != 0;
82a188,188
>                 return isSetMeasurementUnit ();
83,83d187
<         return false;
113,130d120
<     public NotificationChain eInverseAdd (InternalEObject otherEnd, int featureID, Class baseClass, NotificationChain msgs) {
<         if (featureID >= 0) {
<             switch (eDerivedStructuralFeatureID (featureID, baseClass)) {
<                 case NotationPackage.DIAGRAM__EANNOTATIONS :
<                     return ((InternalEList) getEAnnotations ()).basicAdd (otherEnd, msgs);
<                 case NotationPackage.DIAGRAM__SOURCE_EDGES :
<                     return ((InternalEList) getSourceEdges ()).basicAdd (otherEnd, msgs);
<                 case NotationPackage.DIAGRAM__TARGET_EDGES :
<                     return ((InternalEList) getTargetEdges ()).basicAdd (otherEnd, msgs);
<                 default :
<                     return eDynamicInverseAdd (otherEnd, featureID, baseClass, msgs);
<             }
<         }
<         if (eContainer != null) msgs = eBasicRemoveFromContainer (msgs);
< 
<         return eBasicSetContainer (otherEnd, featureID, msgs);
<     }
< 
131,131c121,121
<     public NotificationChain eInverseRemove (InternalEObject otherEnd, int featureID, Class baseClass, NotificationChain msgs) {
---
>     public NotificationChain eInverseRemove (InternalEObject otherEnd, int featureID, NotificationChain msgs) {
132,132c122,122
<         if (featureID >= 0) {
---
>         switch (featureID) {
133,145d122
<             switch (eDerivedStructuralFeatureID (featureID, baseClass)) {
<                 case NotationPackage.DIAGRAM__EANNOTATIONS :
<                     return ((InternalEList) getEAnnotations ()).basicRemove (otherEnd, msgs);
<                 case NotationPackage.DIAGRAM__SOURCE_EDGES :
<                     return ((InternalEList) getSourceEdges ()).basicRemove (otherEnd, msgs);
<                 case NotationPackage.DIAGRAM__TARGET_EDGES :
<                     return ((InternalEList) getTargetEdges ()).basicRemove (otherEnd, msgs);
<                 case NotationPackage.DIAGRAM__PERSISTED_CHILDREN :
<                     return ((InternalEList) getPersistedChildren ()).basicRemove (otherEnd, msgs);
<                 case NotationPackage.DIAGRAM__STYLES :
<                     return ((InternalEList) getStyles ()).basicRemove (otherEnd, msgs);
<                 case NotationPackage.DIAGRAM__TRANSIENT_CHILDREN :
<                     return ((InternalEList) getTransientChildren ()).basicRemove (otherEnd, msgs);
150,150d127
<                 default :
151,151c128,128
<                     return eDynamicInverseRemove (otherEnd, featureID, baseClass, msgs);
---
>         return super.eInverseRemove (otherEnd, featureID, msgs);
152,152d128
<             }
154,154d127
<         return eBasicSetContainer (null, featureID, msgs);
156a131,132
>     public Object eGet (int featureID, boolean resolve, boolean coreType) {
>         switch (featureID) {
157,184d130
<     public Object eGet (EStructuralFeature eFeature, boolean resolve) {
<         switch (eDerivedStructuralFeatureID (eFeature)) {
<             case NotationPackage.DIAGRAM__EANNOTATIONS :
<                 return getEAnnotations ();
<             case NotationPackage.DIAGRAM__VISIBLE :
<                 return isVisible () ? Boolean.TRUE : Boolean.FALSE;
<             case NotationPackage.DIAGRAM__TYPE :
<                 return getType ();
<             case NotationPackage.DIAGRAM__MUTABLE :
<                 return isMutable () ? Boolean.TRUE : Boolean.FALSE;
<             case NotationPackage.DIAGRAM__SOURCE_EDGES :
<                 return getSourceEdges ();
<             case NotationPackage.DIAGRAM__TARGET_EDGES :
<                 return getTargetEdges ();
<             case NotationPackage.DIAGRAM__PERSISTED_CHILDREN :
<                 return getPersistedChildren ();
<             case NotationPackage.DIAGRAM__STYLES :
<                 return getStyles ();
<             case NotationPackage.DIAGRAM__ELEMENT :
<                 if (resolve) return getElement ();
< 
<                 return basicGetElement ();
<             case NotationPackage.DIAGRAM__DIAGRAM :
<                 if (resolve) return getDiagram ();
< 
<                 return basicGetDiagram ();
<             case NotationPackage.DIAGRAM__TRANSIENT_CHILDREN :
<                 return getTransientChildren ();
193a142,142
>         return super.eGet (featureID, resolve, coreType);
194,194d141
<         return eDynamicGet (eFeature, resolve);
196a145,146
>     public void eSet (int featureID, Object newValue) {
>         switch (featureID) {
197,234d144
<     public void eSet (EStructuralFeature eFeature, Object newValue) {
<         switch (eDerivedStructuralFeatureID (eFeature)) {
<             case NotationPackage.DIAGRAM__EANNOTATIONS :
<                 getEAnnotations ().clear ();
<                 getEAnnotations ().addAll ((Collection) newValue);
<                 return;
<             case NotationPackage.DIAGRAM__VISIBLE :
<                 setVisible (((Boolean) newValue).booleanValue ());
<                 return;
<             case NotationPackage.DIAGRAM__TYPE :
<                 setType ((String) newValue);
<                 return;
<             case NotationPackage.DIAGRAM__MUTABLE :
<                 setMutable (((Boolean) newValue).booleanValue ());
<                 return;
<             case NotationPackage.DIAGRAM__SOURCE_EDGES :
<                 getSourceEdges ().clear ();
<                 getSourceEdges ().addAll ((Collection) newValue);
<                 return;
<             case NotationPackage.DIAGRAM__TARGET_EDGES :
<                 getTargetEdges ().clear ();
<                 getTargetEdges ().addAll ((Collection) newValue);
<                 return;
<             case NotationPackage.DIAGRAM__PERSISTED_CHILDREN :
<                 getPersistedChildren ().clear ();
<                 getPersistedChildren ().addAll ((Collection) newValue);
<                 return;
<             case NotationPackage.DIAGRAM__STYLES :
<                 getStyles ().clear ();
<                 getStyles ().addAll ((Collection) newValue);
<                 return;
<             case NotationPackage.DIAGRAM__ELEMENT :
<                 setElement ((EObject) newValue);
<                 return;
<             case NotationPackage.DIAGRAM__TRANSIENT_CHILDREN :
<                 getTransientChildren ().clear ();
<                 getTransientChildren ().addAll ((Collection) newValue);
<                 return;
237a150,152
>             case NotationPackage.DIAGRAM__MEASUREMENT_UNIT :
>                 setMeasurementUnit ((MeasurementUnit) newValue);
>                 return;
246a162,162
>         super.eSet (featureID, newValue);
247,247d161
<         eDynamicSet (eFeature, newValue);
249a170,171
>             case NotationPackage.DIAGRAM__MEASUREMENT_UNIT :
>                 unsetMeasurementUnit ();
249a165,166
>     public void eUnset (int featureID) {
>         switch (featureID) {
250,253d169
<     public void eUnset (EStructuralFeature eFeature) {
<         switch (eDerivedStructuralFeatureID (eFeature)) {
<             case NotationPackage.DIAGRAM__EANNOTATIONS :
<                 getEAnnotations ().clear ();
254,254c172,172
<                 return;
---
>                 return;
255,281d172
<             case NotationPackage.DIAGRAM__VISIBLE :
<                 setVisible (VISIBLE_EDEFAULT);
<                 return;
<             case NotationPackage.DIAGRAM__TYPE :
<                 setType (TYPE_EDEFAULT);
<                 return;
<             case NotationPackage.DIAGRAM__MUTABLE :
<                 setMutable (MUTABLE_EDEFAULT);
<                 return;
<             case NotationPackage.DIAGRAM__SOURCE_EDGES :
<                 getSourceEdges ().clear ();
<                 return;
<             case NotationPackage.DIAGRAM__TARGET_EDGES :
<                 getTargetEdges ().clear ();
<                 return;
<             case NotationPackage.DIAGRAM__PERSISTED_CHILDREN :
<                 getPersistedChildren ().clear ();
<                 return;
<             case NotationPackage.DIAGRAM__STYLES :
<                 getStyles ().clear ();
<                 return;
<             case NotationPackage.DIAGRAM__ELEMENT :
<                 unsetElement ();
<                 return;
<             case NotationPackage.DIAGRAM__TRANSIENT_CHILDREN :
<                 getTransientChildren ().clear ();
<                 return;
291a180,180
>         super.eUnset (featureID);
292,292d179
<         eDynamicUnset (eFeature);
294a183,184
>     public boolean eIsSet (int featureID) {
>         switch (featureID) {
295,318d182
<     public boolean eIsSet (EStructuralFeature eFeature) {
<         switch (eDerivedStructuralFeatureID (eFeature)) {
<             case NotationPackage.DIAGRAM__EANNOTATIONS :
<                 return eAnnotations != null && ! eAnnotations.isEmpty ();
<             case NotationPackage.DIAGRAM__VISIBLE :
<                 return ((eFlags & VISIBLE_EFLAG) != 0) != VISIBLE_EDEFAULT;
<             case NotationPackage.DIAGRAM__TYPE :
<                 return TYPE_EDEFAULT == null ? type != null : ! TYPE_EDEFAULT.equals (type);
<             case NotationPackage.DIAGRAM__MUTABLE :
<                 return ((eFlags & MUTABLE_EFLAG) != 0) != MUTABLE_EDEFAULT;
<             case NotationPackage.DIAGRAM__SOURCE_EDGES :
<                 return sourceEdges != null && ! sourceEdges.isEmpty ();
<             case NotationPackage.DIAGRAM__TARGET_EDGES :
<                 return targetEdges != null && ! targetEdges.isEmpty ();
<             case NotationPackage.DIAGRAM__PERSISTED_CHILDREN :
<                 return persistedChildren != null && ! persistedChildren.isEmpty ();
<             case NotationPackage.DIAGRAM__STYLES :
<                 return styles != null && ! styles.isEmpty ();
<             case NotationPackage.DIAGRAM__ELEMENT :
<                 return isSetElement ();
<             case NotationPackage.DIAGRAM__DIAGRAM :
<                 return basicGetDiagram () != null;
<             case NotationPackage.DIAGRAM__TRANSIENT_CHILDREN :
<                 return transientChildren != null && ! transientChildren.isEmpty ();
322,322d187
<                 return measurementUnit != MEASUREMENT_UNIT_EDEFAULT;
327a194,194
>         return super.eIsSet (featureID);
328,328d193
<         return eDynamicIsSet (eFeature);
337a204,204
>         if ((eFlags & MEASUREMENT_UNIT_ESETFLAG) != 0) result.append (measurementUnit);
338,338c205,205
<         result.append (measurementUnit);
---
>         else result.append ("<unset>");
338a206,206
> 
