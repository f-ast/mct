13,14d12
< import org.eclipse.gmf.codegen.gmfgen.CompartmentLayoutKind;
< 
31a30,30
>     protected GenNode node = null;
32,33d29
<     protected static final CompartmentLayoutKind LAYOUT_KIND_EDEFAULT = CompartmentLayoutKind.BORDER_LITERAL;
<     protected CompartmentLayoutKind layoutKind = LAYOUT_KIND_EDEFAULT;
87,88d83
<     public CompartmentLayoutKind getLayoutKind () {
<         return layoutKind;
91,94d89
<     public void setLayoutKind (CompartmentLayoutKind newLayoutKind) {
<         CompartmentLayoutKind oldLayoutKind = layoutKind;
<         layoutKind = newLayoutKind == null ? LAYOUT_KIND_EDEFAULT : newLayoutKind;
<         if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.SET, GMFGenPackage.GEN_COMPARTMENT__LAYOUT_KIND, oldLayoutKind, layoutKind));
97a106,112
>     public NotificationChain basicSetNode (GenNode newNode, NotificationChain msgs) {
>         GenNode oldNode = node;
>         node = newNode;
>         if (eNotificationRequired ()) {
>             ENotificationImpl notification = new ENotificationImpl (this, Notification.SET, GMFGenPackage.GEN_COMPARTMENT__NODE, oldNode, newNode);
>             if (msgs == null) msgs = notification;
>             else msgs.add (notification);
98a91,94
>         if (node != null && node.eIsProxy ()) {
>             InternalEObject oldNode = (InternalEObject) node;
>             node = (GenNode) eResolveProxy (oldNode);
>             if (node != oldNode) {
98,98c90,90
<     public GenNode getNode () {
---
>     public GenNode getNode () {
99a96,100
> 
>             }
>         }
>         return node;
>     }
99,99c95,95
<         if (eContainerFeatureID != GMFGenPackage.GEN_COMPARTMENT__NODE) return null;
---
>                 if (eNotificationRequired ()) eNotify (new ENotificationImpl (this, Notification.RESOLVE, GMFGenPackage.GEN_COMPARTMENT__NODE, oldNode, node));
100a102,102
>     public GenNode basicGetNode () {
100a114,115
>         }
>         return msgs;
101,101c103,103
<         return (GenNode) eContainer ();
---
>         return node;
110,110c124,124
<             case GMFGenPackage.GEN_COMPARTMENT__NODE :
---
>             case GMFGenPackage.GEN_COMPARTMENT__DIAGRAM :
113a128,131
>             case GMFGenPackage.GEN_COMPARTMENT__NODE :
>                 if (node != null) msgs = ((InternalEObject) node).eInverseRemove (this, GMFGenPackage.GEN_NODE__COMPARTMENTS, GenNode.class, msgs);
> 
>                 return basicSetNode ((GenNode) otherEnd, msgs);
113,113c127,127
<                 return eBasicSetContainer (otherEnd, GMFGenPackage.GEN_COMPARTMENT__NODE, msgs);
---
>                 return eBasicSetContainer (otherEnd, GMFGenPackage.GEN_COMPARTMENT__DIAGRAM, msgs);
120a141,141
>                 return basicSetNode (null, msgs);
120a138,138
>             case GMFGenPackage.GEN_COMPARTMENT__DIAGRAM :
121,121c139,139
<                 return eBasicSetContainer (null, GMFGenPackage.GEN_COMPARTMENT__NODE, msgs);
---
>                 return eBasicSetContainer (null, GMFGenPackage.GEN_COMPARTMENT__DIAGRAM, msgs);
127a148,148
>             case GMFGenPackage.GEN_COMPARTMENT__DIAGRAM :
128,128d147
<             case GMFGenPackage.GEN_COMPARTMENT__NODE :
129,129c149,149
<                 return eInternalContainer ().eInverseRemove (this, GMFGenPackage.GEN_NODE__COMPARTMENTS, GenNode.class, msgs);
---
>                 return eInternalContainer ().eInverseRemove (this, GMFGenPackage.GEN_DIAGRAM__COMPARTMENTS, GenDiagram.class, msgs);
144,144c164,164
<             case GMFGenPackage.GEN_COMPARTMENT__LAYOUT_KIND :
---
>             case GMFGenPackage.GEN_COMPARTMENT__DIAGRAM :
145,145c165,165
<                 return getLayoutKind ();
---
>                 return getDiagram ();
146a167,168
>                 if (resolve) return getNode ();
> 
147,147c169,169
<                 return getNode ();
---
>                 return basicGetNode ();
166,168d187
<             case GMFGenPackage.GEN_COMPARTMENT__LAYOUT_KIND :
<                 setLayoutKind ((CompartmentLayoutKind) newValue);
<                 return;
187,189d205
<             case GMFGenPackage.GEN_COMPARTMENT__LAYOUT_KIND :
<                 setLayoutKind (LAYOUT_KIND_EDEFAULT);
<                 return;
203a220,221
>             case GMFGenPackage.GEN_COMPARTMENT__DIAGRAM :
>                 return getDiagram () != null;
204,205d219
<             case GMFGenPackage.GEN_COMPARTMENT__LAYOUT_KIND :
<                 return layoutKind != LAYOUT_KIND_EDEFAULT;
207,207c223,223
<                 return getNode () != null;
---
>                 return node != null;
224,225d239
<         result.append (", layoutKind: ");
<         result.append (layoutKind);
255,255c84,84
<     public GenDiagram getDiagram () {
---
>     public GenDiagram getDiagram () {
255a85,85
>         if (eContainerFeatureID != GMFGenPackage.GEN_COMPARTMENT__DIAGRAM) return null;
256,257d84
<         return getNode ().getDiagram ();
<     }
258a87,87
>         return (GenDiagram) eContainer ();
258,258c86,86
< 
---
> 
