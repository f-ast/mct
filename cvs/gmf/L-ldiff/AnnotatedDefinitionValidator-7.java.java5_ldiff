7,8d6
< import java.util.Iterator;
< 
80,80c78,78
<     public ValueSpecDef getDefinition (EObject eObject, DiagnosticChain diagnostics, Map context) {
---
>     public ValueSpecDef getDefinition (EObject eObject, DiagnosticChain diagnostics, Map < Object, Object > context) {
85,85c83,83
<     public boolean validate (EDataType eDataType, Object value, DiagnosticChain diagnostics, Map context) {
---
>     public boolean validate (EDataType eDataType, Object value, DiagnosticChain diagnostics, Map < Object, Object > context) {
89,89c87,87
<     public boolean validate (EObject eObject, DiagnosticChain diagnostics, Map context) {
---
>     public boolean validate (EObject eObject, DiagnosticChain diagnostics, Map < Object, Object > context) {
93,93c91,91
<     public boolean validate (EClass eClass, EObject eObject, DiagnosticChain diagnostics, Map context) {
---
>     public boolean validate (EClass eClass, EObject eObject, DiagnosticChain diagnostics, Map < Object, Object > context) {
104,104c102,102
<     protected boolean validateModel (EObject eObject, DiagnosticChain diagnostics, Map context) {
---
>     protected boolean validateModel (EObject eObject, DiagnosticChain diagnostics, Map < Object, Object > context) {
132a131,131
>                 for (String varName : contextData.environment.keySet ()) {
133,135d130
<                 for (Iterator it = contextData.environment.keySet ().iterator ();
<                 it.hasNext ();) {
<                     String varName = (String) it.next ();
136,136c132,132
<                     TypeProvider typeProvider = (TypeProvider) contextData.environment.get (varName);
---
>                     TypeProvider typeProvider = contextData.environment.get (varName);
167,167c163,163
<     public ContextData getContextBinding (EObject eObject, EObject [] contextHolder, Map context) {
---
>     public ContextData getContextBinding (EObject eObject, EObject [] contextHolder, Map < Object, Object > context) {
195,195c191,191
<     protected boolean validateMetaModel (EModelElement modelElement, DiagnosticChain diagnostics, Map context) {
---
>     protected boolean validateMetaModel (EModelElement modelElement, DiagnosticChain diagnostics, Map < Object, Object > context) {
223,223c219,219
<     public static ContextProvider getContextClass (EStructuralFeature bindFeature, final Map validationContext) {
---
>     public static ContextProvider getContextClass (EStructuralFeature bindFeature, final Map < Object, Object > validationContext) {
241,241c237,237
<     private ContextProvider createContextProvider (String ctxExpression, EClass contextClass, Map context) {
---
>     private ContextProvider createContextProvider (String ctxExpression, EClass contextClass, Map < Object, Object > context) {
245,245c241,241
<     public ValueSpecDef getDefinition (EClass metaClass, EObject modelElement, DiagnosticChain diagnostics, DefData data, Map context) {
---
>     public ValueSpecDef getDefinition (EClass metaClass, EObject modelElement, DiagnosticChain diagnostics, DefData data, Map < Object, Object > context) {
251,252d246
<             for (Iterator it = metaClass.getEAnnotations ().iterator ();
<             it.hasNext ();) {
253,253c247,247
<                 EAnnotation nextAnnotation = (EAnnotation) it.next ();
---
>             for (EAnnotation nextAnnotation : metaClass.getEAnnotations ()) {
265,265c259,259
<         EList superTypes = metaClass.getESuperTypes ();
---
>         EList < EClass > superTypes = metaClass.getESuperTypes ();
269a264,264
>             for (EStructuralFeature nextAttr : metaClass.getEStructuralFeatures ()) {
270,272d263
<             for (Iterator it = metaClass.getEStructuralFeatures ().iterator ();
<             it.hasNext ();) {
<                 EStructuralFeature nextAttr = (EStructuralFeature) it.next ();
273,273c265,265
<                 for (Iterator annotationIt = nextAttr.getEAnnotations ().iterator ();
---
>                 for (EAnnotation annotation : nextAttr.getEAnnotations ()) {
274,275d265
<                 annotationIt.hasNext ();) {
<                     EAnnotation annotation = (EAnnotation) annotationIt.next ();
324,325d313
<         for (Iterator it = superTypes.iterator ();
<         it.hasNext ();) {
326,326c314,314
<             EClass superClass = (EClass) it.next ();
---
>         for (EClass superClass : superTypes) {
347,347c335,335
<     private static TypeProvider getTypeInfo (EModelElement typeAnnotationSource, EClass resolutionContext, DiagnosticChain diagnostics, Map validationContext) {
---
>     private static TypeProvider getTypeInfo (EModelElement typeAnnotationSource, EClass resolutionContext, DiagnosticChain diagnostics, Map < Object, Object > validationContext) {
349,349c337,337
<         List annotations = DefUtils.getAnnotationsWithKeyAndValue (typeAnnotationSource, Annotations.CONSTRAINTS_META_URI, Annotations.Meta.DEF_KEY, Annotations.Meta.TYPE);
---
>         List < EAnnotation > annotations = DefUtils.getAnnotationsWithKeyAndValue (typeAnnotationSource, Annotations.CONSTRAINTS_META_URI, Annotations.Meta.DEF_KEY, Annotations.Meta.TYPE);
350,350c338,338
<         EAnnotation typeAnnotation = annotations.isEmpty () ? null : (EAnnotation) annotations.get (0);
---
>         EAnnotation typeAnnotation = annotations.isEmpty () ? null : annotations.get (0);
395,395c383,383
<     private static ValueSpecDef findDefinition (EClass eClass, Map context) {
---
>     private static ValueSpecDef findDefinition (EClass eClass, Map < Object, Object > context) {
397,397c385,385
<             Map defMap = (Map) context.get (ValueSpecDef.class);
---
>             Map < ?, ? > defMap = (Map < ?, ? >) context.get (ValueSpecDef.class);
403,403c391,391
<     private static ContextData getCachedCtxBinding (EModelElement modelElement, Map context) {
---
>     private static ContextData getCachedCtxBinding (EModelElement modelElement, Map < Object, Object > context) {
405,405c393,393
<             Map bindMap = (Map) context.get (ContextProvider.class);
---
>             Map < ?, ? > bindMap = (Map < ?, ? >) context.get (ContextProvider.class);
415a404,404
>     private static Map < String, TypeProvider > getEnvProvider (EStructuralFeature contextBindFeature, Map < Object, Object > context) {
416,416d403
<     private static Map getEnvProvider (EStructuralFeature contextBindFeature, Map context) {
417,417c405,405
<         List varDefs = DefUtils.getAnnotationsWithKeyAndValue (contextBindFeature, Annotations.CONSTRAINTS_META_URI, Annotations.Meta.DEF_KEY, Annotations.Meta.VARIABLE);
---
>         List < EAnnotation > varDefs = DefUtils.getAnnotationsWithKeyAndValue (contextBindFeature, Annotations.CONSTRAINTS_META_URI, Annotations.Meta.DEF_KEY, Annotations.Meta.VARIABLE);
422,423d409
<         for (Iterator it = varDefs.iterator ();
<         it.hasNext ();) {
424,424c410,410
<             EAnnotation nextVarAnnotation = (EAnnotation) it.next ();
---
>         for (EAnnotation nextVarAnnotation : varDefs) {
427,427c413,413
<             Map.Entry typeExpression = DefUtils.getKeyPreffixAnnotation (nextVarAnnotation, typePrefix);
---
>             Map.Entry < String, String > typeExpression = DefUtils.getKeyPrefixAnnotation (nextVarAnnotation, typePrefix);
429,429c415,415
<                 String body = (String) typeExpression.getValue ();
---
>                 String body = typeExpression.getValue ();
449,449d434
<     @SuppressWarnings("unchecked")
450,450c435,435
<     private static void registerCtxBinding (EStructuralFeature contextDefOwner, ContextData contextData, Map context) {
---
>     private static void registerCtxBinding (EStructuralFeature contextDefOwner, ContextData contextData, Map < Object, Object > context) {
451a437,437
>             @SuppressWarnings("unchecked")
452,452c438,438
<             Map bindMap = (Map) context.get (ContextProvider.class);
---
>             Map < EStructuralFeature, ContextData > bindMap = (Map < EStructuralFeature, ContextData >) context.get (ContextProvider.class);
461,461d446
<     @SuppressWarnings("unchecked")
462,462c447,447
<     private static void registerDefinition (EClass eClass, ValueSpecDef definition, Map context) {
---
>     private static void registerDefinition (EClass eClass, ValueSpecDef definition, Map < Object, Object > context) {
465a451,451
>             @SuppressWarnings("unchecked")
466,466c452,452
<             Map defMap = (Map) context.get (ValueSpecDef.class);
---
>             Map < EClass, ValueSpecDef > defMap = (Map < EClass, ValueSpecDef >) context.get (ValueSpecDef.class);
490,490c476,476
<         final Map environment;
---
>         final Map < String, TypeProvider > environment;
492,492c478,478
<         public ContextData (ContextProvider contextProvider, Map environment) {
---
>         public ContextData (ContextProvider contextProvider, Map < String, TypeProvider > environment) {
