35,35c35,35
< import org.eclipse.gmf.runtime.common.core.command.UnexecutableCommand;
---
> import org.eclipse.gmf.runtime.common.core.command.IdentityCommand;
96a97,99
>                     if (! beforeAdvice.canExecute ()) {
>                         return null;
>                     }
104,104d106
<             if (insteadCommand == UnexecutableCommand.INSTANCE) {
106a108,108
>                 if (! insteadCommand.canExecute ()) {
106,106c107,107
<             } else if (insteadCommand != null) {
---
>             if (insteadCommand != null) {
108a110,110
>                 }
109,109d109
< 
116a120,122
>                     if (! afterAdvice.canExecute ()) {
>                         return null;
>                     }
203a210,216
>         EObject source = req.getSource ();
>         EObject target = req.getTarget ();
>         boolean noSourceOrTarget = (source == null || target == null);
>         boolean noSourceAndTarget = (source == null && target == null);
>         if (noSourceOrTarget && ! noSourceAndTarget) {
>             return IdentityCommand.INSTANCE;
>         }
