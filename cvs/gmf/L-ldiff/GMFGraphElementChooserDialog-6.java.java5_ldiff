76a79,79
> import org.eclipse.emf.ecore.util.FeatureMap;
77,77d78
< import org.eclipse.ui.model.WorkbenchContentProvider;
78a81,84
> import org.eclipse.emf.edit.provider.IWrapperItemProvider;
> 
> import org.eclipse.ui.model.WorkbenchContentProvider;
> 
78,78c80,80
< 
---
> 
147,147c151,151
<                     Resource modelResource = resourceSet.getResource (URI.createPlatformResourceURI (resourcePath.toString ()), true);
---
>                     Resource modelResource = resourceSet.getResource (URI.createPlatformResourceURI (resourcePath.toString (), true), true);
251a256,264
>                 if (selection.size () == 1) {
>                     Object selectedElement = selection.getFirstElement ();
>                     if (selectedElement instanceof IWrapperItemProvider) {
>                         selectedElement = ((IWrapperItemProvider) selectedElement).getValue ();
>                     }
>                     if (selectedElement instanceof FeatureMap.Entry) {
>                         selectedElement = ((FeatureMap.Entry) selectedElement).getValue ();
>                     }
>                     if (selectedElement instanceof EObject) {
252,252d255
<                 if (selection.size () == 1 && selection.getFirstElement () instanceof EObject) {
253,253c265,265
<                     mySelectedModelElement = (EObject) selection.getFirstElement ();
---
>                         mySelectedModelElement = (EObject) selectedElement;
257a270,270
>             }
