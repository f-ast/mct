6a7,8
> import org.eclipse.draw2d.ImageFigure;
> 
12a15,16
> import org.eclipse.gmf.runtime.draw2d.ui.mapmode.IMapMode;
> 
19,19c23,23
<     private Dimension size = new Dimension ();
---
>     private Dimension imgSize = new Dimension ();
40,40c55,55
<         return size;
---
>         return getImageSize ();
48a64,64
>         Dimension size = getImageSize ();
81a43,49
>     private Dimension getImageSize () {
>         if (imgSize.isEmpty () && getImage () != null) {
>             org.eclipse.swt.graphics.Rectangle r = getImage ().getBounds ();
>             IMapMode mm = MapModeUtil.getMapMode (this);
>             imgSize = new Dimension (mm.DPtoLP (r.width), mm.DPtoLP (r.height));
>         }
>         if (! imgSize.isEmpty ()) return imgSize;
82,85d42
<         if (img != null) {
<             org.eclipse.swt.graphics.Rectangle r = image.getBounds ();
<             size = new Dimension (MapModeUtil.getMapMode (this).DPtoLP (r.width), MapModeUtil.getMapMode (this).DPtoLP (r.height));
<         } else size = new Dimension ();
86a51,53
>         return getBounds ().getSize ();
>     }
> 
86,86c50,50
< 
---
> 
