17a18,18
>     private static final int MAX_SEGMENT_LENGTH = 23;
72a74,77
>             String name = sb.toString ();
>             if (name.length () > MAX_SEGMENT_LENGTH) {
>                 name = name.substring (0, MAX_SEGMENT_LENGTH);
>             }
73,73c78,78
<             return createClassName (getLabelHostPrefix (mapping) + sb.toString ());
---
>             return createClassName (getLabelHostPrefix (mapping) + name);
