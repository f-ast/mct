343a344,344
>         if (aModelFacet instanceof TypeLinkModelFacet) {
343a346,350
>             String name = metaClass.getName ();
>             if (! isEmpty (name)) {
>                 return getValidClassName (name);
>             }
>         } else if (aModelFacet instanceof FeatureLinkModelFacet) {
344,344d345
<         if (aModelFacet instanceof FeatureLinkModelFacet) {
345,345c351,351
<             GenFeature metaFeature = ((FeatureLinkModelFacet) aModelFacet).getMetaFeature ();
---
>             GenFeature metaFeature = ((FeatureLinkModelFacet) aModelFacet).getMetaFeature ();
346a353,355
>             if (! isEmpty (name)) {
>                 return getValidClassName (metaFeature.getGenClass ().getName () + name);
>             }
346,346c352,352
<             return metaFeature.getGenClass ().getName () + metaFeature.getCapName ();
---
>             String name = metaFeature.getCapName ();
347,347d352
<         } else if (aModelFacet instanceof TypeLinkModelFacet) {
349,349d345
<             return metaClass.getName ();
352,352c358,358
<         return "Link";
---
>         return CLASS_NAME_PREFIX;
