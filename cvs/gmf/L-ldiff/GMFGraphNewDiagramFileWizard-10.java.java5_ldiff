36a37,40
> import org.eclipse.emf.ecore.util.FeatureMap;
> 
> import org.eclipse.emf.edit.provider.IWrapperItemProvider;
> 
87,88d90
< import org.eclipse.ui.ide.IDE;
< 
143,143c145,145
<         final Resource diagramResource = resourceSet.createResource (URI.createPlatformResourceURI (diagramFile.getFullPath ().toString ()));
---
>         final Resource diagramResource = resourceSet.createResource (URI.createPlatformResourceURI (diagramFile.getFullPath ().toString (), true));
164a167,167
>             GMFGraphDiagramEditorUtil.openDiagram (diagramResource);
165,165d166
<             IDE.openEditor (myWorkbenchPage, diagramFile);
219a222,230
>                 if (selection.size () == 1) {
>                     Object selectedElement = selection.getFirstElement ();
>                     if (selectedElement instanceof IWrapperItemProvider) {
>                         selectedElement = ((IWrapperItemProvider) selectedElement).getValue ();
>                     }
>                     if (selectedElement instanceof FeatureMap.Entry) {
>                         selectedElement = ((FeatureMap.Entry) selectedElement).getValue ();
>                     }
>                     if (selectedElement instanceof EObject) {
220,220d221
<                 if (selection.size () == 1 && selection.getFirstElement () instanceof EObject) {
221,221c231,231
<                     myDiagramRoot = (EObject) selection.getFirstElement ();
---
>                         myDiagramRoot = (EObject) selectedElement;
221a232,232
>                     }
