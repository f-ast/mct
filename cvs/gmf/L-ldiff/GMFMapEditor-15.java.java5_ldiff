255,255c255,255
<     protected Collection selectionChangedListeners = new ArrayList ();
---
>     protected Collection < ISelectionChangedListener > selectionChangedListeners = new ArrayList < ISelectionChangedListener > ();
292,292c292,292
<     protected Collection removedResources = new ArrayList ();
---
>     protected Collection < Resource > removedResources = new ArrayList < Resource > ();
293,293c293,293
<     protected Collection changedResources = new ArrayList ();
---
>     protected Collection < Resource > changedResources = new ArrayList < Resource > ();
294,294c294,294
<     protected Collection savedResources = new ArrayList ();
---
>     protected Collection < Resource > savedResources = new ArrayList < Resource > ();
295,295c295,295
<     protected Map resourceToDiagnosticMap = new LinkedHashMap ();
---
>     protected Map < Resource, Diagnostic > resourceToDiagnosticMap = new LinkedHashMap < Resource, Diagnostic > ();
298a299,299
>         @Override
323a325,325
>                             break;
329a332,332
>         @Override
333a337,337
>         @Override
349,349c353,353
<                         protected Collection changedResources = new ArrayList ();
---
>                         protected Collection < Resource > changedResources = new ArrayList < Resource > ();
350,350c354,354
<                         protected Collection removedResources = new ArrayList ();
---
>                         protected Collection < Resource > removedResources = new ArrayList < Resource > ();
369,369c373,373
<                         public Collection getChangedResources () {
---
>                         public Collection < Resource > getChangedResources () {
373,373c377,377
<                         public Collection getRemovedResources () {
---
>                         public Collection < Resource > getRemovedResources () {
446,447d449
<             for (Iterator i = changedResources.iterator ();
<             i.hasNext ();) {
448,448c450,450
<                 Resource resource = (Resource) i.next ();
---
>             for (Resource resource : changedResources) {
468,469d469
<             for (Iterator i = resourceToDiagnosticMap.values ().iterator ();
<             i.hasNext ();) {
470,470c470,470
<                 Diagnostic childDiagnostic = (Diagnostic) i.next ();
---
>             for (Diagnostic childDiagnostic : resourceToDiagnosticMap.values ()) {
514,514c514,514
<         List factories = new ArrayList ();
---
>         List < AdapterFactory > factories = new ArrayList < AdapterFactory > ();
546,546c546,546
<         editingDomain = new AdapterFactoryEditingDomain (adapterFactory, commandStack, new HashMap ());
---
>         editingDomain = new AdapterFactoryEditingDomain (adapterFactory, commandStack, new HashMap < Resource, Boolean > ());
548a549,549
>     @Override
553,553c554,554
<     public void setSelectionToViewer (Collection collection) {
---
>     public void setSelectionToViewer (Collection < ? > collection) {
554,554c555,555
<         final Collection theSelection = collection;
---
>         final Collection < ? > theSelection = collection;
679,679c680,680
<         URI resourceURI = URI.createPlatformResourceURI (modelFile.getFile ().getFullPath ().toString ());
---
>         URI resourceURI = URI.createPlatformResourceURI (modelFile.getFile ().getFullPath ().toString (), true);
680,680d680
<         ;
708a709,709
>     @Override
711,711c712,712
<         if (! getEditingDomain ().getResourceSet ().getResources ().isEmpty () && ! ((Resource) getEditingDomain ().getResourceSet ().getResources ().get (0)).getContents ().isEmpty ()) {
---
>         if (! getEditingDomain ().getResourceSet ().getResources ().isEmpty () && ! (getEditingDomain ().getResourceSet ().getResources ().get (0)).getContents ().isEmpty ()) {
714a716,716
>                     @Override
720a723,723
>                     @Override
733a737,737
>                 selectionViewer.setSelection (new StructuredSelection (editingDomain.getResourceSet ().getResources ().get (0)), true);
741a746,746
>                     @Override
747a753,753
>                     @Override
766a773,773
>                     @Override
770a778,778
>                     @Override
788a797,797
>                     @Override
792a802,802
>                     @Override
811a822,822
>                     @Override
815a827,827
>                     @Override
847a860,860
>                     @Override
851a865,865
>                     @Override
884a899,899
>             @Override
920a936,936
>     @Override
927a944,945
>     @SuppressWarnings("unchecked")
>     @Override
944a963,963
>                 @Override
954,955d972
<                         ArrayList selection = new ArrayList ();
<                         selection.add (editingDomain.getResourceSet ().getResources ().get (0));
956,956c973,973
<                         contentOutlineViewer.setSelection (new StructuredSelection (selection), true);
---
>                         contentOutlineViewer.setSelection (new StructuredSelection (editingDomain.getResourceSet ().getResources ().get (0)), true);
959a977,977
>                 @Override
964a983,983
>                 @Override
989a1009,1009
>                 @Override
990,990c1010,1010
<                 public void setSelectionToViewer (List selection) {
---
>                 public void setSelectionToViewer (List < ? > selection) {
994a1015,1015
>                 @Override
1010,1010c1031,1031
<             Iterator selectedElements = ((IStructuredSelection) selection).iterator ();
---
>             Iterator < ? > selectedElements = ((IStructuredSelection) selection).iterator ();
1014,1014c1035,1035
<                     ArrayList selectionList = new ArrayList ();
---
>                     ArrayList < Object > selectionList = new ArrayList < Object > ();
1029a1051,1051
>     @Override
1033a1056,1056
>     @Override
1036a1060,1060
>             @Override
1039,1039c1063,1063
<                 for (Iterator i = editingDomain.getResourceSet ().getResources ().iterator ();
---
>                 for (Resource resource : editingDomain.getResourceSet ().getResources ()) {
1040,1041d1063
<                 i.hasNext ();) {
<                     Resource resource = (Resource) i.next ();
1081a1104,1104
>     @Override
1085a1109,1109
>     @Override
1093,1093c1117,1117
<                 doSaveAs (URI.createPlatformResourceURI (file.getFullPath ().toString ()), new FileEditorInput (file));
---
>                 doSaveAs (URI.createPlatformResourceURI (file.getFullPath ().toString (), true), new FileEditorInput (file));
1099,1099c1123,1123
<         ((Resource) editingDomain.getResourceSet ().getResources ().get (0)).setURI (uri);
---
>         (editingDomain.getResourceSet ().getResources ().get (0)).setURI (uri);
1132a1157,1157
>     @Override
1141a1167,1167
>     @Override
1164,1165d1189
<         for (Iterator listeners = selectionChangedListeners.iterator ();
<         listeners.hasNext ();) {
1166,1166c1190,1190
<             ISelectionChangedListener listener = (ISelectionChangedListener) listeners.next ();
---
>         for (ISelectionChangedListener listener : selectionChangedListeners) {
1176,1176c1200,1200
<                 Collection collection = ((IStructuredSelection) selection).toList ();
---
>                 Collection < ? > collection = ((IStructuredSelection) selection).toList ();
1221a1246,1246
>     @Override
