20a21,22
> import org.eclipse.emf.ecore.EStructuralFeature;
> 
51,51c68,68
<     protected final void setCopier (EClass eClass, Copier copier) {
---
>     protected final void setCopier (EClass eClass, Copier copier) {
52a70,71
>     }
> 
52,52c69,69
<         getRecord (eClass, true).setCopier (copier);
---
>         getRecord (eClass, true).setCopier (copier);
75,75c53,53
<     protected final void setMatcher (EClass eClass, EAttribute attribute) {
---
>     protected final void setMatcher (EClass eClass, EAttribute attribute) {
76a55,55
>         setMatcher (eClass, new ReflectiveMatcher (attribute));
76,76c54,54
<         checkStructuralFeature (eClass, attribute);
---
>         checkStructuralFeature (eClass, attribute);
77,78d54
<         Matcher matcher = new ReflectiveMatcher (attribute);
<         setMatcher (eClass, matcher);
79,79c56,56
<     }
---
>     }
80,80c57,57
< 
---
> 
81a59,59
>         checkStructuralFeature (eClass, reference);
81,81c58,58
<     protected final void setMatcher (EClass eClass, EReference reference) {
---
>     protected final void setMatcher (EClass eClass, EReference reference) {
82,82d58
<         if (eClass.getEPackage ().equals (reference.eClass ().getEPackage ())) {
83,83c60,60
<             setMatcher (eClass, new ReflectiveMatcher (reference));
---
>         setMatcher (eClass, new ReflectiveMatcher (reference));
84,88d60
<         } else {
<             setMatcher (eClass, new ReflectiveMatcher (reference));
<         }
<     }
< 
127,127c125,125
<     private void checkStructuralFeature (EClass expectedClass, EAttribute feature) {
---
>     private static void checkStructuralFeature (EClass expectedClass, EStructuralFeature feature) {
