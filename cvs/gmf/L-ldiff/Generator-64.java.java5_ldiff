501a502,502
>             byte [] contents = myEmitters.getShortcutImageEmitter ().generateGif ();
502a504,504
>                 if (! contains (f, new ByteArrayInputStream (contents))) {
503,503c505,505
<                 f.setContents (new ByteArrayInputStream (myEmitters.getShortcutImageEmitter ().generateGif ()), true, true, new SubProgressMonitor (pm, 1));
---
>                     f.setContents (new ByteArrayInputStream (contents), true, true, new SubProgressMonitor (pm, 1));
504a507,509
>                     pm.worked (1);
>                 }
>             } else {
505,505c510,510
<                 f.create (new ByteArrayInputStream (myEmitters.getShortcutImageEmitter ().generateGif ()), true, new SubProgressMonitor (pm, 1));
---
>                 f.create (new ByteArrayInputStream (contents), true, new SubProgressMonitor (pm, 1));
