218a219,219
>             if (System.getProperty ("RUN_PROGRESS_IN_UI_HACK") != null) {
218a221,221
>             } else {
219,219d220
<             if (System.getProperty ("RUN_PROGRESS_IN_THREAD") != null) {
220,220c222,222
<                 new ProgressMonitorDialog (null).run (true, cancelable, runnable);
---
>                 new ProgressMonitorDialog (null).run (true, cancelable, runnable);
221,221d222
<             } else {
