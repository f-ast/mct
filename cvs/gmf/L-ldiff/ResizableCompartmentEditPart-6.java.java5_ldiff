3,4d2
< import java.beans.PropertyChangeEvent;
< 
6a5,6
> import org.eclipse.emf.common.notify.Notification;
> 
11,12d10
< import org.eclipse.gmf.runtime.diagram.core.listener.NotificationEvent;
< 
17,17c17,17
< import org.eclipse.gmf.runtime.diagram.ui.l10n.PresentationResourceManager;
---
> import org.eclipse.gmf.runtime.diagram.ui.l10n.PresentationResourceManager;
19,19c15,15
< import org.eclipse.gmf.runtime.diagram.ui.properties.Properties;
---
> import org.eclipse.gmf.runtime.diagram.ui.internal.properties.Properties;
75a74,77
>     protected void handleNotificationEvent (Notification event) {
>         Object feature = event.getFeature ();
>         if (NotationPackage.eINSTANCE.getRatio_Value ().equals (feature) || event.getOldValue () instanceof Ratio || event.getNewValue () instanceof Ratio) refreshRatio ();
>         else if (NotationPackage.eINSTANCE.getDrawerStyle_Collapsed ().equals (feature)) {
76,78d73
<     protected void handlePropertyChangeEvent (PropertyChangeEvent evt) {
<         if (evt.getPropertyName ().equals (Properties.ID_RATIO) || evt.getOldValue () instanceof Ratio || evt.getNewValue () instanceof Ratio) refreshRatio ();
<         else if (evt.getPropertyName ().equals (Properties.ID_COLLAPSED)) {
79,79c78,78
<             setCollapsed (((Boolean) evt.getNewValue ()).booleanValue (), true);
---
>             setCollapsed (event.getNewBooleanValue (), true);
80a80,81
>         } else if (NotationPackage.eINSTANCE.getTitleStyle_ShowTitle ().equals (feature)) setShowCompartmentTitle (event.getNewBooleanValue ());
>         else if (NotationPackage.eINSTANCE.getFontStyle_FontColor ().equals (feature)) {
81,82d79
<         } else if (evt.getPropertyName ().equals (Properties.ID_SHOWCOMPARTMENTTITLE)) setShowCompartmentTitle (((Boolean) evt.getNewValue ()).booleanValue ());
<         else if (evt.getPropertyName ().equals (Properties.ID_FONTCOLOR)) {
83,83c82,82
<             Integer c = (Integer) evt.getNewValue ();
---
>             Integer c = (Integer) event.getNewValue ();
84a84,85
>         } else if (NotationPackage.eINSTANCE.getFontStyle ().isInstance (event.getNotifier ())) {
>             refreshFont ();
85,90d83
<         } else super.handlePropertyChangeEvent (evt);
< 
<     }
< 
<     protected void handleNotificationEvent (NotificationEvent event) {
<         if (NotationPackage.eINSTANCE.getFontStyle ().isInstance (event.getElement ())) refreshFont ();
91,91c86,86
<         else super.handleNotificationEvent (event);
---
>         } else super.handleNotificationEvent (event);
