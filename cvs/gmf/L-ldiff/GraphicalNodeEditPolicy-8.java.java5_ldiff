37,38d36
< import org.eclipse.gef.commands.UnexecutableCommand;
< 
43,43c115,115
< import org.eclipse.jface.preference.IPreferenceStore;
---
> import org.eclipse.jface.preference.IPreferenceStore;
44,44c116,116
< 
---
> 
45,45c117,117
< import org.eclipse.jface.util.Assert;
---
> import org.eclipse.jface.util.Assert;
46,46c118,118
< 
---
> 
47,47c119,119
< import org.eclipse.swt.widgets.Display;
---
> import org.eclipse.swt.widgets.Display;
48,48c120,120
< 
---
> 
101,101c57,57
< import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
---
> import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
102,102c58,58
< 
---
> 
107,107c103,103
< import org.eclipse.gmf.runtime.emf.ui.services.modelingassistant.ModelingAssistantService;
---
> import org.eclipse.gmf.runtime.emf.ui.services.modelingassistant.ModelingAssistantService;
108,108c104,104
< 
---
> 
363,363c361,361
<         if (createElementCommand == null || createElementCommand instanceof UnexecutableCommand) return null;
---
>         if (createElementCommand == null || ! createElementCommand.canExecute ()) return null;
