98a99,100
>             final EObject oldReferenceTarget = e.getKey ();
>             if (myMatches.containsKey (oldReferenceTarget)) {
99,99d98
<             if (myMatches.containsKey (e.getKey ())) {
100,100c101,101
<                 EObject copied = myMatches.get (e.getKey ());
---
>                 EObject copied = myMatches.get (oldReferenceTarget);
102,102c103,103
<                     trace ("[crossRefUpd] matched %s -> %s", e.getKey (), copied);
---
>                     trace ("[crossRefUpd] matched %s -> %s", oldReferenceTarget, copied);
113,113d113
<                             assert ! values.contains (e.getKey ());
114a115,117
>                             if (values.contains (oldReferenceTarget)) {
>                                 values.set (values.indexOf (oldReferenceTarget), copied);
>                             } else {
115a119,119
>                             }
127,127c131,131
<                     trace ("[crossRefUpd] no match for old %s", e.getKey ());
---
>                     trace ("[crossRefUpd] no match for old %s", oldReferenceTarget);
