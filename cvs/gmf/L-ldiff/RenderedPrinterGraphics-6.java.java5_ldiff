37,37c37,37
<         info.setValues (nNewWidth, nNewHeight, info.shouldMaintainAspectRatio (), true, info.getBackgroundColor (), info.getForegroundColor ());
---
>         info.setValues (nNewWidth, nNewHeight, info.shouldMaintainAspectRatio (), false, info.getBackgroundColor (), info.getForegroundColor ());
38a39,55
>         Image swtImg = null;
>         try {
>             swtImg = img.getSWTImage ();
>         } catch (OutOfMemoryError e) {
>             nNewWidth = rect.width;
>             nNewHeight = rect.height;
>             info.setValues (nNewWidth, nNewHeight, info.shouldMaintainAspectRatio (), true, info.getBackgroundColor (), info.getForegroundColor ());
>             img = srcImage.getNewRenderedImage (info);
>             swtImg = img.getSWTImage ();
>         } catch (Exception ex) {
>             nNewWidth = rect.width;
>             nNewHeight = rect.height;
>             info.setValues (nNewWidth, nNewHeight, info.shouldMaintainAspectRatio (), true, info.getBackgroundColor (), info.getForegroundColor ());
>             img = srcImage.getNewRenderedImage (info);
>             swtImg = img.getSWTImage ();
>         }
>         drawImage (swtImg, 0, 0, nNewWidth, nNewHeight, rect.x, rect.y, rect.width, rect.height);
39,40d38
<         Image swtImg = img.getSWTImage ();
<         drawImage (swtImg, rect.x, rect.y + rect.height - swtImg.getBounds ().height);
