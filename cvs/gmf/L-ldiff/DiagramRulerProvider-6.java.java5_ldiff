3,6d2
< import java.beans.PropertyChangeEvent;
< 
< import java.beans.PropertyChangeListener;
< 
14a11,12
> import org.eclipse.emf.common.notify.Notification;
> 
25,25c23,23
< import org.eclipse.gmf.runtime.diagram.core.listener.NotificationEvent;
---
> import org.eclipse.gmf.runtime.diagram.core.listener.NotificationListener;
30a31,32
> import org.eclipse.gmf.runtime.diagram.ui.internal.properties.Properties;
> 
38a27,27
> import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
39,39d26
< import org.eclipse.gmf.runtime.diagram.ui.properties.Properties;
40,40c28,28
< 
---
> 
41,42d28
< import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
< 
56,56c54,54
<     private PropertyChangeListener rulerListener = new PropertyChangeListener () {
---
>     private NotificationListener rulerListener = new NotificationListener () {
57a56,56
>         public void notifyChanged (Notification evt) {
58,59d55
<         public void propertyChange (PropertyChangeEvent evt) {
<             if (evt instanceof NotificationEvent) {
60,60c57,57
<                 handleNotificationEvent ((NotificationEvent) evt);
---
>             handleNotificationEvent (evt);
61,62d57
<                 return;
<             }
65,65c60,60
<         private void handleNotificationEvent (NotificationEvent event) {
---
>         private void handleNotificationEvent (Notification event) {
71,71c66,66
<                     PresentationListener.getInstance ().addPropertyChangeListener (guide, guideListener);
---
>                     PresentationListener.getInstance ().addNotificationListener (guide, guideListener);
75,75c70,70
<                     PresentationListener.getInstance ().removePropertyChangeListener (guide, guideListener);
---
>                     PresentationListener.getInstance ().removeNotificationListener (guide, guideListener);
87,87c82,82
<     private PropertyChangeListener guideListener = new PropertyChangeListener () {
---
>     private NotificationListener guideListener = new NotificationListener () {
88a84,84
>         public void notifyChanged (Notification evt) {
89,90d83
<         public void propertyChange (PropertyChangeEvent evt) {
<             if (evt instanceof NotificationEvent) {
91,91c85,85
<                 handleNotificationEvent ((NotificationEvent) evt);
---
>             handleNotificationEvent (evt);
92,93d85
<                 return;
<             }
96,96c88,88
<         private void handleNotificationEvent (NotificationEvent event) {
---
>         private void handleNotificationEvent (Notification event) {
101,101c93,93
<                     ((RulerChangeListener) listeners.get (i)).notifyGuideMoved (event.getSource ());
---
>                     ((RulerChangeListener) listeners.get (i)).notifyGuideMoved (event.getNotifier ());
108,108c100,100
<                     ((RulerChangeListener) listeners.get (i)).notifyPartAttachmentChanged (event.getNewValue (), event.getSource ());
---
>                     ((RulerChangeListener) listeners.get (i)).notifyPartAttachmentChanged (event.getNewValue (), event.getNotifier ());
123,123c115,115
<         theRuler.addPropertyChangeListener (rulerListener);
---
>         theRuler.addNotificationListener (rulerListener);
127,127c119,119
<             PresentationListener.getInstance ().addPropertyChangeListener (guide, guideListener);
---
>             PresentationListener.getInstance ().addNotificationListener (guide, guideListener);
133,133c125,125
<         theRuler.removePropertyChangeListener (rulerListener);
---
>         theRuler.removeNotificationListener (rulerListener);
