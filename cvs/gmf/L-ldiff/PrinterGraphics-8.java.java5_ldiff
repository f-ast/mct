38,38c38,38
<         Iterator it = collapseImageCache.keySet ().iterator ();
---
>         for (Iterator it = collapseImageCache.values ().iterator ();
39,39c39,39
<         while (it.hasNext ()) {
---
>         it.hasNext ();) {
40,40d39
<             Object key = it.next ();
41,41c40,40
<             Image img = (Image) collapseImageCache.get (key);
---
>             Image img = (Image) it.next ();
43a43,43
>         collapseImageCache.clear ();
