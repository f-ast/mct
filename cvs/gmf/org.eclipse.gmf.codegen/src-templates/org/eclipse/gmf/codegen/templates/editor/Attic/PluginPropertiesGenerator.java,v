head	1.18;
access;
symbols
	v20081022-1925:1.18
	v20081015-1925:1.18
	v20081008-1925:1.18
	v20081001-1925:1.18
	v20080924-1925:1.18
	v20080917-1925:1.18
	v20080911-1728:1.18
	v20080910-1520:1.18
	v20080903-1520:1.18
	v20080827-1520:1.18
	v20080813-1520:1.18
	v20080806-1520:1.18
	v20070202-0200:1.6
	v20070103-0300:1.17
	M4_20:1.17
	v20061222-1800:1.16
	v20061218-1200:1.15
	v20061214-0000:1.15
	v20061120-1300:1.13
	M3_20:1.13
	v20061117-0800:1.13
	v20061027-1200:1.6
	v20061020-1000:1.6
	v20061013-1330:1.12
	v20060919-0800:1.6
	v20060907-1100:1.6
	M1_20:1.8
	v20060904-1500:1.8
	v20060824-1600:1.6
	v20060817-1500:1.6
	v20060728-0500:1.6
	v20060713-1700:1.6
	R1_0_maintenance:1.6.0.2
	R1_0:1.6
	v20060627-1200:1.6
	v20060626-1420:1.6
	v20060620-0400:1.6
	v20060616-1400:1.6
	v20060616-1200:1.6
	v20060609-1400:1.6
	v20060531-1730:1.6
	v20060530-1930:1.6
	v20060526-1200:1.6
	v20060519-1300:1.6
	v20060519-0800:1.6
	v20060512-1000:1.6
	I20060512-1000:1.6
	I20060505-1400:1.6
	I20060428-1300:1.6
	I20060424-0500:1.6
	I20060424-0300:1.6
	M6_10:1.6
	I20060407-1200:1.3
	I20060331-1000:1.2
	I20060324-0300:1.2
	I20060317-1300:1.2
	I20060317-1200:1.2
	I20060316-1300:1.2
	I20060309-1300:1.2
	M5_10:1.2
	S20060303-1600:1.2
	I20060227-1730:1.2
	I20060216-1945:1.2
	I20060210-1715:1.2
	I20060209-1815:1.2
	I20060203-0830:1.2
	I20060202-1415:1.2
	I20060129-1145:1.2
	I20060127-0900:1.2
	I20060120-1530:1.1
	I20060113-1700:1.1
	M4_10:1.1
	I20060107-1100:1.1
	I20060105-1630:1.1
	I20051230-1230:1.1
	I20051223-1100:1.1
	I20051217-0925:1.1
	I20051208-2000:1.1
	I20051201-1800:1.1;
locks; strict;
comment	@# @;
expand	@k@;


1.18
date	2007.01.09.15.51.33;	author dstadnik;	state dead;
branches;
next	1.17;
commitid	6f1245a3b9f84567;

1.17
date	2006.12.27.17.37.08;	author dstadnik;	state Exp;
branches;
next	1.16;
commitid	45374592af3d4567;

1.16
date	2006.12.22.16.50.40;	author dstadnik;	state Exp;
branches;
next	1.15;
commitid	2f97458c0cde4567;

1.15
date	2006.11.27.17.28.36;	author dstadnik;	state Exp;
branches;
next	1.14;
commitid	3c73456b20434567;

1.14
date	2006.11.21.12.48.18;	author dstadnik;	state Exp;
branches;
next	1.13;
commitid	13004562f58f4567;

1.13
date	2006.11.16.13.31.32;	author atikhomirov;	state Exp;
branches;
next	1.12;
commitid	5510455c68334567;

1.12
date	2006.09.26.16.52.26;	author atikhomirov;	state Exp;
branches;
next	1.11;

1.11
date	2006.09.21.17.20.30;	author atikhomirov;	state Exp;
branches;
next	1.10;

1.10
date	2006.09.15.20.44.31;	author atikhomirov;	state Exp;
branches;
next	1.9;

1.9
date	2006.09.11.18.21.36;	author ashatalin;	state Exp;
branches;
next	1.8;

1.8
date	2006.08.23.09.11.40;	author dstadnik;	state Exp;
branches;
next	1.7;

1.7
date	2006.08.21.13.48.49;	author dstadnik;	state Exp;
branches;
next	1.6;

1.6
date	2006.04.08.17.19.56;	author ashatalin;	state Exp;
branches;
next	1.5;

1.5
date	2006.04.08.16.56.36;	author dstadnik;	state Exp;
branches;
next	1.4;

1.4
date	2006.04.08.11.41.49;	author dstadnik;	state dead;
branches;
next	1.3;

1.3
date	2006.04.07.14.49.25;	author ashatalin;	state Exp;
branches;
next	1.2;

1.2
date	2006.01.26.13.36.41;	author atikhomirov;	state Exp;
branches;
next	1.1;

1.1
date	2005.11.29.18.14.04;	author atikhomirov;	state Exp;
branches;
next	;


desc
@@


1.18
log
@rewrite plugin.properties template in xpand
@
text
@package org.eclipse.gmf.codegen.templates.editor;

import org.eclipse.gmf.codegen.gmfgen.*;
import java.util.*;

public class PluginPropertiesGenerator
{
  protected static String nl;
  public static synchronized PluginPropertiesGenerator create(String lineSeparator)
  {
    nl = lineSeparator;
    PluginPropertiesGenerator result = new PluginPropertiesGenerator();
    nl = null;
    return result;
  }

  protected final String NL = nl == null ? (System.getProperties().getProperty("line.separator")) : nl;
  protected final String TEXT_1 = "pluginName=";
  protected final String TEXT_2 = NL + "providerName=";
  protected final String TEXT_3 = NL + NL + "preferences.general=";
  protected final String TEXT_4 = " Diagram" + NL + "preferences.appearance=Appearance" + NL + "preferences.connections=Connections" + NL + "preferences.printing=Printing" + NL + "preferences.rulersAndGrid=Rulers & Grid" + NL + "preferences.pathmaps=Path Maps" + NL + "" + NL + "editorName=";
  protected final String TEXT_5 = " Diagram Editor" + NL + "newWizardName=";
  protected final String TEXT_6 = " Diagram" + NL + "newWizardDesc=Creates ";
  protected final String TEXT_7 = " diagram." + NL;
  protected final String TEXT_8 = NL + "initDiagramActionLabel=Initialize ";
  protected final String TEXT_9 = " diagram file";
  protected final String TEXT_10 = NL + "createShortcutActionLabel=Create Shortcut...";
  protected final String TEXT_11 = NL + "loadResourceActionLabel=Load Resource...";
  protected final String TEXT_12 = NL + "applicationActionSetLabel=";
  protected final String TEXT_13 = " Actions" + NL + "newDiagramActionLabel=";
  protected final String TEXT_14 = " Diagram" + NL + "aboutActionLabel=";
  protected final String TEXT_15 = " Diagram About..." + NL + "openURIActionLabel=Open URI..." + NL + "openURIActionDescription=Open file by URI" + NL + "openActionLabel=Open..." + NL + "openActionDescription=Open file";
  protected final String TEXT_16 = NL + "navigatorContentName=*.";
  protected final String TEXT_17 = " diagram contents";
  protected final String TEXT_18 = NL + "###" + NL + "# Property Sheet";
  protected final String TEXT_19 = NL;
  protected final String TEXT_20 = NL + "tab.";
  protected final String TEXT_21 = "=";
  protected final String TEXT_22 = NL + "###";
  protected final String TEXT_23 = NL + "###" + NL + "# Palette Factory";
  protected final String TEXT_24 = NL;
  protected final String TEXT_25 = NL;
  protected final String TEXT_26 = ".title=";
  protected final String TEXT_27 = NL;
  protected final String TEXT_28 = ".desc=";
  protected final String TEXT_29 = NL + "###";

  public String generate(Object argument)
  {
    final StringBuffer stringBuffer = new StringBuffer();
    
final GenPlugin genPlugin = (GenPlugin) argument;
final GenDiagram genDiagram = genPlugin.getEditorGen().getDiagram();

    stringBuffer.append(TEXT_1);
    stringBuffer.append(genPlugin.getName());
    stringBuffer.append(TEXT_2);
    stringBuffer.append(genPlugin.getProvider());
    stringBuffer.append(TEXT_3);
    stringBuffer.append(genPlugin.getEditorGen().getModelID());
    stringBuffer.append(TEXT_4);
    stringBuffer.append(genPlugin.getEditorGen().getModelID());
    stringBuffer.append(TEXT_5);
    stringBuffer.append(genPlugin.getEditorGen().getModelID());
    stringBuffer.append(TEXT_6);
    stringBuffer.append(genPlugin.getEditorGen().getModelID());
    stringBuffer.append(TEXT_7);
    if (genDiagram.generateInitDiagramAction()) {
    stringBuffer.append(TEXT_8);
    stringBuffer.append(genPlugin.getEditorGen().getDiagramFileExtension());
    stringBuffer.append(TEXT_9);
    }
if (genDiagram.generateCreateShortcutAction()) {
    stringBuffer.append(TEXT_10);
    }
    stringBuffer.append(TEXT_11);
    if (genPlugin.getEditorGen().getApplication() != null) {
    stringBuffer.append(TEXT_12);
    stringBuffer.append(genPlugin.getEditorGen().getModelID());
    stringBuffer.append(TEXT_13);
    stringBuffer.append(genPlugin.getEditorGen().getModelID());
    stringBuffer.append(TEXT_14);
    stringBuffer.append(genPlugin.getEditorGen().getModelID());
    stringBuffer.append(TEXT_15);
    }
    stringBuffer.append(TEXT_16);
    stringBuffer.append(genPlugin.getEditorGen().getDiagramFileExtension());
    stringBuffer.append(TEXT_17);
    if (genPlugin.getEditorGen().getPropertySheet() != null) {
	final GenPropertySheet propertySheet = genPlugin.getEditorGen().getPropertySheet();
    stringBuffer.append(TEXT_18);
    stringBuffer.append(TEXT_19);
    for (Iterator it = propertySheet.getTabs().iterator(); it.hasNext(); ) {
	final GenPropertyTab tab = (GenPropertyTab) it.next();
    stringBuffer.append(TEXT_20);
    stringBuffer.append(tab.getID());
    stringBuffer.append(TEXT_21);
    stringBuffer.append(tab.getLabel());
    }
    stringBuffer.append(TEXT_22);
    }
    if (genDiagram.getPalette() != null) {
	final Palette palette = genDiagram.getPalette();
    stringBuffer.append(TEXT_23);
    stringBuffer.append(TEXT_24);
    for (Iterator it = palette.eAllContents(); it.hasNext();) {
	Object next = it.next();
	if (next instanceof EntryBase) {
		EntryBase b = (EntryBase) next;
    stringBuffer.append(TEXT_25);
    stringBuffer.append(b.getIntKey());
    stringBuffer.append(TEXT_26);
    stringBuffer.append(b.getTitle());
    if (b.getDescription() != null) {
    stringBuffer.append(TEXT_27);
    stringBuffer.append(b.getIntKey());
    stringBuffer.append(TEXT_28);
    stringBuffer.append(b.getDescription());
    }
    	} /*EntryBase*/
    }
    stringBuffer.append(TEXT_29);
    }
    return stringBuffer.toString();
  }
}
@


1.17
log
@[134107] Provide preferences for the generated diagram editors
@
text
@@


1.16
log
@generate single rcp action set
@
text
@d20 21
a40 21
  protected final String TEXT_3 = NL + NL + "editorName=";
  protected final String TEXT_4 = " Diagram Editor" + NL + "newWizardName=";
  protected final String TEXT_5 = " Diagram" + NL + "newWizardDesc=Creates ";
  protected final String TEXT_6 = " diagram." + NL;
  protected final String TEXT_7 = NL + "initDiagramActionLabel=Initialize ";
  protected final String TEXT_8 = " diagram file";
  protected final String TEXT_9 = NL + "createShortcutActionLabel=Create Shortcut...";
  protected final String TEXT_10 = NL + "loadResourceActionLabel=Load Resource...";
  protected final String TEXT_11 = NL + "applicationActionSetLabel=";
  protected final String TEXT_12 = " Actions" + NL + "newDiagramActionLabel=";
  protected final String TEXT_13 = " Diagram" + NL + "aboutActionLabel=";
  protected final String TEXT_14 = " Diagram About..." + NL + "openURIActionLabel=Open URI..." + NL + "openURIActionDescription=Open file by URI" + NL + "openActionLabel=Open..." + NL + "openActionDescription=Open file";
  protected final String TEXT_15 = NL + "navigatorContentName=*.";
  protected final String TEXT_16 = " diagram contents";
  protected final String TEXT_17 = NL + "###" + NL + "# Property Sheet";
  protected final String TEXT_18 = NL;
  protected final String TEXT_19 = NL + "tab.";
  protected final String TEXT_20 = "=";
  protected final String TEXT_21 = NL + "###";
  protected final String TEXT_22 = NL + "###" + NL + "# Palette Factory";
  protected final String TEXT_23 = NL;
d42 5
a46 4
  protected final String TEXT_25 = ".title=";
  protected final String TEXT_26 = NL;
  protected final String TEXT_27 = ".desc=";
  protected final String TEXT_28 = NL + "###";
d66 2
d69 1
a69 1
    stringBuffer.append(TEXT_7);
d71 1
a71 1
    stringBuffer.append(TEXT_8);
d74 1
a74 1
    stringBuffer.append(TEXT_9);
d76 1
a76 1
    stringBuffer.append(TEXT_10);
a77 2
    stringBuffer.append(TEXT_11);
    stringBuffer.append(genPlugin.getEditorGen().getModelID());
d83 2
d86 1
a86 1
    stringBuffer.append(TEXT_15);
d88 1
a88 1
    stringBuffer.append(TEXT_16);
a90 1
    stringBuffer.append(TEXT_17);
d92 1
d95 1
a95 1
    stringBuffer.append(TEXT_19);
d97 1
a97 1
    stringBuffer.append(TEXT_20);
d100 1
a100 1
    stringBuffer.append(TEXT_21);
a103 1
    stringBuffer.append(TEXT_22);
d105 1
d110 1
a110 1
    stringBuffer.append(TEXT_24);
d112 1
a112 1
    stringBuffer.append(TEXT_25);
d115 1
a115 1
    stringBuffer.append(TEXT_26);
d117 1
a117 1
    stringBuffer.append(TEXT_27);
d122 1
a122 1
    stringBuffer.append(TEXT_28);
@


1.15
log
@generate common rcp actions
@
text
@d28 13
a40 13
  protected final String TEXT_11 = NL + "newDiagramActionSetLabel=New ";
  protected final String TEXT_12 = " Diagram" + NL + "newDiagramActionLabel=";
  protected final String TEXT_13 = " Diagram" + NL + "applicationActionSetLabel=";
  protected final String TEXT_14 = " Actions" + NL + "aboutActionLabel=";
  protected final String TEXT_15 = " Diagram About..." + NL + "openURIActionLabel=Open URI..." + NL + "openURIActionDescription=Open file by URI" + NL + "openActionLabel=Open..." + NL + "openActionDescription=Open file";
  protected final String TEXT_16 = NL + "navigatorContentName=*.";
  protected final String TEXT_17 = " diagram contents";
  protected final String TEXT_18 = NL + "###" + NL + "# Property Sheet";
  protected final String TEXT_19 = NL;
  protected final String TEXT_20 = NL + "tab.";
  protected final String TEXT_21 = "=";
  protected final String TEXT_22 = NL + "###";
  protected final String TEXT_23 = NL + "###" + NL + "# Palette Factory";
d42 4
a45 5
  protected final String TEXT_25 = NL;
  protected final String TEXT_26 = ".title=";
  protected final String TEXT_27 = NL;
  protected final String TEXT_28 = ".desc=";
  protected final String TEXT_29 = NL + "###";
d82 1
a82 1
    stringBuffer.append(genPlugin.getEditorGen().getModelID());
d84 1
a84 1
    }
a85 2
    stringBuffer.append(genPlugin.getEditorGen().getDiagramFileExtension());
    stringBuffer.append(TEXT_17);
d88 1
a89 1
    stringBuffer.append(TEXT_19);
d92 2
a94 2
    stringBuffer.append(tab.getID());
    stringBuffer.append(TEXT_21);
d97 1
a97 1
    stringBuffer.append(TEXT_22);
d101 1
a102 1
    stringBuffer.append(TEXT_24);
d107 2
a109 2
    stringBuffer.append(b.getIntKey());
    stringBuffer.append(TEXT_26);
d112 2
a114 2
    stringBuffer.append(b.getIntKey());
    stringBuffer.append(TEXT_28);
d119 1
a119 1
    stringBuffer.append(TEXT_29);
@


1.14
log
@#114200 add new diagram action
@
text
@d30 12
a41 12
  protected final String TEXT_13 = " Diagram";
  protected final String TEXT_14 = NL + "navigatorContentName=*.";
  protected final String TEXT_15 = " diagram contents";
  protected final String TEXT_16 = NL + "###" + NL + "# Property Sheet";
  protected final String TEXT_17 = NL;
  protected final String TEXT_18 = NL + "tab.";
  protected final String TEXT_19 = "=";
  protected final String TEXT_20 = NL + "###";
  protected final String TEXT_21 = NL + "###" + NL + "# Palette Factory";
  protected final String TEXT_22 = NL;
  protected final String TEXT_23 = NL;
  protected final String TEXT_24 = ".title=";
d43 4
a46 2
  protected final String TEXT_26 = ".desc=";
  protected final String TEXT_27 = NL + "###";
d81 4
d86 1
a86 1
    stringBuffer.append(TEXT_14);
d88 1
a88 1
    stringBuffer.append(TEXT_15);
d91 2
a92 2
    stringBuffer.append(TEXT_16);
    stringBuffer.append(TEXT_17);
d95 1
a95 1
    stringBuffer.append(TEXT_18);
d97 1
a97 1
    stringBuffer.append(TEXT_19);
d100 1
a100 1
    stringBuffer.append(TEXT_20);
d104 2
a105 2
    stringBuffer.append(TEXT_21);
    stringBuffer.append(TEXT_22);
d110 1
a110 1
    stringBuffer.append(TEXT_23);
d112 1
a112 1
    stringBuffer.append(TEXT_24);
d115 1
a115 1
    stringBuffer.append(TEXT_25);
d117 1
a117 1
    stringBuffer.append(TEXT_26);
d122 1
a122 1
    stringBuffer.append(TEXT_27);
@


1.13
log
@[162552] - Tool descriptions that contain special characters yield uncompilable code
Refactored to use externalized strings instead (for now from plugin.xml, may later switch to new nls bundles)
@
text
@d27 18
a44 14
  protected final String TEXT_10 = NL + "loadResourceActionLabel=Load Resource..." + NL + "" + NL + "navigatorContentName=*.";
  protected final String TEXT_11 = " diagram contents";
  protected final String TEXT_12 = NL + "###" + NL + "# Property Sheet";
  protected final String TEXT_13 = NL;
  protected final String TEXT_14 = NL + "tab.";
  protected final String TEXT_15 = "=";
  protected final String TEXT_16 = NL + "###";
  protected final String TEXT_17 = NL + "###" + NL + "# Palette Factory";
  protected final String TEXT_18 = NL;
  protected final String TEXT_19 = NL;
  protected final String TEXT_20 = ".title=";
  protected final String TEXT_21 = NL;
  protected final String TEXT_22 = ".desc=";
  protected final String TEXT_23 = NL + "###";
d73 8
d82 1
a82 1
    stringBuffer.append(TEXT_11);
d85 2
a86 2
    stringBuffer.append(TEXT_12);
    stringBuffer.append(TEXT_13);
d89 1
a89 1
    stringBuffer.append(TEXT_14);
d91 1
a91 1
    stringBuffer.append(TEXT_15);
d94 1
a94 1
    stringBuffer.append(TEXT_16);
d98 2
a99 2
    stringBuffer.append(TEXT_17);
    stringBuffer.append(TEXT_18);
d104 1
a104 1
    stringBuffer.append(TEXT_19);
d106 1
a106 1
    stringBuffer.append(TEXT_20);
d109 1
a109 1
    stringBuffer.append(TEXT_21);
d111 1
a111 1
    stringBuffer.append(TEXT_22);
d116 1
a116 1
    stringBuffer.append(TEXT_23);
@


1.12
log
@mark sections of properties
@
text
@d34 1
a34 1
  protected final String TEXT_17 = NL + "\t";
d36 5
d84 2
d88 18
@


1.11
log
@[157792] externalized ui strings to let users set them as they wish
@
text
@d33 3
a35 2
  protected final String TEXT_16 = NL + "\t";
  protected final String TEXT_17 = NL;
d77 1
a78 1
    stringBuffer.append(TEXT_16);
d80 1
@


1.10
log
@Generate PropertySheet pluged into tabbed page framework of Eclipse instead of plug-in as runtime provider.
Eases pages being added/removed/replaced/tuned
@
text
@d20 15
a34 8
  protected final String TEXT_3 = NL + "navigatorContentName=*.";
  protected final String TEXT_4 = " diagram contents";
  protected final String TEXT_5 = NL + "###" + NL + "# Property Sheet";
  protected final String TEXT_6 = NL;
  protected final String TEXT_7 = NL + "tab.";
  protected final String TEXT_8 = "=";
  protected final String TEXT_9 = NL + "\t";
  protected final String TEXT_10 = NL;
d39 4
a42 1
    GenPlugin genPlugin = (GenPlugin) argument;
d48 15
d64 1
a64 1
    stringBuffer.append(TEXT_4);
d67 2
a68 2
    stringBuffer.append(TEXT_5);
    stringBuffer.append(TEXT_6);
d71 1
a71 1
    stringBuffer.append(TEXT_7);
d73 1
a73 1
    stringBuffer.append(TEXT_8);
d77 2
a78 2
    stringBuffer.append(TEXT_9);
    stringBuffer.append(TEXT_10);
@


1.9
log
@Model navigator, initial version.
@
text
@d4 1
d22 6
a27 1
  protected final String TEXT_5 = NL;
d40 2
d43 11
@


1.8
log
@use emf property merger
@
text
@d19 3
a21 1
  protected final String TEXT_3 = NL;
d32 3
@


1.7
log
@add file merge support for other text files (!java)
@
text
@d19 1
a19 2
  protected final String TEXT_3 = NL + "# gmf generator persistent region begin" + NL + "# gmf generator persistent region end";
  protected final String TEXT_4 = NL;
a29 1
    stringBuffer.append(TEXT_4);
@


1.6
log
@using M6 to generate code.
@
text
@d19 2
a20 1
  protected final String TEXT_3 = NL;
d31 1
@


1.5
log
@restore generators
@
text
@d23 1
a23 1
    StringBuffer stringBuffer = new StringBuffer();
@


1.4
log
@#134095 do not store compiled templates in cvs
@
text
@d23 1
a23 1
    final StringBuffer stringBuffer = new StringBuffer();
@


1.3
log
@Switching to eclipse M6.
@
text
@@


1.2
log
@GenDiagram "slicing" goes on and this time attributes related to plugin activator class were moved into separate entity
@
text
@d23 1
a23 1
    StringBuffer stringBuffer = new StringBuffer();
@


1.1
log
@#118447 new-style bundle manifest (manifest.mf)
@
text
@d24 1
a24 1
    GenDiagram genDiagram = (GenDiagram) argument;
d26 1
a26 1
    stringBuffer.append(genDiagram.getPluginName());
d28 1
a28 1
    stringBuffer.append(genDiagram.getProviderName());
@

