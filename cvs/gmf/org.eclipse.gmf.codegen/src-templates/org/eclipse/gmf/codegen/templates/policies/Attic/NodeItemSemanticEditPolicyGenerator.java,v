head	1.60;
access;
symbols
	v20081022-1925:1.60
	v20081015-1925:1.60
	v20081008-1925:1.60
	v20081001-1925:1.60
	v20080924-1925:1.60
	v20080917-1925:1.60
	v20080911-1728:1.60
	v20080910-1520:1.60
	v20080903-1520:1.60
	v20080827-1520:1.60
	v20080813-1520:1.60
	v20080806-1520:1.60
	v20070202-0200:1.50
	v20070103-0300:1.59
	M4_20:1.59
	v20061222-1800:1.59
	v20061218-1200:1.59
	v20061214-0000:1.59
	v20061120-1300:1.54
	M3_20:1.54
	v20061117-0800:1.54
	v20061027-1200:1.50
	v20061020-1000:1.50
	v20061013-1330:1.53
	v20060919-0800:1.50
	v20060907-1100:1.50
	M1_20:1.52
	v20060904-1500:1.52
	v20060824-1600:1.50
	v20060817-1500:1.50
	v20060728-0500:1.50
	v20060713-1700:1.50
	R1_0_maintenance:1.50.0.2
	R1_0:1.50
	v20060627-1200:1.50
	v20060626-1420:1.50
	v20060620-0400:1.50
	v20060616-1400:1.50
	v20060616-1200:1.50
	v20060609-1400:1.50
	v20060531-1730:1.48
	v20060530-1930:1.48
	v20060526-1200:1.46
	v20060519-1300:1.46
	v20060519-0800:1.46
	v20060512-1000:1.44
	I20060512-1000:1.44
	I20060505-1400:1.44
	I20060428-1300:1.44
	I20060424-0500:1.44
	I20060424-0300:1.44
	M6_10:1.43
	I20060407-1200:1.40
	I20060331-1000:1.39
	I20060324-0300:1.39
	I20060317-1300:1.39
	I20060317-1200:1.39
	I20060316-1300:1.39
	I20060309-1300:1.39
	M5_10:1.38
	S20060303-1600:1.38
	I20060227-1730:1.35
	I20060216-1945:1.34
	I20060210-1715:1.33
	I20060209-1815:1.33
	I20060203-0830:1.29
	I20060202-1415:1.29
	I20060129-1145:1.29
	I20060127-0900:1.29
	I20060120-1530:1.27
	I20060113-1700:1.27
	M4_10:1.27
	I20060107-1100:1.26
	I20060105-1630:1.26
	I20051230-1230:1.26
	I20051223-1100:1.26
	I20051217-0925:1.26
	I20051208-2000:1.26
	I20051201-1800:1.24
	I20051124-2000:1.15
	M3_10:1.13
	I20051118-1245:1.13
	I20051111-1800:1.6;
locks; strict;
comment	@# @;
expand	@k@;


1.60
date	2007.01.17.13.12.34;	author ashatalin;	state dead;
branches;
next	1.59;
commitid	3d0045ae20c04567;

1.59
date	2006.12.11.18.42.43;	author ashatalin;	state Exp;
branches;
next	1.58;
commitid	34a457da6a14567;

1.58
date	2006.11.30.18.19.30;	author ashatalin;	state Exp;
branches;
next	1.57;
commitid	5afc456f20b14567;

1.57
date	2006.11.29.21.08.12;	author ashatalin;	state Exp;
branches;
next	1.56;
commitid	29eb456df6ba4567;

1.56
date	2006.11.28.19.35.55;	author ashatalin;	state Exp;
branches;
next	1.55;
commitid	6eb7456c8f9a4567;

1.55
date	2006.11.24.22.25.21;	author ashatalin;	state Exp;
branches;
next	1.54;
commitid	5f734567714f4567;

1.54
date	2006.10.18.14.21.46;	author dstadnik;	state Exp;
branches;
next	1.53;

1.53
date	2006.09.15.21.46.16;	author ashatalin;	state Exp;
branches;
next	1.52;

1.52
date	2006.08.29.17.03.35;	author ashatalin;	state Exp;
branches;
next	1.51;

1.51
date	2006.08.01.18.02.34;	author ashatalin;	state Exp;
branches;
next	1.50;

1.50
date	2006.06.09.09.02.46;	author dstadnik;	state Exp;
branches;
next	1.49;

1.49
date	2006.06.01.09.14.34;	author dstadnik;	state Exp;
branches;
next	1.48;

1.48
date	2006.05.29.18.20.56;	author ashatalin;	state Exp;
branches;
next	1.47;

1.47
date	2006.05.29.13.55.18;	author dstadnik;	state Exp;
branches;
next	1.46;

1.46
date	2006.05.18.14.03.44;	author dstadnik;	state Exp;
branches;
next	1.45;

1.45
date	2006.05.18.13.58.29;	author atikhomirov;	state Exp;
branches;
next	1.44;

1.44
date	2006.04.20.17.08.07;	author ashatalin;	state Exp;
branches;
next	1.43;

1.43
date	2006.04.08.17.19.56;	author ashatalin;	state Exp;
branches;
next	1.42;

1.42
date	2006.04.08.16.56.36;	author dstadnik;	state Exp;
branches;
next	1.41;

1.41
date	2006.04.08.11.41.48;	author dstadnik;	state dead;
branches;
next	1.40;

1.40
date	2006.04.07.14.49.25;	author ashatalin;	state Exp;
branches;
next	1.39;

1.39
date	2006.03.07.15.45.27;	author dstadnik;	state Exp;
branches;
next	1.38;

1.38
date	2006.03.03.15.34.18;	author ashatalin;	state Exp;
branches;
next	1.37;

1.37
date	2006.03.03.13.22.36;	author dstadnik;	state Exp;
branches;
next	1.36;

1.36
date	2006.03.01.14.55.16;	author ashatalin;	state Exp;
branches;
next	1.35;

1.35
date	2006.02.17.12.02.06;	author dstadnik;	state Exp;
branches;
next	1.34;

1.34
date	2006.02.14.13.58.45;	author dstadnik;	state Exp;
branches;
next	1.33;

1.33
date	2006.02.08.17.15.39;	author atikhomirov;	state Exp;
branches;
next	1.32;

1.32
date	2006.02.08.00.17.45;	author atikhomirov;	state Exp;
branches;
next	1.31;

1.31
date	2006.02.06.11.52.36;	author ashatalin;	state Exp;
branches;
next	1.30;

1.30
date	2006.02.05.22.57.53;	author atikhomirov;	state Exp;
branches;
next	1.29;

1.29
date	2006.01.25.14.10.43;	author ashatalin;	state Exp;
branches;
next	1.28;

1.28
date	2006.01.23.19.58.06;	author ashatalin;	state Exp;
branches;
next	1.27;

1.27
date	2006.01.10.16.16.58;	author ashatalin;	state Exp;
branches;
next	1.26;

1.26
date	2005.12.06.13.27.14;	author ashatalin;	state Exp;
branches;
next	1.25;

1.25
date	2005.12.05.15.01.14;	author ashatalin;	state Exp;
branches;
next	1.24;

1.24
date	2005.12.01.15.25.52;	author ashatalin;	state Exp;
branches;
next	1.23;

1.23
date	2005.12.01.13.09.54;	author ashatalin;	state Exp;
branches;
next	1.22;

1.22
date	2005.11.30.22.13.36;	author ashatalin;	state Exp;
branches;
next	1.21;

1.21
date	2005.11.29.18.36.10;	author atikhomirov;	state Exp;
branches;
next	1.20;

1.20
date	2005.11.29.18.33.25;	author atikhomirov;	state Exp;
branches;
next	1.19;

1.19
date	2005.11.29.15.08.13;	author atikhomirov;	state Exp;
branches;
next	1.18;

1.18
date	2005.11.28.17.48.39;	author ashatalin;	state Exp;
branches;
next	1.17;

1.17
date	2005.11.28.16.09.46;	author dstadnik;	state Exp;
branches;
next	1.16;

1.16
date	2005.11.25.12.21.56;	author dstadnik;	state Exp;
branches;
next	1.15;

1.15
date	2005.11.24.15.31.19;	author dstadnik;	state Exp;
branches;
next	1.14;

1.14
date	2005.11.23.13.29.37;	author ashatalin;	state Exp;
branches;
next	1.13;

1.13
date	2005.11.18.11.54.08;	author atikhomirov;	state Exp;
branches;
next	1.12;

1.12
date	2005.11.18.08.35.38;	author dstadnik;	state Exp;
branches;
next	1.11;

1.11
date	2005.11.17.12.38.37;	author ashatalin;	state Exp;
branches;
next	1.10;

1.10
date	2005.11.16.15.45.26;	author ashatalin;	state Exp;
branches;
next	1.9;

1.9
date	2005.11.16.07.42.23;	author dstadnik;	state Exp;
branches;
next	1.8;

1.8
date	2005.11.15.10.51.13;	author dstadnik;	state Exp;
branches;
next	1.7;

1.7
date	2005.11.15.09.09.29;	author dstadnik;	state Exp;
branches;
next	1.6;

1.6
date	2005.11.11.18.52.48;	author dstadnik;	state Exp;
branches;
next	1.5;

1.5
date	2005.11.10.17.21.40;	author ashatalin;	state Exp;
branches;
next	1.4;

1.4
date	2005.11.09.16.29.01;	author ashatalin;	state Exp;
branches;
next	1.3;

1.3
date	2005.11.09.13.20.23;	author atikhomirov;	state Exp;
branches;
next	1.2;

1.2
date	2005.11.08.16.18.53;	author atikhomirov;	state Exp;
branches;
next	1.1;

1.1
date	2005.11.08.15.36.54;	author atikhomirov;	state Exp;
branches;
next	;


desc
@@


1.60
log
@NodeItemSemanticEditPolicy template reimplemented using xpand.
@
text
@package org.eclipse.gmf.codegen.templates.policies;

import java.util.*;
import org.eclipse.emf.codegen.ecore.genmodel.*;
import org.eclipse.gmf.codegen.gmfgen.*;
import org.eclipse.gmf.common.codegen.*;

public class NodeItemSemanticEditPolicyGenerator {
 
  protected static String nl;
  public static synchronized NodeItemSemanticEditPolicyGenerator create(String lineSeparator)
  {
    nl = lineSeparator;
    NodeItemSemanticEditPolicyGenerator result = new NodeItemSemanticEditPolicyGenerator();
    nl = null;
    return result;
  }

  protected final String NL = nl == null ? (System.getProperties().getProperty("line.separator")) : nl;
  protected final String TEXT_1 = "";
  protected final String TEXT_2 = NL + "/*" + NL + " *";
  protected final String TEXT_3 = NL + " */";
  protected final String TEXT_4 = NL + NL + "import org.eclipse.gef.commands.Command;" + NL + "import org.eclipse.gmf.runtime.emf.type.core.commands.DestroyElementCommand;" + NL + "import org.eclipse.gmf.runtime.emf.type.core.requests.CreateRelationshipRequest;" + NL + "import org.eclipse.gmf.runtime.emf.type.core.requests.DestroyElementRequest;" + NL + "import org.eclipse.emf.ecore.EObject;" + NL + "import org.eclipse.emf.ecore.EAnnotation;" + NL + "import org.eclipse.gmf.runtime.notation.View;";
  protected final String TEXT_5 = NL + NL + "/**" + NL + " * @@generated" + NL + " */" + NL + "public class ";
  protected final String TEXT_6 = " extends ";
  protected final String TEXT_7 = " {";
  protected final String TEXT_8 = NL;
  protected final String TEXT_9 = NL;
  protected final String TEXT_10 = "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected ";
  protected final String TEXT_11 = " getCreateCommand(";
  protected final String TEXT_12 = " req) {";
  protected final String TEXT_13 = NL + "\t\tif (";
  protected final String TEXT_14 = ".";
  protected final String TEXT_15 = " == req.getElementType()) {";
  protected final String TEXT_16 = "\t\t" + NL + "\t\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\t\treq.setContainmentFeature(";
  protected final String TEXT_17 = ".eINSTANCE.get";
  protected final String TEXT_18 = "());" + NL + "\t\t\t}";
  protected final String TEXT_19 = NL + "\t\t\treturn getMSLWrapper(new ";
  protected final String TEXT_20 = "(req));" + NL + "\t\t}";
  protected final String TEXT_21 = NL + "\t\treturn super.getCreateCommand(req);" + NL + "\t}";
  protected final String TEXT_22 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getDestroyElementCommand(DestroyElementRequest req) {" + NL + "\t\treturn getMSLWrapper(new DestroyElementCommand(req) {" + NL + "\t\t" + NL + "\t\t\tprotected EObject getElementToDestroy() {" + NL + "\t\t\t\tView view = (View) getHost().getModel();" + NL + "\t\t\t\tEAnnotation annotation = view.getEAnnotation(\"Shortcut\"); //$NON-NLS-1$" + NL + "\t\t\t\tif (annotation != null) {" + NL + "\t\t\t\t\treturn view;" + NL + "\t\t\t\t}" + NL + "\t\t\t\treturn super.getElementToDestroy();" + NL + "\t\t\t}\t\t" + NL;
  protected final String TEXT_23 = NL + "\t\t\tprotected ";
  protected final String TEXT_24 = " doExecuteWithResult(";
  protected final String TEXT_25 = " progressMonitor, ";
  protected final String TEXT_26 = " info) throws ";
  protected final String TEXT_27 = " {" + NL + "\t\t\t\tEObject eObject = getElementToDestroy();" + NL + "\t\t\t\tboolean removeFromResource = eObject.eContainer() == null;" + NL + "\t\t\t\t";
  protected final String TEXT_28 = " result = super.doExecuteWithResult(progressMonitor, info);" + NL + "\t\t\t\t";
  protected final String TEXT_29 = " resource = eObject.eResource();" + NL + "\t\t\t\tif (removeFromResource && resource != null) {" + NL + "\t\t\t\t\tresource.getContents().remove(eObject);" + NL + "\t\t\t\t}" + NL + "\t\t\t\treturn result;" + NL + "\t\t\t}";
  protected final String TEXT_30 = NL + "\t\t});" + NL + "\t}";
  protected final String TEXT_31 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateRelationshipCommand(CreateRelationshipRequest req) {";
  protected final String TEXT_32 = NL + "\t\tif (";
  protected final String TEXT_33 = ".";
  protected final String TEXT_34 = " == req.getElementType()) {" + NL + "\t\t\treturn req.getTarget() == null ? ";
  protected final String TEXT_35 = " : ";
  protected final String TEXT_36 = ";" + NL + "\t\t}";
  protected final String TEXT_37 = NL + "\t\treturn super.getCreateRelationshipCommand(req);" + NL + "\t}";
  protected final String TEXT_38 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_39 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_40 = NL;
  protected final String TEXT_41 = " sourceEObject = ";
  protected final String TEXT_42 = "req.getTarget()";
  protected final String TEXT_43 = "req.getSource()";
  protected final String TEXT_44 = ";";
  protected final String TEXT_45 = NL;
  protected final String TEXT_46 = " targetEObject = ";
  protected final String TEXT_47 = "req.getSource()";
  protected final String TEXT_48 = "req.getTarget()";
  protected final String TEXT_49 = ";" + NL + "if (";
  protected final String TEXT_50 = "(sourceEObject != null && ";
  protected final String TEXT_51 = "false == sourceEObject instanceof ";
  protected final String TEXT_52 = ")";
  protected final String TEXT_53 = " || ";
  protected final String TEXT_54 = "(targetEObject != null && ";
  protected final String TEXT_55 = "false == targetEObject instanceof ";
  protected final String TEXT_56 = ")";
  protected final String TEXT_57 = ") {" + NL + "\treturn ";
  protected final String TEXT_58 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_59 = NL;
  protected final String TEXT_60 = " source = (";
  protected final String TEXT_61 = ") sourceEObject;";
  protected final String TEXT_62 = NL;
  protected final String TEXT_63 = " target = (";
  protected final String TEXT_64 = ") targetEObject;";
  protected final String TEXT_65 = NL;
  protected final String TEXT_66 = NL;
  protected final String TEXT_67 = " container = (";
  protected final String TEXT_68 = ") getRelationshipContainer(source, ";
  protected final String TEXT_69 = ".eINSTANCE.get";
  protected final String TEXT_70 = "(), req.getElementType());" + NL + "if (container == null) {" + NL + "\treturn ";
  protected final String TEXT_71 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_72 = NL + "\t\tif(!";
  protected final String TEXT_73 = "(";
  protected final String TEXT_74 = "container, ";
  protected final String TEXT_75 = "source, target)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_76 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_77 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_78 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_79 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_80 = NL;
  protected final String TEXT_81 = " sourceEObject = ";
  protected final String TEXT_82 = "req.getTarget()";
  protected final String TEXT_83 = "req.getSource()";
  protected final String TEXT_84 = ";";
  protected final String TEXT_85 = NL;
  protected final String TEXT_86 = " targetEObject = ";
  protected final String TEXT_87 = "req.getSource()";
  protected final String TEXT_88 = "req.getTarget()";
  protected final String TEXT_89 = ";" + NL + "if (";
  protected final String TEXT_90 = "(sourceEObject != null && ";
  protected final String TEXT_91 = "false == sourceEObject instanceof ";
  protected final String TEXT_92 = ")";
  protected final String TEXT_93 = " || ";
  protected final String TEXT_94 = "(targetEObject != null && ";
  protected final String TEXT_95 = "false == targetEObject instanceof ";
  protected final String TEXT_96 = ")";
  protected final String TEXT_97 = ") {" + NL + "\treturn ";
  protected final String TEXT_98 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_99 = NL;
  protected final String TEXT_100 = " source = (";
  protected final String TEXT_101 = ") sourceEObject;";
  protected final String TEXT_102 = NL;
  protected final String TEXT_103 = " target = (";
  protected final String TEXT_104 = ") targetEObject;";
  protected final String TEXT_105 = NL;
  protected final String TEXT_106 = NL;
  protected final String TEXT_107 = " container = (";
  protected final String TEXT_108 = ") getRelationshipContainer(source, ";
  protected final String TEXT_109 = ".eINSTANCE.get";
  protected final String TEXT_110 = "(), req.getElementType());" + NL + "if (container == null) {" + NL + "\treturn ";
  protected final String TEXT_111 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_112 = NL + "\t\tif(!";
  protected final String TEXT_113 = "(";
  protected final String TEXT_114 = "container, ";
  protected final String TEXT_115 = "source, target)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_116 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_117 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_118 = ".eINSTANCE.get";
  protected final String TEXT_119 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_120 = "(req, ";
  protected final String TEXT_121 = "container, ";
  protected final String TEXT_122 = "source, target));" + NL + "\t}";
  protected final String TEXT_123 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_124 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_125 = NL;
  protected final String TEXT_126 = " sourceEObject = ";
  protected final String TEXT_127 = "req.getTarget()";
  protected final String TEXT_128 = "req.getSource()";
  protected final String TEXT_129 = ";";
  protected final String TEXT_130 = NL;
  protected final String TEXT_131 = " targetEObject = ";
  protected final String TEXT_132 = "req.getSource()";
  protected final String TEXT_133 = "req.getTarget()";
  protected final String TEXT_134 = ";" + NL + "if (";
  protected final String TEXT_135 = "(sourceEObject != null && ";
  protected final String TEXT_136 = "false == sourceEObject instanceof ";
  protected final String TEXT_137 = ")";
  protected final String TEXT_138 = " || ";
  protected final String TEXT_139 = "(targetEObject != null && ";
  protected final String TEXT_140 = "false == targetEObject instanceof ";
  protected final String TEXT_141 = ")";
  protected final String TEXT_142 = ") {" + NL + "\treturn ";
  protected final String TEXT_143 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_144 = NL;
  protected final String TEXT_145 = " source = (";
  protected final String TEXT_146 = ") sourceEObject;";
  protected final String TEXT_147 = NL;
  protected final String TEXT_148 = " target = (";
  protected final String TEXT_149 = ") targetEObject;";
  protected final String TEXT_150 = NL;
  protected final String TEXT_151 = NL;
  protected final String TEXT_152 = " container = (";
  protected final String TEXT_153 = ") getRelationshipContainer(source, ";
  protected final String TEXT_154 = ".eINSTANCE.get";
  protected final String TEXT_155 = "(), req.getElementType());" + NL + "if (container == null) {" + NL + "\treturn ";
  protected final String TEXT_156 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_157 = NL + "\t\tif(!";
  protected final String TEXT_158 = "(";
  protected final String TEXT_159 = "container, ";
  protected final String TEXT_160 = "source, target)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_161 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_162 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_163 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_164 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_165 = NL;
  protected final String TEXT_166 = " sourceEObject = ";
  protected final String TEXT_167 = "req.getTarget()";
  protected final String TEXT_168 = "req.getSource()";
  protected final String TEXT_169 = ";";
  protected final String TEXT_170 = NL;
  protected final String TEXT_171 = " targetEObject = ";
  protected final String TEXT_172 = "req.getSource()";
  protected final String TEXT_173 = "req.getTarget()";
  protected final String TEXT_174 = ";" + NL + "if (";
  protected final String TEXT_175 = "(sourceEObject != null && ";
  protected final String TEXT_176 = "false == sourceEObject instanceof ";
  protected final String TEXT_177 = ")";
  protected final String TEXT_178 = " || ";
  protected final String TEXT_179 = "(targetEObject != null && ";
  protected final String TEXT_180 = "false == targetEObject instanceof ";
  protected final String TEXT_181 = ")";
  protected final String TEXT_182 = ") {" + NL + "\treturn ";
  protected final String TEXT_183 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_184 = NL;
  protected final String TEXT_185 = " source = (";
  protected final String TEXT_186 = ") sourceEObject;";
  protected final String TEXT_187 = NL;
  protected final String TEXT_188 = " target = (";
  protected final String TEXT_189 = ") targetEObject;";
  protected final String TEXT_190 = NL;
  protected final String TEXT_191 = NL;
  protected final String TEXT_192 = " container = (";
  protected final String TEXT_193 = ") getRelationshipContainer(source, ";
  protected final String TEXT_194 = ".eINSTANCE.get";
  protected final String TEXT_195 = "(), req.getElementType());" + NL + "if (container == null) {" + NL + "\treturn ";
  protected final String TEXT_196 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_197 = NL + "\t\tif(!";
  protected final String TEXT_198 = "(";
  protected final String TEXT_199 = "container, ";
  protected final String TEXT_200 = "source, target)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_201 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_202 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_203 = ".eINSTANCE.get";
  protected final String TEXT_204 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_205 = "(req, ";
  protected final String TEXT_206 = "container, ";
  protected final String TEXT_207 = " source, target));" + NL + "\t}";
  protected final String TEXT_208 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_209 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_210 = NL;
  protected final String TEXT_211 = " sourceEObject = ";
  protected final String TEXT_212 = "req.getTarget()";
  protected final String TEXT_213 = "req.getSource()";
  protected final String TEXT_214 = ";";
  protected final String TEXT_215 = NL;
  protected final String TEXT_216 = " targetEObject = ";
  protected final String TEXT_217 = "req.getSource()";
  protected final String TEXT_218 = "req.getTarget()";
  protected final String TEXT_219 = ";" + NL + "if (";
  protected final String TEXT_220 = "(sourceEObject != null && ";
  protected final String TEXT_221 = "false == sourceEObject instanceof ";
  protected final String TEXT_222 = ")";
  protected final String TEXT_223 = " || ";
  protected final String TEXT_224 = "(targetEObject != null && ";
  protected final String TEXT_225 = "false == targetEObject instanceof ";
  protected final String TEXT_226 = ")";
  protected final String TEXT_227 = ") {" + NL + "\treturn ";
  protected final String TEXT_228 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_229 = NL;
  protected final String TEXT_230 = " source = (";
  protected final String TEXT_231 = ") sourceEObject;";
  protected final String TEXT_232 = NL;
  protected final String TEXT_233 = " target = (";
  protected final String TEXT_234 = ") targetEObject;" + NL + "\t\tif(!";
  protected final String TEXT_235 = "(source, target)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_236 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_237 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_238 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_239 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_240 = NL;
  protected final String TEXT_241 = " sourceEObject = ";
  protected final String TEXT_242 = "req.getTarget()";
  protected final String TEXT_243 = "req.getSource()";
  protected final String TEXT_244 = ";";
  protected final String TEXT_245 = NL;
  protected final String TEXT_246 = " targetEObject = ";
  protected final String TEXT_247 = "req.getSource()";
  protected final String TEXT_248 = "req.getTarget()";
  protected final String TEXT_249 = ";" + NL + "if (";
  protected final String TEXT_250 = "(sourceEObject != null && ";
  protected final String TEXT_251 = "false == sourceEObject instanceof ";
  protected final String TEXT_252 = ")";
  protected final String TEXT_253 = " || ";
  protected final String TEXT_254 = "(targetEObject != null && ";
  protected final String TEXT_255 = "false == targetEObject instanceof ";
  protected final String TEXT_256 = ")";
  protected final String TEXT_257 = ") {" + NL + "\treturn ";
  protected final String TEXT_258 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_259 = NL;
  protected final String TEXT_260 = " source = (";
  protected final String TEXT_261 = ") sourceEObject;";
  protected final String TEXT_262 = NL;
  protected final String TEXT_263 = " target = (";
  protected final String TEXT_264 = ") targetEObject;" + NL + "\t\tif(!";
  protected final String TEXT_265 = "(source, target)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_266 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_267 = NL + "\t\t";
  protected final String TEXT_268 = " setReq = new ";
  protected final String TEXT_269 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_270 = ".eINSTANCE.get";
  protected final String TEXT_271 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_272 = "(setReq));" + NL + "\t}";
  protected final String TEXT_273 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_274 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_275 = NL;
  protected final String TEXT_276 = " sourceEObject = ";
  protected final String TEXT_277 = "req.getTarget()";
  protected final String TEXT_278 = "req.getSource()";
  protected final String TEXT_279 = ";";
  protected final String TEXT_280 = NL;
  protected final String TEXT_281 = " targetEObject = ";
  protected final String TEXT_282 = "req.getSource()";
  protected final String TEXT_283 = "req.getTarget()";
  protected final String TEXT_284 = ";" + NL + "if (";
  protected final String TEXT_285 = "(sourceEObject != null && ";
  protected final String TEXT_286 = "false == sourceEObject instanceof ";
  protected final String TEXT_287 = ")";
  protected final String TEXT_288 = " || ";
  protected final String TEXT_289 = "(targetEObject != null && ";
  protected final String TEXT_290 = "false == targetEObject instanceof ";
  protected final String TEXT_291 = ")";
  protected final String TEXT_292 = ") {" + NL + "\treturn ";
  protected final String TEXT_293 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_294 = NL;
  protected final String TEXT_295 = " source = (";
  protected final String TEXT_296 = ") sourceEObject;";
  protected final String TEXT_297 = NL;
  protected final String TEXT_298 = " target = (";
  protected final String TEXT_299 = ") targetEObject;" + NL + "\t\tif(!";
  protected final String TEXT_300 = "(source, target)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_301 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_302 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_303 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_304 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_305 = NL;
  protected final String TEXT_306 = " sourceEObject = ";
  protected final String TEXT_307 = "req.getTarget()";
  protected final String TEXT_308 = "req.getSource()";
  protected final String TEXT_309 = ";";
  protected final String TEXT_310 = NL;
  protected final String TEXT_311 = " targetEObject = ";
  protected final String TEXT_312 = "req.getSource()";
  protected final String TEXT_313 = "req.getTarget()";
  protected final String TEXT_314 = ";" + NL + "if (";
  protected final String TEXT_315 = "(sourceEObject != null && ";
  protected final String TEXT_316 = "false == sourceEObject instanceof ";
  protected final String TEXT_317 = ")";
  protected final String TEXT_318 = " || ";
  protected final String TEXT_319 = "(targetEObject != null && ";
  protected final String TEXT_320 = "false == targetEObject instanceof ";
  protected final String TEXT_321 = ")";
  protected final String TEXT_322 = ") {" + NL + "\treturn ";
  protected final String TEXT_323 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_324 = NL;
  protected final String TEXT_325 = " source = (";
  protected final String TEXT_326 = ") sourceEObject;";
  protected final String TEXT_327 = NL;
  protected final String TEXT_328 = " target = (";
  protected final String TEXT_329 = ") targetEObject;" + NL + "\t\tif(!";
  protected final String TEXT_330 = "(source, target)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_331 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_332 = NL + "\t\t";
  protected final String TEXT_333 = " setReq = new ";
  protected final String TEXT_334 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_335 = ".eINSTANCE.get";
  protected final String TEXT_336 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_337 = "(setReq));" + NL + "\t}";
  protected final String TEXT_338 = NL + "}";
  protected final String TEXT_339 = NL;

	protected final String getFeatureValueGetter(String containerName, GenFeature feature, boolean isContainerEObject, ImportAssistant importManager) {
		StringBuffer result = new StringBuffer();
		if (feature.getGenClass().isExternalInterface()) {
// Using EMF reflective method to access feature value
			result.append("((");
			if (feature.isListType()) {
				result.append(importManager.getImportedName("java.util.Collection"));
			} else {
				if (feature.getTypeGenClass() != null) {
					result.append(importManager.getImportedName(feature.getTypeGenClass().getQualifiedInterfaceName()));
				} else {
					// EDataType
					result.append(importManager.getImportedName(feature.getTypeGenClassifier().getEcoreClassifier().getInstanceClassName()));
				}

			}
			result.append(")");
			if (!isContainerEObject) {
// Casting container to EObject - ExternalIntarfce could be not an instance of EObject
				result.append("((");
				result.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
				result.append(")");
			}
			result.append(containerName);
			if (!isContainerEObject) {
				result.append(")");
			}
			result.append(".eGet(");
			result.append(importManager.getImportedName(feature.getGenPackage().getQualifiedPackageInterfaceName()));
			result.append(".eINSTANCE.get");
			result.append(feature.getFeatureAccessorName());
			result.append("()))");
		} else {
			if (isContainerEObject) {
// Casting container to the typed interface
				result.append("((");
				result.append(importManager.getImportedName(feature.getGenClass().getQualifiedInterfaceName()));
				result.append(")");
			}
			result.append(containerName);
			if (isContainerEObject) {
				result.append(")");
			}
			result.append(".");
			result.append(feature.getGetAccessor());
			result.append("()");
		}
		return result.toString();
	}
	
	protected final String getFeatureValueSetterPrefix(String containerName, GenFeature feature, boolean isContainerEObject, ImportAssistant importManager) {
		StringBuffer result = new StringBuffer();
		if (feature.getGenClass().isExternalInterface()) {
// Using EMF reflective method to access feature value
			if (!isContainerEObject) {
// Casting container to EObject - ExternalIntarfce could be not an instance of EObject
				result.append("((");
				result.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
				result.append(")");
			}
			result.append(containerName);
			if (!isContainerEObject) {
				result.append(")");
			}
			result.append(".eSet(");
			result.append(importManager.getImportedName(feature.getGenPackage().getQualifiedPackageInterfaceName()));
			result.append(".eINSTANCE.get");
			result.append(feature.getFeatureAccessorName());
			result.append("(), ");
		} else {
			if (isContainerEObject) {
// Casting container to the typed interface
				result.append("((");
				result.append(importManager.getImportedName(feature.getGenClass().getQualifiedInterfaceName()));
				result.append(")");
			}
			result.append(containerName);
			if (isContainerEObject) {
				result.append(")");
			}
			if (feature.isListType()) {
				result.append(".");
				result.append(feature.getGetAccessor());
				result.append("().add(");
			} else {
				result.append(".set");
				result.append(feature.getAccessorName());
				result.append("(");
			}
		}
		return result.toString();
	}
 
	protected final String getMetaClassAccessor(GenClass genClass, ImportAssistant importManager) {
		StringBuffer buf = new StringBuffer();
		buf.append(importManager.getImportedName(genClass.getGenPackage().getQualifiedPackageInterfaceName()))
			.append(".eINSTANCE.get") //$NON-NLS-1$
			.append(genClass.getName())
			.append("()"); //$NON-NLS-1$
		return buf.toString();
	} 
 
	public String generate(Object argument)
  {
    final StringBuffer stringBuffer = new StringBuffer();
    
final GenNode genNode = (GenNode) ((Object[]) argument)[0];
final ImportAssistant importManager = (ImportAssistant) ((Object[]) argument)[1];
GenDiagram genDiagram = genNode.getDiagram();

    stringBuffer.append(TEXT_1);
    
String copyrightText = genDiagram.getEditorGen().getCopyrightText();
if (copyrightText != null && copyrightText.trim().length() > 0) {

    stringBuffer.append(TEXT_2);
    stringBuffer.append(copyrightText.replaceAll("\n", "\n *"));
    stringBuffer.append(TEXT_3);
    }
    importManager.emitPackageStatement(stringBuffer);
    stringBuffer.append(TEXT_4);
    importManager.markImportLocation(stringBuffer);
    stringBuffer.append(TEXT_5);
    stringBuffer.append(genNode.getItemSemanticEditPolicyClassName());
    stringBuffer.append(TEXT_6);
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName()));
    stringBuffer.append(TEXT_7);
    
if (genNode.getChildNodes().size() > 0 && genNode.getModelFacet() != null) {
	Collection childNodes = genNode.getChildNodes();

    stringBuffer.append(TEXT_8);
    stringBuffer.append(TEXT_9);
    stringBuffer.append(TEXT_10);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.Command"));
    stringBuffer.append(TEXT_11);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.requests.CreateElementRequest"));
    stringBuffer.append(TEXT_12);
    for (Iterator nodes = childNodes.iterator(); nodes.hasNext(); ) {
	GenNode genChildNode = (GenNode) nodes.next();
	TypeModelFacet modelFacet = genChildNode.getModelFacet();
	if (modelFacet == null) {
		continue;
	}
    stringBuffer.append(TEXT_13);
    stringBuffer.append(importManager.getImportedName(genDiagram.getElementTypesQualifiedClassName()));
    stringBuffer.append(TEXT_14);
    stringBuffer.append(genChildNode.getUniqueIdentifier());
    stringBuffer.append(TEXT_15);
    	if (!modelFacet.isPhantomElement()) {
    stringBuffer.append(TEXT_16);
    stringBuffer.append(importManager.getImportedName(modelFacet.getContainmentMetaFeature().getGenPackage().getQualifiedPackageInterfaceName()));
    stringBuffer.append(TEXT_17);
    stringBuffer.append(modelFacet.getContainmentMetaFeature().getFeatureAccessorName());
    stringBuffer.append(TEXT_18);
    	}
    stringBuffer.append(TEXT_19);
    stringBuffer.append(importManager.getImportedName(genChildNode.getCreateCommandQualifiedClassName()));
    stringBuffer.append(TEXT_20);
    }
    stringBuffer.append(TEXT_21);
    }
    stringBuffer.append(TEXT_22);
    	if (genNode.getModelFacet() != null && genNode.getModelFacet().isPhantomElement()) {
    stringBuffer.append(TEXT_23);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.common.core.command.CommandResult"));
    stringBuffer.append(TEXT_24);
    stringBuffer.append(importManager.getImportedName("org.eclipse.core.runtime.IProgressMonitor"));
    stringBuffer.append(TEXT_25);
    stringBuffer.append(importManager.getImportedName("org.eclipse.core.runtime.IAdaptable"));
    stringBuffer.append(TEXT_26);
    stringBuffer.append(importManager.getImportedName("org.eclipse.core.commands.ExecutionException"));
    stringBuffer.append(TEXT_27);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.common.core.command.CommandResult"));
    stringBuffer.append(TEXT_28);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.resource.Resource"));
    stringBuffer.append(TEXT_29);
    	}
    stringBuffer.append(TEXT_30);
    
final String OUTGOING_TOKEN = "Outgoing";
final String INCOMING_TOKEN = "Incoming";

    stringBuffer.append(TEXT_31);
    
for (Iterator links = genDiagram.getLinks().iterator(); links.hasNext(); ) {
	GenLink genLink = (GenLink) links.next();
	if (!genLink.isOutgoingCreationAllowed() && !genLink.isIncomingCreationAllowed() || genLink.getModelFacet() == null) {
		continue;
	}
	String namePartSuffix = null;
	GenClass outgoingClass;
	GenClass incomingClass;
	if (genLink.getModelFacet() instanceof TypeLinkModelFacet) {
		TypeLinkModelFacet modelFacet = (TypeLinkModelFacet) genLink.getModelFacet();
		outgoingClass = modelFacet.getSourceMetaFeature() == null
			? modelFacet.getContainmentMetaFeature().getGenClass()
			: modelFacet.getSourceMetaFeature().getTypeGenClass();
		incomingClass = modelFacet.getTargetMetaFeature().getTypeGenClass();
		namePartSuffix = modelFacet.getMetaClass().getName();
	} else if (genLink.getModelFacet() instanceof FeatureLinkModelFacet) {
		GenFeature metaFeature = ((FeatureLinkModelFacet) genLink.getModelFacet()).getMetaFeature();
		outgoingClass = metaFeature.getGenClass();
		incomingClass = metaFeature.getTypeGenClass();
		namePartSuffix = metaFeature.getFeatureAccessorName();
	} else {
		continue;
	}
	if (genNode.getModelFacet() == null) {
		continue;
	}
	GenClass nodeMetaClass = genNode.getModelFacet().getMetaClass();
	boolean canBeSource = outgoingClass.getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass());
	boolean canBeTarget = incomingClass.getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass());
	if (!canBeSource && !canBeTarget) {
		continue;
	}
	boolean selfLink = canBeSource & canBeTarget;
	namePartSuffix += genLink.getVisualID();
	String startCommandGetter = "null";
	if (canBeSource && genLink.isOutgoingCreationAllowed()) {
		startCommandGetter = "getCreateStart" + OUTGOING_TOKEN + namePartSuffix + "Command(req)";
	} else if (canBeTarget && genLink.isIncomingCreationAllowed() && !selfLink) {
		startCommandGetter = "getCreateStart" + INCOMING_TOKEN + namePartSuffix + "Command(req)";
	}
	String endCommandGetter = "null";
	if (canBeSource && genLink.isIncomingCreationAllowed() && !selfLink) {
		endCommandGetter = "getCreateComplete" + OUTGOING_TOKEN + namePartSuffix + "Command(req)";
	} else if (canBeTarget && genLink.isOutgoingCreationAllowed()) {
		endCommandGetter = "getCreateComplete" + INCOMING_TOKEN + namePartSuffix + "Command(req)";
	}

    stringBuffer.append(TEXT_32);
    stringBuffer.append(importManager.getImportedName(genDiagram.getElementTypesQualifiedClassName()));
    stringBuffer.append(TEXT_33);
    stringBuffer.append(genLink.getUniqueIdentifier());
    stringBuffer.append(TEXT_34);
    stringBuffer.append(startCommandGetter);
    stringBuffer.append(TEXT_35);
    stringBuffer.append(endCommandGetter);
    stringBuffer.append(TEXT_36);
    }
    stringBuffer.append(TEXT_37);
    
for (Iterator links = genDiagram.getLinks().iterator(); links.hasNext(); ) {
	GenLink genLink = (GenLink) links.next();

	if (genLink.getModelFacet() instanceof TypeLinkModelFacet) {
//
//
//
////////////////////////
// Type Link Commands //
////////////////////////
//
//
//
		TypeLinkModelFacet modelFacet = (TypeLinkModelFacet) genLink.getModelFacet();
		GenClass outgoingClass = modelFacet.getSourceMetaFeature() == null
			? modelFacet.getContainmentMetaFeature().getGenClass()
			: modelFacet.getSourceMetaFeature().getTypeGenClass();
		GenClass incomingClass = modelFacet.getTargetMetaFeature().getTypeGenClass();
		GenFeature containmentFeature = modelFacet.getContainmentMetaFeature();
/**
 * Model element could be source of the link or target of the link. It can be both source and 
 * target only in case of selfLink.
 **/
		if (genNode.getModelFacet() == null) {
			continue;
		}
		GenClass nodeMetaClass = genNode.getModelFacet().getMetaClass();
		boolean canBeSource = outgoingClass.getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass());
		boolean canBeTarget = incomingClass.getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass());		
		boolean selfLink = canBeSource && canBeTarget;
		
/**
 * Start  		start of link creation. 
 *				User click to this editpart and start dragging with link tool.
 * Complete 	end of the command
 *				User points to this editpart as a link target and release mouse button.
 *
 * Outgoing 	the node is link source
 *				This element could be a source for this type of link.
 * Incoming		the node is link destination
 *				This element could be a target for this type of link.
 *
 **/
		boolean generateStartOutgoingCommand = canBeSource && genLink.isOutgoingCreationAllowed();
		boolean generateCompleteOutgoingCommand = canBeSource && genLink.isIncomingCreationAllowed() && !selfLink;
		boolean generateStartIncomingCommand = canBeTarget && genLink.isIncomingCreationAllowed() && !selfLink;
		boolean generateCompleteIncomingCommand = canBeTarget && genLink.isOutgoingCreationAllowed();
		
		String namePartSuffix = modelFacet.getMetaClass().getName() + genLink.getVisualID();
		
		
// 1. StartOutgoingCommand

		if (generateStartOutgoingCommand) {
			String namePart = OUTGOING_TOKEN + namePartSuffix;

    stringBuffer.append(TEXT_38);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_39);
    			boolean reversedRequest = false;
			boolean nullTargetAllowed = true;
    stringBuffer.append(TEXT_40);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_41);
     if (reversedRequest) {
    stringBuffer.append(TEXT_42);
    } else {
    stringBuffer.append(TEXT_43);
    }
    stringBuffer.append(TEXT_44);
    stringBuffer.append(TEXT_45);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_46);
     if (reversedRequest) {
    stringBuffer.append(TEXT_47);
    } else {
    stringBuffer.append(TEXT_48);
    }
    stringBuffer.append(TEXT_49);
    if (nullTargetAllowed && reversedRequest) {
    stringBuffer.append(TEXT_50);
    }
    stringBuffer.append(TEXT_51);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    if (nullTargetAllowed && reversedRequest) {
    stringBuffer.append(TEXT_52);
    }
    stringBuffer.append(TEXT_53);
    if (nullTargetAllowed && !reversedRequest) {
    stringBuffer.append(TEXT_54);
    }
    stringBuffer.append(TEXT_55);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    if (nullTargetAllowed && !reversedRequest) {
    stringBuffer.append(TEXT_56);
    }
    stringBuffer.append(TEXT_57);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_58);
    stringBuffer.append(TEXT_59);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_60);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_61);
    stringBuffer.append(TEXT_62);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_63);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_64);
    stringBuffer.append(TEXT_65);
    if (modelFacet.getSourceMetaFeature() != null) {
	String containerClassName = importManager.getImportedName(containmentFeature.getGenClass().getQualifiedInterfaceName());
    stringBuffer.append(TEXT_66);
    stringBuffer.append(containerClassName);
    stringBuffer.append(TEXT_67);
    stringBuffer.append(containerClassName);
    stringBuffer.append(TEXT_68);
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
    stringBuffer.append(TEXT_69);
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
    stringBuffer.append(TEXT_70);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_71);
    }
    stringBuffer.append(TEXT_72);
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+".canCreate"+genLink.getUniqueIdentifier());
    stringBuffer.append(TEXT_73);
    if (modelFacet.getSourceMetaFeature() != null) {
    stringBuffer.append(TEXT_74);
    }
    stringBuffer.append(TEXT_75);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_76);
     // create always executable command 
    stringBuffer.append(TEXT_77);
    
		}
		
		
// 2. CompleteOutgoingCommand

		if (generateCompleteOutgoingCommand) {
			String namePart = OUTGOING_TOKEN + namePartSuffix;

    stringBuffer.append(TEXT_78);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_79);
    			boolean reversedRequest = true;
			boolean nullTargetAllowed = false;
    stringBuffer.append(TEXT_80);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_81);
     if (reversedRequest) {
    stringBuffer.append(TEXT_82);
    } else {
    stringBuffer.append(TEXT_83);
    }
    stringBuffer.append(TEXT_84);
    stringBuffer.append(TEXT_85);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_86);
     if (reversedRequest) {
    stringBuffer.append(TEXT_87);
    } else {
    stringBuffer.append(TEXT_88);
    }
    stringBuffer.append(TEXT_89);
    if (nullTargetAllowed && reversedRequest) {
    stringBuffer.append(TEXT_90);
    }
    stringBuffer.append(TEXT_91);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    if (nullTargetAllowed && reversedRequest) {
    stringBuffer.append(TEXT_92);
    }
    stringBuffer.append(TEXT_93);
    if (nullTargetAllowed && !reversedRequest) {
    stringBuffer.append(TEXT_94);
    }
    stringBuffer.append(TEXT_95);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    if (nullTargetAllowed && !reversedRequest) {
    stringBuffer.append(TEXT_96);
    }
    stringBuffer.append(TEXT_97);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_98);
    stringBuffer.append(TEXT_99);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_100);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_101);
    stringBuffer.append(TEXT_102);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_103);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_104);
    stringBuffer.append(TEXT_105);
    if (modelFacet.getSourceMetaFeature() != null) {
	String containerClassName = importManager.getImportedName(containmentFeature.getGenClass().getQualifiedInterfaceName());
    stringBuffer.append(TEXT_106);
    stringBuffer.append(containerClassName);
    stringBuffer.append(TEXT_107);
    stringBuffer.append(containerClassName);
    stringBuffer.append(TEXT_108);
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
    stringBuffer.append(TEXT_109);
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
    stringBuffer.append(TEXT_110);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_111);
    }
    stringBuffer.append(TEXT_112);
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+".canCreate"+genLink.getUniqueIdentifier());
    stringBuffer.append(TEXT_113);
    if (modelFacet.getSourceMetaFeature() != null) {
    stringBuffer.append(TEXT_114);
    }
    stringBuffer.append(TEXT_115);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_116);
     // create semantic command 
    stringBuffer.append(TEXT_117);
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenPackage().getQualifiedPackageInterfaceName()));
    stringBuffer.append(TEXT_118);
    stringBuffer.append(containmentFeature.getFeatureAccessorName());
    stringBuffer.append(TEXT_119);
    stringBuffer.append(importManager.getImportedName(modelFacet.getCreateCommandQualifiedClassName()));
    stringBuffer.append(TEXT_120);
    if (modelFacet.getSourceMetaFeature() != null) {
    stringBuffer.append(TEXT_121);
    }
    stringBuffer.append(TEXT_122);
    
		}
			
			
// 3. StartIncomingCommand
			
		if (generateStartIncomingCommand) {
			String namePart = INCOMING_TOKEN + namePartSuffix;

    stringBuffer.append(TEXT_123);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_124);
    			boolean reversedRequest = true;
			boolean nullTargetAllowed = true;
    stringBuffer.append(TEXT_125);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_126);
     if (reversedRequest) {
    stringBuffer.append(TEXT_127);
    } else {
    stringBuffer.append(TEXT_128);
    }
    stringBuffer.append(TEXT_129);
    stringBuffer.append(TEXT_130);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_131);
     if (reversedRequest) {
    stringBuffer.append(TEXT_132);
    } else {
    stringBuffer.append(TEXT_133);
    }
    stringBuffer.append(TEXT_134);
    if (nullTargetAllowed && reversedRequest) {
    stringBuffer.append(TEXT_135);
    }
    stringBuffer.append(TEXT_136);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    if (nullTargetAllowed && reversedRequest) {
    stringBuffer.append(TEXT_137);
    }
    stringBuffer.append(TEXT_138);
    if (nullTargetAllowed && !reversedRequest) {
    stringBuffer.append(TEXT_139);
    }
    stringBuffer.append(TEXT_140);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    if (nullTargetAllowed && !reversedRequest) {
    stringBuffer.append(TEXT_141);
    }
    stringBuffer.append(TEXT_142);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_143);
    stringBuffer.append(TEXT_144);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_145);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_146);
    stringBuffer.append(TEXT_147);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_148);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_149);
    stringBuffer.append(TEXT_150);
    if (modelFacet.getSourceMetaFeature() != null) {
	String containerClassName = importManager.getImportedName(containmentFeature.getGenClass().getQualifiedInterfaceName());
    stringBuffer.append(TEXT_151);
    stringBuffer.append(containerClassName);
    stringBuffer.append(TEXT_152);
    stringBuffer.append(containerClassName);
    stringBuffer.append(TEXT_153);
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
    stringBuffer.append(TEXT_154);
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
    stringBuffer.append(TEXT_155);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_156);
    }
    stringBuffer.append(TEXT_157);
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+".canCreate"+genLink.getUniqueIdentifier());
    stringBuffer.append(TEXT_158);
    if (modelFacet.getSourceMetaFeature() != null) {
    stringBuffer.append(TEXT_159);
    }
    stringBuffer.append(TEXT_160);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_161);
     // create always executable command 
    stringBuffer.append(TEXT_162);
    
		}
		
		
// 4. CompleteIncomingCommand
		
		if (generateCompleteIncomingCommand) {	
			String namePart = INCOMING_TOKEN + namePartSuffix;

    stringBuffer.append(TEXT_163);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_164);
    			boolean reversedRequest = false;
			boolean nullTargetAllowed = false;
    stringBuffer.append(TEXT_165);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_166);
     if (reversedRequest) {
    stringBuffer.append(TEXT_167);
    } else {
    stringBuffer.append(TEXT_168);
    }
    stringBuffer.append(TEXT_169);
    stringBuffer.append(TEXT_170);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_171);
     if (reversedRequest) {
    stringBuffer.append(TEXT_172);
    } else {
    stringBuffer.append(TEXT_173);
    }
    stringBuffer.append(TEXT_174);
    if (nullTargetAllowed && reversedRequest) {
    stringBuffer.append(TEXT_175);
    }
    stringBuffer.append(TEXT_176);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    if (nullTargetAllowed && reversedRequest) {
    stringBuffer.append(TEXT_177);
    }
    stringBuffer.append(TEXT_178);
    if (nullTargetAllowed && !reversedRequest) {
    stringBuffer.append(TEXT_179);
    }
    stringBuffer.append(TEXT_180);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    if (nullTargetAllowed && !reversedRequest) {
    stringBuffer.append(TEXT_181);
    }
    stringBuffer.append(TEXT_182);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_183);
    stringBuffer.append(TEXT_184);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_185);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_186);
    stringBuffer.append(TEXT_187);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_188);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_189);
    stringBuffer.append(TEXT_190);
    if (modelFacet.getSourceMetaFeature() != null) {
	String containerClassName = importManager.getImportedName(containmentFeature.getGenClass().getQualifiedInterfaceName());
    stringBuffer.append(TEXT_191);
    stringBuffer.append(containerClassName);
    stringBuffer.append(TEXT_192);
    stringBuffer.append(containerClassName);
    stringBuffer.append(TEXT_193);
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
    stringBuffer.append(TEXT_194);
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
    stringBuffer.append(TEXT_195);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_196);
    }
    stringBuffer.append(TEXT_197);
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+".canCreate"+genLink.getUniqueIdentifier());
    stringBuffer.append(TEXT_198);
    if (modelFacet.getSourceMetaFeature() != null) {
    stringBuffer.append(TEXT_199);
    }
    stringBuffer.append(TEXT_200);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_201);
     // create semantic command 
    stringBuffer.append(TEXT_202);
    stringBuffer.append(importManager.getImportedName(modelFacet.getContainmentMetaFeature().getGenPackage().getQualifiedPackageInterfaceName()));
    stringBuffer.append(TEXT_203);
    stringBuffer.append(modelFacet.getContainmentMetaFeature().getFeatureAccessorName());
    stringBuffer.append(TEXT_204);
    stringBuffer.append(importManager.getImportedName(modelFacet.getCreateCommandQualifiedClassName()));
    stringBuffer.append(TEXT_205);
    if (modelFacet.getSourceMetaFeature() != null) {
    stringBuffer.append(TEXT_206);
    }
    stringBuffer.append(TEXT_207);
    
		}

	} else if (genLink.getModelFacet() instanceof FeatureLinkModelFacet) {
//
//
//
////////////////////////
// Feat Link Commands //
////////////////////////
//
//
//
		GenFeature metaFeature = ((FeatureLinkModelFacet) genLink.getModelFacet()).getMetaFeature();
		GenClass outgoingClass = metaFeature.getGenClass();
		GenClass incomingClass = metaFeature.getTypeGenClass();
		
/**
 * Model element could be source of the link or target of the link. It can be both source and 
 * target only in case of selfLink.
 **/
		if (genNode.getModelFacet() == null) {
			continue;
		}
		GenClass nodeMetaClass = genNode.getModelFacet().getMetaClass();
		boolean canBeSource = outgoingClass.getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass());
		boolean canBeTarget = incomingClass.getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass());		
		boolean selfLink = canBeSource && canBeTarget;
		
/**
 * Start  		start of link creation. 
 *				User click to this editpart and start dragging with link tool.
 * Complete 	end of the command
 *				User points to this editpart as a link target and release mouse button.
 *
 * Outgoing 	the node is link source
 *				This element could be a source for this type of link.
 * Incoming		the node is link destination
 *				This element could be a target for this type of link.
 *
 **/
		boolean generateStartOutgoingCommand = canBeSource && genLink.isOutgoingCreationAllowed();
		boolean generateCompleteOutgoingCommand = canBeSource && genLink.isIncomingCreationAllowed() && !selfLink;
		boolean generateStartIncomingCommand = canBeTarget && genLink.isIncomingCreationAllowed() && !selfLink;
		boolean generateCompleteIncomingCommand = canBeTarget && genLink.isOutgoingCreationAllowed();
		
		String namePartSuffix = metaFeature.getFeatureAccessorName() + genLink.getVisualID();
		
		
// 1. StartOutgoingCommand
		
		if (generateStartOutgoingCommand) {
			String namePart = OUTGOING_TOKEN + namePartSuffix;

    stringBuffer.append(TEXT_208);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_209);
    			boolean reversedRequest = false;
			boolean nullTargetAllowed = true;
    stringBuffer.append(TEXT_210);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_211);
     if (reversedRequest) {
    stringBuffer.append(TEXT_212);
    } else {
    stringBuffer.append(TEXT_213);
    }
    stringBuffer.append(TEXT_214);
    stringBuffer.append(TEXT_215);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_216);
     if (reversedRequest) {
    stringBuffer.append(TEXT_217);
    } else {
    stringBuffer.append(TEXT_218);
    }
    stringBuffer.append(TEXT_219);
    if (nullTargetAllowed && reversedRequest) {
    stringBuffer.append(TEXT_220);
    }
    stringBuffer.append(TEXT_221);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    if (nullTargetAllowed && reversedRequest) {
    stringBuffer.append(TEXT_222);
    }
    stringBuffer.append(TEXT_223);
    if (nullTargetAllowed && !reversedRequest) {
    stringBuffer.append(TEXT_224);
    }
    stringBuffer.append(TEXT_225);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    if (nullTargetAllowed && !reversedRequest) {
    stringBuffer.append(TEXT_226);
    }
    stringBuffer.append(TEXT_227);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_228);
    stringBuffer.append(TEXT_229);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_230);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_231);
    stringBuffer.append(TEXT_232);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_233);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_234);
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+".canCreate"+genLink.getUniqueIdentifier());
    stringBuffer.append(TEXT_235);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_236);
     // create always executable command 
    stringBuffer.append(TEXT_237);
    
		}
		
		
// 2. CompleteOutgoingCommand

		if (generateCompleteOutgoingCommand) {
			String namePart = OUTGOING_TOKEN + namePartSuffix;

    stringBuffer.append(TEXT_238);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_239);
    			boolean reversedRequest = true;
			boolean nullTargetAllowed = false;
    stringBuffer.append(TEXT_240);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_241);
     if (reversedRequest) {
    stringBuffer.append(TEXT_242);
    } else {
    stringBuffer.append(TEXT_243);
    }
    stringBuffer.append(TEXT_244);
    stringBuffer.append(TEXT_245);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_246);
     if (reversedRequest) {
    stringBuffer.append(TEXT_247);
    } else {
    stringBuffer.append(TEXT_248);
    }
    stringBuffer.append(TEXT_249);
    if (nullTargetAllowed && reversedRequest) {
    stringBuffer.append(TEXT_250);
    }
    stringBuffer.append(TEXT_251);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    if (nullTargetAllowed && reversedRequest) {
    stringBuffer.append(TEXT_252);
    }
    stringBuffer.append(TEXT_253);
    if (nullTargetAllowed && !reversedRequest) {
    stringBuffer.append(TEXT_254);
    }
    stringBuffer.append(TEXT_255);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    if (nullTargetAllowed && !reversedRequest) {
    stringBuffer.append(TEXT_256);
    }
    stringBuffer.append(TEXT_257);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_258);
    stringBuffer.append(TEXT_259);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_260);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_261);
    stringBuffer.append(TEXT_262);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_263);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_264);
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+".canCreate"+genLink.getUniqueIdentifier());
    stringBuffer.append(TEXT_265);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_266);
     // create semantic command 
    stringBuffer.append(TEXT_267);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.requests.SetRequest"));
    stringBuffer.append(TEXT_268);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.requests.SetRequest"));
    stringBuffer.append(TEXT_269);
    stringBuffer.append(importManager.getImportedName(metaFeature.getGenPackage().getQualifiedPackageInterfaceName()));
    stringBuffer.append(TEXT_270);
    stringBuffer.append(metaFeature.getFeatureAccessorName());
    stringBuffer.append(TEXT_271);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.commands.SetValueCommand"));
    stringBuffer.append(TEXT_272);
    
		}
		
		
// 3. StartIncomingCommand
		
		if (generateStartIncomingCommand) {
			String namePart = INCOMING_TOKEN + namePartSuffix;

    stringBuffer.append(TEXT_273);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_274);
    			boolean reversedRequest = true;
			boolean nullTargetAllowed = true;
    stringBuffer.append(TEXT_275);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_276);
     if (reversedRequest) {
    stringBuffer.append(TEXT_277);
    } else {
    stringBuffer.append(TEXT_278);
    }
    stringBuffer.append(TEXT_279);
    stringBuffer.append(TEXT_280);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_281);
     if (reversedRequest) {
    stringBuffer.append(TEXT_282);
    } else {
    stringBuffer.append(TEXT_283);
    }
    stringBuffer.append(TEXT_284);
    if (nullTargetAllowed && reversedRequest) {
    stringBuffer.append(TEXT_285);
    }
    stringBuffer.append(TEXT_286);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    if (nullTargetAllowed && reversedRequest) {
    stringBuffer.append(TEXT_287);
    }
    stringBuffer.append(TEXT_288);
    if (nullTargetAllowed && !reversedRequest) {
    stringBuffer.append(TEXT_289);
    }
    stringBuffer.append(TEXT_290);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    if (nullTargetAllowed && !reversedRequest) {
    stringBuffer.append(TEXT_291);
    }
    stringBuffer.append(TEXT_292);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_293);
    stringBuffer.append(TEXT_294);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_295);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_296);
    stringBuffer.append(TEXT_297);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_298);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_299);
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+".canCreate"+genLink.getUniqueIdentifier());
    stringBuffer.append(TEXT_300);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_301);
     // no feasible restrictions here 
    stringBuffer.append(TEXT_302);
    
		}
		
		
// 4. CompleteIncomingCommand

		if (generateCompleteIncomingCommand) {
			String namePart = INCOMING_TOKEN + namePartSuffix;

    stringBuffer.append(TEXT_303);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_304);
    			boolean reversedRequest = false;
			boolean nullTargetAllowed = false;
    stringBuffer.append(TEXT_305);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_306);
     if (reversedRequest) {
    stringBuffer.append(TEXT_307);
    } else {
    stringBuffer.append(TEXT_308);
    }
    stringBuffer.append(TEXT_309);
    stringBuffer.append(TEXT_310);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_311);
     if (reversedRequest) {
    stringBuffer.append(TEXT_312);
    } else {
    stringBuffer.append(TEXT_313);
    }
    stringBuffer.append(TEXT_314);
    if (nullTargetAllowed && reversedRequest) {
    stringBuffer.append(TEXT_315);
    }
    stringBuffer.append(TEXT_316);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    if (nullTargetAllowed && reversedRequest) {
    stringBuffer.append(TEXT_317);
    }
    stringBuffer.append(TEXT_318);
    if (nullTargetAllowed && !reversedRequest) {
    stringBuffer.append(TEXT_319);
    }
    stringBuffer.append(TEXT_320);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    if (nullTargetAllowed && !reversedRequest) {
    stringBuffer.append(TEXT_321);
    }
    stringBuffer.append(TEXT_322);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_323);
    stringBuffer.append(TEXT_324);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_325);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_326);
    stringBuffer.append(TEXT_327);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_328);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_329);
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+".canCreate"+genLink.getUniqueIdentifier());
    stringBuffer.append(TEXT_330);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_331);
     // create semantic command 
    stringBuffer.append(TEXT_332);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.requests.SetRequest"));
    stringBuffer.append(TEXT_333);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.requests.SetRequest"));
    stringBuffer.append(TEXT_334);
    stringBuffer.append(importManager.getImportedName(metaFeature.getGenPackage().getQualifiedPackageInterfaceName()));
    stringBuffer.append(TEXT_335);
    stringBuffer.append(metaFeature.getFeatureAccessorName());
    stringBuffer.append(TEXT_336);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.commands.SetValueCommand"));
    stringBuffer.append(TEXT_337);
    
		}
	}
}

    stringBuffer.append(TEXT_338);
    importManager.emitSortedImports();
    stringBuffer.append(TEXT_339);
    return stringBuffer.toString();
  }
}@


1.59
log
@[157683] - Generate link creation/initialization command in single separate classes instead of duplication of the code in different SemanticEditPolicy'ies
@
text
@@


1.58
log
@[157683] - Generate link creation/initialization command in single separate classes instead of duplication of the code in different SemanticEditPolicy'ies
@
text
@d35 224
a258 224
  protected final String TEXT_16 = "\t\t" + NL + "\t\t\t";
  protected final String TEXT_17 = " container = (";
  protected final String TEXT_18 = ") (req.getContainer() instanceof ";
  protected final String TEXT_19 = " ? ((";
  protected final String TEXT_20 = ") req.getContainer()).getElement() : req.getContainer());";
  protected final String TEXT_21 = NL + "\t\t\tif (";
  protected final String TEXT_22 = " != null) {";
  protected final String TEXT_23 = NL + "\t\t\tif (";
  protected final String TEXT_24 = ".size() >= ";
  protected final String TEXT_25 = ") {";
  protected final String TEXT_26 = NL + "\t\t\t\treturn super.getCreateCommand(req);" + NL + "\t\t\t}";
  protected final String TEXT_27 = NL + "\t\t\tif (";
  protected final String TEXT_28 = " != null) {";
  protected final String TEXT_29 = NL + "\t\t\tif (";
  protected final String TEXT_30 = ".size() >= ";
  protected final String TEXT_31 = ") {";
  protected final String TEXT_32 = NL + "\t\t\t\treturn super.getCreateCommand(req);" + NL + "\t\t\t}";
  protected final String TEXT_33 = NL + "\t\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\t\treq.setContainmentFeature(";
  protected final String TEXT_34 = ".eINSTANCE.get";
  protected final String TEXT_35 = "());" + NL + "\t\t\t}";
  protected final String TEXT_36 = NL + "\t\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_37 = "Command(req));" + NL + "\t\t}";
  protected final String TEXT_38 = NL + "\t\treturn super.getCreateCommand(req);" + NL + "\t}";
  protected final String TEXT_39 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_40 = "Command extends ";
  protected final String TEXT_41 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_42 = "Command(";
  protected final String TEXT_43 = " req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_44 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_45 = ".eINSTANCE.get";
  protected final String TEXT_46 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_47 = " getElementToEdit() {" + NL + "\t\t\t";
  protected final String TEXT_48 = " container = ((";
  protected final String TEXT_49 = ") getRequest()).getContainer();" + NL + "\t\t\tif (container instanceof ";
  protected final String TEXT_50 = ") {" + NL + "\t\t\t\tcontainer = ((";
  protected final String TEXT_51 = ") container).getElement();" + NL + "\t\t\t}" + NL + "\t\t\treturn container;" + NL + "\t\t}";
  protected final String TEXT_52 = NL + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_53 = " doDefaultElementCreation() {" + NL + "\t\t\t";
  protected final String TEXT_54 = " newElement = (";
  protected final String TEXT_55 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {";
  protected final String TEXT_56 = NL + "\t\t\t\t ";
  protected final String TEXT_57 = " container = (";
  protected final String TEXT_58 = ") getElementToEdit();" + NL + "\t\t\t\t if (container != null) {";
  protected final String TEXT_59 = NL + "\t\t\t\t\t";
  protected final String TEXT_60 = " featureValues = container.";
  protected final String TEXT_61 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_62 = NL + "\t\t\t\t \t";
  protected final String TEXT_63 = "newElement);";
  protected final String TEXT_64 = NL + "\t\t\t\t }";
  protected final String TEXT_65 = "\t\t" + NL + "\t\t\t\t";
  protected final String TEXT_66 = ".Initializers.";
  protected final String TEXT_67 = ".init(newElement);";
  protected final String TEXT_68 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}";
  protected final String TEXT_69 = NL + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic boolean canExecute() {" + NL + "\t\t\tif (getEClass() != null) {" + NL + "\t\t\t\treturn getEClass().isSuperTypeOf(getEClassToEdit());" + NL + "\t\t\t}" + NL + "\t\t\treturn true;" + NL + "\t\t}" + NL + "\t\t" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_70 = " getContainmentFeature() {" + NL + "\t\t\treturn null;" + NL + "\t\t}" + NL + "\t\t" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_71 = " doDefaultElementCreation() {" + NL + "\t\t\t// Uncomment to put \"phantom\" objects into the diagram file.\t\t" + NL + "\t\t\t//";
  protected final String TEXT_72 = " resource = ((";
  protected final String TEXT_73 = ") getRequest()).getContainer().eResource();" + NL + "\t\t\t//if (resource == null) {" + NL + "\t\t\t//\treturn null;" + NL + "\t\t\t//}" + NL + "\t\t\t";
  protected final String TEXT_74 = " resource = getElementToEdit().eResource();" + NL + "\t\t\t";
  protected final String TEXT_75 = " eClass = getElementType().getEClass();" + NL + "\t\t\t";
  protected final String TEXT_76 = " eObject = eClass.getEPackage().getEFactoryInstance().create(eClass);" + NL + "\t\t\tresource.getContents().add(eObject);" + NL + "\t\t\treturn eObject;" + NL + "\t\t}";
  protected final String TEXT_77 = NL + "\t}";
  protected final String TEXT_78 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getDestroyElementCommand(DestroyElementRequest req) {" + NL + "\t\treturn getMSLWrapper(new DestroyElementCommand(req) {" + NL + "\t\t" + NL + "\t\t\tprotected EObject getElementToDestroy() {" + NL + "\t\t\t\tView view = (View) getHost().getModel();" + NL + "\t\t\t\tEAnnotation annotation = view.getEAnnotation(\"Shortcut\"); //$NON-NLS-1$" + NL + "\t\t\t\tif (annotation != null) {" + NL + "\t\t\t\t\treturn view;" + NL + "\t\t\t\t}" + NL + "\t\t\t\treturn super.getElementToDestroy();" + NL + "\t\t\t}\t\t" + NL;
  protected final String TEXT_79 = NL + "\t\t\tprotected ";
  protected final String TEXT_80 = " doExecuteWithResult(";
  protected final String TEXT_81 = " progressMonitor, ";
  protected final String TEXT_82 = " info) throws ";
  protected final String TEXT_83 = " {" + NL + "\t\t\t\tEObject eObject = getElementToDestroy();" + NL + "\t\t\t\tboolean removeFromResource = eObject.eContainer() == null;" + NL + "\t\t\t\t";
  protected final String TEXT_84 = " result = super.doExecuteWithResult(progressMonitor, info);" + NL + "\t\t\t\t";
  protected final String TEXT_85 = " resource = eObject.eResource();" + NL + "\t\t\t\tif (removeFromResource && resource != null) {" + NL + "\t\t\t\t\tresource.getContents().remove(eObject);" + NL + "\t\t\t\t}" + NL + "\t\t\t\treturn result;" + NL + "\t\t\t}";
  protected final String TEXT_86 = NL + "\t\t});" + NL + "\t}";
  protected final String TEXT_87 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateRelationshipCommand(CreateRelationshipRequest req) {";
  protected final String TEXT_88 = NL + "\t\tif (";
  protected final String TEXT_89 = ".";
  protected final String TEXT_90 = " == req.getElementType()) {" + NL + "\t\t\treturn req.getTarget() == null ? ";
  protected final String TEXT_91 = " : ";
  protected final String TEXT_92 = ";" + NL + "\t\t}";
  protected final String TEXT_93 = NL + "\t\treturn super.getCreateRelationshipCommand(req);" + NL + "\t}";
  protected final String TEXT_94 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_95 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_96 = NL;
  protected final String TEXT_97 = " sourceEObject = ";
  protected final String TEXT_98 = "req.getTarget()";
  protected final String TEXT_99 = "req.getSource()";
  protected final String TEXT_100 = ";";
  protected final String TEXT_101 = NL;
  protected final String TEXT_102 = " targetEObject = ";
  protected final String TEXT_103 = "req.getSource()";
  protected final String TEXT_104 = "req.getTarget()";
  protected final String TEXT_105 = ";" + NL + "if (";
  protected final String TEXT_106 = "(sourceEObject != null && ";
  protected final String TEXT_107 = "false == sourceEObject instanceof ";
  protected final String TEXT_108 = ")";
  protected final String TEXT_109 = " || ";
  protected final String TEXT_110 = "(targetEObject != null && ";
  protected final String TEXT_111 = "false == targetEObject instanceof ";
  protected final String TEXT_112 = ")";
  protected final String TEXT_113 = ") {" + NL + "\treturn ";
  protected final String TEXT_114 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_115 = NL;
  protected final String TEXT_116 = " source = (";
  protected final String TEXT_117 = ") sourceEObject;";
  protected final String TEXT_118 = NL;
  protected final String TEXT_119 = " target = (";
  protected final String TEXT_120 = ") targetEObject;";
  protected final String TEXT_121 = NL;
  protected final String TEXT_122 = NL;
  protected final String TEXT_123 = " container = (";
  protected final String TEXT_124 = ") getRelationshipContainer(source, ";
  protected final String TEXT_125 = ".eINSTANCE.get";
  protected final String TEXT_126 = "(), req.getElementType());" + NL + "if (container == null) {" + NL + "\treturn ";
  protected final String TEXT_127 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_128 = NL + "\t\tif(!";
  protected final String TEXT_129 = "(";
  protected final String TEXT_130 = "container, ";
  protected final String TEXT_131 = "source, target)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_132 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_133 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_134 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_135 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_136 = NL;
  protected final String TEXT_137 = " sourceEObject = ";
  protected final String TEXT_138 = "req.getTarget()";
  protected final String TEXT_139 = "req.getSource()";
  protected final String TEXT_140 = ";";
  protected final String TEXT_141 = NL;
  protected final String TEXT_142 = " targetEObject = ";
  protected final String TEXT_143 = "req.getSource()";
  protected final String TEXT_144 = "req.getTarget()";
  protected final String TEXT_145 = ";" + NL + "if (";
  protected final String TEXT_146 = "(sourceEObject != null && ";
  protected final String TEXT_147 = "false == sourceEObject instanceof ";
  protected final String TEXT_148 = ")";
  protected final String TEXT_149 = " || ";
  protected final String TEXT_150 = "(targetEObject != null && ";
  protected final String TEXT_151 = "false == targetEObject instanceof ";
  protected final String TEXT_152 = ")";
  protected final String TEXT_153 = ") {" + NL + "\treturn ";
  protected final String TEXT_154 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_155 = NL;
  protected final String TEXT_156 = " source = (";
  protected final String TEXT_157 = ") sourceEObject;";
  protected final String TEXT_158 = NL;
  protected final String TEXT_159 = " target = (";
  protected final String TEXT_160 = ") targetEObject;";
  protected final String TEXT_161 = NL;
  protected final String TEXT_162 = NL;
  protected final String TEXT_163 = " container = (";
  protected final String TEXT_164 = ") getRelationshipContainer(source, ";
  protected final String TEXT_165 = ".eINSTANCE.get";
  protected final String TEXT_166 = "(), req.getElementType());" + NL + "if (container == null) {" + NL + "\treturn ";
  protected final String TEXT_167 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_168 = NL + "\t\tif(!";
  protected final String TEXT_169 = "(";
  protected final String TEXT_170 = "container, ";
  protected final String TEXT_171 = "source, target)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_172 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_173 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_174 = ".eINSTANCE.get";
  protected final String TEXT_175 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_176 = "(req, ";
  protected final String TEXT_177 = "container, ";
  protected final String TEXT_178 = "source, target));" + NL + "\t}";
  protected final String TEXT_179 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_180 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_181 = NL;
  protected final String TEXT_182 = " sourceEObject = ";
  protected final String TEXT_183 = "req.getTarget()";
  protected final String TEXT_184 = "req.getSource()";
  protected final String TEXT_185 = ";";
  protected final String TEXT_186 = NL;
  protected final String TEXT_187 = " targetEObject = ";
  protected final String TEXT_188 = "req.getSource()";
  protected final String TEXT_189 = "req.getTarget()";
  protected final String TEXT_190 = ";" + NL + "if (";
  protected final String TEXT_191 = "(sourceEObject != null && ";
  protected final String TEXT_192 = "false == sourceEObject instanceof ";
  protected final String TEXT_193 = ")";
  protected final String TEXT_194 = " || ";
  protected final String TEXT_195 = "(targetEObject != null && ";
  protected final String TEXT_196 = "false == targetEObject instanceof ";
  protected final String TEXT_197 = ")";
  protected final String TEXT_198 = ") {" + NL + "\treturn ";
  protected final String TEXT_199 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_200 = NL;
  protected final String TEXT_201 = " source = (";
  protected final String TEXT_202 = ") sourceEObject;";
  protected final String TEXT_203 = NL;
  protected final String TEXT_204 = " target = (";
  protected final String TEXT_205 = ") targetEObject;";
  protected final String TEXT_206 = NL;
  protected final String TEXT_207 = NL;
  protected final String TEXT_208 = " container = (";
  protected final String TEXT_209 = ") getRelationshipContainer(source, ";
  protected final String TEXT_210 = ".eINSTANCE.get";
  protected final String TEXT_211 = "(), req.getElementType());" + NL + "if (container == null) {" + NL + "\treturn ";
  protected final String TEXT_212 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_213 = NL + "\t\tif(!";
  protected final String TEXT_214 = "(";
  protected final String TEXT_215 = "container, ";
  protected final String TEXT_216 = "source, target)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_217 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_218 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_219 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_220 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_221 = NL;
  protected final String TEXT_222 = " sourceEObject = ";
  protected final String TEXT_223 = "req.getTarget()";
  protected final String TEXT_224 = "req.getSource()";
  protected final String TEXT_225 = ";";
  protected final String TEXT_226 = NL;
  protected final String TEXT_227 = " targetEObject = ";
  protected final String TEXT_228 = "req.getSource()";
  protected final String TEXT_229 = "req.getTarget()";
  protected final String TEXT_230 = ";" + NL + "if (";
  protected final String TEXT_231 = "(sourceEObject != null && ";
  protected final String TEXT_232 = "false == sourceEObject instanceof ";
  protected final String TEXT_233 = ")";
  protected final String TEXT_234 = " || ";
  protected final String TEXT_235 = "(targetEObject != null && ";
  protected final String TEXT_236 = "false == targetEObject instanceof ";
  protected final String TEXT_237 = ")";
  protected final String TEXT_238 = ") {" + NL + "\treturn ";
  protected final String TEXT_239 = ".INSTANCE;" + NL + "}";
d260 99
a358 155
  protected final String TEXT_241 = " source = (";
  protected final String TEXT_242 = ") sourceEObject;";
  protected final String TEXT_243 = NL;
  protected final String TEXT_244 = " target = (";
  protected final String TEXT_245 = ") targetEObject;";
  protected final String TEXT_246 = NL;
  protected final String TEXT_247 = NL;
  protected final String TEXT_248 = " container = (";
  protected final String TEXT_249 = ") getRelationshipContainer(source, ";
  protected final String TEXT_250 = ".eINSTANCE.get";
  protected final String TEXT_251 = "(), req.getElementType());" + NL + "if (container == null) {" + NL + "\treturn ";
  protected final String TEXT_252 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_253 = NL + "\t\tif(!";
  protected final String TEXT_254 = "(";
  protected final String TEXT_255 = "container, ";
  protected final String TEXT_256 = "source, target)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_257 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_258 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_259 = ".eINSTANCE.get";
  protected final String TEXT_260 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_261 = "(req, ";
  protected final String TEXT_262 = "container, ";
  protected final String TEXT_263 = " source, target));" + NL + "\t}";
  protected final String TEXT_264 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_265 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_266 = NL;
  protected final String TEXT_267 = " sourceEObject = ";
  protected final String TEXT_268 = "req.getTarget()";
  protected final String TEXT_269 = "req.getSource()";
  protected final String TEXT_270 = ";";
  protected final String TEXT_271 = NL;
  protected final String TEXT_272 = " targetEObject = ";
  protected final String TEXT_273 = "req.getSource()";
  protected final String TEXT_274 = "req.getTarget()";
  protected final String TEXT_275 = ";" + NL + "if (";
  protected final String TEXT_276 = "(sourceEObject != null && ";
  protected final String TEXT_277 = "false == sourceEObject instanceof ";
  protected final String TEXT_278 = ")";
  protected final String TEXT_279 = " || ";
  protected final String TEXT_280 = "(targetEObject != null && ";
  protected final String TEXT_281 = "false == targetEObject instanceof ";
  protected final String TEXT_282 = ")";
  protected final String TEXT_283 = ") {" + NL + "\treturn ";
  protected final String TEXT_284 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_285 = NL;
  protected final String TEXT_286 = " source = (";
  protected final String TEXT_287 = ") sourceEObject;";
  protected final String TEXT_288 = NL;
  protected final String TEXT_289 = " target = (";
  protected final String TEXT_290 = ") targetEObject;" + NL + "\t\tif(!";
  protected final String TEXT_291 = "(source, target)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_292 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_293 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_294 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_295 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_296 = NL;
  protected final String TEXT_297 = " sourceEObject = ";
  protected final String TEXT_298 = "req.getTarget()";
  protected final String TEXT_299 = "req.getSource()";
  protected final String TEXT_300 = ";";
  protected final String TEXT_301 = NL;
  protected final String TEXT_302 = " targetEObject = ";
  protected final String TEXT_303 = "req.getSource()";
  protected final String TEXT_304 = "req.getTarget()";
  protected final String TEXT_305 = ";" + NL + "if (";
  protected final String TEXT_306 = "(sourceEObject != null && ";
  protected final String TEXT_307 = "false == sourceEObject instanceof ";
  protected final String TEXT_308 = ")";
  protected final String TEXT_309 = " || ";
  protected final String TEXT_310 = "(targetEObject != null && ";
  protected final String TEXT_311 = "false == targetEObject instanceof ";
  protected final String TEXT_312 = ")";
  protected final String TEXT_313 = ") {" + NL + "\treturn ";
  protected final String TEXT_314 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_315 = NL;
  protected final String TEXT_316 = " source = (";
  protected final String TEXT_317 = ") sourceEObject;";
  protected final String TEXT_318 = NL;
  protected final String TEXT_319 = " target = (";
  protected final String TEXT_320 = ") targetEObject;" + NL + "\t\tif(!";
  protected final String TEXT_321 = "(source, target)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_322 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_323 = NL + "\t\t";
  protected final String TEXT_324 = " setReq = new ";
  protected final String TEXT_325 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_326 = ".eINSTANCE.get";
  protected final String TEXT_327 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_328 = "(setReq));" + NL + "\t}";
  protected final String TEXT_329 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_330 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_331 = NL;
  protected final String TEXT_332 = " sourceEObject = ";
  protected final String TEXT_333 = "req.getTarget()";
  protected final String TEXT_334 = "req.getSource()";
  protected final String TEXT_335 = ";";
  protected final String TEXT_336 = NL;
  protected final String TEXT_337 = " targetEObject = ";
  protected final String TEXT_338 = "req.getSource()";
  protected final String TEXT_339 = "req.getTarget()";
  protected final String TEXT_340 = ";" + NL + "if (";
  protected final String TEXT_341 = "(sourceEObject != null && ";
  protected final String TEXT_342 = "false == sourceEObject instanceof ";
  protected final String TEXT_343 = ")";
  protected final String TEXT_344 = " || ";
  protected final String TEXT_345 = "(targetEObject != null && ";
  protected final String TEXT_346 = "false == targetEObject instanceof ";
  protected final String TEXT_347 = ")";
  protected final String TEXT_348 = ") {" + NL + "\treturn ";
  protected final String TEXT_349 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_350 = NL;
  protected final String TEXT_351 = " source = (";
  protected final String TEXT_352 = ") sourceEObject;";
  protected final String TEXT_353 = NL;
  protected final String TEXT_354 = " target = (";
  protected final String TEXT_355 = ") targetEObject;" + NL + "\t\tif(!";
  protected final String TEXT_356 = "(source, target)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_357 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_358 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_359 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_360 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_361 = NL;
  protected final String TEXT_362 = " sourceEObject = ";
  protected final String TEXT_363 = "req.getTarget()";
  protected final String TEXT_364 = "req.getSource()";
  protected final String TEXT_365 = ";";
  protected final String TEXT_366 = NL;
  protected final String TEXT_367 = " targetEObject = ";
  protected final String TEXT_368 = "req.getSource()";
  protected final String TEXT_369 = "req.getTarget()";
  protected final String TEXT_370 = ";" + NL + "if (";
  protected final String TEXT_371 = "(sourceEObject != null && ";
  protected final String TEXT_372 = "false == sourceEObject instanceof ";
  protected final String TEXT_373 = ")";
  protected final String TEXT_374 = " || ";
  protected final String TEXT_375 = "(targetEObject != null && ";
  protected final String TEXT_376 = "false == targetEObject instanceof ";
  protected final String TEXT_377 = ")";
  protected final String TEXT_378 = ") {" + NL + "\treturn ";
  protected final String TEXT_379 = ".INSTANCE;" + NL + "}";
  protected final String TEXT_380 = NL;
  protected final String TEXT_381 = " source = (";
  protected final String TEXT_382 = ") sourceEObject;";
  protected final String TEXT_383 = NL;
  protected final String TEXT_384 = " target = (";
  protected final String TEXT_385 = ") targetEObject;" + NL + "\t\tif(!";
  protected final String TEXT_386 = "(source, target)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_387 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_388 = NL + "\t\t";
  protected final String TEXT_389 = " setReq = new ";
  protected final String TEXT_390 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_391 = ".eINSTANCE.get";
  protected final String TEXT_392 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_393 = "(setReq));" + NL + "\t}";
  protected final String TEXT_394 = NL + "}";
  protected final String TEXT_395 = NL;
a489 1
	GenClass containerGenClass = genNode.getModelFacet().getMetaClass();
d498 1
a498 2
    
for (Iterator nodes = childNodes.iterator(); nodes.hasNext(); ) {
a503 1

d509 1
a509 10
    
	GenFeature containmentMetaFeature = modelFacet.getContainmentMetaFeature();
	GenFeature childMetaFeature = modelFacet.getChildMetaFeature();
	if (!modelFacet.isPhantomElement()) {
		int upperContainmentBound = containmentMetaFeature.getEcoreFeature().getUpperBound();
		int upperChildBound = childMetaFeature.getEcoreFeature().getUpperBound();
		boolean processChildMetafeature = !childMetaFeature.equals(containmentMetaFeature) && upperChildBound > 0;
		if (upperContainmentBound > 0 || processChildMetafeature) {
			String containerInterfaceName = importManager.getImportedName(containerGenClass.getQualifiedInterfaceName());

d511 1
a511 1
    stringBuffer.append(containerInterfaceName);
d513 1
a513 1
    stringBuffer.append(containerInterfaceName);
d515 1
a515 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.notation.View"));
d517 1
a517 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.notation.View"));
d519 1
a519 4
    
			if (upperContainmentBound > 0) {
				if (upperContainmentBound == 1) {

d521 1
a521 1
    stringBuffer.append(getFeatureValueGetter("container", containmentMetaFeature, false, importManager));
d523 1
a523 3
    
				} else {

d525 1
a525 1
    stringBuffer.append(getFeatureValueGetter("container", containmentMetaFeature, false, importManager));
d527 1
a527 1
    stringBuffer.append(upperContainmentBound);
d529 1
a529 3
    
				}

d531 1
a531 6
    
			}
		
			if (processChildMetafeature) {
				if (upperChildBound == 1) {

d533 1
a533 1
    stringBuffer.append(getFeatureValueGetter("container", childMetaFeature, false, importManager));
d535 1
a535 3
    
				} else {

d537 1
a537 1
    stringBuffer.append(getFeatureValueGetter("container", childMetaFeature, false, importManager));
a538 153
    stringBuffer.append(upperChildBound);
    stringBuffer.append(TEXT_31);
    
				}

    stringBuffer.append(TEXT_32);
    
			}
		}

    stringBuffer.append(TEXT_33);
    stringBuffer.append(importManager.getImportedName(modelFacet.getContainmentMetaFeature().getGenPackage().getQualifiedPackageInterfaceName()));
    stringBuffer.append(TEXT_34);
    stringBuffer.append(modelFacet.getContainmentMetaFeature().getFeatureAccessorName());
    stringBuffer.append(TEXT_35);
    
	}

    stringBuffer.append(TEXT_36);
    stringBuffer.append(genChildNode.getUniqueIdentifier());
    stringBuffer.append(TEXT_37);
    
}

    stringBuffer.append(TEXT_38);
    
for (Iterator nodes = childNodes.iterator(); nodes.hasNext(); ) {
	GenNode genChildNode = (GenNode) nodes.next();
	TypeModelFacet modelFacet = genChildNode.getModelFacet();
	if (modelFacet == null) {
		continue;
	}

    stringBuffer.append(TEXT_39);
    stringBuffer.append(genChildNode.getUniqueIdentifier());
    stringBuffer.append(TEXT_40);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.commands.CreateElementCommand"));
    stringBuffer.append(TEXT_41);
    stringBuffer.append(genChildNode.getUniqueIdentifier());
    stringBuffer.append(TEXT_42);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.requests.CreateElementRequest"));
    stringBuffer.append(TEXT_43);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EClass"));
    stringBuffer.append(TEXT_44);
    stringBuffer.append(importManager.getImportedName(containerGenClass.getGenPackage().getQualifiedPackageInterfaceName()));
    stringBuffer.append(TEXT_45);
    stringBuffer.append(containerGenClass.getClassifierAccessorName());
    stringBuffer.append(TEXT_46);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_47);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_48);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.requests.CreateElementRequest"));
    stringBuffer.append(TEXT_49);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.notation.View"));
    stringBuffer.append(TEXT_50);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.notation.View"));
    stringBuffer.append(TEXT_51);
    
	boolean processChildMetafeature = !modelFacet.isPhantomElement() && !modelFacet.getChildMetaFeature().isDerived() && !modelFacet.getChildMetaFeature().equals(modelFacet.getContainmentMetaFeature());
	if (modelFacet.getModelElementInitializer() != null || processChildMetafeature) { 
		String metaClassName = importManager.getImportedName(modelFacet.getMetaClass().getQualifiedInterfaceName());

    stringBuffer.append(TEXT_52);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_53);
    stringBuffer.append(metaClassName);
    stringBuffer.append(TEXT_54);
    stringBuffer.append(metaClassName);
    stringBuffer.append(TEXT_55);
    
		if (processChildMetafeature) {
			String containerMetaClass = importManager.getImportedName(modelFacet.getChildMetaFeature().getGenClass().getQualifiedInterfaceName());

    stringBuffer.append(TEXT_56);
    stringBuffer.append(containerMetaClass);
    stringBuffer.append(TEXT_57);
    stringBuffer.append(containerMetaClass);
    stringBuffer.append(TEXT_58);
    
			if (modelFacet.getChildMetaFeature().isListType()) {

    stringBuffer.append(TEXT_59);
    stringBuffer.append(importManager.getImportedName("java.util.Collection"));
    stringBuffer.append(TEXT_60);
    stringBuffer.append(modelFacet.getChildMetaFeature().getGetAccessor());
    stringBuffer.append(TEXT_61);
    
			} else {

    stringBuffer.append(TEXT_62);
    stringBuffer.append(getFeatureValueSetterPrefix("container", modelFacet.getChildMetaFeature(), false, importManager));
    stringBuffer.append(TEXT_63);
    
			}

    stringBuffer.append(TEXT_64);
    
		}
		if (modelFacet.getModelElementInitializer() != null) {

    stringBuffer.append(TEXT_65);
    stringBuffer.append(importManager.getImportedName(genDiagram.getElementTypesQualifiedClassName()));
    stringBuffer.append(TEXT_66);
    stringBuffer.append(genChildNode.getUniqueIdentifier());
    stringBuffer.append(TEXT_67);
    
		}

    stringBuffer.append(TEXT_68);
    
	}
	
	if (modelFacet.isPhantomElement()) {

    stringBuffer.append(TEXT_69);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EReference"));
    stringBuffer.append(TEXT_70);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_71);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.resource.Resource"));
    stringBuffer.append(TEXT_72);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.requests.CreateElementRequest"));
    stringBuffer.append(TEXT_73);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.resource.Resource"));
    stringBuffer.append(TEXT_74);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EClass"));
    stringBuffer.append(TEXT_75);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_76);
    
	}

    stringBuffer.append(TEXT_77);
    }
    }
    stringBuffer.append(TEXT_78);
    	if (genNode.getModelFacet() != null && genNode.getModelFacet().isPhantomElement()) {
    stringBuffer.append(TEXT_79);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.common.core.command.CommandResult"));
    stringBuffer.append(TEXT_80);
    stringBuffer.append(importManager.getImportedName("org.eclipse.core.runtime.IProgressMonitor"));
    stringBuffer.append(TEXT_81);
    stringBuffer.append(importManager.getImportedName("org.eclipse.core.runtime.IAdaptable"));
    stringBuffer.append(TEXT_82);
    stringBuffer.append(importManager.getImportedName("org.eclipse.core.commands.ExecutionException"));
    stringBuffer.append(TEXT_83);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.common.core.command.CommandResult"));
    stringBuffer.append(TEXT_84);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.resource.Resource"));
    stringBuffer.append(TEXT_85);
    	}
    stringBuffer.append(TEXT_86);
d543 1
a543 1
    stringBuffer.append(TEXT_87);
d592 1
a592 1
    stringBuffer.append(TEXT_88);
d594 1
a594 1
    stringBuffer.append(TEXT_89);
d596 1
a596 1
    stringBuffer.append(TEXT_90);
d598 1
a598 1
    stringBuffer.append(TEXT_91);
d600 1
a600 1
    stringBuffer.append(TEXT_92);
d602 1
a602 1
    stringBuffer.append(TEXT_93);
d660 1
a660 1
    stringBuffer.append(TEXT_94);
d662 1
a662 1
    stringBuffer.append(TEXT_95);
d665 1
a665 1
    stringBuffer.append(TEXT_96);
d667 1
a667 1
    stringBuffer.append(TEXT_97);
d669 1
a669 1
    stringBuffer.append(TEXT_98);
d671 1
a671 1
    stringBuffer.append(TEXT_99);
d673 2
a674 2
    stringBuffer.append(TEXT_100);
    stringBuffer.append(TEXT_101);
d676 1
a676 1
    stringBuffer.append(TEXT_102);
d678 1
a678 1
    stringBuffer.append(TEXT_103);
d680 1
a680 1
    stringBuffer.append(TEXT_104);
d682 1
a682 1
    stringBuffer.append(TEXT_105);
d684 1
a684 1
    stringBuffer.append(TEXT_106);
d686 1
a686 1
    stringBuffer.append(TEXT_107);
d689 1
a689 1
    stringBuffer.append(TEXT_108);
d691 1
a691 1
    stringBuffer.append(TEXT_109);
d693 1
a693 1
    stringBuffer.append(TEXT_110);
d695 1
a695 1
    stringBuffer.append(TEXT_111);
d698 1
a698 1
    stringBuffer.append(TEXT_112);
d700 1
a700 1
    stringBuffer.append(TEXT_113);
d702 2
a703 2
    stringBuffer.append(TEXT_114);
    stringBuffer.append(TEXT_115);
d705 1
a705 1
    stringBuffer.append(TEXT_116);
d707 2
a708 2
    stringBuffer.append(TEXT_117);
    stringBuffer.append(TEXT_118);
d710 1
a710 1
    stringBuffer.append(TEXT_119);
d712 2
a713 2
    stringBuffer.append(TEXT_120);
    stringBuffer.append(TEXT_121);
d716 1
a716 1
    stringBuffer.append(TEXT_122);
d718 1
a718 1
    stringBuffer.append(TEXT_123);
d720 1
a720 1
    stringBuffer.append(TEXT_124);
d722 1
a722 1
    stringBuffer.append(TEXT_125);
d724 1
a724 1
    stringBuffer.append(TEXT_126);
d726 1
a726 1
    stringBuffer.append(TEXT_127);
d728 1
a728 1
    stringBuffer.append(TEXT_128);
d730 1
a730 1
    stringBuffer.append(TEXT_129);
d732 1
a732 1
    stringBuffer.append(TEXT_130);
d734 1
a734 1
    stringBuffer.append(TEXT_131);
d736 1
a736 1
    stringBuffer.append(TEXT_132);
d738 1
a738 1
    stringBuffer.append(TEXT_133);
d748 1
a748 1
    stringBuffer.append(TEXT_134);
d750 1
a750 1
    stringBuffer.append(TEXT_135);
d753 1
a753 1
    stringBuffer.append(TEXT_136);
d755 1
a755 1
    stringBuffer.append(TEXT_137);
d757 1
a757 1
    stringBuffer.append(TEXT_138);
d759 1
a759 1
    stringBuffer.append(TEXT_139);
d761 2
a762 2
    stringBuffer.append(TEXT_140);
    stringBuffer.append(TEXT_141);
d764 1
a764 1
    stringBuffer.append(TEXT_142);
d766 1
a766 1
    stringBuffer.append(TEXT_143);
d768 1
a768 1
    stringBuffer.append(TEXT_144);
d770 1
a770 1
    stringBuffer.append(TEXT_145);
d772 1
a772 1
    stringBuffer.append(TEXT_146);
d774 1
a774 1
    stringBuffer.append(TEXT_147);
d777 1
a777 1
    stringBuffer.append(TEXT_148);
d779 1
a779 1
    stringBuffer.append(TEXT_149);
d781 1
a781 1
    stringBuffer.append(TEXT_150);
d783 1
a783 1
    stringBuffer.append(TEXT_151);
d786 1
a786 1
    stringBuffer.append(TEXT_152);
d788 1
a788 1
    stringBuffer.append(TEXT_153);
d790 2
a791 2
    stringBuffer.append(TEXT_154);
    stringBuffer.append(TEXT_155);
d793 1
a793 1
    stringBuffer.append(TEXT_156);
d795 2
a796 2
    stringBuffer.append(TEXT_157);
    stringBuffer.append(TEXT_158);
d798 1
a798 1
    stringBuffer.append(TEXT_159);
d800 2
a801 2
    stringBuffer.append(TEXT_160);
    stringBuffer.append(TEXT_161);
d804 1
a804 1
    stringBuffer.append(TEXT_162);
d806 1
a806 1
    stringBuffer.append(TEXT_163);
d808 1
a808 1
    stringBuffer.append(TEXT_164);
d810 1
a810 1
    stringBuffer.append(TEXT_165);
d812 1
a812 1
    stringBuffer.append(TEXT_166);
d814 1
a814 1
    stringBuffer.append(TEXT_167);
d816 1
a816 1
    stringBuffer.append(TEXT_168);
d818 1
a818 1
    stringBuffer.append(TEXT_169);
d820 1
a820 1
    stringBuffer.append(TEXT_170);
d822 1
a822 1
    stringBuffer.append(TEXT_171);
d824 1
a824 1
    stringBuffer.append(TEXT_172);
d826 1
a826 1
    stringBuffer.append(TEXT_173);
d828 1
a828 1
    stringBuffer.append(TEXT_174);
d830 1
a830 1
    stringBuffer.append(TEXT_175);
d832 1
a832 1
    stringBuffer.append(TEXT_176);
d834 1
a834 1
    stringBuffer.append(TEXT_177);
d836 1
a836 1
    stringBuffer.append(TEXT_178);
d846 1
a846 1
    stringBuffer.append(TEXT_179);
d848 1
a848 1
    stringBuffer.append(TEXT_180);
d851 1
a851 1
    stringBuffer.append(TEXT_181);
d853 1
a853 1
    stringBuffer.append(TEXT_182);
d855 1
a855 1
    stringBuffer.append(TEXT_183);
d857 1
a857 1
    stringBuffer.append(TEXT_184);
d859 2
a860 2
    stringBuffer.append(TEXT_185);
    stringBuffer.append(TEXT_186);
d862 1
a862 1
    stringBuffer.append(TEXT_187);
d864 1
a864 1
    stringBuffer.append(TEXT_188);
d866 1
a866 1
    stringBuffer.append(TEXT_189);
d868 1
a868 1
    stringBuffer.append(TEXT_190);
d870 1
a870 1
    stringBuffer.append(TEXT_191);
d872 1
a872 1
    stringBuffer.append(TEXT_192);
d875 1
a875 1
    stringBuffer.append(TEXT_193);
d877 1
a877 1
    stringBuffer.append(TEXT_194);
d879 1
a879 1
    stringBuffer.append(TEXT_195);
d881 1
a881 1
    stringBuffer.append(TEXT_196);
d884 1
a884 1
    stringBuffer.append(TEXT_197);
d886 1
a886 1
    stringBuffer.append(TEXT_198);
d888 2
a889 2
    stringBuffer.append(TEXT_199);
    stringBuffer.append(TEXT_200);
d891 1
a891 1
    stringBuffer.append(TEXT_201);
d893 2
a894 2
    stringBuffer.append(TEXT_202);
    stringBuffer.append(TEXT_203);
d896 1
a896 1
    stringBuffer.append(TEXT_204);
d898 2
a899 2
    stringBuffer.append(TEXT_205);
    stringBuffer.append(TEXT_206);
d902 1
a902 1
    stringBuffer.append(TEXT_207);
d904 1
a904 1
    stringBuffer.append(TEXT_208);
d906 1
a906 1
    stringBuffer.append(TEXT_209);
d908 1
a908 1
    stringBuffer.append(TEXT_210);
d910 1
a910 1
    stringBuffer.append(TEXT_211);
d912 1
a912 1
    stringBuffer.append(TEXT_212);
d914 1
a914 1
    stringBuffer.append(TEXT_213);
d916 1
a916 1
    stringBuffer.append(TEXT_214);
d918 1
a918 1
    stringBuffer.append(TEXT_215);
d920 1
a920 1
    stringBuffer.append(TEXT_216);
d922 1
a922 1
    stringBuffer.append(TEXT_217);
d924 1
a924 1
    stringBuffer.append(TEXT_218);
d934 1
a934 1
    stringBuffer.append(TEXT_219);
d936 1
a936 1
    stringBuffer.append(TEXT_220);
d939 1
a939 1
    stringBuffer.append(TEXT_221);
d941 1
a941 1
    stringBuffer.append(TEXT_222);
d943 1
a943 1
    stringBuffer.append(TEXT_223);
d945 1
a945 1
    stringBuffer.append(TEXT_224);
d947 2
a948 2
    stringBuffer.append(TEXT_225);
    stringBuffer.append(TEXT_226);
d950 1
a950 1
    stringBuffer.append(TEXT_227);
d952 1
a952 1
    stringBuffer.append(TEXT_228);
d954 1
a954 1
    stringBuffer.append(TEXT_229);
d956 1
a956 1
    stringBuffer.append(TEXT_230);
d958 1
a958 1
    stringBuffer.append(TEXT_231);
d960 1
a960 1
    stringBuffer.append(TEXT_232);
d963 1
a963 1
    stringBuffer.append(TEXT_233);
d965 1
a965 1
    stringBuffer.append(TEXT_234);
d967 1
a967 1
    stringBuffer.append(TEXT_235);
d969 1
a969 1
    stringBuffer.append(TEXT_236);
d972 1
a972 1
    stringBuffer.append(TEXT_237);
d974 1
a974 1
    stringBuffer.append(TEXT_238);
d976 2
a977 2
    stringBuffer.append(TEXT_239);
    stringBuffer.append(TEXT_240);
d979 1
a979 1
    stringBuffer.append(TEXT_241);
d981 2
a982 2
    stringBuffer.append(TEXT_242);
    stringBuffer.append(TEXT_243);
d984 1
a984 1
    stringBuffer.append(TEXT_244);
d986 2
a987 2
    stringBuffer.append(TEXT_245);
    stringBuffer.append(TEXT_246);
d990 1
a990 1
    stringBuffer.append(TEXT_247);
d992 1
a992 1
    stringBuffer.append(TEXT_248);
d994 1
a994 1
    stringBuffer.append(TEXT_249);
d996 1
a996 1
    stringBuffer.append(TEXT_250);
d998 1
a998 1
    stringBuffer.append(TEXT_251);
d1000 1
a1000 1
    stringBuffer.append(TEXT_252);
d1002 1
a1002 1
    stringBuffer.append(TEXT_253);
d1004 1
a1004 1
    stringBuffer.append(TEXT_254);
d1006 1
a1006 1
    stringBuffer.append(TEXT_255);
d1008 1
a1008 1
    stringBuffer.append(TEXT_256);
d1010 1
a1010 1
    stringBuffer.append(TEXT_257);
d1012 1
a1012 1
    stringBuffer.append(TEXT_258);
d1014 1
a1014 1
    stringBuffer.append(TEXT_259);
d1016 1
a1016 1
    stringBuffer.append(TEXT_260);
d1018 1
a1018 1
    stringBuffer.append(TEXT_261);
d1020 1
a1020 1
    stringBuffer.append(TEXT_262);
d1022 1
a1022 1
    stringBuffer.append(TEXT_263);
d1077 1
a1077 1
    stringBuffer.append(TEXT_264);
d1079 1
a1079 1
    stringBuffer.append(TEXT_265);
d1082 1
a1082 1
    stringBuffer.append(TEXT_266);
d1084 1
a1084 1
    stringBuffer.append(TEXT_267);
d1086 1
a1086 1
    stringBuffer.append(TEXT_268);
d1088 1
a1088 1
    stringBuffer.append(TEXT_269);
d1090 2
a1091 2
    stringBuffer.append(TEXT_270);
    stringBuffer.append(TEXT_271);
d1093 1
a1093 1
    stringBuffer.append(TEXT_272);
d1095 1
a1095 1
    stringBuffer.append(TEXT_273);
d1097 1
a1097 1
    stringBuffer.append(TEXT_274);
d1099 1
a1099 1
    stringBuffer.append(TEXT_275);
d1101 1
a1101 1
    stringBuffer.append(TEXT_276);
d1103 1
a1103 1
    stringBuffer.append(TEXT_277);
d1106 1
a1106 1
    stringBuffer.append(TEXT_278);
d1108 1
a1108 1
    stringBuffer.append(TEXT_279);
d1110 1
a1110 1
    stringBuffer.append(TEXT_280);
d1112 1
a1112 1
    stringBuffer.append(TEXT_281);
d1115 1
a1115 1
    stringBuffer.append(TEXT_282);
d1117 1
a1117 1
    stringBuffer.append(TEXT_283);
d1119 2
a1120 2
    stringBuffer.append(TEXT_284);
    stringBuffer.append(TEXT_285);
d1122 1
a1122 1
    stringBuffer.append(TEXT_286);
d1124 2
a1125 2
    stringBuffer.append(TEXT_287);
    stringBuffer.append(TEXT_288);
d1127 1
a1127 1
    stringBuffer.append(TEXT_289);
d1129 1
a1129 1
    stringBuffer.append(TEXT_290);
d1131 1
a1131 1
    stringBuffer.append(TEXT_291);
d1133 1
a1133 1
    stringBuffer.append(TEXT_292);
d1135 1
a1135 1
    stringBuffer.append(TEXT_293);
d1145 1
a1145 1
    stringBuffer.append(TEXT_294);
d1147 1
a1147 1
    stringBuffer.append(TEXT_295);
d1150 1
a1150 1
    stringBuffer.append(TEXT_296);
d1152 1
a1152 1
    stringBuffer.append(TEXT_297);
d1154 1
a1154 1
    stringBuffer.append(TEXT_298);
d1156 1
a1156 1
    stringBuffer.append(TEXT_299);
d1158 2
a1159 2
    stringBuffer.append(TEXT_300);
    stringBuffer.append(TEXT_301);
d1161 1
a1161 1
    stringBuffer.append(TEXT_302);
d1163 1
a1163 1
    stringBuffer.append(TEXT_303);
d1165 1
a1165 1
    stringBuffer.append(TEXT_304);
d1167 1
a1167 1
    stringBuffer.append(TEXT_305);
d1169 1
a1169 1
    stringBuffer.append(TEXT_306);
d1171 1
a1171 1
    stringBuffer.append(TEXT_307);
d1174 1
a1174 1
    stringBuffer.append(TEXT_308);
d1176 1
a1176 1
    stringBuffer.append(TEXT_309);
d1178 1
a1178 1
    stringBuffer.append(TEXT_310);
d1180 1
a1180 1
    stringBuffer.append(TEXT_311);
d1183 1
a1183 1
    stringBuffer.append(TEXT_312);
d1185 1
a1185 1
    stringBuffer.append(TEXT_313);
d1187 2
a1188 2
    stringBuffer.append(TEXT_314);
    stringBuffer.append(TEXT_315);
d1190 1
a1190 1
    stringBuffer.append(TEXT_316);
d1192 2
a1193 2
    stringBuffer.append(TEXT_317);
    stringBuffer.append(TEXT_318);
d1195 1
a1195 1
    stringBuffer.append(TEXT_319);
d1197 1
a1197 1
    stringBuffer.append(TEXT_320);
d1199 1
a1199 1
    stringBuffer.append(TEXT_321);
d1201 1
a1201 1
    stringBuffer.append(TEXT_322);
d1203 1
a1203 1
    stringBuffer.append(TEXT_323);
d1205 1
a1205 1
    stringBuffer.append(TEXT_324);
d1207 1
a1207 1
    stringBuffer.append(TEXT_325);
d1209 1
a1209 1
    stringBuffer.append(TEXT_326);
d1211 1
a1211 1
    stringBuffer.append(TEXT_327);
d1213 1
a1213 1
    stringBuffer.append(TEXT_328);
d1223 1
a1223 1
    stringBuffer.append(TEXT_329);
d1225 1
a1225 1
    stringBuffer.append(TEXT_330);
d1228 1
a1228 1
    stringBuffer.append(TEXT_331);
d1230 1
a1230 1
    stringBuffer.append(TEXT_332);
d1232 1
a1232 1
    stringBuffer.append(TEXT_333);
d1234 1
a1234 1
    stringBuffer.append(TEXT_334);
d1236 2
a1237 2
    stringBuffer.append(TEXT_335);
    stringBuffer.append(TEXT_336);
d1239 1
a1239 1
    stringBuffer.append(TEXT_337);
d1241 1
a1241 1
    stringBuffer.append(TEXT_338);
d1243 1
a1243 1
    stringBuffer.append(TEXT_339);
d1245 1
a1245 1
    stringBuffer.append(TEXT_340);
d1247 1
a1247 1
    stringBuffer.append(TEXT_341);
d1249 1
a1249 1
    stringBuffer.append(TEXT_342);
d1252 1
a1252 1
    stringBuffer.append(TEXT_343);
d1254 1
a1254 1
    stringBuffer.append(TEXT_344);
d1256 1
a1256 1
    stringBuffer.append(TEXT_345);
d1258 1
a1258 1
    stringBuffer.append(TEXT_346);
d1261 1
a1261 1
    stringBuffer.append(TEXT_347);
d1263 1
a1263 1
    stringBuffer.append(TEXT_348);
d1265 2
a1266 2
    stringBuffer.append(TEXT_349);
    stringBuffer.append(TEXT_350);
d1268 1
a1268 1
    stringBuffer.append(TEXT_351);
d1270 2
a1271 2
    stringBuffer.append(TEXT_352);
    stringBuffer.append(TEXT_353);
d1273 1
a1273 1
    stringBuffer.append(TEXT_354);
d1275 1
a1275 1
    stringBuffer.append(TEXT_355);
d1277 1
a1277 1
    stringBuffer.append(TEXT_356);
d1279 1
a1279 1
    stringBuffer.append(TEXT_357);
d1281 1
a1281 1
    stringBuffer.append(TEXT_358);
d1291 1
a1291 1
    stringBuffer.append(TEXT_359);
d1293 1
a1293 1
    stringBuffer.append(TEXT_360);
d1296 1
a1296 1
    stringBuffer.append(TEXT_361);
d1298 1
a1298 1
    stringBuffer.append(TEXT_362);
d1300 1
a1300 1
    stringBuffer.append(TEXT_363);
d1302 1
a1302 1
    stringBuffer.append(TEXT_364);
d1304 2
a1305 2
    stringBuffer.append(TEXT_365);
    stringBuffer.append(TEXT_366);
d1307 1
a1307 1
    stringBuffer.append(TEXT_367);
d1309 1
a1309 1
    stringBuffer.append(TEXT_368);
d1311 1
a1311 1
    stringBuffer.append(TEXT_369);
d1313 1
a1313 1
    stringBuffer.append(TEXT_370);
d1315 1
a1315 1
    stringBuffer.append(TEXT_371);
d1317 1
a1317 1
    stringBuffer.append(TEXT_372);
d1320 1
a1320 1
    stringBuffer.append(TEXT_373);
d1322 1
a1322 1
    stringBuffer.append(TEXT_374);
d1324 1
a1324 1
    stringBuffer.append(TEXT_375);
d1326 1
a1326 1
    stringBuffer.append(TEXT_376);
d1329 1
a1329 1
    stringBuffer.append(TEXT_377);
d1331 1
a1331 1
    stringBuffer.append(TEXT_378);
d1333 2
a1334 2
    stringBuffer.append(TEXT_379);
    stringBuffer.append(TEXT_380);
d1336 1
a1336 1
    stringBuffer.append(TEXT_381);
d1338 2
a1339 2
    stringBuffer.append(TEXT_382);
    stringBuffer.append(TEXT_383);
d1341 1
a1341 1
    stringBuffer.append(TEXT_384);
d1343 1
a1343 1
    stringBuffer.append(TEXT_385);
d1345 1
a1345 1
    stringBuffer.append(TEXT_386);
d1347 1
a1347 1
    stringBuffer.append(TEXT_387);
d1349 1
a1349 1
    stringBuffer.append(TEXT_388);
d1351 1
a1351 1
    stringBuffer.append(TEXT_389);
d1353 1
a1353 1
    stringBuffer.append(TEXT_390);
d1355 1
a1355 1
    stringBuffer.append(TEXT_391);
d1357 1
a1357 1
    stringBuffer.append(TEXT_392);
d1359 1
a1359 1
    stringBuffer.append(TEXT_393);
d1365 1
a1365 1
    stringBuffer.append(TEXT_394);
d1367 1
a1367 1
    stringBuffer.append(TEXT_395);
@


1.57
log
@[157683] - Generate link creation/initialization command in single separate classes instead of duplication of the code in different SemanticEditPolicy'ies
@
text
@d115 117
a231 117
  protected final String TEXT_96 = NL + "\t\t";
  protected final String TEXT_97 = " element = (";
  protected final String TEXT_98 = ") getSemanticElement();";
  protected final String TEXT_99 = NL + "\t\t";
  protected final String TEXT_100 = " element = (";
  protected final String TEXT_101 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_102 = ".eINSTANCE.get";
  protected final String TEXT_103 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_104 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_105 = NL + "\t\tif (";
  protected final String TEXT_106 = " != null) {";
  protected final String TEXT_107 = NL + "\t\tif (";
  protected final String TEXT_108 = ".size() >= ";
  protected final String TEXT_109 = ") {";
  protected final String TEXT_110 = NL + "\t\t\treturn ";
  protected final String TEXT_111 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_112 = NL + "\t\tif (";
  protected final String TEXT_113 = " != null) {";
  protected final String TEXT_114 = NL + "\t\tif (";
  protected final String TEXT_115 = ".size() >= ";
  protected final String TEXT_116 = ") {";
  protected final String TEXT_117 = NL + "\t\t\treturn ";
  protected final String TEXT_118 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_119 = NL + "\t\tif(!";
  protected final String TEXT_120 = "(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_121 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_122 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_123 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_124 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_125 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_126 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_127 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_128 = NL + "\t\tfinal ";
  protected final String TEXT_129 = " element = (";
  protected final String TEXT_130 = ") getSemanticElement();";
  protected final String TEXT_131 = NL + "\t\tfinal ";
  protected final String TEXT_132 = " element = (";
  protected final String TEXT_133 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_134 = ".eINSTANCE.get";
  protected final String TEXT_135 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_136 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_137 = NL + "\t\tif (";
  protected final String TEXT_138 = " != null) {";
  protected final String TEXT_139 = NL + "\t\tif (";
  protected final String TEXT_140 = ".size() >= ";
  protected final String TEXT_141 = ") {";
  protected final String TEXT_142 = NL + "\t\t\treturn ";
  protected final String TEXT_143 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_144 = NL + "\t\tif (";
  protected final String TEXT_145 = " != null) {";
  protected final String TEXT_146 = NL + "\t\tif (";
  protected final String TEXT_147 = ".size() >= ";
  protected final String TEXT_148 = ") {";
  protected final String TEXT_149 = NL + "\t\t\treturn ";
  protected final String TEXT_150 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_151 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_152 = ".eINSTANCE.get";
  protected final String TEXT_153 = "());" + NL + "\t\t}" + NL + "\t\t" + NL + "\t\tif(!";
  protected final String TEXT_154 = "(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_155 = ".INSTANCE;\t\t\t" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_156 = "(req, element, (";
  protected final String TEXT_157 = ") req.getTarget(), (";
  protected final String TEXT_158 = ") req.getSource()));" + NL + "\t}";
  protected final String TEXT_159 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_160 = "Command(CreateRelationshipRequest req) {" + NL + "\t\tif(!";
  protected final String TEXT_161 = "(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_162 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_163 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_164 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_165 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_166 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_167 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_168 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_169 = NL + "\t\tfinal ";
  protected final String TEXT_170 = " element = (";
  protected final String TEXT_171 = ") req.getSource();";
  protected final String TEXT_172 = NL + "\t\tfinal ";
  protected final String TEXT_173 = " element = (";
  protected final String TEXT_174 = ") getRelationshipContainer(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_175 = ".eINSTANCE.get";
  protected final String TEXT_176 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_177 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_178 = NL + "\t\tif (";
  protected final String TEXT_179 = " != null) {";
  protected final String TEXT_180 = NL + "\t\tif (";
  protected final String TEXT_181 = ".size() >= ";
  protected final String TEXT_182 = ") {";
  protected final String TEXT_183 = NL + "\t\t\treturn ";
  protected final String TEXT_184 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_185 = NL + "\t\tif (";
  protected final String TEXT_186 = " != null) {";
  protected final String TEXT_187 = NL + "\t\tif (";
  protected final String TEXT_188 = ".size() >= ";
  protected final String TEXT_189 = ") {";
  protected final String TEXT_190 = NL + "\t\t\treturn ";
  protected final String TEXT_191 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_192 = NL + "\t\tif(!";
  protected final String TEXT_193 = "(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_194 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_195 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_196 = ".eINSTANCE.get";
  protected final String TEXT_197 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_198 = "(req, element, (";
  protected final String TEXT_199 = ") req.getSource(), (";
  protected final String TEXT_200 = ") req.getTarget()));" + NL + "\t}";
  protected final String TEXT_201 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_202 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_203 = NL + "\t\t";
  protected final String TEXT_204 = " element = (";
  protected final String TEXT_205 = ") getSemanticElement();";
  protected final String TEXT_206 = NL + "\t\tif (";
  protected final String TEXT_207 = " != null) {";
  protected final String TEXT_208 = NL + "\t\tif (";
  protected final String TEXT_209 = ".size() >= ";
  protected final String TEXT_210 = ") {";
  protected final String TEXT_211 = NL + "\t\t\treturn ";
  protected final String TEXT_212 = ".INSTANCE;" + NL + "\t\t}";
d233 182
a414 70
  protected final String TEXT_214 = "(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_215 = ".INSTANCE;\t\t\t" + NL + "\t\t}" + NL;
  protected final String TEXT_216 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_217 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_218 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_219 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_220 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_221 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_222 = NL + "\t\t";
  protected final String TEXT_223 = " element = (";
  protected final String TEXT_224 = ") getSemanticElement();";
  protected final String TEXT_225 = NL + "\t\tif (";
  protected final String TEXT_226 = " != null) {";
  protected final String TEXT_227 = NL + "\t\tif (";
  protected final String TEXT_228 = ".size() >= ";
  protected final String TEXT_229 = " || ";
  protected final String TEXT_230 = ".contains(req.getSource())) {";
  protected final String TEXT_231 = NL + "\t\t\treturn ";
  protected final String TEXT_232 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_233 = NL + "\t\t";
  protected final String TEXT_234 = " element = (";
  protected final String TEXT_235 = ") getSemanticElement();" + NL + "\t\tif (";
  protected final String TEXT_236 = ".contains(req.getSource())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_237 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_238 = NL + "\t\tif(!";
  protected final String TEXT_239 = "(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_240 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_241 = NL + "\t\t";
  protected final String TEXT_242 = " setReq = new ";
  protected final String TEXT_243 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_244 = ".eINSTANCE.get";
  protected final String TEXT_245 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_246 = "(setReq));" + NL + "\t}";
  protected final String TEXT_247 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_248 = "Command(CreateRelationshipRequest req) {" + NL + "\t\tif(!";
  protected final String TEXT_249 = "(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_250 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_251 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_252 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_253 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_254 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_255 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_256 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_257 = NL + "\t\t";
  protected final String TEXT_258 = " element = (";
  protected final String TEXT_259 = ") req.getSource();";
  protected final String TEXT_260 = NL + "\t\tif (";
  protected final String TEXT_261 = " != null) {";
  protected final String TEXT_262 = NL + "\t\tif (";
  protected final String TEXT_263 = ".size() >= ";
  protected final String TEXT_264 = " || ";
  protected final String TEXT_265 = ".contains(req.getTarget())) {";
  protected final String TEXT_266 = NL + "\t\t\treturn ";
  protected final String TEXT_267 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_268 = NL + "\t\t";
  protected final String TEXT_269 = " element = (";
  protected final String TEXT_270 = ") req.getSource();" + NL + "\t\tif (";
  protected final String TEXT_271 = ".contains(req.getTarget())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_272 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_273 = NL + "\t\tif(!";
  protected final String TEXT_274 = "(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_275 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_276 = NL + "\t\t";
  protected final String TEXT_277 = " setReq = new ";
  protected final String TEXT_278 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_279 = ".eINSTANCE.get";
  protected final String TEXT_280 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_281 = "(setReq));" + NL + "\t}";
  protected final String TEXT_282 = NL + "}";
  protected final String TEXT_283 = NL;
a857 5
		GenFeature childFeature = modelFacet.getChildMetaFeature();
		int upperContainmentBound = containmentFeature.getEcoreFeature().getUpperBound();
		int upperChildBound = childFeature.getEcoreFeature().getUpperBound();
		boolean checkChildFeatureUpperBound = !childFeature.equals(containmentFeature) && upperChildBound > 0;

d898 2
a899 6
     // check that containment feature is not set / has capacity for the new element 
    
			if (upperContainmentBound > 0 || checkChildFeatureUpperBound) {
				String containerClassName = importManager.getImportedName(containmentFeature.getGenClass().getQualifiedInterfaceName());
				if (modelFacet.getSourceMetaFeature() == null) {

d901 1
a901 1
    stringBuffer.append(containerClassName);
d903 1
a903 1
    stringBuffer.append(containerClassName);
d905 1
a905 1
    				} else {
d907 1
a907 1
    stringBuffer.append(containerClassName);
a908 1
    stringBuffer.append(containerClassName);
d910 1
a910 1
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
d912 1
a912 1
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
d914 1
a914 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d916 1
a916 5
    
				}
				if (upperContainmentBound > 0) {
					if (upperContainmentBound == 1) {

d918 1
a918 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d920 1
a920 1
    					} else {
d922 2
a923 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d925 1
a925 1
    stringBuffer.append(upperContainmentBound);
d927 1
a927 1
    					}
d929 1
a929 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d931 2
a932 5
    
				}
				if (checkChildFeatureUpperBound) {
					if (upperChildBound == 1) {

d934 1
a934 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d936 1
a936 1
    					} else {
a937 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d939 1
a939 1
    stringBuffer.append(upperChildBound);
d941 1
a941 1
    					}
a942 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d944 1
a944 4
    
				}
			}

d946 1
a946 1
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+".canCreate"+genLink.getUniqueIdentifier());
a947 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d949 2
a950 1
     // create always executable command 
d952 1
a952 9
    
		}
		
		
// 2. CompleteOutgoingCommand

		if (generateCompleteOutgoingCommand) {
			String namePart = OUTGOING_TOKEN + namePartSuffix;

d954 1
a954 1
    stringBuffer.append(namePart);
d956 1
a956 1
     // check that source is valid 
d958 1
a958 1
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
d962 1
a962 4
    
			String containerClassName = importManager.getImportedName(containmentFeature.getGenClass().getQualifiedInterfaceName());
			if (modelFacet.getSourceMetaFeature() == null) {

d964 1
a964 1
    stringBuffer.append(containerClassName);
d966 1
a966 1
    stringBuffer.append(containerClassName);
d968 1
a968 1
    			} else {
d970 1
a970 1
    stringBuffer.append(containerClassName);
d972 1
a972 1
    stringBuffer.append(containerClassName);
d974 9
a982 1
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
d984 1
a984 1
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
d986 2
a987 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d989 1
a989 7
    			}
     // check that containment feature is not set / has capacity for the new element 
    
			if (upperContainmentBound > 0 || checkChildFeatureUpperBound) {
				if (upperContainmentBound > 0) {
					if (upperContainmentBound == 1) {

d991 1
a991 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d993 1
a993 1
    					} else {
d995 1
a995 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
a996 1
    stringBuffer.append(upperContainmentBound);
d998 1
a998 1
    					}
d1000 1
a1000 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d1002 1
a1002 5
    
				}
				if (checkChildFeatureUpperBound) {
					if (upperChildBound == 1) {

d1004 1
a1004 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d1006 1
a1006 1
    					} else {
d1008 1
a1008 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d1010 2
a1011 1
    stringBuffer.append(upperChildBound);
d1013 1
a1013 1
    					}
d1015 1
a1015 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d1017 1
a1017 5
    
				}
			}

     // create semantic command 
d1019 2
a1020 1
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenPackage().getQualifiedPackageInterfaceName()));
d1022 1
a1022 1
    stringBuffer.append(containmentFeature.getFeatureAccessorName());
d1024 1
a1024 1
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+".canCreate"+genLink.getUniqueIdentifier());
a1025 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d1027 1
a1027 1
    stringBuffer.append(importManager.getImportedName(modelFacet.getCreateCommandQualifiedClassName()));
d1031 1
a1032 10
    stringBuffer.append(TEXT_158);
    
		}
			
			
// 3. StartIncomingCommand
			
		if (generateStartIncomingCommand) {
			String namePart = INCOMING_TOKEN + namePartSuffix;

d1034 1
a1034 1
    stringBuffer.append(namePart);
a1035 1
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+".canCreate"+genLink.getUniqueIdentifier());
d1037 2
a1038 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d1040 1
a1040 1
     // no feasible restrictions here 
d1042 1
a1042 9
    
		}
		
		
// 4. CompleteIncomingCommand
		
		if (generateCompleteIncomingCommand) {	
			String namePart = INCOMING_TOKEN + namePartSuffix;

d1044 1
a1044 1
    stringBuffer.append(namePart);
d1046 1
a1046 1
     // check that source is valid 
d1048 1
a1048 1
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
d1050 1
a1050 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d1052 1
a1052 4
    
			String containerClassName = importManager.getImportedName(containmentFeature.getGenClass().getQualifiedInterfaceName());
			if (modelFacet.getSourceMetaFeature() == null) {

d1054 1
a1054 1
    stringBuffer.append(containerClassName);
d1056 1
a1056 1
    stringBuffer.append(containerClassName);
d1058 1
a1058 1
    				} else {
d1060 1
a1060 1
    stringBuffer.append(containerClassName);
d1062 1
a1062 1
    stringBuffer.append(containerClassName);
d1064 1
a1064 1
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
d1066 1
a1066 1
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
d1068 1
a1068 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d1070 2
a1071 2
    			}
     // check that containment feature is not set / has capacity for the new element 
d1073 7
a1079 3
			if (upperContainmentBound > 0 || checkChildFeatureUpperBound) {
				if (upperContainmentBound > 0) {
					if (upperContainmentBound == 1) {
a1080 2
    stringBuffer.append(TEXT_178);
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d1082 1
a1082 1
    					} else {
d1084 2
a1085 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d1087 1
a1087 1
    stringBuffer.append(upperContainmentBound);
d1089 1
a1089 1
    					}
d1091 1
a1091 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d1093 1
a1093 5
    
				}
				if (checkChildFeatureUpperBound) {
					if (upperChildBound == 1) {

a1094 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d1096 1
a1096 1
    					} else {
d1098 1
a1098 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d1100 1
a1100 1
    stringBuffer.append(upperChildBound);
d1102 1
a1102 1
    					}
d1104 1
a1104 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d1106 1
a1106 4
    
				}
			}

d1108 2
a1109 1
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+".canCreate"+genLink.getUniqueIdentifier());
d1111 1
a1111 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d1113 1
a1113 1
     // create semantic command 
d1115 1
a1115 1
    stringBuffer.append(importManager.getImportedName(modelFacet.getContainmentMetaFeature().getGenPackage().getQualifiedPackageInterfaceName()));
d1117 2
a1118 1
    stringBuffer.append(modelFacet.getContainmentMetaFeature().getFeatureAccessorName());
d1120 1
a1120 1
    stringBuffer.append(importManager.getImportedName(modelFacet.getCreateCommandQualifiedClassName()));
d1122 5
d1128 92
a1219 1
    stringBuffer.append(TEXT_199);
d1221 37
a1257 1
    stringBuffer.append(TEXT_200);
a1271 1
		int upperBound = metaFeature.getEcoreFeature().getUpperBound();
d1312 1
a1312 1
    stringBuffer.append(TEXT_201);
d1314 39
a1352 23
    stringBuffer.append(TEXT_202);
     // check that feature is not set / has capacity for the new value 
    
			if (upperBound > 0) { // consider UNBOUNDED_MULTIPLICITY and UNSPECIFIED_MULTIPLICITY
				String outgoingClassName = importManager.getImportedName(outgoingClass.getQualifiedInterfaceName());

    stringBuffer.append(TEXT_203);
    stringBuffer.append(outgoingClassName);
    stringBuffer.append(TEXT_204);
    stringBuffer.append(outgoingClassName);
    stringBuffer.append(TEXT_205);
    				if (upperBound == 1) {
    stringBuffer.append(TEXT_206);
    stringBuffer.append(getFeatureValueGetter("element", metaFeature, false, importManager));
    stringBuffer.append(TEXT_207);
    				} else {
    stringBuffer.append(TEXT_208);
    stringBuffer.append(getFeatureValueGetter("element", metaFeature, false, importManager));
    stringBuffer.append(TEXT_209);
    stringBuffer.append(upperBound);
    stringBuffer.append(TEXT_210);
    				}
    stringBuffer.append(TEXT_211);
d1354 11
a1364 3
    stringBuffer.append(TEXT_212);
    			}
    stringBuffer.append(TEXT_213);
d1366 1
a1366 1
    stringBuffer.append(TEXT_214);
d1368 1
a1368 1
    stringBuffer.append(TEXT_215);
d1370 1
a1370 1
    stringBuffer.append(TEXT_216);
d1380 1
a1380 1
    stringBuffer.append(TEXT_217);
d1382 34
a1415 3
    stringBuffer.append(TEXT_218);
     // check that source is valid 
    stringBuffer.append(TEXT_219);
d1417 4
a1420 1
    stringBuffer.append(TEXT_220);
d1422 11
a1432 42
    stringBuffer.append(TEXT_221);
     // check that feature is not set / has capacity for the new value / is unique 
    
			if (upperBound > 0) { // consider UNBOUNDED_MULTIPLICITY and UNSPECIFIED_MULTIPLICITY
				String outgoingClassName = importManager.getImportedName(outgoingClass.getQualifiedInterfaceName());

    stringBuffer.append(TEXT_222);
    stringBuffer.append(outgoingClassName);
    stringBuffer.append(TEXT_223);
    stringBuffer.append(outgoingClassName);
    stringBuffer.append(TEXT_224);
    				if (upperBound == 1) {
    stringBuffer.append(TEXT_225);
    stringBuffer.append(getFeatureValueGetter("element", metaFeature, false, importManager));
    stringBuffer.append(TEXT_226);
    				} else {
    stringBuffer.append(TEXT_227);
    stringBuffer.append(getFeatureValueGetter("element", metaFeature, false, importManager));
    stringBuffer.append(TEXT_228);
    stringBuffer.append(upperBound);
    stringBuffer.append(TEXT_229);
    stringBuffer.append(getFeatureValueGetter("element", metaFeature, false, importManager));
    stringBuffer.append(TEXT_230);
    				}
    stringBuffer.append(TEXT_231);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_232);
    
			} else if (metaFeature.getEcoreFeature().isUnique()) {
				String outgoingClassName = importManager.getImportedName(outgoingClass.getQualifiedInterfaceName());

    stringBuffer.append(TEXT_233);
    stringBuffer.append(outgoingClassName);
    stringBuffer.append(TEXT_234);
    stringBuffer.append(outgoingClassName);
    stringBuffer.append(TEXT_235);
    stringBuffer.append(getFeatureValueGetter("element", metaFeature, false, importManager));
    stringBuffer.append(TEXT_236);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_237);
    			}
    stringBuffer.append(TEXT_238);
d1434 1
a1434 1
    stringBuffer.append(TEXT_239);
d1436 1
a1436 1
    stringBuffer.append(TEXT_240);
d1438 1
a1438 1
    stringBuffer.append(TEXT_241);
d1440 1
a1440 1
    stringBuffer.append(TEXT_242);
d1442 1
a1442 1
    stringBuffer.append(TEXT_243);
d1444 1
a1444 1
    stringBuffer.append(TEXT_244);
d1446 1
a1446 1
    stringBuffer.append(TEXT_245);
d1448 1
a1448 1
    stringBuffer.append(TEXT_246);
d1458 1
a1458 1
    stringBuffer.append(TEXT_247);
d1460 51
a1510 1
    stringBuffer.append(TEXT_248);
d1512 1
a1512 1
    stringBuffer.append(TEXT_249);
d1514 1
a1514 1
    stringBuffer.append(TEXT_250);
d1516 1
a1516 1
    stringBuffer.append(TEXT_251);
d1526 1
a1526 1
    stringBuffer.append(TEXT_252);
d1528 25
a1552 3
    stringBuffer.append(TEXT_253);
     // check that source is valid 
    stringBuffer.append(TEXT_254);
d1554 13
a1566 1
    stringBuffer.append(TEXT_255);
d1568 11
a1578 42
    stringBuffer.append(TEXT_256);
     // check that feature is not set / has capacity for the new value / is unique 
    
			if (upperBound > 0) { // consider UNBOUNDED_MULTIPLICITY and UNSPECIFIED_MULTIPLICITY
				String outgoingClassName = importManager.getImportedName(outgoingClass.getQualifiedInterfaceName());

    stringBuffer.append(TEXT_257);
    stringBuffer.append(outgoingClassName);
    stringBuffer.append(TEXT_258);
    stringBuffer.append(outgoingClassName);
    stringBuffer.append(TEXT_259);
    				if (upperBound == 1) {
    stringBuffer.append(TEXT_260);
    stringBuffer.append(getFeatureValueGetter("element", metaFeature, false, importManager));
    stringBuffer.append(TEXT_261);
    				} else {
    stringBuffer.append(TEXT_262);
    stringBuffer.append(getFeatureValueGetter("element", metaFeature, false, importManager));
    stringBuffer.append(TEXT_263);
    stringBuffer.append(upperBound);
    stringBuffer.append(TEXT_264);
    stringBuffer.append(getFeatureValueGetter("element", metaFeature, false, importManager));
    stringBuffer.append(TEXT_265);
    				}
    stringBuffer.append(TEXT_266);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_267);
    
			} else if (metaFeature.getEcoreFeature().isUnique()) {
				String outgoingClassName = importManager.getImportedName(outgoingClass.getQualifiedInterfaceName());

    stringBuffer.append(TEXT_268);
    stringBuffer.append(outgoingClassName);
    stringBuffer.append(TEXT_269);
    stringBuffer.append(outgoingClassName);
    stringBuffer.append(TEXT_270);
    stringBuffer.append(getFeatureValueGetter("element", metaFeature, false, importManager));
    stringBuffer.append(TEXT_271);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_272);
    			}
    stringBuffer.append(TEXT_273);
d1580 1
a1580 1
    stringBuffer.append(TEXT_274);
d1582 1
a1582 1
    stringBuffer.append(TEXT_275);
d1584 1
a1584 1
    stringBuffer.append(TEXT_276);
d1586 1
a1586 1
    stringBuffer.append(TEXT_277);
d1588 1
a1588 1
    stringBuffer.append(TEXT_278);
d1590 1
a1590 1
    stringBuffer.append(TEXT_279);
d1592 1
a1592 1
    stringBuffer.append(TEXT_280);
d1594 1
a1594 1
    stringBuffer.append(TEXT_281);
d1600 1
a1600 1
    stringBuffer.append(TEXT_282);
d1602 1
a1602 1
    stringBuffer.append(TEXT_283);
@


1.56
log
@[157683] - Generate link creation/initialization command in single separate classes instead of duplication of the code in different SemanticEditPolicy'ies
@
text
@d139 1
a139 1
  protected final String TEXT_120 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
d172 123
a294 123
  protected final String TEXT_153 = "());" + NL + "\t\t}" + NL + "\t\t";
  protected final String TEXT_154 = NL + "\t\tif(!";
  protected final String TEXT_155 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_156 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_157 = "\t\t\t\t" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_158 = "(req, element, (";
  protected final String TEXT_159 = ") req.getTarget(), (";
  protected final String TEXT_160 = ") req.getSource()));" + NL + "\t}";
  protected final String TEXT_161 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_162 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_163 = NL + "\t\tif(!";
  protected final String TEXT_164 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_165 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_166 = "\t";
  protected final String TEXT_167 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_168 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_169 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_170 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_171 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_172 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_173 = NL + "\t\tfinal ";
  protected final String TEXT_174 = " element = (";
  protected final String TEXT_175 = ") req.getSource();";
  protected final String TEXT_176 = NL + "\t\tfinal ";
  protected final String TEXT_177 = " element = (";
  protected final String TEXT_178 = ") getRelationshipContainer(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_179 = ".eINSTANCE.get";
  protected final String TEXT_180 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_181 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_182 = NL + "\t\tif (";
  protected final String TEXT_183 = " != null) {";
  protected final String TEXT_184 = NL + "\t\tif (";
  protected final String TEXT_185 = ".size() >= ";
  protected final String TEXT_186 = ") {";
  protected final String TEXT_187 = NL + "\t\t\treturn ";
  protected final String TEXT_188 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_189 = NL + "\t\tif (";
  protected final String TEXT_190 = " != null) {";
  protected final String TEXT_191 = NL + "\t\tif (";
  protected final String TEXT_192 = ".size() >= ";
  protected final String TEXT_193 = ") {";
  protected final String TEXT_194 = NL + "\t\t\treturn ";
  protected final String TEXT_195 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_196 = NL + "\t\tif(!";
  protected final String TEXT_197 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_198 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_199 = "\t\t";
  protected final String TEXT_200 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_201 = ".eINSTANCE.get";
  protected final String TEXT_202 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_203 = "(req, element, (";
  protected final String TEXT_204 = ") req.getSource(), (";
  protected final String TEXT_205 = ") req.getTarget()));" + NL + "\t}";
  protected final String TEXT_206 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_207 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_208 = NL + "\t\t";
  protected final String TEXT_209 = " element = (";
  protected final String TEXT_210 = ") getSemanticElement();";
  protected final String TEXT_211 = NL + "\t\tif (";
  protected final String TEXT_212 = " != null) {";
  protected final String TEXT_213 = NL + "\t\tif (";
  protected final String TEXT_214 = ".size() >= ";
  protected final String TEXT_215 = ") {";
  protected final String TEXT_216 = NL + "\t\t\treturn ";
  protected final String TEXT_217 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_218 = NL + "\t\tif(!";
  protected final String TEXT_219 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_220 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_221 = NL;
  protected final String TEXT_222 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_223 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_224 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_225 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_226 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_227 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_228 = NL + "\t\t";
  protected final String TEXT_229 = " element = (";
  protected final String TEXT_230 = ") getSemanticElement();";
  protected final String TEXT_231 = NL + "\t\tif (";
  protected final String TEXT_232 = " != null) {";
  protected final String TEXT_233 = NL + "\t\tif (";
  protected final String TEXT_234 = ".size() >= ";
  protected final String TEXT_235 = " || ";
  protected final String TEXT_236 = ".contains(req.getSource())) {";
  protected final String TEXT_237 = NL + "\t\t\treturn ";
  protected final String TEXT_238 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_239 = NL + "\t\t";
  protected final String TEXT_240 = " element = (";
  protected final String TEXT_241 = ") getSemanticElement();" + NL + "\t\tif (";
  protected final String TEXT_242 = ".contains(req.getSource())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_243 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_244 = NL + "\t\tif(!";
  protected final String TEXT_245 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_246 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_247 = "\t\t";
  protected final String TEXT_248 = NL + "\t\t";
  protected final String TEXT_249 = " setReq = new ";
  protected final String TEXT_250 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_251 = ".eINSTANCE.get";
  protected final String TEXT_252 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_253 = "(setReq));" + NL + "\t}";
  protected final String TEXT_254 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_255 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_256 = NL + "\t\tif(!";
  protected final String TEXT_257 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_258 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_259 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_260 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_261 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_262 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_263 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_264 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_265 = NL + "\t\t";
  protected final String TEXT_266 = " element = (";
  protected final String TEXT_267 = ") req.getSource();";
  protected final String TEXT_268 = NL + "\t\tif (";
  protected final String TEXT_269 = " != null) {";
  protected final String TEXT_270 = NL + "\t\tif (";
  protected final String TEXT_271 = ".size() >= ";
  protected final String TEXT_272 = " || ";
  protected final String TEXT_273 = ".contains(req.getTarget())) {";
  protected final String TEXT_274 = NL + "\t\t\treturn ";
  protected final String TEXT_275 = ".INSTANCE;" + NL + "\t\t}";
d296 7
a302 15
  protected final String TEXT_277 = " element = (";
  protected final String TEXT_278 = ") req.getSource();" + NL + "\t\tif (";
  protected final String TEXT_279 = ".contains(req.getTarget())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_280 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_281 = NL + "\t\tif(!";
  protected final String TEXT_282 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_283 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_284 = NL + "\t\t";
  protected final String TEXT_285 = " setReq = new ";
  protected final String TEXT_286 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_287 = ".eINSTANCE.get";
  protected final String TEXT_288 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_289 = "(setReq));" + NL + "\t}";
  protected final String TEXT_290 = NL + "}";
  protected final String TEXT_291 = NL;
a728 1
	GenLinkConstraints linkConstraints = genLink.getCreationConstraints();
a853 1
    			if(linkConstraints != null) { 
d855 1
a855 1
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+"."+linkConstraints.getConstraintsInstanceFieldName());
a858 1
    			} // end of link constraints 
d948 1
a948 1
    			if(linkConstraints != null) { 
d950 1
a950 1
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+"."+linkConstraints.getConstraintsInstanceFieldName());
d952 1
a952 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d954 1
a954 1
    			} // end of link constraints 
d956 1
a956 1
    stringBuffer.append(importManager.getImportedName(modelFacet.getCreateCommandQualifiedClassName()));
a957 4
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_159);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_160);
d967 4
d972 1
a972 1
    stringBuffer.append(namePart);
d974 1
a974 1
    			if(linkConstraints != null) { 
a975 8
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+"."+linkConstraints.getConstraintsInstanceFieldName());
    stringBuffer.append(TEXT_164);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_165);
    			} // end of link constraints 
    stringBuffer.append(TEXT_166);
     // no feasible restrictions here 
    stringBuffer.append(TEXT_167);
d985 1
a985 1
    stringBuffer.append(TEXT_168);
d987 1
a987 1
    stringBuffer.append(TEXT_169);
d989 1
a989 1
    stringBuffer.append(TEXT_170);
d991 1
a991 1
    stringBuffer.append(TEXT_171);
d993 1
a993 1
    stringBuffer.append(TEXT_172);
d998 1
a998 1
    stringBuffer.append(TEXT_173);
d1000 1
a1000 1
    stringBuffer.append(TEXT_174);
d1002 1
a1002 1
    stringBuffer.append(TEXT_175);
d1004 1
a1004 1
    stringBuffer.append(TEXT_176);
d1006 1
a1006 1
    stringBuffer.append(TEXT_177);
d1008 1
a1008 1
    stringBuffer.append(TEXT_178);
d1010 1
a1010 1
    stringBuffer.append(TEXT_179);
d1012 1
a1012 1
    stringBuffer.append(TEXT_180);
d1014 1
a1014 1
    stringBuffer.append(TEXT_181);
d1022 1
a1022 1
    stringBuffer.append(TEXT_182);
d1024 1
a1024 1
    stringBuffer.append(TEXT_183);
d1026 1
a1026 1
    stringBuffer.append(TEXT_184);
d1028 1
a1028 1
    stringBuffer.append(TEXT_185);
d1030 1
a1030 1
    stringBuffer.append(TEXT_186);
d1032 1
a1032 1
    stringBuffer.append(TEXT_187);
d1034 1
a1034 1
    stringBuffer.append(TEXT_188);
d1040 1
a1040 1
    stringBuffer.append(TEXT_189);
d1042 1
a1042 1
    stringBuffer.append(TEXT_190);
d1044 1
a1044 1
    stringBuffer.append(TEXT_191);
d1046 1
a1046 1
    stringBuffer.append(TEXT_192);
d1048 1
a1048 1
    stringBuffer.append(TEXT_193);
d1050 1
a1050 1
    stringBuffer.append(TEXT_194);
d1052 1
a1052 1
    stringBuffer.append(TEXT_195);
d1057 3
a1059 4
    			if(linkConstraints != null) { 
    stringBuffer.append(TEXT_196);
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+"."+linkConstraints.getConstraintsInstanceFieldName());
    stringBuffer.append(TEXT_197);
d1061 1
a1061 3
    stringBuffer.append(TEXT_198);
    			} // end of constraints 
    stringBuffer.append(TEXT_199);
d1063 1
a1063 1
    stringBuffer.append(TEXT_200);
d1065 1
a1065 1
    stringBuffer.append(TEXT_201);
d1067 1
a1067 1
    stringBuffer.append(TEXT_202);
d1069 1
a1069 1
    stringBuffer.append(TEXT_203);
d1071 1
a1071 1
    stringBuffer.append(TEXT_204);
d1073 1
a1073 1
    stringBuffer.append(TEXT_205);
d1129 1
a1129 1
    stringBuffer.append(TEXT_206);
d1131 1
a1131 1
    stringBuffer.append(TEXT_207);
d1137 1
a1137 1
    stringBuffer.append(TEXT_208);
d1139 1
a1139 1
    stringBuffer.append(TEXT_209);
d1141 1
a1141 1
    stringBuffer.append(TEXT_210);
d1143 1
a1143 1
    stringBuffer.append(TEXT_211);
d1145 1
a1145 1
    stringBuffer.append(TEXT_212);
d1147 1
a1147 1
    stringBuffer.append(TEXT_213);
d1149 1
a1149 1
    stringBuffer.append(TEXT_214);
d1151 1
a1151 1
    stringBuffer.append(TEXT_215);
d1153 1
a1153 1
    stringBuffer.append(TEXT_216);
d1155 1
a1155 1
    stringBuffer.append(TEXT_217);
d1157 3
a1159 4
    			if(linkConstraints != null) { 
    stringBuffer.append(TEXT_218);
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+"."+linkConstraints.getConstraintsInstanceFieldName());
    stringBuffer.append(TEXT_219);
d1161 1
a1161 3
    stringBuffer.append(TEXT_220);
    			} // end of link constraints 
    stringBuffer.append(TEXT_221);
d1163 1
a1163 1
    stringBuffer.append(TEXT_222);
d1173 1
a1173 1
    stringBuffer.append(TEXT_223);
d1175 1
a1175 1
    stringBuffer.append(TEXT_224);
d1177 1
a1177 1
    stringBuffer.append(TEXT_225);
d1179 1
a1179 1
    stringBuffer.append(TEXT_226);
d1181 1
a1181 1
    stringBuffer.append(TEXT_227);
d1187 1
a1187 1
    stringBuffer.append(TEXT_228);
d1189 1
a1189 1
    stringBuffer.append(TEXT_229);
d1191 1
a1191 1
    stringBuffer.append(TEXT_230);
d1193 1
a1193 1
    stringBuffer.append(TEXT_231);
d1195 1
a1195 1
    stringBuffer.append(TEXT_232);
d1197 1
a1197 1
    stringBuffer.append(TEXT_233);
d1199 1
a1199 1
    stringBuffer.append(TEXT_234);
d1201 1
a1201 1
    stringBuffer.append(TEXT_235);
d1203 1
a1203 1
    stringBuffer.append(TEXT_236);
d1205 1
a1205 1
    stringBuffer.append(TEXT_237);
d1207 1
a1207 1
    stringBuffer.append(TEXT_238);
d1212 1
a1212 1
    stringBuffer.append(TEXT_239);
d1214 1
a1214 1
    stringBuffer.append(TEXT_240);
d1216 1
a1216 1
    stringBuffer.append(TEXT_241);
d1218 1
a1218 1
    stringBuffer.append(TEXT_242);
d1220 1
a1220 1
    stringBuffer.append(TEXT_243);
d1222 3
a1224 4
    			if(linkConstraints != null) { 
    stringBuffer.append(TEXT_244);
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+"."+linkConstraints.getConstraintsInstanceFieldName());
    stringBuffer.append(TEXT_245);
d1226 1
a1226 3
    stringBuffer.append(TEXT_246);
    			} // end of constraints 
    stringBuffer.append(TEXT_247);
d1228 1
a1228 1
    stringBuffer.append(TEXT_248);
d1230 1
a1230 1
    stringBuffer.append(TEXT_249);
d1232 1
a1232 1
    stringBuffer.append(TEXT_250);
d1234 1
a1234 1
    stringBuffer.append(TEXT_251);
d1236 1
a1236 1
    stringBuffer.append(TEXT_252);
d1238 1
a1238 1
    stringBuffer.append(TEXT_253);
d1248 1
a1248 1
    stringBuffer.append(TEXT_254);
d1250 3
a1252 5
    stringBuffer.append(TEXT_255);
    			if(genLink.getCreationConstraints() != null) { 
    stringBuffer.append(TEXT_256);
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+"."+linkConstraints.getConstraintsInstanceFieldName());
    stringBuffer.append(TEXT_257);
d1254 1
a1254 2
    stringBuffer.append(TEXT_258);
    			} // end of link constraints 
d1256 1
a1256 1
    stringBuffer.append(TEXT_259);
d1266 1
a1266 1
    stringBuffer.append(TEXT_260);
d1268 1
a1268 1
    stringBuffer.append(TEXT_261);
d1270 1
a1270 1
    stringBuffer.append(TEXT_262);
d1272 1
a1272 1
    stringBuffer.append(TEXT_263);
d1274 1
a1274 1
    stringBuffer.append(TEXT_264);
d1280 1
a1280 1
    stringBuffer.append(TEXT_265);
d1282 1
a1282 1
    stringBuffer.append(TEXT_266);
d1284 1
a1284 1
    stringBuffer.append(TEXT_267);
d1286 1
a1286 1
    stringBuffer.append(TEXT_268);
d1288 1
a1288 1
    stringBuffer.append(TEXT_269);
d1290 1
a1290 1
    stringBuffer.append(TEXT_270);
d1292 1
a1292 1
    stringBuffer.append(TEXT_271);
d1294 1
a1294 1
    stringBuffer.append(TEXT_272);
d1296 1
a1296 1
    stringBuffer.append(TEXT_273);
d1298 1
a1298 1
    stringBuffer.append(TEXT_274);
d1300 1
a1300 1
    stringBuffer.append(TEXT_275);
d1305 1
a1305 1
    stringBuffer.append(TEXT_276);
d1307 1
a1307 1
    stringBuffer.append(TEXT_277);
d1309 1
a1309 1
    stringBuffer.append(TEXT_278);
d1311 1
a1311 1
    stringBuffer.append(TEXT_279);
d1313 1
a1313 1
    stringBuffer.append(TEXT_280);
d1315 3
a1317 4
    			if(linkConstraints != null) { 
    stringBuffer.append(TEXT_281);
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+"."+linkConstraints.getConstraintsInstanceFieldName());
    stringBuffer.append(TEXT_282);
d1319 1
a1319 2
    stringBuffer.append(TEXT_283);
    			} // end of constraints 
d1321 1
a1321 1
    stringBuffer.append(TEXT_284);
d1323 1
a1323 1
    stringBuffer.append(TEXT_285);
d1325 1
a1325 1
    stringBuffer.append(TEXT_286);
d1327 1
a1327 1
    stringBuffer.append(TEXT_287);
d1329 1
a1329 1
    stringBuffer.append(TEXT_288);
d1331 1
a1331 1
    stringBuffer.append(TEXT_289);
d1337 1
a1337 1
    stringBuffer.append(TEXT_290);
d1339 1
a1339 1
    stringBuffer.append(TEXT_291);
@


1.55
log
@[157683] - Generate link creation/initialization command in single separate classes instead of duplication of the code in different SemanticEditPolicy'ies
@
text
@d254 57
a310 59
  protected final String TEXT_235 = NL + "\t\t\t|| ";
  protected final String TEXT_236 = ".contains(req.getSource())";
  protected final String TEXT_237 = NL + "\t\t\t\t) {";
  protected final String TEXT_238 = NL + "\t\t\treturn ";
  protected final String TEXT_239 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_240 = NL + "\t\t";
  protected final String TEXT_241 = " element = (";
  protected final String TEXT_242 = ") getSemanticElement();" + NL + "\t\tif (";
  protected final String TEXT_243 = ".contains(req.getSource())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_244 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_245 = NL + "\t\tif(!";
  protected final String TEXT_246 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_247 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_248 = "\t\t";
  protected final String TEXT_249 = NL + "\t\t";
  protected final String TEXT_250 = " setReq = new ";
  protected final String TEXT_251 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_252 = ".eINSTANCE.get";
  protected final String TEXT_253 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_254 = "(setReq));" + NL + "\t}";
  protected final String TEXT_255 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_256 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_257 = NL + "\t\tif(!";
  protected final String TEXT_258 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_259 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_260 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_261 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_262 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_263 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_264 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_265 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_266 = NL + "\t\t";
  protected final String TEXT_267 = " element = (";
  protected final String TEXT_268 = ") req.getSource();";
  protected final String TEXT_269 = NL + "\t\tif (";
  protected final String TEXT_270 = " != null) {";
  protected final String TEXT_271 = NL + "\t\tif (";
  protected final String TEXT_272 = ".size() >= ";
  protected final String TEXT_273 = NL + "\t\t\t|| ";
  protected final String TEXT_274 = ".contains(req.getTarget())";
  protected final String TEXT_275 = NL + "\t\t\t\t) {";
  protected final String TEXT_276 = NL + "\t\t\treturn ";
  protected final String TEXT_277 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_278 = NL + "\t\t";
  protected final String TEXT_279 = " element = (";
  protected final String TEXT_280 = ") req.getSource();" + NL + "\t\tif (";
  protected final String TEXT_281 = ".contains(req.getTarget())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_282 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_283 = NL + "\t\tif(!";
  protected final String TEXT_284 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_285 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_286 = NL + "\t\t";
  protected final String TEXT_287 = " setReq = new ";
  protected final String TEXT_288 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_289 = ".eINSTANCE.get";
  protected final String TEXT_290 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_291 = "(setReq));" + NL + "\t}";
  protected final String TEXT_292 = NL + "}";
  protected final String TEXT_293 = NL;
a1225 1
    					if (metaFeature.getEcoreFeature().isUnique()) {
d1231 1
a1231 1
    			}
a1232 2
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_239);
d1237 2
d1242 1
a1242 1
    stringBuffer.append(outgoingClassName);
d1244 1
a1244 1
    stringBuffer.append(getFeatureValueGetter("element", metaFeature, false, importManager));
a1245 2
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_244);
d1248 2
d1251 1
a1251 1
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+"."+linkConstraints.getConstraintsInstanceFieldName());
d1253 1
a1253 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d1255 1
a1255 1
    			} // end of constraints 
d1257 1
a1257 1
     // create semantic command 
d1261 1
a1261 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.requests.SetRequest"));
d1263 1
a1263 1
    stringBuffer.append(importManager.getImportedName(metaFeature.getGenPackage().getQualifiedPackageInterfaceName()));
d1265 1
a1265 1
    stringBuffer.append(metaFeature.getFeatureAccessorName());
a1266 2
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.commands.SetValueCommand"));
    stringBuffer.append(TEXT_254);
d1276 2
d1279 1
a1279 1
    stringBuffer.append(namePart);
d1281 1
a1281 1
    			if(genLink.getCreationConstraints() != null) { 
d1283 1
a1283 1
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+"."+linkConstraints.getConstraintsInstanceFieldName());
a1284 2
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_259);
d1287 1
a1287 1
    stringBuffer.append(TEXT_260);
d1297 2
d1300 1
a1300 1
    stringBuffer.append(namePart);
d1302 1
a1302 1
     // check that source is valid 
d1304 1
a1304 1
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
a1305 2
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_265);
d1311 2
d1316 1
a1316 1
    stringBuffer.append(outgoingClassName);
d1318 1
a1318 1
    				if (upperBound == 1) {
d1320 2
a1322 2
    stringBuffer.append(TEXT_270);
    				} else {
d1324 2
a1326 3
    stringBuffer.append(TEXT_272);
    stringBuffer.append(upperBound);
    					if (metaFeature.getEcoreFeature().isUnique()) {
d1328 1
a1328 1
    stringBuffer.append(getFeatureValueGetter("element", metaFeature, false, importManager));
d1330 1
a1330 1
    					}
a1331 4
    				}
    stringBuffer.append(TEXT_276);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_277);
d1336 1
a1336 1
    stringBuffer.append(TEXT_278);
d1338 1
a1338 1
    stringBuffer.append(TEXT_279);
d1340 1
a1340 1
    stringBuffer.append(TEXT_280);
d1342 1
a1342 1
    stringBuffer.append(TEXT_281);
d1344 1
a1344 1
    stringBuffer.append(TEXT_282);
d1347 1
a1347 1
    stringBuffer.append(TEXT_283);
d1349 1
a1349 1
    stringBuffer.append(TEXT_284);
d1351 1
a1351 1
    stringBuffer.append(TEXT_285);
d1354 1
a1354 1
    stringBuffer.append(TEXT_286);
d1356 1
a1356 1
    stringBuffer.append(TEXT_287);
d1358 1
a1358 1
    stringBuffer.append(TEXT_288);
d1360 1
a1360 1
    stringBuffer.append(TEXT_289);
d1362 1
a1362 1
    stringBuffer.append(TEXT_290);
d1364 1
a1364 1
    stringBuffer.append(TEXT_291);
d1370 1
a1370 1
    stringBuffer.append(TEXT_292);
d1372 1
a1372 1
    stringBuffer.append(TEXT_293);
@


1.54
log
@#161380 simplify feature model facets
@
text
@d176 137
a312 205
  protected final String TEXT_157 = "\t\t\t\t" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_158 = "Command(req) {" + NL + "" + NL + "\t\t\tprotected ";
  protected final String TEXT_159 = " getElementToEdit() {" + NL + "\t\t\t\treturn ";
  protected final String TEXT_160 = "(";
  protected final String TEXT_161 = ") ";
  protected final String TEXT_162 = "element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_163 = "Command extends ";
  protected final String TEXT_164 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_165 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_166 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_167 = ".eINSTANCE.get";
  protected final String TEXT_168 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_169 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_170 = " doDefaultElementCreation() {";
  protected final String TEXT_171 = NL + "\t\t\t";
  protected final String TEXT_172 = " newElement = (";
  protected final String TEXT_173 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_174 = "(";
  protected final String TEXT_175 = ") getSource());";
  protected final String TEXT_176 = NL + "\t\t\t\t";
  protected final String TEXT_177 = "(";
  protected final String TEXT_178 = ") getTarget());";
  protected final String TEXT_179 = NL + "\t\t\t\t";
  protected final String TEXT_180 = " container = (";
  protected final String TEXT_181 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_182 = NL + "\t\t\t\t\t";
  protected final String TEXT_183 = " featureValues = container.";
  protected final String TEXT_184 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_185 = NL + "\t\t\t\t \t";
  protected final String TEXT_186 = "newElement);";
  protected final String TEXT_187 = NL + "\t\t\t\t}";
  protected final String TEXT_188 = NL + "\t\t\t\t";
  protected final String TEXT_189 = ".Initializers.";
  protected final String TEXT_190 = ".init(newElement);";
  protected final String TEXT_191 = NL + "\t\t\t}" + NL + "\t\t\treturn ";
  protected final String TEXT_192 = "(";
  protected final String TEXT_193 = ") ";
  protected final String TEXT_194 = "newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_195 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_196 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_197 = NL + "\t\tif(!";
  protected final String TEXT_198 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_199 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_200 = "\t";
  protected final String TEXT_201 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_202 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_203 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_204 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_205 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_206 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_207 = NL + "\t\tfinal ";
  protected final String TEXT_208 = " element = (";
  protected final String TEXT_209 = ") req.getSource();";
  protected final String TEXT_210 = NL + "\t\tfinal ";
  protected final String TEXT_211 = " element = (";
  protected final String TEXT_212 = ") getRelationshipContainer(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_213 = ".eINSTANCE.get";
  protected final String TEXT_214 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_215 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_216 = NL + "\t\tif (";
  protected final String TEXT_217 = " != null) {";
  protected final String TEXT_218 = NL + "\t\tif (";
  protected final String TEXT_219 = ".size() >= ";
  protected final String TEXT_220 = ") {";
  protected final String TEXT_221 = NL + "\t\t\treturn ";
  protected final String TEXT_222 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_223 = NL + "\t\tif (";
  protected final String TEXT_224 = " != null) {";
  protected final String TEXT_225 = NL + "\t\tif (";
  protected final String TEXT_226 = ".size() >= ";
  protected final String TEXT_227 = ") {";
  protected final String TEXT_228 = NL + "\t\t\treturn ";
  protected final String TEXT_229 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_230 = NL + "\t\tif(!";
  protected final String TEXT_231 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_232 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_233 = "\t\t";
  protected final String TEXT_234 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_235 = ".eINSTANCE.get";
  protected final String TEXT_236 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_237 = "Command(req) {" + NL + "" + NL + "\t\t\tprotected ";
  protected final String TEXT_238 = " getElementToEdit() {" + NL + "\t\t\t\treturn ";
  protected final String TEXT_239 = "(";
  protected final String TEXT_240 = ") ";
  protected final String TEXT_241 = "element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_242 = "Command extends ";
  protected final String TEXT_243 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_244 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_245 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_246 = ".eINSTANCE.get";
  protected final String TEXT_247 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_248 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_249 = " doDefaultElementCreation() {";
  protected final String TEXT_250 = NL + "\t\t\t";
  protected final String TEXT_251 = " newElement = (";
  protected final String TEXT_252 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_253 = "(";
  protected final String TEXT_254 = ") getTarget());";
  protected final String TEXT_255 = NL + "\t\t\t\t";
  protected final String TEXT_256 = "(";
  protected final String TEXT_257 = ") getSource());";
  protected final String TEXT_258 = NL + "\t\t\t\t";
  protected final String TEXT_259 = " container = (";
  protected final String TEXT_260 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_261 = NL + "\t\t\t\t\t";
  protected final String TEXT_262 = " featureValues = container.";
  protected final String TEXT_263 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_264 = NL + "\t\t\t\t \t";
  protected final String TEXT_265 = "newElement);";
  protected final String TEXT_266 = NL + "\t\t\t\t}";
  protected final String TEXT_267 = NL + "\t\t\t\t";
  protected final String TEXT_268 = ".Initializers.";
  protected final String TEXT_269 = ".init(newElement);";
  protected final String TEXT_270 = NL + "\t\t\t}" + NL + "\t\t\treturn ";
  protected final String TEXT_271 = "(";
  protected final String TEXT_272 = ") ";
  protected final String TEXT_273 = "newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_274 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_275 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_276 = NL + "\t\t";
  protected final String TEXT_277 = " element = (";
  protected final String TEXT_278 = ") getSemanticElement();";
  protected final String TEXT_279 = NL + "\t\tif (";
  protected final String TEXT_280 = " != null) {";
  protected final String TEXT_281 = NL + "\t\tif (";
  protected final String TEXT_282 = ".size() >= ";
  protected final String TEXT_283 = ") {";
  protected final String TEXT_284 = NL + "\t\t\treturn ";
  protected final String TEXT_285 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_286 = NL + "\t\tif(!";
  protected final String TEXT_287 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_288 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_289 = NL;
  protected final String TEXT_290 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_291 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_292 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_293 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_294 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_295 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_296 = NL + "\t\t";
  protected final String TEXT_297 = " element = (";
  protected final String TEXT_298 = ") getSemanticElement();";
  protected final String TEXT_299 = NL + "\t\tif (";
  protected final String TEXT_300 = " != null) {";
  protected final String TEXT_301 = NL + "\t\tif (";
  protected final String TEXT_302 = ".size() >= ";
  protected final String TEXT_303 = NL + "\t\t\t|| ";
  protected final String TEXT_304 = ".contains(req.getSource())";
  protected final String TEXT_305 = NL + "\t\t\t\t) {";
  protected final String TEXT_306 = NL + "\t\t\treturn ";
  protected final String TEXT_307 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_308 = NL + "\t\t";
  protected final String TEXT_309 = " element = (";
  protected final String TEXT_310 = ") getSemanticElement();" + NL + "\t\tif (";
  protected final String TEXT_311 = ".contains(req.getSource())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_312 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_313 = NL + "\t\tif(!";
  protected final String TEXT_314 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_315 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_316 = "\t\t";
  protected final String TEXT_317 = NL + "\t\t";
  protected final String TEXT_318 = " setReq = new ";
  protected final String TEXT_319 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_320 = ".eINSTANCE.get";
  protected final String TEXT_321 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_322 = "(setReq));" + NL + "\t}";
  protected final String TEXT_323 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_324 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_325 = NL + "\t\tif(!";
  protected final String TEXT_326 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_327 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_328 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_329 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_330 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_331 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_332 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_333 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_334 = NL + "\t\t";
  protected final String TEXT_335 = " element = (";
  protected final String TEXT_336 = ") req.getSource();";
  protected final String TEXT_337 = NL + "\t\tif (";
  protected final String TEXT_338 = " != null) {";
  protected final String TEXT_339 = NL + "\t\tif (";
  protected final String TEXT_340 = ".size() >= ";
  protected final String TEXT_341 = NL + "\t\t\t|| ";
  protected final String TEXT_342 = ".contains(req.getTarget())";
  protected final String TEXT_343 = NL + "\t\t\t\t) {";
  protected final String TEXT_344 = NL + "\t\t\treturn ";
  protected final String TEXT_345 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_346 = NL + "\t\t";
  protected final String TEXT_347 = " element = (";
  protected final String TEXT_348 = ") req.getSource();" + NL + "\t\tif (";
  protected final String TEXT_349 = ".contains(req.getTarget())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_350 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_351 = NL + "\t\tif(!";
  protected final String TEXT_352 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_353 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_354 = NL + "\t\t";
  protected final String TEXT_355 = " setReq = new ";
  protected final String TEXT_356 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_357 = ".eINSTANCE.get";
  protected final String TEXT_358 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_359 = "(setReq));" + NL + "\t}";
  protected final String TEXT_360 = NL + "}";
  protected final String TEXT_361 = NL;
d322 7
a328 1
				result.append(importManager.getImportedName(feature.getEcoreFeature().getEType().getInstanceClassName()));
a759 1
		boolean processChildFeature = !childFeature.isDerived() && !childFeature.equals(containmentFeature);
d969 1
a969 1
    stringBuffer.append(namePart);
d971 1
a971 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d973 1
a973 1
    if (containmentFeature.getGenClass().isExternalInterface()) {
a974 74
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_161);
    }
    stringBuffer.append(TEXT_162);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_163);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.commands.CreateRelationshipCommand"));
    stringBuffer.append(TEXT_164);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_165);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EClass"));
    stringBuffer.append(TEXT_166);
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
    stringBuffer.append(TEXT_167);
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
    stringBuffer.append(TEXT_168);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_169);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_170);
    			String metaClassName = importManager.getImportedName(modelFacet.getMetaClass().getQualifiedInterfaceName());
    stringBuffer.append(TEXT_171);
    stringBuffer.append(metaClassName);
    stringBuffer.append(TEXT_172);
    stringBuffer.append(metaClassName);
    stringBuffer.append(TEXT_173);
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getTargetMetaFeature(), false, importManager));
    stringBuffer.append(TEXT_174);
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_175);
    			if (modelFacet.getSourceMetaFeature() != null) {
    stringBuffer.append(TEXT_176);
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getSourceMetaFeature(), false, importManager));
    stringBuffer.append(TEXT_177);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_178);
    
			}
			if (processChildFeature) {

    stringBuffer.append(TEXT_179);
    stringBuffer.append(containerClassName);
    stringBuffer.append(TEXT_180);
    stringBuffer.append(containerClassName);
    stringBuffer.append(TEXT_181);
    				if (childFeature.isListType()) {
    stringBuffer.append(TEXT_182);
    stringBuffer.append(importManager.getImportedName("java.util.Collection"));
    stringBuffer.append(TEXT_183);
    stringBuffer.append(childFeature.getGetAccessor());
    stringBuffer.append(TEXT_184);
    				} else {
    stringBuffer.append(TEXT_185);
    stringBuffer.append(getFeatureValueSetterPrefix("container", childFeature, false, importManager));
    stringBuffer.append(TEXT_186);
    				}
    stringBuffer.append(TEXT_187);
    
			}
			if (modelFacet.getModelElementInitializer() != null) { 

    stringBuffer.append(TEXT_188);
    stringBuffer.append(importManager.getImportedName(genDiagram.getElementTypesQualifiedClassName()));
    stringBuffer.append(TEXT_189);
    stringBuffer.append(genLink.getUniqueIdentifier());
    stringBuffer.append(TEXT_190);
    			}
    stringBuffer.append(TEXT_191);
    if (modelFacet.getMetaClass().isExternalInterface()) {
    stringBuffer.append(TEXT_192);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_193);
    }
    stringBuffer.append(TEXT_194);
d984 1
a984 1
    stringBuffer.append(TEXT_195);
d986 1
a986 1
    stringBuffer.append(TEXT_196);
d988 1
a988 1
    stringBuffer.append(TEXT_197);
d990 1
a990 1
    stringBuffer.append(TEXT_198);
d992 1
a992 1
    stringBuffer.append(TEXT_199);
d994 1
a994 1
    stringBuffer.append(TEXT_200);
d996 1
a996 1
    stringBuffer.append(TEXT_201);
d1006 1
a1006 1
    stringBuffer.append(TEXT_202);
d1008 1
a1008 1
    stringBuffer.append(TEXT_203);
d1010 1
a1010 1
    stringBuffer.append(TEXT_204);
d1012 1
a1012 1
    stringBuffer.append(TEXT_205);
d1014 1
a1014 1
    stringBuffer.append(TEXT_206);
d1019 1
a1019 1
    stringBuffer.append(TEXT_207);
d1021 1
a1021 1
    stringBuffer.append(TEXT_208);
d1023 1
a1023 1
    stringBuffer.append(TEXT_209);
d1025 1
a1025 1
    stringBuffer.append(TEXT_210);
d1027 1
a1027 1
    stringBuffer.append(TEXT_211);
d1029 1
a1029 1
    stringBuffer.append(TEXT_212);
d1031 1
a1031 1
    stringBuffer.append(TEXT_213);
d1033 1
a1033 1
    stringBuffer.append(TEXT_214);
d1035 1
a1035 1
    stringBuffer.append(TEXT_215);
d1043 1
a1043 1
    stringBuffer.append(TEXT_216);
d1045 1
a1045 1
    stringBuffer.append(TEXT_217);
d1047 1
a1047 1
    stringBuffer.append(TEXT_218);
d1049 1
a1049 1
    stringBuffer.append(TEXT_219);
d1051 1
a1051 1
    stringBuffer.append(TEXT_220);
d1053 1
a1053 1
    stringBuffer.append(TEXT_221);
d1055 1
a1055 1
    stringBuffer.append(TEXT_222);
d1061 1
a1061 1
    stringBuffer.append(TEXT_223);
d1063 1
a1063 1
    stringBuffer.append(TEXT_224);
d1065 1
a1065 1
    stringBuffer.append(TEXT_225);
d1067 1
a1067 1
    stringBuffer.append(TEXT_226);
d1069 1
a1069 1
    stringBuffer.append(TEXT_227);
d1071 1
a1071 1
    stringBuffer.append(TEXT_228);
d1073 1
a1073 1
    stringBuffer.append(TEXT_229);
d1079 1
a1079 1
    stringBuffer.append(TEXT_230);
d1081 1
a1081 1
    stringBuffer.append(TEXT_231);
d1083 1
a1083 1
    stringBuffer.append(TEXT_232);
d1085 1
a1085 1
    stringBuffer.append(TEXT_233);
d1087 1
a1087 1
    stringBuffer.append(TEXT_234);
d1089 1
a1089 1
    stringBuffer.append(TEXT_235);
d1091 5
a1095 35
    stringBuffer.append(TEXT_236);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_237);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_238);
    if (containmentFeature.getGenClass().isExternalInterface()) {
    stringBuffer.append(TEXT_239);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_240);
    }
    stringBuffer.append(TEXT_241);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_242);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.commands.CreateRelationshipCommand"));
    stringBuffer.append(TEXT_243);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_244);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EClass"));
    stringBuffer.append(TEXT_245);
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
    stringBuffer.append(TEXT_246);
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
    stringBuffer.append(TEXT_247);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_248);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_249);
    			String metaClassName = importManager.getImportedName(modelFacet.getMetaClass().getQualifiedInterfaceName());
    stringBuffer.append(TEXT_250);
    stringBuffer.append(metaClassName);
    stringBuffer.append(TEXT_251);
    stringBuffer.append(metaClassName);
    stringBuffer.append(TEXT_252);
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getTargetMetaFeature(), false, importManager));
    stringBuffer.append(TEXT_253);
d1097 1
a1097 45
    stringBuffer.append(TEXT_254);
    			if (modelFacet.getSourceMetaFeature() != null) {
    stringBuffer.append(TEXT_255);
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getSourceMetaFeature(), false, importManager));
    stringBuffer.append(TEXT_256);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_257);
    
			}
			if (processChildFeature) {

    stringBuffer.append(TEXT_258);
    stringBuffer.append(containerClassName);
    stringBuffer.append(TEXT_259);
    stringBuffer.append(containerClassName);
    stringBuffer.append(TEXT_260);
    				if (childFeature.isListType()) {
    stringBuffer.append(TEXT_261);
    stringBuffer.append(importManager.getImportedName("java.util.Collection"));
    stringBuffer.append(TEXT_262);
    stringBuffer.append(childFeature.getGetAccessor());
    stringBuffer.append(TEXT_263);
    				} else {
    stringBuffer.append(TEXT_264);
    stringBuffer.append(getFeatureValueSetterPrefix("container", childFeature, false, importManager));
    stringBuffer.append(TEXT_265);
    				}
    stringBuffer.append(TEXT_266);
    
			}
				if (modelFacet.getModelElementInitializer() != null) { 

    stringBuffer.append(TEXT_267);
    stringBuffer.append(importManager.getImportedName(genDiagram.getElementTypesQualifiedClassName()));
    stringBuffer.append(TEXT_268);
    stringBuffer.append(genLink.getUniqueIdentifier());
    stringBuffer.append(TEXT_269);
    			}
    stringBuffer.append(TEXT_270);
    if (modelFacet.getMetaClass().isExternalInterface()) {
    stringBuffer.append(TEXT_271);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_272);
    }
    stringBuffer.append(TEXT_273);
d1153 1
a1153 1
    stringBuffer.append(TEXT_274);
d1155 1
a1155 1
    stringBuffer.append(TEXT_275);
d1161 1
a1161 1
    stringBuffer.append(TEXT_276);
d1163 1
a1163 1
    stringBuffer.append(TEXT_277);
d1165 1
a1165 1
    stringBuffer.append(TEXT_278);
d1167 1
a1167 1
    stringBuffer.append(TEXT_279);
d1169 1
a1169 1
    stringBuffer.append(TEXT_280);
d1171 1
a1171 1
    stringBuffer.append(TEXT_281);
d1173 1
a1173 1
    stringBuffer.append(TEXT_282);
d1175 1
a1175 1
    stringBuffer.append(TEXT_283);
d1177 1
a1177 1
    stringBuffer.append(TEXT_284);
d1179 1
a1179 1
    stringBuffer.append(TEXT_285);
d1182 1
a1182 1
    stringBuffer.append(TEXT_286);
d1184 1
a1184 1
    stringBuffer.append(TEXT_287);
d1186 1
a1186 1
    stringBuffer.append(TEXT_288);
d1188 1
a1188 1
    stringBuffer.append(TEXT_289);
d1190 1
a1190 1
    stringBuffer.append(TEXT_290);
d1200 1
a1200 1
    stringBuffer.append(TEXT_291);
d1202 1
a1202 1
    stringBuffer.append(TEXT_292);
d1204 1
a1204 1
    stringBuffer.append(TEXT_293);
d1206 1
a1206 1
    stringBuffer.append(TEXT_294);
d1208 1
a1208 1
    stringBuffer.append(TEXT_295);
d1214 1
a1214 1
    stringBuffer.append(TEXT_296);
d1216 1
a1216 1
    stringBuffer.append(TEXT_297);
d1218 1
a1218 1
    stringBuffer.append(TEXT_298);
d1220 1
a1220 1
    stringBuffer.append(TEXT_299);
d1222 1
a1222 1
    stringBuffer.append(TEXT_300);
d1224 1
a1224 1
    stringBuffer.append(TEXT_301);
d1226 1
a1226 1
    stringBuffer.append(TEXT_302);
d1229 1
a1229 1
    stringBuffer.append(TEXT_303);
d1231 1
a1231 1
    stringBuffer.append(TEXT_304);
d1233 1
a1233 1
    stringBuffer.append(TEXT_305);
d1235 1
a1235 1
    stringBuffer.append(TEXT_306);
d1237 1
a1237 1
    stringBuffer.append(TEXT_307);
d1242 1
a1242 1
    stringBuffer.append(TEXT_308);
d1244 1
a1244 1
    stringBuffer.append(TEXT_309);
d1246 1
a1246 1
    stringBuffer.append(TEXT_310);
d1248 1
a1248 1
    stringBuffer.append(TEXT_311);
d1250 1
a1250 1
    stringBuffer.append(TEXT_312);
d1253 1
a1253 1
    stringBuffer.append(TEXT_313);
d1255 1
a1255 1
    stringBuffer.append(TEXT_314);
d1257 1
a1257 1
    stringBuffer.append(TEXT_315);
d1259 1
a1259 1
    stringBuffer.append(TEXT_316);
d1261 1
a1261 1
    stringBuffer.append(TEXT_317);
d1263 1
a1263 1
    stringBuffer.append(TEXT_318);
d1265 1
a1265 1
    stringBuffer.append(TEXT_319);
d1267 1
a1267 1
    stringBuffer.append(TEXT_320);
d1269 1
a1269 1
    stringBuffer.append(TEXT_321);
d1271 1
a1271 1
    stringBuffer.append(TEXT_322);
d1281 1
a1281 1
    stringBuffer.append(TEXT_323);
d1283 1
a1283 1
    stringBuffer.append(TEXT_324);
d1285 1
a1285 1
    stringBuffer.append(TEXT_325);
d1287 1
a1287 1
    stringBuffer.append(TEXT_326);
d1289 1
a1289 1
    stringBuffer.append(TEXT_327);
d1292 1
a1292 1
    stringBuffer.append(TEXT_328);
d1302 1
a1302 1
    stringBuffer.append(TEXT_329);
d1304 1
a1304 1
    stringBuffer.append(TEXT_330);
d1306 1
a1306 1
    stringBuffer.append(TEXT_331);
d1308 1
a1308 1
    stringBuffer.append(TEXT_332);
d1310 1
a1310 1
    stringBuffer.append(TEXT_333);
d1316 1
a1316 1
    stringBuffer.append(TEXT_334);
d1318 1
a1318 1
    stringBuffer.append(TEXT_335);
d1320 1
a1320 1
    stringBuffer.append(TEXT_336);
d1322 1
a1322 1
    stringBuffer.append(TEXT_337);
d1324 1
a1324 1
    stringBuffer.append(TEXT_338);
d1326 1
a1326 1
    stringBuffer.append(TEXT_339);
d1328 1
a1328 1
    stringBuffer.append(TEXT_340);
d1331 1
a1331 1
    stringBuffer.append(TEXT_341);
d1333 1
a1333 1
    stringBuffer.append(TEXT_342);
d1335 1
a1335 1
    stringBuffer.append(TEXT_343);
d1337 1
a1337 1
    stringBuffer.append(TEXT_344);
d1339 1
a1339 1
    stringBuffer.append(TEXT_345);
d1344 1
a1344 1
    stringBuffer.append(TEXT_346);
d1346 1
a1346 1
    stringBuffer.append(TEXT_347);
d1348 1
a1348 1
    stringBuffer.append(TEXT_348);
d1350 1
a1350 1
    stringBuffer.append(TEXT_349);
d1352 1
a1352 1
    stringBuffer.append(TEXT_350);
d1355 1
a1355 1
    stringBuffer.append(TEXT_351);
d1357 1
a1357 1
    stringBuffer.append(TEXT_352);
d1359 1
a1359 1
    stringBuffer.append(TEXT_353);
d1362 1
a1362 1
    stringBuffer.append(TEXT_354);
d1364 1
a1364 1
    stringBuffer.append(TEXT_355);
d1366 1
a1366 1
    stringBuffer.append(TEXT_356);
d1368 1
a1368 1
    stringBuffer.append(TEXT_357);
d1370 1
a1370 1
    stringBuffer.append(TEXT_358);
d1372 1
a1372 1
    stringBuffer.append(TEXT_359);
d1378 1
a1378 1
    stringBuffer.append(TEXT_360);
d1380 1
a1380 1
    stringBuffer.append(TEXT_361);
@


1.53
log
@NAvigator Labels are generated based on genmodel information.
@
text
@d755 2
a756 2
	} else if (genLink.getModelFacet() instanceof FeatureModelFacet) {
		GenFeature metaFeature = ((FeatureModelFacet) genLink.getModelFacet()).getMetaFeature();
d1312 1
a1312 1
	} else if (genLink.getModelFacet() instanceof FeatureModelFacet) {
d1322 1
a1322 1
		GenFeature metaFeature = ((FeatureModelFacet) genLink.getModelFacet()).getMetaFeature();
@


1.52
log
@[155561] Correcting templates in accordance with unit-test.
@
text
@d390 1
a390 1
				result.append(importManager.getImportedName(feature.getTypeGenClass().getQualifiedInterfaceName()));
@


1.51
log
@#116861 [Tests] Create unit-tests checking code generated for the models with "instance class name" specified

- templates corrected
@
text
@d177 1
a177 1
  protected final String TEXT_158 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
d256 1
a256 1
  protected final String TEXT_237 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
@


1.50
log
@#146199 There should be no exceptions when child nodes are defined in pure design diagrams
@
text
@d178 15
a192 15
  protected final String TEXT_159 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_160 = "Command extends ";
  protected final String TEXT_161 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_162 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_163 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_164 = ".eINSTANCE.get";
  protected final String TEXT_165 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_166 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_167 = " doDefaultElementCreation() {";
  protected final String TEXT_168 = NL + "\t\t\t";
  protected final String TEXT_169 = " newElement = (";
  protected final String TEXT_170 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_171 = "(";
  protected final String TEXT_172 = ") getSource());";
  protected final String TEXT_173 = NL + "\t\t\t\t";
d194 1
a194 1
  protected final String TEXT_175 = ") getTarget());";
d196 81
a276 81
  protected final String TEXT_177 = " container = (";
  protected final String TEXT_178 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_179 = NL + "\t\t\t\t\t";
  protected final String TEXT_180 = " featureValues = container.";
  protected final String TEXT_181 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_182 = NL + "\t\t\t\t \t";
  protected final String TEXT_183 = "newElement);";
  protected final String TEXT_184 = NL + "\t\t\t\t}";
  protected final String TEXT_185 = NL + "\t\t\t\t";
  protected final String TEXT_186 = ".Initializers.";
  protected final String TEXT_187 = ".init(newElement);";
  protected final String TEXT_188 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_189 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_190 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_191 = NL + "\t\tif(!";
  protected final String TEXT_192 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_193 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_194 = "\t";
  protected final String TEXT_195 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_196 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_197 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_198 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_199 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_200 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_201 = NL + "\t\tfinal ";
  protected final String TEXT_202 = " element = (";
  protected final String TEXT_203 = ") req.getSource();";
  protected final String TEXT_204 = NL + "\t\tfinal ";
  protected final String TEXT_205 = " element = (";
  protected final String TEXT_206 = ") getRelationshipContainer(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_207 = ".eINSTANCE.get";
  protected final String TEXT_208 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_209 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_210 = NL + "\t\tif (";
  protected final String TEXT_211 = " != null) {";
  protected final String TEXT_212 = NL + "\t\tif (";
  protected final String TEXT_213 = ".size() >= ";
  protected final String TEXT_214 = ") {";
  protected final String TEXT_215 = NL + "\t\t\treturn ";
  protected final String TEXT_216 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_217 = NL + "\t\tif (";
  protected final String TEXT_218 = " != null) {";
  protected final String TEXT_219 = NL + "\t\tif (";
  protected final String TEXT_220 = ".size() >= ";
  protected final String TEXT_221 = ") {";
  protected final String TEXT_222 = NL + "\t\t\treturn ";
  protected final String TEXT_223 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_224 = NL + "\t\tif(!";
  protected final String TEXT_225 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_226 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_227 = "\t\t";
  protected final String TEXT_228 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_229 = ".eINSTANCE.get";
  protected final String TEXT_230 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_231 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_232 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_233 = "Command extends ";
  protected final String TEXT_234 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_235 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_236 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_237 = ".eINSTANCE.get";
  protected final String TEXT_238 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_239 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_240 = " doDefaultElementCreation() {";
  protected final String TEXT_241 = NL + "\t\t\t";
  protected final String TEXT_242 = " newElement = (";
  protected final String TEXT_243 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_244 = "(";
  protected final String TEXT_245 = ") getTarget());";
  protected final String TEXT_246 = NL + "\t\t\t\t";
  protected final String TEXT_247 = "(";
  protected final String TEXT_248 = ") getSource());";
  protected final String TEXT_249 = NL + "\t\t\t\t";
  protected final String TEXT_250 = " container = (";
  protected final String TEXT_251 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_252 = NL + "\t\t\t\t\t";
  protected final String TEXT_253 = " featureValues = container.";
  protected final String TEXT_254 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_255 = NL + "\t\t\t\t \t";
  protected final String TEXT_256 = "newElement);";
  protected final String TEXT_257 = NL + "\t\t\t\t}";
d278 36
a313 36
  protected final String TEXT_259 = ".Initializers.";
  protected final String TEXT_260 = ".init(newElement);";
  protected final String TEXT_261 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_262 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_263 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_264 = NL + "\t\t";
  protected final String TEXT_265 = " element = (";
  protected final String TEXT_266 = ") getSemanticElement();";
  protected final String TEXT_267 = NL + "\t\tif (";
  protected final String TEXT_268 = " != null) {";
  protected final String TEXT_269 = NL + "\t\tif (";
  protected final String TEXT_270 = ".size() >= ";
  protected final String TEXT_271 = ") {";
  protected final String TEXT_272 = NL + "\t\t\treturn ";
  protected final String TEXT_273 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_274 = NL + "\t\tif(!";
  protected final String TEXT_275 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_276 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_277 = NL;
  protected final String TEXT_278 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_279 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_280 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_281 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_282 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_283 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_284 = NL + "\t\t";
  protected final String TEXT_285 = " element = (";
  protected final String TEXT_286 = ") getSemanticElement();";
  protected final String TEXT_287 = NL + "\t\tif (";
  protected final String TEXT_288 = " != null) {";
  protected final String TEXT_289 = NL + "\t\tif (";
  protected final String TEXT_290 = ".size() >= ";
  protected final String TEXT_291 = NL + "\t\t\t|| ";
  protected final String TEXT_292 = ".contains(req.getSource())";
  protected final String TEXT_293 = NL + "\t\t\t\t) {";
  protected final String TEXT_294 = NL + "\t\t\treturn ";
d317 15
a331 15
  protected final String TEXT_298 = ") getSemanticElement();" + NL + "\t\tif (";
  protected final String TEXT_299 = ".contains(req.getSource())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_300 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_301 = NL + "\t\tif(!";
  protected final String TEXT_302 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_303 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_304 = "\t\t";
  protected final String TEXT_305 = NL + "\t\t";
  protected final String TEXT_306 = " setReq = new ";
  protected final String TEXT_307 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_308 = ".eINSTANCE.get";
  protected final String TEXT_309 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_310 = "(setReq));" + NL + "\t}";
  protected final String TEXT_311 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_312 = "Command(CreateRelationshipRequest req) {";
d335 17
a351 17
  protected final String TEXT_316 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_317 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_318 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_319 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_320 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_321 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_322 = NL + "\t\t";
  protected final String TEXT_323 = " element = (";
  protected final String TEXT_324 = ") req.getSource();";
  protected final String TEXT_325 = NL + "\t\tif (";
  protected final String TEXT_326 = " != null) {";
  protected final String TEXT_327 = NL + "\t\tif (";
  protected final String TEXT_328 = ".size() >= ";
  protected final String TEXT_329 = NL + "\t\t\t|| ";
  protected final String TEXT_330 = ".contains(req.getTarget())";
  protected final String TEXT_331 = NL + "\t\t\t\t) {";
  protected final String TEXT_332 = NL + "\t\t\treturn ";
d355 26
a380 14
  protected final String TEXT_336 = ") req.getSource();" + NL + "\t\tif (";
  protected final String TEXT_337 = ".contains(req.getTarget())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_338 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_339 = NL + "\t\tif(!";
  protected final String TEXT_340 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_341 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_342 = NL + "\t\t";
  protected final String TEXT_343 = " setReq = new ";
  protected final String TEXT_344 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_345 = ".eINSTANCE.get";
  protected final String TEXT_346 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_347 = "(setReq));" + NL + "\t}";
  protected final String TEXT_348 = NL + "}";
  protected final String TEXT_349 = NL;
d1036 6
d1043 1
a1043 1
    stringBuffer.append(TEXT_160);
d1045 1
a1045 1
    stringBuffer.append(TEXT_161);
d1047 1
a1047 1
    stringBuffer.append(TEXT_162);
d1049 1
a1049 1
    stringBuffer.append(TEXT_163);
d1051 1
a1051 1
    stringBuffer.append(TEXT_164);
d1053 1
a1053 1
    stringBuffer.append(TEXT_165);
d1055 1
a1055 1
    stringBuffer.append(TEXT_166);
d1057 1
a1057 1
    stringBuffer.append(TEXT_167);
d1059 1
a1059 1
    stringBuffer.append(TEXT_168);
d1061 1
a1061 1
    stringBuffer.append(TEXT_169);
d1063 1
a1063 1
    stringBuffer.append(TEXT_170);
d1065 1
a1065 1
    stringBuffer.append(TEXT_171);
d1067 1
a1067 1
    stringBuffer.append(TEXT_172);
d1069 1
a1069 1
    stringBuffer.append(TEXT_173);
d1071 1
a1071 1
    stringBuffer.append(TEXT_174);
d1073 1
a1073 1
    stringBuffer.append(TEXT_175);
d1078 1
a1078 1
    stringBuffer.append(TEXT_176);
d1080 1
a1080 1
    stringBuffer.append(TEXT_177);
d1082 1
a1082 1
    stringBuffer.append(TEXT_178);
d1084 1
a1084 1
    stringBuffer.append(TEXT_179);
d1086 1
a1086 1
    stringBuffer.append(TEXT_180);
d1088 1
a1088 1
    stringBuffer.append(TEXT_181);
d1090 1
a1090 1
    stringBuffer.append(TEXT_182);
d1092 1
a1092 1
    stringBuffer.append(TEXT_183);
d1094 1
a1094 1
    stringBuffer.append(TEXT_184);
d1099 1
a1099 1
    stringBuffer.append(TEXT_185);
d1101 1
a1101 1
    stringBuffer.append(TEXT_186);
d1103 1
a1103 1
    stringBuffer.append(TEXT_187);
d1105 7
a1111 1
    stringBuffer.append(TEXT_188);
d1121 1
a1121 1
    stringBuffer.append(TEXT_189);
d1123 1
a1123 1
    stringBuffer.append(TEXT_190);
d1125 1
a1125 1
    stringBuffer.append(TEXT_191);
d1127 1
a1127 1
    stringBuffer.append(TEXT_192);
d1129 1
a1129 1
    stringBuffer.append(TEXT_193);
d1131 1
a1131 1
    stringBuffer.append(TEXT_194);
d1133 1
a1133 1
    stringBuffer.append(TEXT_195);
d1143 1
a1143 1
    stringBuffer.append(TEXT_196);
d1145 1
a1145 1
    stringBuffer.append(TEXT_197);
d1147 1
a1147 1
    stringBuffer.append(TEXT_198);
d1149 1
a1149 1
    stringBuffer.append(TEXT_199);
d1151 1
a1151 1
    stringBuffer.append(TEXT_200);
d1156 1
a1156 1
    stringBuffer.append(TEXT_201);
d1158 1
a1158 1
    stringBuffer.append(TEXT_202);
d1160 1
a1160 1
    stringBuffer.append(TEXT_203);
d1162 1
a1162 1
    stringBuffer.append(TEXT_204);
d1164 1
a1164 1
    stringBuffer.append(TEXT_205);
d1166 1
a1166 1
    stringBuffer.append(TEXT_206);
d1168 1
a1168 1
    stringBuffer.append(TEXT_207);
d1170 1
a1170 1
    stringBuffer.append(TEXT_208);
d1172 1
a1172 1
    stringBuffer.append(TEXT_209);
d1180 1
a1180 1
    stringBuffer.append(TEXT_210);
d1182 1
a1182 1
    stringBuffer.append(TEXT_211);
d1184 1
a1184 1
    stringBuffer.append(TEXT_212);
d1186 1
a1186 1
    stringBuffer.append(TEXT_213);
d1188 1
a1188 1
    stringBuffer.append(TEXT_214);
d1190 1
a1190 1
    stringBuffer.append(TEXT_215);
d1192 1
a1192 1
    stringBuffer.append(TEXT_216);
d1198 1
a1198 1
    stringBuffer.append(TEXT_217);
d1200 1
a1200 1
    stringBuffer.append(TEXT_218);
d1202 1
a1202 1
    stringBuffer.append(TEXT_219);
d1204 1
a1204 1
    stringBuffer.append(TEXT_220);
d1206 1
a1206 1
    stringBuffer.append(TEXT_221);
d1208 1
a1208 1
    stringBuffer.append(TEXT_222);
d1210 1
a1210 1
    stringBuffer.append(TEXT_223);
d1216 1
a1216 1
    stringBuffer.append(TEXT_224);
d1218 1
a1218 1
    stringBuffer.append(TEXT_225);
d1220 1
a1220 1
    stringBuffer.append(TEXT_226);
d1222 1
a1222 1
    stringBuffer.append(TEXT_227);
d1224 1
a1224 1
    stringBuffer.append(TEXT_228);
d1226 1
a1226 1
    stringBuffer.append(TEXT_229);
d1228 1
a1228 1
    stringBuffer.append(TEXT_230);
d1230 5
a1234 1
    stringBuffer.append(TEXT_231);
d1236 3
a1238 1
    stringBuffer.append(TEXT_232);
d1240 1
a1240 1
    stringBuffer.append(TEXT_233);
d1242 1
a1242 1
    stringBuffer.append(TEXT_234);
d1244 1
a1244 1
    stringBuffer.append(TEXT_235);
d1246 1
a1246 1
    stringBuffer.append(TEXT_236);
d1248 1
a1248 1
    stringBuffer.append(TEXT_237);
d1250 1
a1250 1
    stringBuffer.append(TEXT_238);
d1252 1
a1252 1
    stringBuffer.append(TEXT_239);
d1254 1
a1254 1
    stringBuffer.append(TEXT_240);
d1256 1
a1256 1
    stringBuffer.append(TEXT_241);
d1258 1
a1258 1
    stringBuffer.append(TEXT_242);
d1260 1
a1260 1
    stringBuffer.append(TEXT_243);
d1262 1
a1262 1
    stringBuffer.append(TEXT_244);
d1264 1
a1264 1
    stringBuffer.append(TEXT_245);
d1266 1
a1266 1
    stringBuffer.append(TEXT_246);
d1268 1
a1268 1
    stringBuffer.append(TEXT_247);
d1270 1
a1270 1
    stringBuffer.append(TEXT_248);
d1275 1
a1275 1
    stringBuffer.append(TEXT_249);
d1277 1
a1277 1
    stringBuffer.append(TEXT_250);
d1279 1
a1279 1
    stringBuffer.append(TEXT_251);
d1281 1
a1281 1
    stringBuffer.append(TEXT_252);
d1283 1
a1283 1
    stringBuffer.append(TEXT_253);
d1285 1
a1285 1
    stringBuffer.append(TEXT_254);
d1287 1
a1287 1
    stringBuffer.append(TEXT_255);
d1289 1
a1289 1
    stringBuffer.append(TEXT_256);
d1291 1
a1291 1
    stringBuffer.append(TEXT_257);
d1296 1
a1296 1
    stringBuffer.append(TEXT_258);
d1298 1
a1298 1
    stringBuffer.append(TEXT_259);
d1300 1
a1300 1
    stringBuffer.append(TEXT_260);
d1302 7
a1308 1
    stringBuffer.append(TEXT_261);
d1364 1
a1364 1
    stringBuffer.append(TEXT_262);
d1366 1
a1366 1
    stringBuffer.append(TEXT_263);
d1372 1
a1372 1
    stringBuffer.append(TEXT_264);
d1374 1
a1374 1
    stringBuffer.append(TEXT_265);
d1376 1
a1376 1
    stringBuffer.append(TEXT_266);
d1378 1
a1378 1
    stringBuffer.append(TEXT_267);
d1380 1
a1380 1
    stringBuffer.append(TEXT_268);
d1382 1
a1382 1
    stringBuffer.append(TEXT_269);
d1384 1
a1384 1
    stringBuffer.append(TEXT_270);
d1386 1
a1386 1
    stringBuffer.append(TEXT_271);
d1388 1
a1388 1
    stringBuffer.append(TEXT_272);
d1390 1
a1390 1
    stringBuffer.append(TEXT_273);
d1393 1
a1393 1
    stringBuffer.append(TEXT_274);
d1395 1
a1395 1
    stringBuffer.append(TEXT_275);
d1397 1
a1397 1
    stringBuffer.append(TEXT_276);
d1399 1
a1399 1
    stringBuffer.append(TEXT_277);
d1401 1
a1401 1
    stringBuffer.append(TEXT_278);
d1411 1
a1411 1
    stringBuffer.append(TEXT_279);
d1413 1
a1413 1
    stringBuffer.append(TEXT_280);
d1415 1
a1415 1
    stringBuffer.append(TEXT_281);
d1417 1
a1417 1
    stringBuffer.append(TEXT_282);
d1419 1
a1419 1
    stringBuffer.append(TEXT_283);
d1425 1
a1425 1
    stringBuffer.append(TEXT_284);
d1427 1
a1427 1
    stringBuffer.append(TEXT_285);
d1429 1
a1429 1
    stringBuffer.append(TEXT_286);
d1431 1
a1431 1
    stringBuffer.append(TEXT_287);
d1433 1
a1433 1
    stringBuffer.append(TEXT_288);
d1435 1
a1435 1
    stringBuffer.append(TEXT_289);
d1437 1
a1437 1
    stringBuffer.append(TEXT_290);
d1440 1
a1440 1
    stringBuffer.append(TEXT_291);
d1442 1
a1442 1
    stringBuffer.append(TEXT_292);
d1444 1
a1444 1
    stringBuffer.append(TEXT_293);
d1446 1
a1446 1
    stringBuffer.append(TEXT_294);
d1448 1
a1448 1
    stringBuffer.append(TEXT_295);
d1453 1
a1453 1
    stringBuffer.append(TEXT_296);
d1455 1
a1455 1
    stringBuffer.append(TEXT_297);
d1457 1
a1457 1
    stringBuffer.append(TEXT_298);
d1459 1
a1459 1
    stringBuffer.append(TEXT_299);
d1461 1
a1461 1
    stringBuffer.append(TEXT_300);
d1464 1
a1464 1
    stringBuffer.append(TEXT_301);
d1466 1
a1466 1
    stringBuffer.append(TEXT_302);
d1468 1
a1468 1
    stringBuffer.append(TEXT_303);
d1470 1
a1470 1
    stringBuffer.append(TEXT_304);
d1472 1
a1472 1
    stringBuffer.append(TEXT_305);
d1474 1
a1474 1
    stringBuffer.append(TEXT_306);
d1476 1
a1476 1
    stringBuffer.append(TEXT_307);
d1478 1
a1478 1
    stringBuffer.append(TEXT_308);
d1480 1
a1480 1
    stringBuffer.append(TEXT_309);
d1482 1
a1482 1
    stringBuffer.append(TEXT_310);
d1492 1
a1492 1
    stringBuffer.append(TEXT_311);
d1494 1
a1494 1
    stringBuffer.append(TEXT_312);
d1496 1
a1496 1
    stringBuffer.append(TEXT_313);
d1498 1
a1498 1
    stringBuffer.append(TEXT_314);
d1500 1
a1500 1
    stringBuffer.append(TEXT_315);
d1503 1
a1503 1
    stringBuffer.append(TEXT_316);
d1513 1
a1513 1
    stringBuffer.append(TEXT_317);
d1515 1
a1515 1
    stringBuffer.append(TEXT_318);
d1517 1
a1517 1
    stringBuffer.append(TEXT_319);
d1519 1
a1519 1
    stringBuffer.append(TEXT_320);
d1521 1
a1521 1
    stringBuffer.append(TEXT_321);
d1527 1
a1527 1
    stringBuffer.append(TEXT_322);
d1529 1
a1529 1
    stringBuffer.append(TEXT_323);
d1531 1
a1531 1
    stringBuffer.append(TEXT_324);
d1533 1
a1533 1
    stringBuffer.append(TEXT_325);
d1535 1
a1535 1
    stringBuffer.append(TEXT_326);
d1537 1
a1537 1
    stringBuffer.append(TEXT_327);
d1539 1
a1539 1
    stringBuffer.append(TEXT_328);
d1542 1
a1542 1
    stringBuffer.append(TEXT_329);
d1544 1
a1544 1
    stringBuffer.append(TEXT_330);
d1546 1
a1546 1
    stringBuffer.append(TEXT_331);
d1548 1
a1548 1
    stringBuffer.append(TEXT_332);
d1550 1
a1550 1
    stringBuffer.append(TEXT_333);
d1555 1
a1555 1
    stringBuffer.append(TEXT_334);
d1557 1
a1557 1
    stringBuffer.append(TEXT_335);
d1559 1
a1559 1
    stringBuffer.append(TEXT_336);
d1561 1
a1561 1
    stringBuffer.append(TEXT_337);
d1563 1
a1563 1
    stringBuffer.append(TEXT_338);
d1566 1
a1566 1
    stringBuffer.append(TEXT_339);
d1568 1
a1568 1
    stringBuffer.append(TEXT_340);
d1570 1
a1570 1
    stringBuffer.append(TEXT_341);
d1573 1
a1573 1
    stringBuffer.append(TEXT_342);
d1575 1
a1575 1
    stringBuffer.append(TEXT_343);
d1577 1
a1577 1
    stringBuffer.append(TEXT_344);
d1579 1
a1579 1
    stringBuffer.append(TEXT_345);
d1581 1
a1581 1
    stringBuffer.append(TEXT_346);
d1583 1
a1583 1
    stringBuffer.append(TEXT_347);
d1589 1
a1589 1
    stringBuffer.append(TEXT_348);
d1591 1
a1591 1
    stringBuffer.append(TEXT_349);
@


1.49
log
@header comment should not be a javadoc comment
@
text
@d492 1
a492 1
if (genNode.getChildNodes().size() > 0) {
@


1.48
log
@Correcting copyright processing
@
text
@d21 1
a21 1
  protected final String TEXT_2 = NL + "/**" + NL + " *";
@


1.47
log
@avoid generating unused imports in pure pure design projects
@
text
@d21 1
a21 1
  protected final String TEXT_2 = NL + "/*" + NL + " * ";
d480 1
a480 1
    stringBuffer.append(copyrightText.replaceAll("\n", "\n * "));
@


1.46
log
@#114175 Allow a diagram definition to be mapped to zero or more domain models.
@
text
@d61 54
a114 54
  protected final String TEXT_42 = "Command(CreateElementRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_43 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_44 = ".eINSTANCE.get";
  protected final String TEXT_45 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_46 = " getElementToEdit() {" + NL + "\t\t\t";
  protected final String TEXT_47 = " container = ((CreateElementRequest) getRequest()).getContainer();" + NL + "\t\t\tif (container instanceof ";
  protected final String TEXT_48 = ") {" + NL + "\t\t\t\tcontainer = ((";
  protected final String TEXT_49 = ") container).getElement();" + NL + "\t\t\t}" + NL + "\t\t\treturn container;" + NL + "\t\t}";
  protected final String TEXT_50 = NL + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_51 = " doDefaultElementCreation() {" + NL + "\t\t\t";
  protected final String TEXT_52 = " newElement = (";
  protected final String TEXT_53 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {";
  protected final String TEXT_54 = NL + "\t\t\t\t ";
  protected final String TEXT_55 = " container = (";
  protected final String TEXT_56 = ") getElementToEdit();" + NL + "\t\t\t\t if (container != null) {";
  protected final String TEXT_57 = NL + "\t\t\t\t\t";
  protected final String TEXT_58 = " featureValues = container.";
  protected final String TEXT_59 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_60 = NL + "\t\t\t\t \t";
  protected final String TEXT_61 = "newElement);";
  protected final String TEXT_62 = NL + "\t\t\t\t }";
  protected final String TEXT_63 = "\t\t" + NL + "\t\t\t\t";
  protected final String TEXT_64 = ".Initializers.";
  protected final String TEXT_65 = ".init(newElement);";
  protected final String TEXT_66 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}";
  protected final String TEXT_67 = NL + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic boolean canExecute() {" + NL + "\t\t\tif (getEClass() != null) {" + NL + "\t\t\t\treturn getEClass().isSuperTypeOf(getEClassToEdit());" + NL + "\t\t\t}" + NL + "\t\t\treturn true;" + NL + "\t\t}" + NL + "\t\t" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_68 = " getContainmentFeature() {" + NL + "\t\t\treturn null;" + NL + "\t\t}" + NL + "\t\t" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_69 = " doDefaultElementCreation() {" + NL + "\t\t\t// Uncomment to put \"phantom\" objects into the diagram file.\t\t" + NL + "\t\t\t//";
  protected final String TEXT_70 = " resource = ((CreateElementRequest) getRequest()).getContainer().eResource();" + NL + "\t\t\t//if (resource == null) {" + NL + "\t\t\t//\treturn null;" + NL + "\t\t\t//}" + NL + "\t\t\t";
  protected final String TEXT_71 = " resource = getElementToEdit().eResource();" + NL + "\t\t\t";
  protected final String TEXT_72 = " eClass = getElementType().getEClass();" + NL + "\t\t\t";
  protected final String TEXT_73 = " eObject = eClass.getEPackage().getEFactoryInstance().create(eClass);" + NL + "\t\t\tresource.getContents().add(eObject);" + NL + "\t\t\treturn eObject;" + NL + "\t\t}";
  protected final String TEXT_74 = NL + "\t}";
  protected final String TEXT_75 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getDestroyElementCommand(DestroyElementRequest req) {" + NL + "\t\treturn getMSLWrapper(new DestroyElementCommand(req) {" + NL + "\t\t" + NL + "\t\t\tprotected EObject getElementToDestroy() {" + NL + "\t\t\t\tView view = (View) getHost().getModel();" + NL + "\t\t\t\tEAnnotation annotation = view.getEAnnotation(\"Shortcut\"); //$NON-NLS-1$" + NL + "\t\t\t\tif (annotation != null) {" + NL + "\t\t\t\t\treturn view;" + NL + "\t\t\t\t}" + NL + "\t\t\t\treturn super.getElementToDestroy();" + NL + "\t\t\t}\t\t" + NL;
  protected final String TEXT_76 = NL + "\t\t\tprotected ";
  protected final String TEXT_77 = " doExecuteWithResult(";
  protected final String TEXT_78 = " progressMonitor, ";
  protected final String TEXT_79 = " info) throws ";
  protected final String TEXT_80 = " {" + NL + "\t\t\t\tEObject eObject = getElementToDestroy();" + NL + "\t\t\t\tboolean removeFromResource = eObject.eContainer() == null;" + NL + "\t\t\t\t";
  protected final String TEXT_81 = " result = super.doExecuteWithResult(progressMonitor, info);" + NL + "\t\t\t\t";
  protected final String TEXT_82 = " resource = eObject.eResource();" + NL + "\t\t\t\tif (removeFromResource && resource != null) {" + NL + "\t\t\t\t\tresource.getContents().remove(eObject);" + NL + "\t\t\t\t}" + NL + "\t\t\t\treturn result;" + NL + "\t\t\t}";
  protected final String TEXT_83 = NL + "\t\t});" + NL + "\t}";
  protected final String TEXT_84 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateRelationshipCommand(CreateRelationshipRequest req) {";
  protected final String TEXT_85 = NL + "\t\tif (";
  protected final String TEXT_86 = ".";
  protected final String TEXT_87 = " == req.getElementType()) {" + NL + "\t\t\treturn req.getTarget() == null ? ";
  protected final String TEXT_88 = " : ";
  protected final String TEXT_89 = ";" + NL + "\t\t}";
  protected final String TEXT_90 = NL + "\t\treturn super.getCreateRelationshipCommand(req);" + NL + "\t}";
  protected final String TEXT_91 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_92 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_93 = NL + "\t\t";
  protected final String TEXT_94 = " element = (";
  protected final String TEXT_95 = ") getSemanticElement();";
d117 30
a146 30
  protected final String TEXT_98 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_99 = ".eINSTANCE.get";
  protected final String TEXT_100 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_101 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_102 = NL + "\t\tif (";
  protected final String TEXT_103 = " != null) {";
  protected final String TEXT_104 = NL + "\t\tif (";
  protected final String TEXT_105 = ".size() >= ";
  protected final String TEXT_106 = ") {";
  protected final String TEXT_107 = NL + "\t\t\treturn ";
  protected final String TEXT_108 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_109 = NL + "\t\tif (";
  protected final String TEXT_110 = " != null) {";
  protected final String TEXT_111 = NL + "\t\tif (";
  protected final String TEXT_112 = ".size() >= ";
  protected final String TEXT_113 = ") {";
  protected final String TEXT_114 = NL + "\t\t\treturn ";
  protected final String TEXT_115 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_116 = NL + "\t\tif(!";
  protected final String TEXT_117 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_118 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_119 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_120 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_121 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_122 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_123 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_124 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_125 = NL + "\t\tfinal ";
  protected final String TEXT_126 = " element = (";
  protected final String TEXT_127 = ") getSemanticElement();";
d149 41
a189 41
  protected final String TEXT_130 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_131 = ".eINSTANCE.get";
  protected final String TEXT_132 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_133 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_134 = NL + "\t\tif (";
  protected final String TEXT_135 = " != null) {";
  protected final String TEXT_136 = NL + "\t\tif (";
  protected final String TEXT_137 = ".size() >= ";
  protected final String TEXT_138 = ") {";
  protected final String TEXT_139 = NL + "\t\t\treturn ";
  protected final String TEXT_140 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_141 = NL + "\t\tif (";
  protected final String TEXT_142 = " != null) {";
  protected final String TEXT_143 = NL + "\t\tif (";
  protected final String TEXT_144 = ".size() >= ";
  protected final String TEXT_145 = ") {";
  protected final String TEXT_146 = NL + "\t\t\treturn ";
  protected final String TEXT_147 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_148 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_149 = ".eINSTANCE.get";
  protected final String TEXT_150 = "());" + NL + "\t\t}" + NL + "\t\t";
  protected final String TEXT_151 = NL + "\t\tif(!";
  protected final String TEXT_152 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_153 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_154 = "\t\t\t\t" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_155 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_156 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_157 = "Command extends ";
  protected final String TEXT_158 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_159 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_160 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_161 = ".eINSTANCE.get";
  protected final String TEXT_162 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_163 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_164 = " doDefaultElementCreation() {";
  protected final String TEXT_165 = NL + "\t\t\t";
  protected final String TEXT_166 = " newElement = (";
  protected final String TEXT_167 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_168 = "(";
  protected final String TEXT_169 = ") getSource());";
  protected final String TEXT_170 = NL + "\t\t\t\t";
d191 1
a191 1
  protected final String TEXT_172 = ") getTarget());";
d193 27
a219 27
  protected final String TEXT_174 = " container = (";
  protected final String TEXT_175 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_176 = NL + "\t\t\t\t\t";
  protected final String TEXT_177 = " featureValues = container.";
  protected final String TEXT_178 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_179 = NL + "\t\t\t\t \t";
  protected final String TEXT_180 = "newElement);";
  protected final String TEXT_181 = NL + "\t\t\t\t}";
  protected final String TEXT_182 = NL + "\t\t\t\t";
  protected final String TEXT_183 = ".Initializers.";
  protected final String TEXT_184 = ".init(newElement);";
  protected final String TEXT_185 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_186 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_187 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_188 = NL + "\t\tif(!";
  protected final String TEXT_189 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_190 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_191 = "\t";
  protected final String TEXT_192 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_193 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_194 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_195 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_196 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_197 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_198 = NL + "\t\tfinal ";
  protected final String TEXT_199 = " element = (";
  protected final String TEXT_200 = ") req.getSource();";
d222 41
a262 41
  protected final String TEXT_203 = ") getRelationshipContainer(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_204 = ".eINSTANCE.get";
  protected final String TEXT_205 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_206 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_207 = NL + "\t\tif (";
  protected final String TEXT_208 = " != null) {";
  protected final String TEXT_209 = NL + "\t\tif (";
  protected final String TEXT_210 = ".size() >= ";
  protected final String TEXT_211 = ") {";
  protected final String TEXT_212 = NL + "\t\t\treturn ";
  protected final String TEXT_213 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_214 = NL + "\t\tif (";
  protected final String TEXT_215 = " != null) {";
  protected final String TEXT_216 = NL + "\t\tif (";
  protected final String TEXT_217 = ".size() >= ";
  protected final String TEXT_218 = ") {";
  protected final String TEXT_219 = NL + "\t\t\treturn ";
  protected final String TEXT_220 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_221 = NL + "\t\tif(!";
  protected final String TEXT_222 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_223 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_224 = "\t\t";
  protected final String TEXT_225 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_226 = ".eINSTANCE.get";
  protected final String TEXT_227 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_228 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_229 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_230 = "Command extends ";
  protected final String TEXT_231 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_232 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_233 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_234 = ".eINSTANCE.get";
  protected final String TEXT_235 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_236 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_237 = " doDefaultElementCreation() {";
  protected final String TEXT_238 = NL + "\t\t\t";
  protected final String TEXT_239 = " newElement = (";
  protected final String TEXT_240 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_241 = "(";
  protected final String TEXT_242 = ") getTarget());";
  protected final String TEXT_243 = NL + "\t\t\t\t";
d264 1
a264 1
  protected final String TEXT_245 = ") getSource());";
d266 103
a368 100
  protected final String TEXT_247 = " container = (";
  protected final String TEXT_248 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_249 = NL + "\t\t\t\t\t";
  protected final String TEXT_250 = " featureValues = container.";
  protected final String TEXT_251 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_252 = NL + "\t\t\t\t \t";
  protected final String TEXT_253 = "newElement);";
  protected final String TEXT_254 = NL + "\t\t\t\t}";
  protected final String TEXT_255 = NL + "\t\t\t\t";
  protected final String TEXT_256 = ".Initializers.";
  protected final String TEXT_257 = ".init(newElement);";
  protected final String TEXT_258 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_259 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_260 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_261 = NL + "\t\t";
  protected final String TEXT_262 = " element = (";
  protected final String TEXT_263 = ") getSemanticElement();";
  protected final String TEXT_264 = NL + "\t\tif (";
  protected final String TEXT_265 = " != null) {";
  protected final String TEXT_266 = NL + "\t\tif (";
  protected final String TEXT_267 = ".size() >= ";
  protected final String TEXT_268 = ") {";
  protected final String TEXT_269 = NL + "\t\t\treturn ";
  protected final String TEXT_270 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_271 = NL + "\t\tif(!";
  protected final String TEXT_272 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_273 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_274 = NL;
  protected final String TEXT_275 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_276 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_277 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_278 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_279 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_280 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_281 = NL + "\t\t";
  protected final String TEXT_282 = " element = (";
  protected final String TEXT_283 = ") getSemanticElement();";
  protected final String TEXT_284 = NL + "\t\tif (";
  protected final String TEXT_285 = " != null) {";
  protected final String TEXT_286 = NL + "\t\tif (";
  protected final String TEXT_287 = ".size() >= ";
  protected final String TEXT_288 = NL + "\t\t\t|| ";
  protected final String TEXT_289 = ".contains(req.getSource())";
  protected final String TEXT_290 = NL + "\t\t\t\t) {";
  protected final String TEXT_291 = NL + "\t\t\treturn ";
  protected final String TEXT_292 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_293 = NL + "\t\t";
  protected final String TEXT_294 = " element = (";
  protected final String TEXT_295 = ") getSemanticElement();" + NL + "\t\tif (";
  protected final String TEXT_296 = ".contains(req.getSource())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_297 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_298 = NL + "\t\tif(!";
  protected final String TEXT_299 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_300 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_301 = "\t\t";
  protected final String TEXT_302 = NL + "\t\t";
  protected final String TEXT_303 = " setReq = new ";
  protected final String TEXT_304 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_305 = ".eINSTANCE.get";
  protected final String TEXT_306 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_307 = "(setReq));" + NL + "\t}";
  protected final String TEXT_308 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_309 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_310 = NL + "\t\tif(!";
  protected final String TEXT_311 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_312 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_313 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_314 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_315 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_316 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_317 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_318 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_319 = NL + "\t\t";
  protected final String TEXT_320 = " element = (";
  protected final String TEXT_321 = ") req.getSource();";
  protected final String TEXT_322 = NL + "\t\tif (";
  protected final String TEXT_323 = " != null) {";
  protected final String TEXT_324 = NL + "\t\tif (";
  protected final String TEXT_325 = ".size() >= ";
  protected final String TEXT_326 = NL + "\t\t\t|| ";
  protected final String TEXT_327 = ".contains(req.getTarget())";
  protected final String TEXT_328 = NL + "\t\t\t\t) {";
  protected final String TEXT_329 = NL + "\t\t\treturn ";
  protected final String TEXT_330 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_331 = NL + "\t\t";
  protected final String TEXT_332 = " element = (";
  protected final String TEXT_333 = ") req.getSource();" + NL + "\t\tif (";
  protected final String TEXT_334 = ".contains(req.getTarget())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_335 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_336 = NL + "\t\tif(!";
  protected final String TEXT_337 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_338 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_339 = NL + "\t\t";
  protected final String TEXT_340 = " setReq = new ";
  protected final String TEXT_341 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_342 = ".eINSTANCE.get";
  protected final String TEXT_343 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_344 = "(setReq));" + NL + "\t}";
  protected final String TEXT_345 = NL + "}";
  protected final String TEXT_346 = NL;
d609 2
d612 1
a612 1
    stringBuffer.append(TEXT_43);
d614 1
a614 1
    stringBuffer.append(TEXT_44);
a615 2
    stringBuffer.append(TEXT_45);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d619 4
d624 1
a624 1
    stringBuffer.append(TEXT_48);
d626 1
a626 1
    stringBuffer.append(TEXT_49);
d632 1
a632 1
    stringBuffer.append(TEXT_50);
d634 1
a634 1
    stringBuffer.append(TEXT_51);
d636 1
a636 1
    stringBuffer.append(TEXT_52);
d638 1
a638 1
    stringBuffer.append(TEXT_53);
d643 1
a643 1
    stringBuffer.append(TEXT_54);
d645 1
a645 1
    stringBuffer.append(TEXT_55);
d647 1
a647 1
    stringBuffer.append(TEXT_56);
d651 1
a651 1
    stringBuffer.append(TEXT_57);
d653 1
a653 1
    stringBuffer.append(TEXT_58);
d655 1
a655 1
    stringBuffer.append(TEXT_59);
d659 1
a659 1
    stringBuffer.append(TEXT_60);
d661 1
a661 1
    stringBuffer.append(TEXT_61);
d665 1
a665 1
    stringBuffer.append(TEXT_62);
d670 1
a670 1
    stringBuffer.append(TEXT_63);
d672 1
a672 1
    stringBuffer.append(TEXT_64);
d674 1
a674 1
    stringBuffer.append(TEXT_65);
d678 1
a678 1
    stringBuffer.append(TEXT_66);
d684 1
a684 1
    stringBuffer.append(TEXT_67);
d686 1
a686 1
    stringBuffer.append(TEXT_68);
d688 1
a688 1
    stringBuffer.append(TEXT_69);
d690 3
a692 1
    stringBuffer.append(TEXT_70);
d694 1
a694 1
    stringBuffer.append(TEXT_71);
d696 1
a696 1
    stringBuffer.append(TEXT_72);
d698 1
a698 1
    stringBuffer.append(TEXT_73);
d702 1
a702 1
    stringBuffer.append(TEXT_74);
d705 1
a705 1
    stringBuffer.append(TEXT_75);
d707 1
a707 1
    stringBuffer.append(TEXT_76);
d709 1
a709 1
    stringBuffer.append(TEXT_77);
d711 1
a711 1
    stringBuffer.append(TEXT_78);
d713 1
a713 1
    stringBuffer.append(TEXT_79);
d715 1
a715 1
    stringBuffer.append(TEXT_80);
d717 1
a717 1
    stringBuffer.append(TEXT_81);
d719 1
a719 1
    stringBuffer.append(TEXT_82);
d721 1
a721 1
    stringBuffer.append(TEXT_83);
d726 1
a726 1
    stringBuffer.append(TEXT_84);
d775 1
a775 1
    stringBuffer.append(TEXT_85);
d777 1
a777 1
    stringBuffer.append(TEXT_86);
d779 1
a779 1
    stringBuffer.append(TEXT_87);
d781 1
a781 1
    stringBuffer.append(TEXT_88);
d783 1
a783 1
    stringBuffer.append(TEXT_89);
d785 1
a785 1
    stringBuffer.append(TEXT_90);
d850 1
a850 1
    stringBuffer.append(TEXT_91);
d852 1
a852 1
    stringBuffer.append(TEXT_92);
d859 1
a859 1
    stringBuffer.append(TEXT_93);
d861 1
a861 1
    stringBuffer.append(TEXT_94);
d863 1
a863 1
    stringBuffer.append(TEXT_95);
d865 1
a865 1
    stringBuffer.append(TEXT_96);
d867 1
a867 1
    stringBuffer.append(TEXT_97);
d869 1
a869 1
    stringBuffer.append(TEXT_98);
d871 1
a871 1
    stringBuffer.append(TEXT_99);
d873 1
a873 1
    stringBuffer.append(TEXT_100);
d875 1
a875 1
    stringBuffer.append(TEXT_101);
d881 1
a881 1
    stringBuffer.append(TEXT_102);
d883 1
a883 1
    stringBuffer.append(TEXT_103);
d885 1
a885 1
    stringBuffer.append(TEXT_104);
d887 1
a887 1
    stringBuffer.append(TEXT_105);
d889 1
a889 1
    stringBuffer.append(TEXT_106);
d891 1
a891 1
    stringBuffer.append(TEXT_107);
d893 1
a893 1
    stringBuffer.append(TEXT_108);
d899 1
a899 1
    stringBuffer.append(TEXT_109);
d901 1
a901 1
    stringBuffer.append(TEXT_110);
d903 1
a903 1
    stringBuffer.append(TEXT_111);
d905 1
a905 1
    stringBuffer.append(TEXT_112);
d907 1
a907 1
    stringBuffer.append(TEXT_113);
d909 1
a909 1
    stringBuffer.append(TEXT_114);
d911 1
a911 1
    stringBuffer.append(TEXT_115);
d917 1
a917 1
    stringBuffer.append(TEXT_116);
d919 1
a919 1
    stringBuffer.append(TEXT_117);
d921 1
a921 1
    stringBuffer.append(TEXT_118);
d924 1
a924 1
    stringBuffer.append(TEXT_119);
d934 1
a934 1
    stringBuffer.append(TEXT_120);
d936 1
a936 1
    stringBuffer.append(TEXT_121);
d938 1
a938 1
    stringBuffer.append(TEXT_122);
d940 1
a940 1
    stringBuffer.append(TEXT_123);
d942 1
a942 1
    stringBuffer.append(TEXT_124);
d947 1
a947 1
    stringBuffer.append(TEXT_125);
d949 1
a949 1
    stringBuffer.append(TEXT_126);
d951 1
a951 1
    stringBuffer.append(TEXT_127);
d953 1
a953 1
    stringBuffer.append(TEXT_128);
d955 1
a955 1
    stringBuffer.append(TEXT_129);
d957 1
a957 1
    stringBuffer.append(TEXT_130);
d959 1
a959 1
    stringBuffer.append(TEXT_131);
d961 1
a961 1
    stringBuffer.append(TEXT_132);
d963 1
a963 1
    stringBuffer.append(TEXT_133);
d971 1
a971 1
    stringBuffer.append(TEXT_134);
d973 1
a973 1
    stringBuffer.append(TEXT_135);
d975 1
a975 1
    stringBuffer.append(TEXT_136);
d977 1
a977 1
    stringBuffer.append(TEXT_137);
d979 1
a979 1
    stringBuffer.append(TEXT_138);
d981 1
a981 1
    stringBuffer.append(TEXT_139);
d983 1
a983 1
    stringBuffer.append(TEXT_140);
d989 1
a989 1
    stringBuffer.append(TEXT_141);
d991 1
a991 1
    stringBuffer.append(TEXT_142);
d993 1
a993 1
    stringBuffer.append(TEXT_143);
d995 1
a995 1
    stringBuffer.append(TEXT_144);
d997 1
a997 1
    stringBuffer.append(TEXT_145);
d999 1
a999 1
    stringBuffer.append(TEXT_146);
d1001 1
a1001 1
    stringBuffer.append(TEXT_147);
d1007 1
a1007 1
    stringBuffer.append(TEXT_148);
d1009 1
a1009 1
    stringBuffer.append(TEXT_149);
d1011 1
a1011 1
    stringBuffer.append(TEXT_150);
d1013 1
a1013 1
    stringBuffer.append(TEXT_151);
d1015 1
a1015 1
    stringBuffer.append(TEXT_152);
d1017 1
a1017 1
    stringBuffer.append(TEXT_153);
d1019 1
a1019 1
    stringBuffer.append(TEXT_154);
d1021 1
a1021 1
    stringBuffer.append(TEXT_155);
d1023 1
a1023 1
    stringBuffer.append(TEXT_156);
d1025 1
a1025 1
    stringBuffer.append(TEXT_157);
d1027 1
a1027 1
    stringBuffer.append(TEXT_158);
d1029 1
a1029 1
    stringBuffer.append(TEXT_159);
d1031 1
a1031 1
    stringBuffer.append(TEXT_160);
d1033 1
a1033 1
    stringBuffer.append(TEXT_161);
d1035 1
a1035 1
    stringBuffer.append(TEXT_162);
d1037 1
a1037 1
    stringBuffer.append(TEXT_163);
d1039 1
a1039 1
    stringBuffer.append(TEXT_164);
d1041 1
a1041 1
    stringBuffer.append(TEXT_165);
d1043 1
a1043 1
    stringBuffer.append(TEXT_166);
d1045 1
a1045 1
    stringBuffer.append(TEXT_167);
d1047 1
a1047 1
    stringBuffer.append(TEXT_168);
d1049 1
a1049 1
    stringBuffer.append(TEXT_169);
d1051 1
a1051 1
    stringBuffer.append(TEXT_170);
d1053 1
a1053 1
    stringBuffer.append(TEXT_171);
d1055 1
a1055 1
    stringBuffer.append(TEXT_172);
d1060 1
a1060 1
    stringBuffer.append(TEXT_173);
d1062 1
a1062 1
    stringBuffer.append(TEXT_174);
d1064 1
a1064 1
    stringBuffer.append(TEXT_175);
d1066 1
a1066 1
    stringBuffer.append(TEXT_176);
d1068 1
a1068 1
    stringBuffer.append(TEXT_177);
d1070 1
a1070 1
    stringBuffer.append(TEXT_178);
d1072 1
a1072 1
    stringBuffer.append(TEXT_179);
d1074 1
a1074 1
    stringBuffer.append(TEXT_180);
d1076 1
a1076 1
    stringBuffer.append(TEXT_181);
d1081 1
a1081 1
    stringBuffer.append(TEXT_182);
d1083 1
a1083 1
    stringBuffer.append(TEXT_183);
d1085 1
a1085 1
    stringBuffer.append(TEXT_184);
d1087 1
a1087 1
    stringBuffer.append(TEXT_185);
d1097 1
a1097 1
    stringBuffer.append(TEXT_186);
d1099 1
a1099 1
    stringBuffer.append(TEXT_187);
d1101 1
a1101 1
    stringBuffer.append(TEXT_188);
d1103 1
a1103 1
    stringBuffer.append(TEXT_189);
d1105 1
a1105 1
    stringBuffer.append(TEXT_190);
d1107 1
a1107 1
    stringBuffer.append(TEXT_191);
d1109 1
a1109 1
    stringBuffer.append(TEXT_192);
d1119 1
a1119 1
    stringBuffer.append(TEXT_193);
d1121 1
a1121 1
    stringBuffer.append(TEXT_194);
d1123 1
a1123 1
    stringBuffer.append(TEXT_195);
d1125 1
a1125 1
    stringBuffer.append(TEXT_196);
d1127 1
a1127 1
    stringBuffer.append(TEXT_197);
d1132 1
a1132 1
    stringBuffer.append(TEXT_198);
d1134 1
a1134 1
    stringBuffer.append(TEXT_199);
d1136 1
a1136 1
    stringBuffer.append(TEXT_200);
d1138 1
a1138 1
    stringBuffer.append(TEXT_201);
d1140 1
a1140 1
    stringBuffer.append(TEXT_202);
d1142 1
a1142 1
    stringBuffer.append(TEXT_203);
d1144 1
a1144 1
    stringBuffer.append(TEXT_204);
d1146 1
a1146 1
    stringBuffer.append(TEXT_205);
d1148 1
a1148 1
    stringBuffer.append(TEXT_206);
d1156 1
a1156 1
    stringBuffer.append(TEXT_207);
d1158 1
a1158 1
    stringBuffer.append(TEXT_208);
d1160 1
a1160 1
    stringBuffer.append(TEXT_209);
d1162 1
a1162 1
    stringBuffer.append(TEXT_210);
d1164 1
a1164 1
    stringBuffer.append(TEXT_211);
d1166 1
a1166 1
    stringBuffer.append(TEXT_212);
d1168 1
a1168 1
    stringBuffer.append(TEXT_213);
d1174 1
a1174 1
    stringBuffer.append(TEXT_214);
d1176 1
a1176 1
    stringBuffer.append(TEXT_215);
d1178 1
a1178 1
    stringBuffer.append(TEXT_216);
d1180 1
a1180 1
    stringBuffer.append(TEXT_217);
d1182 1
a1182 1
    stringBuffer.append(TEXT_218);
d1184 1
a1184 1
    stringBuffer.append(TEXT_219);
d1186 1
a1186 1
    stringBuffer.append(TEXT_220);
d1192 1
a1192 1
    stringBuffer.append(TEXT_221);
d1194 1
a1194 1
    stringBuffer.append(TEXT_222);
d1196 1
a1196 1
    stringBuffer.append(TEXT_223);
d1198 1
a1198 1
    stringBuffer.append(TEXT_224);
d1200 1
a1200 1
    stringBuffer.append(TEXT_225);
d1202 1
a1202 1
    stringBuffer.append(TEXT_226);
d1204 1
a1204 1
    stringBuffer.append(TEXT_227);
d1206 1
a1206 1
    stringBuffer.append(TEXT_228);
d1208 1
a1208 1
    stringBuffer.append(TEXT_229);
d1210 1
a1210 1
    stringBuffer.append(TEXT_230);
d1212 1
a1212 1
    stringBuffer.append(TEXT_231);
d1214 1
a1214 1
    stringBuffer.append(TEXT_232);
d1216 1
a1216 1
    stringBuffer.append(TEXT_233);
d1218 1
a1218 1
    stringBuffer.append(TEXT_234);
d1220 1
a1220 1
    stringBuffer.append(TEXT_235);
d1222 1
a1222 1
    stringBuffer.append(TEXT_236);
d1224 1
a1224 1
    stringBuffer.append(TEXT_237);
d1226 1
a1226 1
    stringBuffer.append(TEXT_238);
d1228 1
a1228 1
    stringBuffer.append(TEXT_239);
d1230 1
a1230 1
    stringBuffer.append(TEXT_240);
d1232 1
a1232 1
    stringBuffer.append(TEXT_241);
d1234 1
a1234 1
    stringBuffer.append(TEXT_242);
d1236 1
a1236 1
    stringBuffer.append(TEXT_243);
d1238 1
a1238 1
    stringBuffer.append(TEXT_244);
d1240 1
a1240 1
    stringBuffer.append(TEXT_245);
d1245 1
a1245 1
    stringBuffer.append(TEXT_246);
d1247 1
a1247 1
    stringBuffer.append(TEXT_247);
d1249 1
a1249 1
    stringBuffer.append(TEXT_248);
d1251 1
a1251 1
    stringBuffer.append(TEXT_249);
d1253 1
a1253 1
    stringBuffer.append(TEXT_250);
d1255 1
a1255 1
    stringBuffer.append(TEXT_251);
d1257 1
a1257 1
    stringBuffer.append(TEXT_252);
d1259 1
a1259 1
    stringBuffer.append(TEXT_253);
d1261 1
a1261 1
    stringBuffer.append(TEXT_254);
d1266 1
a1266 1
    stringBuffer.append(TEXT_255);
d1268 1
a1268 1
    stringBuffer.append(TEXT_256);
d1270 1
a1270 1
    stringBuffer.append(TEXT_257);
d1272 1
a1272 1
    stringBuffer.append(TEXT_258);
d1328 1
a1328 1
    stringBuffer.append(TEXT_259);
d1330 1
a1330 1
    stringBuffer.append(TEXT_260);
d1336 1
a1336 1
    stringBuffer.append(TEXT_261);
d1338 1
a1338 1
    stringBuffer.append(TEXT_262);
d1340 1
a1340 1
    stringBuffer.append(TEXT_263);
d1342 1
a1342 1
    stringBuffer.append(TEXT_264);
d1344 1
a1344 1
    stringBuffer.append(TEXT_265);
d1346 1
a1346 1
    stringBuffer.append(TEXT_266);
d1348 1
a1348 1
    stringBuffer.append(TEXT_267);
d1350 1
a1350 1
    stringBuffer.append(TEXT_268);
d1352 1
a1352 1
    stringBuffer.append(TEXT_269);
d1354 1
a1354 1
    stringBuffer.append(TEXT_270);
d1357 1
a1357 1
    stringBuffer.append(TEXT_271);
d1359 1
a1359 1
    stringBuffer.append(TEXT_272);
d1361 1
a1361 1
    stringBuffer.append(TEXT_273);
d1363 1
a1363 1
    stringBuffer.append(TEXT_274);
d1365 1
a1365 1
    stringBuffer.append(TEXT_275);
d1375 1
a1375 1
    stringBuffer.append(TEXT_276);
d1377 1
a1377 1
    stringBuffer.append(TEXT_277);
d1379 1
a1379 1
    stringBuffer.append(TEXT_278);
d1381 1
a1381 1
    stringBuffer.append(TEXT_279);
d1383 1
a1383 1
    stringBuffer.append(TEXT_280);
d1389 1
a1389 1
    stringBuffer.append(TEXT_281);
d1391 1
a1391 1
    stringBuffer.append(TEXT_282);
d1393 1
a1393 1
    stringBuffer.append(TEXT_283);
d1395 1
a1395 1
    stringBuffer.append(TEXT_284);
d1397 1
a1397 1
    stringBuffer.append(TEXT_285);
d1399 1
a1399 1
    stringBuffer.append(TEXT_286);
d1401 1
a1401 1
    stringBuffer.append(TEXT_287);
d1404 1
a1404 1
    stringBuffer.append(TEXT_288);
d1406 1
a1406 1
    stringBuffer.append(TEXT_289);
d1408 1
a1408 1
    stringBuffer.append(TEXT_290);
d1410 1
a1410 1
    stringBuffer.append(TEXT_291);
d1412 1
a1412 1
    stringBuffer.append(TEXT_292);
d1417 1
a1417 1
    stringBuffer.append(TEXT_293);
d1419 1
a1419 1
    stringBuffer.append(TEXT_294);
d1421 1
a1421 1
    stringBuffer.append(TEXT_295);
d1423 1
a1423 1
    stringBuffer.append(TEXT_296);
d1425 1
a1425 1
    stringBuffer.append(TEXT_297);
d1428 1
a1428 1
    stringBuffer.append(TEXT_298);
d1430 1
a1430 1
    stringBuffer.append(TEXT_299);
d1432 1
a1432 1
    stringBuffer.append(TEXT_300);
d1434 1
a1434 1
    stringBuffer.append(TEXT_301);
d1436 1
a1436 1
    stringBuffer.append(TEXT_302);
d1438 1
a1438 1
    stringBuffer.append(TEXT_303);
d1440 1
a1440 1
    stringBuffer.append(TEXT_304);
d1442 1
a1442 1
    stringBuffer.append(TEXT_305);
d1444 1
a1444 1
    stringBuffer.append(TEXT_306);
d1446 1
a1446 1
    stringBuffer.append(TEXT_307);
d1456 1
a1456 1
    stringBuffer.append(TEXT_308);
d1458 1
a1458 1
    stringBuffer.append(TEXT_309);
d1460 1
a1460 1
    stringBuffer.append(TEXT_310);
d1462 1
a1462 1
    stringBuffer.append(TEXT_311);
d1464 1
a1464 1
    stringBuffer.append(TEXT_312);
d1467 1
a1467 1
    stringBuffer.append(TEXT_313);
d1477 1
a1477 1
    stringBuffer.append(TEXT_314);
d1479 1
a1479 1
    stringBuffer.append(TEXT_315);
d1481 1
a1481 1
    stringBuffer.append(TEXT_316);
d1483 1
a1483 1
    stringBuffer.append(TEXT_317);
d1485 1
a1485 1
    stringBuffer.append(TEXT_318);
d1491 1
a1491 1
    stringBuffer.append(TEXT_319);
d1493 1
a1493 1
    stringBuffer.append(TEXT_320);
d1495 1
a1495 1
    stringBuffer.append(TEXT_321);
d1497 1
a1497 1
    stringBuffer.append(TEXT_322);
d1499 1
a1499 1
    stringBuffer.append(TEXT_323);
d1501 1
a1501 1
    stringBuffer.append(TEXT_324);
d1503 1
a1503 1
    stringBuffer.append(TEXT_325);
d1506 1
a1506 1
    stringBuffer.append(TEXT_326);
d1508 1
a1508 1
    stringBuffer.append(TEXT_327);
d1510 1
a1510 1
    stringBuffer.append(TEXT_328);
d1512 1
a1512 1
    stringBuffer.append(TEXT_329);
d1514 1
a1514 1
    stringBuffer.append(TEXT_330);
d1519 1
a1519 1
    stringBuffer.append(TEXT_331);
d1521 1
a1521 1
    stringBuffer.append(TEXT_332);
d1523 1
a1523 1
    stringBuffer.append(TEXT_333);
d1525 1
a1525 1
    stringBuffer.append(TEXT_334);
d1527 1
a1527 1
    stringBuffer.append(TEXT_335);
d1530 1
a1530 1
    stringBuffer.append(TEXT_336);
d1532 1
a1532 1
    stringBuffer.append(TEXT_337);
d1534 1
a1534 1
    stringBuffer.append(TEXT_338);
d1537 1
a1537 1
    stringBuffer.append(TEXT_339);
d1539 1
a1539 1
    stringBuffer.append(TEXT_340);
d1541 1
a1541 1
    stringBuffer.append(TEXT_341);
d1543 1
a1543 1
    stringBuffer.append(TEXT_342);
d1545 1
a1545 1
    stringBuffer.append(TEXT_343);
d1547 1
a1547 1
    stringBuffer.append(TEXT_344);
d1553 1
a1553 1
    stringBuffer.append(TEXT_345);
d1555 1
a1555 1
    stringBuffer.append(TEXT_346);
@


1.45
log
@use importAssistant to emit package statement instead of handcoding
@
text
@d503 4
a513 1
	TypeModelFacet modelFacet = genChildNode.getModelFacet();
d595 3
d697 1
a697 1
    	if (genNode.getModelFacet().isPhantomElement()) {
a713 1
GenClass nodeMetaClass = genNode.getModelFacet().getMetaClass();
d742 4
d808 4
d1286 4
@


1.44
log
@Removing obsolete code to get rid of compilation warnings.
@
text
@d23 19
a41 19
  protected final String TEXT_4 = NL + "package ";
  protected final String TEXT_5 = ";" + NL;
  protected final String TEXT_6 = NL + "import org.eclipse.gef.commands.Command;" + NL + "import org.eclipse.gmf.runtime.emf.type.core.commands.DestroyElementCommand;" + NL + "import org.eclipse.gmf.runtime.emf.type.core.requests.CreateRelationshipRequest;" + NL + "import org.eclipse.gmf.runtime.emf.type.core.requests.DestroyElementRequest;" + NL + "import org.eclipse.emf.ecore.EObject;" + NL + "import org.eclipse.emf.ecore.EAnnotation;" + NL + "import org.eclipse.gmf.runtime.notation.View;";
  protected final String TEXT_7 = NL + NL + "/**" + NL + " * @@generated" + NL + " */" + NL + "public class ";
  protected final String TEXT_8 = " extends ";
  protected final String TEXT_9 = " {";
  protected final String TEXT_10 = NL;
  protected final String TEXT_11 = NL;
  protected final String TEXT_12 = "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected ";
  protected final String TEXT_13 = " getCreateCommand(";
  protected final String TEXT_14 = " req) {";
  protected final String TEXT_15 = NL + "\t\tif (";
  protected final String TEXT_16 = ".";
  protected final String TEXT_17 = " == req.getElementType()) {";
  protected final String TEXT_18 = "\t\t" + NL + "\t\t\t";
  protected final String TEXT_19 = " container = (";
  protected final String TEXT_20 = ") (req.getContainer() instanceof ";
  protected final String TEXT_21 = " ? ((";
  protected final String TEXT_22 = ") req.getContainer()).getElement() : req.getContainer());";
d43 5
a47 5
  protected final String TEXT_24 = " != null) {";
  protected final String TEXT_25 = NL + "\t\t\tif (";
  protected final String TEXT_26 = ".size() >= ";
  protected final String TEXT_27 = ") {";
  protected final String TEXT_28 = NL + "\t\t\t\treturn super.getCreateCommand(req);" + NL + "\t\t\t}";
d49 74
a122 74
  protected final String TEXT_30 = " != null) {";
  protected final String TEXT_31 = NL + "\t\t\tif (";
  protected final String TEXT_32 = ".size() >= ";
  protected final String TEXT_33 = ") {";
  protected final String TEXT_34 = NL + "\t\t\t\treturn super.getCreateCommand(req);" + NL + "\t\t\t}";
  protected final String TEXT_35 = NL + "\t\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\t\treq.setContainmentFeature(";
  protected final String TEXT_36 = ".eINSTANCE.get";
  protected final String TEXT_37 = "());" + NL + "\t\t\t}";
  protected final String TEXT_38 = NL + "\t\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_39 = "Command(req));" + NL + "\t\t}";
  protected final String TEXT_40 = NL + "\t\treturn super.getCreateCommand(req);" + NL + "\t}";
  protected final String TEXT_41 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_42 = "Command extends ";
  protected final String TEXT_43 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_44 = "Command(CreateElementRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_45 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_46 = ".eINSTANCE.get";
  protected final String TEXT_47 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_48 = " getElementToEdit() {" + NL + "\t\t\t";
  protected final String TEXT_49 = " container = ((CreateElementRequest) getRequest()).getContainer();" + NL + "\t\t\tif (container instanceof ";
  protected final String TEXT_50 = ") {" + NL + "\t\t\t\tcontainer = ((";
  protected final String TEXT_51 = ") container).getElement();" + NL + "\t\t\t}" + NL + "\t\t\treturn container;" + NL + "\t\t}";
  protected final String TEXT_52 = NL + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_53 = " doDefaultElementCreation() {" + NL + "\t\t\t";
  protected final String TEXT_54 = " newElement = (";
  protected final String TEXT_55 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {";
  protected final String TEXT_56 = NL + "\t\t\t\t ";
  protected final String TEXT_57 = " container = (";
  protected final String TEXT_58 = ") getElementToEdit();" + NL + "\t\t\t\t if (container != null) {";
  protected final String TEXT_59 = NL + "\t\t\t\t\t";
  protected final String TEXT_60 = " featureValues = container.";
  protected final String TEXT_61 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_62 = NL + "\t\t\t\t \t";
  protected final String TEXT_63 = "newElement);";
  protected final String TEXT_64 = NL + "\t\t\t\t }";
  protected final String TEXT_65 = "\t\t" + NL + "\t\t\t\t";
  protected final String TEXT_66 = ".Initializers.";
  protected final String TEXT_67 = ".init(newElement);";
  protected final String TEXT_68 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}";
  protected final String TEXT_69 = NL + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic boolean canExecute() {" + NL + "\t\t\tif (getEClass() != null) {" + NL + "\t\t\t\treturn getEClass().isSuperTypeOf(getEClassToEdit());" + NL + "\t\t\t}" + NL + "\t\t\treturn true;" + NL + "\t\t}" + NL + "\t\t" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_70 = " getContainmentFeature() {" + NL + "\t\t\treturn null;" + NL + "\t\t}" + NL + "\t\t" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_71 = " doDefaultElementCreation() {" + NL + "\t\t\t// Uncomment to put \"phantom\" objects into the diagram file.\t\t" + NL + "\t\t\t//";
  protected final String TEXT_72 = " resource = ((CreateElementRequest) getRequest()).getContainer().eResource();" + NL + "\t\t\t//if (resource == null) {" + NL + "\t\t\t//\treturn null;" + NL + "\t\t\t//}" + NL + "\t\t\t";
  protected final String TEXT_73 = " resource = getElementToEdit().eResource();" + NL + "\t\t\t";
  protected final String TEXT_74 = " eClass = getElementType().getEClass();" + NL + "\t\t\t";
  protected final String TEXT_75 = " eObject = eClass.getEPackage().getEFactoryInstance().create(eClass);" + NL + "\t\t\tresource.getContents().add(eObject);" + NL + "\t\t\treturn eObject;" + NL + "\t\t}";
  protected final String TEXT_76 = NL + "\t}";
  protected final String TEXT_77 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getDestroyElementCommand(DestroyElementRequest req) {" + NL + "\t\treturn getMSLWrapper(new DestroyElementCommand(req) {" + NL + "\t\t" + NL + "\t\t\tprotected EObject getElementToDestroy() {" + NL + "\t\t\t\tView view = (View) getHost().getModel();" + NL + "\t\t\t\tEAnnotation annotation = view.getEAnnotation(\"Shortcut\"); //$NON-NLS-1$" + NL + "\t\t\t\tif (annotation != null) {" + NL + "\t\t\t\t\treturn view;" + NL + "\t\t\t\t}" + NL + "\t\t\t\treturn super.getElementToDestroy();" + NL + "\t\t\t}\t\t" + NL;
  protected final String TEXT_78 = NL + "\t\t\tprotected ";
  protected final String TEXT_79 = " doExecuteWithResult(";
  protected final String TEXT_80 = " progressMonitor, ";
  protected final String TEXT_81 = " info) throws ";
  protected final String TEXT_82 = " {" + NL + "\t\t\t\tEObject eObject = getElementToDestroy();" + NL + "\t\t\t\tboolean removeFromResource = eObject.eContainer() == null;" + NL + "\t\t\t\t";
  protected final String TEXT_83 = " result = super.doExecuteWithResult(progressMonitor, info);" + NL + "\t\t\t\t";
  protected final String TEXT_84 = " resource = eObject.eResource();" + NL + "\t\t\t\tif (removeFromResource && resource != null) {" + NL + "\t\t\t\t\tresource.getContents().remove(eObject);" + NL + "\t\t\t\t}" + NL + "\t\t\t\treturn result;" + NL + "\t\t\t}";
  protected final String TEXT_85 = NL + "\t\t});" + NL + "\t}";
  protected final String TEXT_86 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateRelationshipCommand(CreateRelationshipRequest req) {";
  protected final String TEXT_87 = NL + "\t\tif (";
  protected final String TEXT_88 = ".";
  protected final String TEXT_89 = " == req.getElementType()) {" + NL + "\t\t\treturn req.getTarget() == null ? ";
  protected final String TEXT_90 = " : ";
  protected final String TEXT_91 = ";" + NL + "\t\t}";
  protected final String TEXT_92 = NL + "\t\treturn super.getCreateRelationshipCommand(req);" + NL + "\t}";
  protected final String TEXT_93 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_94 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_95 = NL + "\t\t";
  protected final String TEXT_96 = " element = (";
  protected final String TEXT_97 = ") getSemanticElement();";
  protected final String TEXT_98 = NL + "\t\t";
  protected final String TEXT_99 = " element = (";
  protected final String TEXT_100 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_101 = ".eINSTANCE.get";
  protected final String TEXT_102 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_103 = ".INSTANCE;" + NL + "\t\t}";
d124 6
a129 6
  protected final String TEXT_105 = " != null) {";
  protected final String TEXT_106 = NL + "\t\tif (";
  protected final String TEXT_107 = ".size() >= ";
  protected final String TEXT_108 = ") {";
  protected final String TEXT_109 = NL + "\t\t\treturn ";
  protected final String TEXT_110 = ".INSTANCE;" + NL + "\t\t}";
d131 24
a154 24
  protected final String TEXT_112 = " != null) {";
  protected final String TEXT_113 = NL + "\t\tif (";
  protected final String TEXT_114 = ".size() >= ";
  protected final String TEXT_115 = ") {";
  protected final String TEXT_116 = NL + "\t\t\treturn ";
  protected final String TEXT_117 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_118 = NL + "\t\tif(!";
  protected final String TEXT_119 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_120 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_121 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_122 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_123 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_124 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_125 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_126 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_127 = NL + "\t\tfinal ";
  protected final String TEXT_128 = " element = (";
  protected final String TEXT_129 = ") getSemanticElement();";
  protected final String TEXT_130 = NL + "\t\tfinal ";
  protected final String TEXT_131 = " element = (";
  protected final String TEXT_132 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_133 = ".eINSTANCE.get";
  protected final String TEXT_134 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_135 = ".INSTANCE;" + NL + "\t\t}";
d156 6
a161 6
  protected final String TEXT_137 = " != null) {";
  protected final String TEXT_138 = NL + "\t\tif (";
  protected final String TEXT_139 = ".size() >= ";
  protected final String TEXT_140 = ") {";
  protected final String TEXT_141 = NL + "\t\t\treturn ";
  protected final String TEXT_142 = ".INSTANCE;" + NL + "\t\t}";
d163 65
a227 65
  protected final String TEXT_144 = " != null) {";
  protected final String TEXT_145 = NL + "\t\tif (";
  protected final String TEXT_146 = ".size() >= ";
  protected final String TEXT_147 = ") {";
  protected final String TEXT_148 = NL + "\t\t\treturn ";
  protected final String TEXT_149 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_150 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_151 = ".eINSTANCE.get";
  protected final String TEXT_152 = "());" + NL + "\t\t}" + NL + "\t\t";
  protected final String TEXT_153 = NL + "\t\tif(!";
  protected final String TEXT_154 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_155 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_156 = "\t\t\t\t" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_157 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_158 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_159 = "Command extends ";
  protected final String TEXT_160 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_161 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_162 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_163 = ".eINSTANCE.get";
  protected final String TEXT_164 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_165 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_166 = " doDefaultElementCreation() {";
  protected final String TEXT_167 = NL + "\t\t\t";
  protected final String TEXT_168 = " newElement = (";
  protected final String TEXT_169 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_170 = "(";
  protected final String TEXT_171 = ") getSource());";
  protected final String TEXT_172 = NL + "\t\t\t\t";
  protected final String TEXT_173 = "(";
  protected final String TEXT_174 = ") getTarget());";
  protected final String TEXT_175 = NL + "\t\t\t\t";
  protected final String TEXT_176 = " container = (";
  protected final String TEXT_177 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_178 = NL + "\t\t\t\t\t";
  protected final String TEXT_179 = " featureValues = container.";
  protected final String TEXT_180 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_181 = NL + "\t\t\t\t \t";
  protected final String TEXT_182 = "newElement);";
  protected final String TEXT_183 = NL + "\t\t\t\t}";
  protected final String TEXT_184 = NL + "\t\t\t\t";
  protected final String TEXT_185 = ".Initializers.";
  protected final String TEXT_186 = ".init(newElement);";
  protected final String TEXT_187 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_188 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_189 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_190 = NL + "\t\tif(!";
  protected final String TEXT_191 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_192 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_193 = "\t";
  protected final String TEXT_194 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_195 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_196 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_197 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_198 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_199 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_200 = NL + "\t\tfinal ";
  protected final String TEXT_201 = " element = (";
  protected final String TEXT_202 = ") req.getSource();";
  protected final String TEXT_203 = NL + "\t\tfinal ";
  protected final String TEXT_204 = " element = (";
  protected final String TEXT_205 = ") getRelationshipContainer(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_206 = ".eINSTANCE.get";
  protected final String TEXT_207 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_208 = ".INSTANCE;" + NL + "\t\t}";
d229 6
a234 6
  protected final String TEXT_210 = " != null) {";
  protected final String TEXT_211 = NL + "\t\tif (";
  protected final String TEXT_212 = ".size() >= ";
  protected final String TEXT_213 = ") {";
  protected final String TEXT_214 = NL + "\t\t\treturn ";
  protected final String TEXT_215 = ".INSTANCE;" + NL + "\t\t}";
d236 49
a284 49
  protected final String TEXT_217 = " != null) {";
  protected final String TEXT_218 = NL + "\t\tif (";
  protected final String TEXT_219 = ".size() >= ";
  protected final String TEXT_220 = ") {";
  protected final String TEXT_221 = NL + "\t\t\treturn ";
  protected final String TEXT_222 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_223 = NL + "\t\tif(!";
  protected final String TEXT_224 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_225 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_226 = "\t\t";
  protected final String TEXT_227 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_228 = ".eINSTANCE.get";
  protected final String TEXT_229 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_230 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_231 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_232 = "Command extends ";
  protected final String TEXT_233 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_234 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_235 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_236 = ".eINSTANCE.get";
  protected final String TEXT_237 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_238 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_239 = " doDefaultElementCreation() {";
  protected final String TEXT_240 = NL + "\t\t\t";
  protected final String TEXT_241 = " newElement = (";
  protected final String TEXT_242 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_243 = "(";
  protected final String TEXT_244 = ") getTarget());";
  protected final String TEXT_245 = NL + "\t\t\t\t";
  protected final String TEXT_246 = "(";
  protected final String TEXT_247 = ") getSource());";
  protected final String TEXT_248 = NL + "\t\t\t\t";
  protected final String TEXT_249 = " container = (";
  protected final String TEXT_250 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_251 = NL + "\t\t\t\t\t";
  protected final String TEXT_252 = " featureValues = container.";
  protected final String TEXT_253 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_254 = NL + "\t\t\t\t \t";
  protected final String TEXT_255 = "newElement);";
  protected final String TEXT_256 = NL + "\t\t\t\t}";
  protected final String TEXT_257 = NL + "\t\t\t\t";
  protected final String TEXT_258 = ".Initializers.";
  protected final String TEXT_259 = ".init(newElement);";
  protected final String TEXT_260 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_261 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_262 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_263 = NL + "\t\t";
  protected final String TEXT_264 = " element = (";
  protected final String TEXT_265 = ") getSemanticElement();";
d286 19
a304 19
  protected final String TEXT_267 = " != null) {";
  protected final String TEXT_268 = NL + "\t\tif (";
  protected final String TEXT_269 = ".size() >= ";
  protected final String TEXT_270 = ") {";
  protected final String TEXT_271 = NL + "\t\t\treturn ";
  protected final String TEXT_272 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_273 = NL + "\t\tif(!";
  protected final String TEXT_274 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_275 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_276 = NL;
  protected final String TEXT_277 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_278 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_279 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_280 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_281 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_282 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_283 = NL + "\t\t";
  protected final String TEXT_284 = " element = (";
  protected final String TEXT_285 = ") getSemanticElement();";
d306 37
a342 37
  protected final String TEXT_287 = " != null) {";
  protected final String TEXT_288 = NL + "\t\tif (";
  protected final String TEXT_289 = ".size() >= ";
  protected final String TEXT_290 = NL + "\t\t\t|| ";
  protected final String TEXT_291 = ".contains(req.getSource())";
  protected final String TEXT_292 = NL + "\t\t\t\t) {";
  protected final String TEXT_293 = NL + "\t\t\treturn ";
  protected final String TEXT_294 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_295 = NL + "\t\t";
  protected final String TEXT_296 = " element = (";
  protected final String TEXT_297 = ") getSemanticElement();" + NL + "\t\tif (";
  protected final String TEXT_298 = ".contains(req.getSource())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_299 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_300 = NL + "\t\tif(!";
  protected final String TEXT_301 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_302 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_303 = "\t\t";
  protected final String TEXT_304 = NL + "\t\t";
  protected final String TEXT_305 = " setReq = new ";
  protected final String TEXT_306 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_307 = ".eINSTANCE.get";
  protected final String TEXT_308 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_309 = "(setReq));" + NL + "\t}";
  protected final String TEXT_310 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_311 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_312 = NL + "\t\tif(!";
  protected final String TEXT_313 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_314 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_315 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_316 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_317 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_318 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_319 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_320 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_321 = NL + "\t\t";
  protected final String TEXT_322 = " element = (";
  protected final String TEXT_323 = ") req.getSource();";
d344 22
a365 24
  protected final String TEXT_325 = " != null) {";
  protected final String TEXT_326 = NL + "\t\tif (";
  protected final String TEXT_327 = ".size() >= ";
  protected final String TEXT_328 = NL + "\t\t\t|| ";
  protected final String TEXT_329 = ".contains(req.getTarget())";
  protected final String TEXT_330 = NL + "\t\t\t\t) {";
  protected final String TEXT_331 = NL + "\t\t\treturn ";
  protected final String TEXT_332 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_333 = NL + "\t\t";
  protected final String TEXT_334 = " element = (";
  protected final String TEXT_335 = ") req.getSource();" + NL + "\t\tif (";
  protected final String TEXT_336 = ".contains(req.getTarget())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_337 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_338 = NL + "\t\tif(!";
  protected final String TEXT_339 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_340 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_341 = NL + "\t\t";
  protected final String TEXT_342 = " setReq = new ";
  protected final String TEXT_343 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_344 = ".eINSTANCE.get";
  protected final String TEXT_345 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_346 = "(setReq));" + NL + "\t}";
  protected final String TEXT_347 = NL + "}";
  protected final String TEXT_348 = NL;
d467 2
a468 1
GenNode genNode = (GenNode) ((Object[]) argument)[0];
d480 1
d482 1
a482 1
    stringBuffer.append(genDiagram.getEditPoliciesPackageName());
d484 1
a484 1
    ImportUtil importManager = new ImportUtil(genDiagram.getEditPoliciesPackageName());
d486 1
a486 1
    importManager.markImportLocation(stringBuffer);
a487 4
    stringBuffer.append(genNode.getItemSemanticEditPolicyClassName());
    stringBuffer.append(TEXT_8);
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName()));
    stringBuffer.append(TEXT_9);
d493 2
d496 1
d498 1
a499 4
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.Command"));
    stringBuffer.append(TEXT_13);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.requests.CreateElementRequest"));
    stringBuffer.append(TEXT_14);
d504 1
a504 1
    stringBuffer.append(TEXT_15);
d506 1
a506 1
    stringBuffer.append(TEXT_16);
d508 1
a508 1
    stringBuffer.append(TEXT_17);
d520 1
a520 1
    stringBuffer.append(TEXT_18);
d522 1
a522 1
    stringBuffer.append(TEXT_19);
d524 1
a524 1
    stringBuffer.append(TEXT_20);
d526 1
a526 1
    stringBuffer.append(TEXT_21);
d528 1
a528 1
    stringBuffer.append(TEXT_22);
d533 1
a533 1
    stringBuffer.append(TEXT_23);
d535 1
a535 1
    stringBuffer.append(TEXT_24);
d539 1
a539 1
    stringBuffer.append(TEXT_25);
d541 1
a541 1
    stringBuffer.append(TEXT_26);
d543 1
a543 1
    stringBuffer.append(TEXT_27);
d547 1
a547 1
    stringBuffer.append(TEXT_28);
d554 1
a554 1
    stringBuffer.append(TEXT_29);
d556 1
a556 1
    stringBuffer.append(TEXT_30);
d560 1
a560 1
    stringBuffer.append(TEXT_31);
d562 1
a562 1
    stringBuffer.append(TEXT_32);
d564 1
a564 1
    stringBuffer.append(TEXT_33);
d568 1
a568 1
    stringBuffer.append(TEXT_34);
d573 1
a573 1
    stringBuffer.append(TEXT_35);
d575 1
a575 1
    stringBuffer.append(TEXT_36);
d577 1
a577 1
    stringBuffer.append(TEXT_37);
d581 1
a581 1
    stringBuffer.append(TEXT_38);
d583 1
a583 1
    stringBuffer.append(TEXT_39);
d587 1
a587 1
    stringBuffer.append(TEXT_40);
d593 4
d600 1
a600 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.commands.CreateElementCommand"));
d602 1
a602 1
    stringBuffer.append(genChildNode.getUniqueIdentifier());
d604 1
a604 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EClass"));
d606 1
a606 1
    stringBuffer.append(importManager.getImportedName(containerGenClass.getGenPackage().getQualifiedPackageInterfaceName()));
d608 1
a608 1
    stringBuffer.append(containerGenClass.getClassifierAccessorName());
d610 1
a610 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d612 1
a612 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
a613 4
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.notation.View"));
    stringBuffer.append(TEXT_50);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.notation.View"));
    stringBuffer.append(TEXT_51);
d619 1
a619 1
    stringBuffer.append(TEXT_52);
d621 1
a621 1
    stringBuffer.append(TEXT_53);
d623 1
a623 1
    stringBuffer.append(TEXT_54);
d625 1
a625 1
    stringBuffer.append(TEXT_55);
d630 1
a630 1
    stringBuffer.append(TEXT_56);
d632 1
a632 1
    stringBuffer.append(TEXT_57);
d634 1
a634 1
    stringBuffer.append(TEXT_58);
d638 1
a638 1
    stringBuffer.append(TEXT_59);
d640 1
a640 1
    stringBuffer.append(TEXT_60);
d642 1
a642 1
    stringBuffer.append(TEXT_61);
d646 1
a646 1
    stringBuffer.append(TEXT_62);
d648 1
a648 1
    stringBuffer.append(TEXT_63);
d652 1
a652 1
    stringBuffer.append(TEXT_64);
d657 1
a657 1
    stringBuffer.append(TEXT_65);
d659 1
a659 1
    stringBuffer.append(TEXT_66);
d661 1
a661 1
    stringBuffer.append(TEXT_67);
d665 1
a665 1
    stringBuffer.append(TEXT_68);
d671 1
a671 1
    stringBuffer.append(TEXT_69);
d673 1
a673 1
    stringBuffer.append(TEXT_70);
d675 1
a675 1
    stringBuffer.append(TEXT_71);
d677 1
a677 1
    stringBuffer.append(TEXT_72);
d679 1
a679 1
    stringBuffer.append(TEXT_73);
d681 1
a681 1
    stringBuffer.append(TEXT_74);
d683 1
a683 1
    stringBuffer.append(TEXT_75);
d687 1
a687 1
    stringBuffer.append(TEXT_76);
d690 1
a690 1
    stringBuffer.append(TEXT_77);
d692 1
a692 1
    stringBuffer.append(TEXT_78);
d694 1
a694 1
    stringBuffer.append(TEXT_79);
d696 1
a696 1
    stringBuffer.append(TEXT_80);
d698 1
a698 1
    stringBuffer.append(TEXT_81);
d700 1
a700 1
    stringBuffer.append(TEXT_82);
d702 1
a702 1
    stringBuffer.append(TEXT_83);
d704 1
a704 1
    stringBuffer.append(TEXT_84);
d706 1
a706 1
    stringBuffer.append(TEXT_85);
d712 1
a712 1
    stringBuffer.append(TEXT_86);
d757 1
a757 1
    stringBuffer.append(TEXT_87);
d759 1
a759 1
    stringBuffer.append(TEXT_88);
d761 1
a761 1
    stringBuffer.append(TEXT_89);
d763 1
a763 1
    stringBuffer.append(TEXT_90);
d765 1
a765 1
    stringBuffer.append(TEXT_91);
d767 1
a767 1
    stringBuffer.append(TEXT_92);
d828 1
a828 1
    stringBuffer.append(TEXT_93);
d830 1
a830 1
    stringBuffer.append(TEXT_94);
d837 4
d842 1
a842 1
    stringBuffer.append(containerClassName);
d846 1
a846 1
    				} else {
d848 1
a848 1
    stringBuffer.append(containerClassName);
d850 1
a850 1
    stringBuffer.append(containerClassName);
d852 1
a852 1
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
a853 4
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
    stringBuffer.append(TEXT_102);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_103);
d859 4
d866 1
a866 1
    					} else {
d868 1
a868 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d870 1
a870 1
    stringBuffer.append(upperContainmentBound);
a871 4
    					}
    stringBuffer.append(TEXT_109);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_110);
d877 4
d884 1
a884 1
    					} else {
d886 1
a886 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d888 1
a888 1
    stringBuffer.append(upperChildBound);
a889 4
    					}
    stringBuffer.append(TEXT_116);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_117);
d895 1
a895 1
    stringBuffer.append(TEXT_118);
d897 1
a897 1
    stringBuffer.append(TEXT_119);
d899 1
a899 1
    stringBuffer.append(TEXT_120);
d902 1
a902 1
    stringBuffer.append(TEXT_121);
d912 1
a912 1
    stringBuffer.append(TEXT_122);
d914 1
a914 1
    stringBuffer.append(TEXT_123);
d916 1
a916 1
    stringBuffer.append(TEXT_124);
d918 1
a918 1
    stringBuffer.append(TEXT_125);
d920 1
a920 1
    stringBuffer.append(TEXT_126);
d925 4
d930 1
a930 1
    stringBuffer.append(containerClassName);
d934 1
a934 1
    			} else {
d936 1
a936 1
    stringBuffer.append(containerClassName);
d938 1
a938 1
    stringBuffer.append(containerClassName);
d940 1
a940 1
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
d942 2
a943 6
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
    stringBuffer.append(TEXT_134);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_135);
    			}
     // check that containment feature is not set / has capacity for the new element 
d949 4
d956 1
a956 1
    					} else {
d958 1
a958 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d960 1
a960 1
    stringBuffer.append(upperContainmentBound);
a961 4
    					}
    stringBuffer.append(TEXT_141);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_142);
d967 4
d974 1
a974 1
    					} else {
d976 1
a976 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d978 1
a978 1
    stringBuffer.append(upperChildBound);
a979 4
    					}
    stringBuffer.append(TEXT_148);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_149);
d985 4
d990 1
a990 1
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenPackage().getQualifiedPackageInterfaceName()));
d992 1
a992 1
    stringBuffer.append(containmentFeature.getFeatureAccessorName());
d994 1
a994 1
    			if(linkConstraints != null) { 
d996 1
a996 1
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+"."+linkConstraints.getConstraintsInstanceFieldName());
d998 1
a998 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d1000 1
a1000 1
    			} // end of link constraints 
d1004 1
a1004 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d1008 1
a1008 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.commands.CreateRelationshipCommand"));
d1010 1
a1010 1
    stringBuffer.append(namePart);
d1012 1
a1012 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EClass"));
d1014 1
a1014 1
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
d1016 1
a1016 1
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
d1018 1
a1018 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d1020 1
a1020 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d1022 1
a1022 1
    			String metaClassName = importManager.getImportedName(modelFacet.getMetaClass().getQualifiedInterfaceName());
d1024 1
a1024 1
    stringBuffer.append(metaClassName);
d1026 1
a1026 1
    stringBuffer.append(metaClassName);
d1028 1
a1028 1
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getTargetMetaFeature(), false, importManager));
d1030 1
a1030 1
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
d1032 1
a1032 1
    			if (modelFacet.getSourceMetaFeature() != null) {
a1033 4
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getSourceMetaFeature(), false, importManager));
    stringBuffer.append(TEXT_173);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_174);
d1038 1
a1038 1
    stringBuffer.append(TEXT_175);
d1040 1
a1040 1
    stringBuffer.append(TEXT_176);
d1042 1
a1042 1
    stringBuffer.append(TEXT_177);
d1044 1
a1044 1
    stringBuffer.append(TEXT_178);
d1046 1
a1046 1
    stringBuffer.append(TEXT_179);
d1048 1
a1048 1
    stringBuffer.append(TEXT_180);
d1050 1
a1050 1
    stringBuffer.append(TEXT_181);
d1052 1
a1052 1
    stringBuffer.append(TEXT_182);
d1054 1
a1054 1
    stringBuffer.append(TEXT_183);
d1059 1
a1059 1
    stringBuffer.append(TEXT_184);
d1061 1
a1061 1
    stringBuffer.append(TEXT_185);
d1063 1
a1063 1
    stringBuffer.append(TEXT_186);
d1065 1
a1065 1
    stringBuffer.append(TEXT_187);
d1075 1
a1075 1
    stringBuffer.append(TEXT_188);
d1077 1
a1077 1
    stringBuffer.append(TEXT_189);
d1079 1
a1079 1
    stringBuffer.append(TEXT_190);
d1081 1
a1081 1
    stringBuffer.append(TEXT_191);
d1083 1
a1083 1
    stringBuffer.append(TEXT_192);
d1085 1
a1085 1
    stringBuffer.append(TEXT_193);
d1087 1
a1087 1
    stringBuffer.append(TEXT_194);
d1097 1
a1097 1
    stringBuffer.append(TEXT_195);
d1099 1
a1099 1
    stringBuffer.append(TEXT_196);
d1101 1
a1101 1
    stringBuffer.append(TEXT_197);
d1103 1
a1103 1
    stringBuffer.append(TEXT_198);
d1105 1
a1105 1
    stringBuffer.append(TEXT_199);
d1110 4
d1115 1
a1115 1
    stringBuffer.append(containerClassName);
d1119 1
a1119 1
    				} else {
d1121 1
a1121 1
    stringBuffer.append(containerClassName);
d1123 1
a1123 1
    stringBuffer.append(containerClassName);
d1125 1
a1125 1
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
a1126 4
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
    stringBuffer.append(TEXT_207);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_208);
d1134 4
d1141 1
a1141 1
    					} else {
d1143 1
a1143 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d1145 1
a1145 1
    stringBuffer.append(upperContainmentBound);
a1146 4
    					}
    stringBuffer.append(TEXT_214);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_215);
d1152 4
d1159 1
a1159 1
    					} else {
d1161 1
a1161 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d1163 1
a1163 1
    stringBuffer.append(upperChildBound);
a1164 4
    					}
    stringBuffer.append(TEXT_221);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_222);
d1170 4
d1175 1
a1175 1
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+"."+linkConstraints.getConstraintsInstanceFieldName());
d1177 1
a1177 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d1179 1
a1179 1
    			} // end of constraints 
d1181 1
a1181 1
     // create semantic command 
d1183 1
a1183 1
    stringBuffer.append(importManager.getImportedName(modelFacet.getContainmentMetaFeature().getGenPackage().getQualifiedPackageInterfaceName()));
d1185 1
a1185 1
    stringBuffer.append(modelFacet.getContainmentMetaFeature().getFeatureAccessorName());
d1189 1
a1189 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d1193 1
a1193 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.commands.CreateRelationshipCommand"));
d1195 1
a1195 1
    stringBuffer.append(namePart);
d1197 1
a1197 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EClass"));
d1199 1
a1199 1
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
d1201 1
a1201 1
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
d1203 1
a1203 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d1205 1
a1205 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d1207 1
a1207 1
    			String metaClassName = importManager.getImportedName(modelFacet.getMetaClass().getQualifiedInterfaceName());
d1209 1
a1209 1
    stringBuffer.append(metaClassName);
d1211 1
a1211 1
    stringBuffer.append(metaClassName);
d1213 1
a1213 1
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getTargetMetaFeature(), false, importManager));
d1215 1
a1215 1
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
d1217 1
a1217 1
    			if (modelFacet.getSourceMetaFeature() != null) {
a1218 4
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getSourceMetaFeature(), false, importManager));
    stringBuffer.append(TEXT_246);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_247);
d1223 1
a1223 1
    stringBuffer.append(TEXT_248);
d1225 1
a1225 1
    stringBuffer.append(TEXT_249);
d1227 1
a1227 1
    stringBuffer.append(TEXT_250);
d1229 1
a1229 1
    stringBuffer.append(TEXT_251);
d1231 1
a1231 1
    stringBuffer.append(TEXT_252);
d1233 1
a1233 1
    stringBuffer.append(TEXT_253);
d1235 1
a1235 1
    stringBuffer.append(TEXT_254);
d1237 1
a1237 1
    stringBuffer.append(TEXT_255);
d1239 1
a1239 1
    stringBuffer.append(TEXT_256);
d1244 1
a1244 1
    stringBuffer.append(TEXT_257);
d1246 1
a1246 1
    stringBuffer.append(TEXT_258);
d1248 1
a1248 1
    stringBuffer.append(TEXT_259);
d1250 1
a1250 1
    stringBuffer.append(TEXT_260);
d1302 1
a1302 1
    stringBuffer.append(TEXT_261);
d1304 1
a1304 1
    stringBuffer.append(TEXT_262);
d1310 4
d1315 1
a1315 1
    stringBuffer.append(outgoingClassName);
d1317 1
a1317 1
    stringBuffer.append(outgoingClassName);
d1319 1
a1319 1
    				if (upperBound == 1) {
d1323 1
a1323 1
    				} else {
d1325 1
a1325 1
    stringBuffer.append(getFeatureValueGetter("element", metaFeature, false, importManager));
d1327 1
a1327 1
    stringBuffer.append(upperBound);
a1328 4
    				}
    stringBuffer.append(TEXT_271);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_272);
d1331 1
a1331 1
    stringBuffer.append(TEXT_273);
d1333 1
a1333 1
    stringBuffer.append(TEXT_274);
d1335 1
a1335 1
    stringBuffer.append(TEXT_275);
d1337 1
a1337 1
    stringBuffer.append(TEXT_276);
d1339 1
a1339 1
    stringBuffer.append(TEXT_277);
d1349 1
a1349 1
    stringBuffer.append(TEXT_278);
d1351 1
a1351 1
    stringBuffer.append(TEXT_279);
d1353 1
a1353 1
    stringBuffer.append(TEXT_280);
d1355 1
a1355 1
    stringBuffer.append(TEXT_281);
d1357 1
a1357 1
    stringBuffer.append(TEXT_282);
d1363 4
d1368 1
a1368 1
    stringBuffer.append(outgoingClassName);
d1370 1
a1370 1
    stringBuffer.append(outgoingClassName);
d1372 1
a1372 1
    				if (upperBound == 1) {
d1376 2
a1377 1
    				} else {
d1381 1
a1381 2
    stringBuffer.append(upperBound);
    					if (metaFeature.getEcoreFeature().isUnique()) {
d1383 1
a1383 1
    stringBuffer.append(getFeatureValueGetter("element", metaFeature, false, importManager));
d1385 1
a1385 1
    				}
a1386 4
    			}
    stringBuffer.append(TEXT_293);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_294);
d1391 1
a1391 1
    stringBuffer.append(TEXT_295);
d1393 1
a1393 1
    stringBuffer.append(TEXT_296);
d1395 1
a1395 1
    stringBuffer.append(TEXT_297);
d1397 1
a1397 1
    stringBuffer.append(TEXT_298);
d1399 1
a1399 1
    stringBuffer.append(TEXT_299);
d1402 1
a1402 1
    stringBuffer.append(TEXT_300);
d1404 1
a1404 1
    stringBuffer.append(TEXT_301);
d1406 1
a1406 1
    stringBuffer.append(TEXT_302);
d1408 1
a1408 1
    stringBuffer.append(TEXT_303);
d1410 1
a1410 1
    stringBuffer.append(TEXT_304);
d1412 1
a1412 1
    stringBuffer.append(TEXT_305);
d1414 1
a1414 1
    stringBuffer.append(TEXT_306);
d1416 1
a1416 1
    stringBuffer.append(TEXT_307);
d1418 1
a1418 1
    stringBuffer.append(TEXT_308);
d1420 1
a1420 1
    stringBuffer.append(TEXT_309);
d1430 1
a1430 1
    stringBuffer.append(TEXT_310);
d1432 1
a1432 1
    stringBuffer.append(TEXT_311);
d1434 1
a1434 1
    stringBuffer.append(TEXT_312);
d1436 1
a1436 1
    stringBuffer.append(TEXT_313);
d1438 1
a1438 1
    stringBuffer.append(TEXT_314);
d1441 1
a1441 1
    stringBuffer.append(TEXT_315);
d1451 1
a1451 1
    stringBuffer.append(TEXT_316);
d1453 1
a1453 1
    stringBuffer.append(TEXT_317);
d1455 1
a1455 1
    stringBuffer.append(TEXT_318);
d1457 1
a1457 1
    stringBuffer.append(TEXT_319);
d1459 1
a1459 1
    stringBuffer.append(TEXT_320);
d1465 4
d1470 1
a1470 1
    stringBuffer.append(outgoingClassName);
d1472 1
a1472 1
    stringBuffer.append(outgoingClassName);
d1474 1
a1474 1
    				if (upperBound == 1) {
d1478 2
a1479 1
    				} else {
d1483 1
a1483 2
    stringBuffer.append(upperBound);
    					if (metaFeature.getEcoreFeature().isUnique()) {
d1485 1
a1485 1
    stringBuffer.append(getFeatureValueGetter("element", metaFeature, false, importManager));
d1487 1
a1487 1
    					}
a1488 4
    				}
    stringBuffer.append(TEXT_331);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_332);
d1493 1
a1493 1
    stringBuffer.append(TEXT_333);
d1495 1
a1495 1
    stringBuffer.append(TEXT_334);
d1497 1
a1497 1
    stringBuffer.append(TEXT_335);
d1499 1
a1499 1
    stringBuffer.append(TEXT_336);
d1501 1
a1501 1
    stringBuffer.append(TEXT_337);
d1504 1
a1504 1
    stringBuffer.append(TEXT_338);
d1506 1
a1506 1
    stringBuffer.append(TEXT_339);
d1508 1
a1508 1
    stringBuffer.append(TEXT_340);
d1511 1
a1511 1
    stringBuffer.append(TEXT_341);
d1513 1
a1513 1
    stringBuffer.append(TEXT_342);
d1515 1
a1515 1
    stringBuffer.append(TEXT_343);
d1517 1
a1517 1
    stringBuffer.append(TEXT_344);
d1519 1
a1519 1
    stringBuffer.append(TEXT_345);
d1521 1
a1521 1
    stringBuffer.append(TEXT_346);
d1527 1
a1527 1
    stringBuffer.append(TEXT_347);
d1529 1
a1529 1
    stringBuffer.append(TEXT_348);
@


1.43
log
@using M6 to generate code.
@
text
@d94 31
a124 31
  protected final String TEXT_75 = " helper = ";
  protected final String TEXT_76 = ".getHelper(resource);" + NL + "\t\t\t";
  protected final String TEXT_77 = " eObject;" + NL + "\t\t\tif (helper != null) {" + NL + "\t\t\t\teObject = helper.create(eClass);" + NL + "\t\t\t} else {" + NL + "\t\t\t\teObject = eClass.getEPackage().getEFactoryInstance().create(eClass);" + NL + "\t\t\t}" + NL + "\t\t\tresource.getContents().add(eObject);" + NL + "\t\t\treturn eObject;" + NL + "\t\t}";
  protected final String TEXT_78 = NL + "\t}";
  protected final String TEXT_79 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getDestroyElementCommand(DestroyElementRequest req) {" + NL + "\t\treturn getMSLWrapper(new DestroyElementCommand(req) {" + NL + "\t\t" + NL + "\t\t\tprotected EObject getElementToDestroy() {" + NL + "\t\t\t\tView view = (View) getHost().getModel();" + NL + "\t\t\t\tEAnnotation annotation = view.getEAnnotation(\"Shortcut\"); //$NON-NLS-1$" + NL + "\t\t\t\tif (annotation != null) {" + NL + "\t\t\t\t\treturn view;" + NL + "\t\t\t\t}" + NL + "\t\t\t\treturn super.getElementToDestroy();" + NL + "\t\t\t}\t\t" + NL;
  protected final String TEXT_80 = NL + "\t\t\tprotected ";
  protected final String TEXT_81 = " doExecuteWithResult(";
  protected final String TEXT_82 = " progressMonitor, ";
  protected final String TEXT_83 = " info) throws ";
  protected final String TEXT_84 = " {" + NL + "\t\t\t\tEObject eObject = getElementToDestroy();" + NL + "\t\t\t\tboolean removeFromResource = eObject.eContainer() == null;" + NL + "\t\t\t\t";
  protected final String TEXT_85 = " result = super.doExecuteWithResult(progressMonitor, info);" + NL + "\t\t\t\t";
  protected final String TEXT_86 = " resource = eObject.eResource();" + NL + "\t\t\t\tif (removeFromResource && resource != null) {" + NL + "\t\t\t\t\tresource.getContents().remove(eObject);" + NL + "\t\t\t\t}" + NL + "\t\t\t\treturn result;" + NL + "\t\t\t}";
  protected final String TEXT_87 = NL + "\t\t});" + NL + "\t}";
  protected final String TEXT_88 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateRelationshipCommand(CreateRelationshipRequest req) {";
  protected final String TEXT_89 = NL + "\t\tif (";
  protected final String TEXT_90 = ".";
  protected final String TEXT_91 = " == req.getElementType()) {" + NL + "\t\t\treturn req.getTarget() == null ? ";
  protected final String TEXT_92 = " : ";
  protected final String TEXT_93 = ";" + NL + "\t\t}";
  protected final String TEXT_94 = NL + "\t\treturn super.getCreateRelationshipCommand(req);" + NL + "\t}";
  protected final String TEXT_95 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_96 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_97 = NL + "\t\t";
  protected final String TEXT_98 = " element = (";
  protected final String TEXT_99 = ") getSemanticElement();";
  protected final String TEXT_100 = NL + "\t\t";
  protected final String TEXT_101 = " element = (";
  protected final String TEXT_102 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_103 = ".eINSTANCE.get";
  protected final String TEXT_104 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_105 = ".INSTANCE;" + NL + "\t\t}";
d126 6
a131 6
  protected final String TEXT_107 = " != null) {";
  protected final String TEXT_108 = NL + "\t\tif (";
  protected final String TEXT_109 = ".size() >= ";
  protected final String TEXT_110 = ") {";
  protected final String TEXT_111 = NL + "\t\t\treturn ";
  protected final String TEXT_112 = ".INSTANCE;" + NL + "\t\t}";
d133 24
a156 24
  protected final String TEXT_114 = " != null) {";
  protected final String TEXT_115 = NL + "\t\tif (";
  protected final String TEXT_116 = ".size() >= ";
  protected final String TEXT_117 = ") {";
  protected final String TEXT_118 = NL + "\t\t\treturn ";
  protected final String TEXT_119 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_120 = NL + "\t\tif(!";
  protected final String TEXT_121 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_122 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_123 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_124 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_125 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_126 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_127 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_128 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_129 = NL + "\t\tfinal ";
  protected final String TEXT_130 = " element = (";
  protected final String TEXT_131 = ") getSemanticElement();";
  protected final String TEXT_132 = NL + "\t\tfinal ";
  protected final String TEXT_133 = " element = (";
  protected final String TEXT_134 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_135 = ".eINSTANCE.get";
  protected final String TEXT_136 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_137 = ".INSTANCE;" + NL + "\t\t}";
d158 6
a163 6
  protected final String TEXT_139 = " != null) {";
  protected final String TEXT_140 = NL + "\t\tif (";
  protected final String TEXT_141 = ".size() >= ";
  protected final String TEXT_142 = ") {";
  protected final String TEXT_143 = NL + "\t\t\treturn ";
  protected final String TEXT_144 = ".INSTANCE;" + NL + "\t\t}";
d165 65
a229 65
  protected final String TEXT_146 = " != null) {";
  protected final String TEXT_147 = NL + "\t\tif (";
  protected final String TEXT_148 = ".size() >= ";
  protected final String TEXT_149 = ") {";
  protected final String TEXT_150 = NL + "\t\t\treturn ";
  protected final String TEXT_151 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_152 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_153 = ".eINSTANCE.get";
  protected final String TEXT_154 = "());" + NL + "\t\t}" + NL + "\t\t";
  protected final String TEXT_155 = NL + "\t\tif(!";
  protected final String TEXT_156 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_157 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_158 = "\t\t\t\t" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_159 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_160 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_161 = "Command extends ";
  protected final String TEXT_162 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_163 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_164 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_165 = ".eINSTANCE.get";
  protected final String TEXT_166 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_167 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_168 = " doDefaultElementCreation() {";
  protected final String TEXT_169 = NL + "\t\t\t";
  protected final String TEXT_170 = " newElement = (";
  protected final String TEXT_171 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_172 = "(";
  protected final String TEXT_173 = ") getSource());";
  protected final String TEXT_174 = NL + "\t\t\t\t";
  protected final String TEXT_175 = "(";
  protected final String TEXT_176 = ") getTarget());";
  protected final String TEXT_177 = NL + "\t\t\t\t";
  protected final String TEXT_178 = " container = (";
  protected final String TEXT_179 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_180 = NL + "\t\t\t\t\t";
  protected final String TEXT_181 = " featureValues = container.";
  protected final String TEXT_182 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_183 = NL + "\t\t\t\t \t";
  protected final String TEXT_184 = "newElement);";
  protected final String TEXT_185 = NL + "\t\t\t\t}";
  protected final String TEXT_186 = NL + "\t\t\t\t";
  protected final String TEXT_187 = ".Initializers.";
  protected final String TEXT_188 = ".init(newElement);";
  protected final String TEXT_189 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_190 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_191 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_192 = NL + "\t\tif(!";
  protected final String TEXT_193 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_194 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_195 = "\t";
  protected final String TEXT_196 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_197 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_198 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_199 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_200 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_201 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_202 = NL + "\t\tfinal ";
  protected final String TEXT_203 = " element = (";
  protected final String TEXT_204 = ") req.getSource();";
  protected final String TEXT_205 = NL + "\t\tfinal ";
  protected final String TEXT_206 = " element = (";
  protected final String TEXT_207 = ") getRelationshipContainer(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_208 = ".eINSTANCE.get";
  protected final String TEXT_209 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_210 = ".INSTANCE;" + NL + "\t\t}";
d231 6
a236 6
  protected final String TEXT_212 = " != null) {";
  protected final String TEXT_213 = NL + "\t\tif (";
  protected final String TEXT_214 = ".size() >= ";
  protected final String TEXT_215 = ") {";
  protected final String TEXT_216 = NL + "\t\t\treturn ";
  protected final String TEXT_217 = ".INSTANCE;" + NL + "\t\t}";
d238 49
a286 49
  protected final String TEXT_219 = " != null) {";
  protected final String TEXT_220 = NL + "\t\tif (";
  protected final String TEXT_221 = ".size() >= ";
  protected final String TEXT_222 = ") {";
  protected final String TEXT_223 = NL + "\t\t\treturn ";
  protected final String TEXT_224 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_225 = NL + "\t\tif(!";
  protected final String TEXT_226 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_227 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_228 = "\t\t";
  protected final String TEXT_229 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_230 = ".eINSTANCE.get";
  protected final String TEXT_231 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_232 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_233 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_234 = "Command extends ";
  protected final String TEXT_235 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_236 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_237 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_238 = ".eINSTANCE.get";
  protected final String TEXT_239 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_240 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_241 = " doDefaultElementCreation() {";
  protected final String TEXT_242 = NL + "\t\t\t";
  protected final String TEXT_243 = " newElement = (";
  protected final String TEXT_244 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_245 = "(";
  protected final String TEXT_246 = ") getTarget());";
  protected final String TEXT_247 = NL + "\t\t\t\t";
  protected final String TEXT_248 = "(";
  protected final String TEXT_249 = ") getSource());";
  protected final String TEXT_250 = NL + "\t\t\t\t";
  protected final String TEXT_251 = " container = (";
  protected final String TEXT_252 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_253 = NL + "\t\t\t\t\t";
  protected final String TEXT_254 = " featureValues = container.";
  protected final String TEXT_255 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_256 = NL + "\t\t\t\t \t";
  protected final String TEXT_257 = "newElement);";
  protected final String TEXT_258 = NL + "\t\t\t\t}";
  protected final String TEXT_259 = NL + "\t\t\t\t";
  protected final String TEXT_260 = ".Initializers.";
  protected final String TEXT_261 = ".init(newElement);";
  protected final String TEXT_262 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_263 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_264 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_265 = NL + "\t\t";
  protected final String TEXT_266 = " element = (";
  protected final String TEXT_267 = ") getSemanticElement();";
d288 19
a306 19
  protected final String TEXT_269 = " != null) {";
  protected final String TEXT_270 = NL + "\t\tif (";
  protected final String TEXT_271 = ".size() >= ";
  protected final String TEXT_272 = ") {";
  protected final String TEXT_273 = NL + "\t\t\treturn ";
  protected final String TEXT_274 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_275 = NL + "\t\tif(!";
  protected final String TEXT_276 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_277 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_278 = NL;
  protected final String TEXT_279 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_280 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_281 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_282 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_283 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_284 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_285 = NL + "\t\t";
  protected final String TEXT_286 = " element = (";
  protected final String TEXT_287 = ") getSemanticElement();";
d308 37
a344 37
  protected final String TEXT_289 = " != null) {";
  protected final String TEXT_290 = NL + "\t\tif (";
  protected final String TEXT_291 = ".size() >= ";
  protected final String TEXT_292 = NL + "\t\t\t|| ";
  protected final String TEXT_293 = ".contains(req.getSource())";
  protected final String TEXT_294 = NL + "\t\t\t\t) {";
  protected final String TEXT_295 = NL + "\t\t\treturn ";
  protected final String TEXT_296 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_297 = NL + "\t\t";
  protected final String TEXT_298 = " element = (";
  protected final String TEXT_299 = ") getSemanticElement();" + NL + "\t\tif (";
  protected final String TEXT_300 = ".contains(req.getSource())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_301 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_302 = NL + "\t\tif(!";
  protected final String TEXT_303 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_304 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_305 = "\t\t";
  protected final String TEXT_306 = NL + "\t\t";
  protected final String TEXT_307 = " setReq = new ";
  protected final String TEXT_308 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_309 = ".eINSTANCE.get";
  protected final String TEXT_310 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_311 = "(setReq));" + NL + "\t}";
  protected final String TEXT_312 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_313 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_314 = NL + "\t\tif(!";
  protected final String TEXT_315 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_316 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_317 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_318 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_319 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_320 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_321 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_322 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_323 = NL + "\t\t";
  protected final String TEXT_324 = " element = (";
  protected final String TEXT_325 = ") req.getSource();";
d346 22
a367 24
  protected final String TEXT_327 = " != null) {";
  protected final String TEXT_328 = NL + "\t\tif (";
  protected final String TEXT_329 = ".size() >= ";
  protected final String TEXT_330 = NL + "\t\t\t|| ";
  protected final String TEXT_331 = ".contains(req.getTarget())";
  protected final String TEXT_332 = NL + "\t\t\t\t) {";
  protected final String TEXT_333 = NL + "\t\t\treturn ";
  protected final String TEXT_334 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_335 = NL + "\t\t";
  protected final String TEXT_336 = " element = (";
  protected final String TEXT_337 = ") req.getSource();" + NL + "\t\tif (";
  protected final String TEXT_338 = ".contains(req.getTarget())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_339 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_340 = NL + "\t\tif(!";
  protected final String TEXT_341 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_342 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_343 = NL + "\t\t";
  protected final String TEXT_344 = " setReq = new ";
  protected final String TEXT_345 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_346 = ".eINSTANCE.get";
  protected final String TEXT_347 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_348 = "(setReq));" + NL + "\t}";
  protected final String TEXT_349 = NL + "}";
  protected final String TEXT_350 = NL;
d686 1
a686 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.resources.IResourceHelper"));
a687 4
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.internal.util.Util"));
    stringBuffer.append(TEXT_76);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_77);
d691 1
a691 1
    stringBuffer.append(TEXT_78);
d694 1
a694 1
    stringBuffer.append(TEXT_79);
d696 1
a696 1
    stringBuffer.append(TEXT_80);
d698 1
a698 1
    stringBuffer.append(TEXT_81);
d700 1
a700 1
    stringBuffer.append(TEXT_82);
d702 1
a702 1
    stringBuffer.append(TEXT_83);
d704 1
a704 1
    stringBuffer.append(TEXT_84);
d706 1
a706 1
    stringBuffer.append(TEXT_85);
d708 1
a708 1
    stringBuffer.append(TEXT_86);
d710 1
a710 1
    stringBuffer.append(TEXT_87);
d716 1
a716 1
    stringBuffer.append(TEXT_88);
d761 1
a761 1
    stringBuffer.append(TEXT_89);
d763 1
a763 1
    stringBuffer.append(TEXT_90);
d765 1
a765 1
    stringBuffer.append(TEXT_91);
d767 1
a767 1
    stringBuffer.append(TEXT_92);
d769 1
a769 1
    stringBuffer.append(TEXT_93);
d771 1
a771 1
    stringBuffer.append(TEXT_94);
d832 1
a832 1
    stringBuffer.append(TEXT_95);
d834 1
a834 1
    stringBuffer.append(TEXT_96);
d841 4
d846 1
a846 1
    stringBuffer.append(containerClassName);
d850 1
a850 1
    				} else {
d852 1
a852 1
    stringBuffer.append(containerClassName);
d854 1
a854 1
    stringBuffer.append(containerClassName);
d856 1
a856 1
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
a857 4
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
    stringBuffer.append(TEXT_104);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_105);
d863 4
d870 1
a870 1
    					} else {
d872 1
a872 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d874 1
a874 1
    stringBuffer.append(upperContainmentBound);
a875 4
    					}
    stringBuffer.append(TEXT_111);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_112);
d881 4
d888 1
a888 1
    					} else {
d890 1
a890 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d892 1
a892 1
    stringBuffer.append(upperChildBound);
a893 4
    					}
    stringBuffer.append(TEXT_118);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_119);
d899 1
a899 1
    stringBuffer.append(TEXT_120);
d901 1
a901 1
    stringBuffer.append(TEXT_121);
d903 1
a903 1
    stringBuffer.append(TEXT_122);
d906 1
a906 1
    stringBuffer.append(TEXT_123);
d916 1
a916 1
    stringBuffer.append(TEXT_124);
d918 1
a918 1
    stringBuffer.append(TEXT_125);
d920 1
a920 1
    stringBuffer.append(TEXT_126);
d922 1
a922 1
    stringBuffer.append(TEXT_127);
d924 1
a924 1
    stringBuffer.append(TEXT_128);
d929 4
d934 1
a934 1
    stringBuffer.append(containerClassName);
d938 1
a938 1
    			} else {
d940 1
a940 1
    stringBuffer.append(containerClassName);
d942 1
a942 1
    stringBuffer.append(containerClassName);
d944 1
a944 1
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
a945 4
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
    stringBuffer.append(TEXT_136);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_137);
d953 4
d960 1
a960 1
    					} else {
d962 1
a962 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d964 1
a964 1
    stringBuffer.append(upperContainmentBound);
a965 4
    					}
    stringBuffer.append(TEXT_143);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_144);
d971 4
d978 1
a978 1
    					} else {
d980 1
a980 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d982 1
a982 1
    stringBuffer.append(upperChildBound);
a983 4
    					}
    stringBuffer.append(TEXT_150);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_151);
d989 4
d994 1
a994 1
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenPackage().getQualifiedPackageInterfaceName()));
d996 1
a996 1
    stringBuffer.append(containmentFeature.getFeatureAccessorName());
d998 1
a998 1
    			if(linkConstraints != null) { 
d1000 1
a1000 1
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+"."+linkConstraints.getConstraintsInstanceFieldName());
d1002 1
a1002 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d1004 1
a1004 1
    			} // end of link constraints 
d1008 1
a1008 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d1012 1
a1012 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.commands.CreateRelationshipCommand"));
d1014 1
a1014 1
    stringBuffer.append(namePart);
d1016 1
a1016 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EClass"));
d1018 1
a1018 1
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
d1020 1
a1020 1
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
d1022 1
a1022 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d1024 1
a1024 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d1026 1
a1026 1
    			String metaClassName = importManager.getImportedName(modelFacet.getMetaClass().getQualifiedInterfaceName());
d1028 1
a1028 1
    stringBuffer.append(metaClassName);
d1030 1
a1030 1
    stringBuffer.append(metaClassName);
d1032 1
a1032 1
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getTargetMetaFeature(), false, importManager));
d1034 1
a1034 1
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
d1036 1
a1036 1
    			if (modelFacet.getSourceMetaFeature() != null) {
a1037 4
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getSourceMetaFeature(), false, importManager));
    stringBuffer.append(TEXT_175);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_176);
d1042 1
a1042 1
    stringBuffer.append(TEXT_177);
d1044 1
a1044 1
    stringBuffer.append(TEXT_178);
d1046 1
a1046 1
    stringBuffer.append(TEXT_179);
d1048 1
a1048 1
    stringBuffer.append(TEXT_180);
d1050 1
a1050 1
    stringBuffer.append(TEXT_181);
d1052 1
a1052 1
    stringBuffer.append(TEXT_182);
d1054 1
a1054 1
    stringBuffer.append(TEXT_183);
d1056 1
a1056 1
    stringBuffer.append(TEXT_184);
d1058 1
a1058 1
    stringBuffer.append(TEXT_185);
d1063 1
a1063 1
    stringBuffer.append(TEXT_186);
d1065 1
a1065 1
    stringBuffer.append(TEXT_187);
d1067 1
a1067 1
    stringBuffer.append(TEXT_188);
d1069 1
a1069 1
    stringBuffer.append(TEXT_189);
d1079 1
a1079 1
    stringBuffer.append(TEXT_190);
d1081 1
a1081 1
    stringBuffer.append(TEXT_191);
d1083 1
a1083 1
    stringBuffer.append(TEXT_192);
d1085 1
a1085 1
    stringBuffer.append(TEXT_193);
d1087 1
a1087 1
    stringBuffer.append(TEXT_194);
d1089 1
a1089 1
    stringBuffer.append(TEXT_195);
d1091 1
a1091 1
    stringBuffer.append(TEXT_196);
d1101 1
a1101 1
    stringBuffer.append(TEXT_197);
d1103 1
a1103 1
    stringBuffer.append(TEXT_198);
d1105 1
a1105 1
    stringBuffer.append(TEXT_199);
d1107 1
a1107 1
    stringBuffer.append(TEXT_200);
d1109 1
a1109 1
    stringBuffer.append(TEXT_201);
d1114 4
d1119 1
a1119 1
    stringBuffer.append(containerClassName);
d1123 1
a1123 1
    				} else {
d1125 1
a1125 1
    stringBuffer.append(containerClassName);
d1127 1
a1127 1
    stringBuffer.append(containerClassName);
d1129 1
a1129 1
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
a1130 4
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
    stringBuffer.append(TEXT_209);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_210);
d1138 4
d1145 1
a1145 1
    					} else {
d1147 1
a1147 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d1149 1
a1149 1
    stringBuffer.append(upperContainmentBound);
a1150 4
    					}
    stringBuffer.append(TEXT_216);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_217);
d1156 4
d1163 1
a1163 1
    					} else {
d1165 1
a1165 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d1167 1
a1167 1
    stringBuffer.append(upperChildBound);
a1168 4
    					}
    stringBuffer.append(TEXT_223);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_224);
d1174 4
d1179 1
a1179 1
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName())+"."+genDiagram.getLinkCreationConstraintsClassName()+"."+linkConstraints.getConstraintsInstanceFieldName());
d1181 1
a1181 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d1183 1
a1183 1
    			} // end of constraints 
d1185 1
a1185 1
     // create semantic command 
d1187 1
a1187 1
    stringBuffer.append(importManager.getImportedName(modelFacet.getContainmentMetaFeature().getGenPackage().getQualifiedPackageInterfaceName()));
d1189 1
a1189 1
    stringBuffer.append(modelFacet.getContainmentMetaFeature().getFeatureAccessorName());
d1193 1
a1193 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d1197 1
a1197 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.commands.CreateRelationshipCommand"));
d1199 1
a1199 1
    stringBuffer.append(namePart);
d1201 1
a1201 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EClass"));
d1203 1
a1203 1
    stringBuffer.append(importManager.getImportedName(containmentFeature.getGenClass().getGenPackage().getQualifiedPackageInterfaceName()));
d1205 1
a1205 1
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
d1207 1
a1207 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d1209 1
a1209 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d1211 1
a1211 1
    			String metaClassName = importManager.getImportedName(modelFacet.getMetaClass().getQualifiedInterfaceName());
d1213 1
a1213 1
    stringBuffer.append(metaClassName);
d1215 1
a1215 1
    stringBuffer.append(metaClassName);
d1217 1
a1217 1
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getTargetMetaFeature(), false, importManager));
d1219 1
a1219 1
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
d1221 1
a1221 1
    			if (modelFacet.getSourceMetaFeature() != null) {
a1222 4
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getSourceMetaFeature(), false, importManager));
    stringBuffer.append(TEXT_248);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_249);
d1227 1
a1227 1
    stringBuffer.append(TEXT_250);
d1229 1
a1229 1
    stringBuffer.append(TEXT_251);
d1231 1
a1231 1
    stringBuffer.append(TEXT_252);
d1233 1
a1233 1
    stringBuffer.append(TEXT_253);
d1235 1
a1235 1
    stringBuffer.append(TEXT_254);
d1237 1
a1237 1
    stringBuffer.append(TEXT_255);
d1239 1
a1239 1
    stringBuffer.append(TEXT_256);
d1241 1
a1241 1
    stringBuffer.append(TEXT_257);
d1243 1
a1243 1
    stringBuffer.append(TEXT_258);
d1248 1
a1248 1
    stringBuffer.append(TEXT_259);
d1250 1
a1250 1
    stringBuffer.append(TEXT_260);
d1252 1
a1252 1
    stringBuffer.append(TEXT_261);
d1254 1
a1254 1
    stringBuffer.append(TEXT_262);
d1306 1
a1306 1
    stringBuffer.append(TEXT_263);
d1308 1
a1308 1
    stringBuffer.append(TEXT_264);
d1314 4
d1319 1
a1319 1
    stringBuffer.append(outgoingClassName);
d1321 1
a1321 1
    stringBuffer.append(outgoingClassName);
d1323 1
a1323 1
    				if (upperBound == 1) {
d1327 1
a1327 1
    				} else {
d1329 1
a1329 1
    stringBuffer.append(getFeatureValueGetter("element", metaFeature, false, importManager));
d1331 1
a1331 1
    stringBuffer.append(upperBound);
a1332 4
    				}
    stringBuffer.append(TEXT_273);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_274);
d1335 1
a1335 1
    stringBuffer.append(TEXT_275);
d1337 1
a1337 1
    stringBuffer.append(TEXT_276);
d1339 1
a1339 1
    stringBuffer.append(TEXT_277);
d1341 1
a1341 1
    stringBuffer.append(TEXT_278);
d1343 1
a1343 1
    stringBuffer.append(TEXT_279);
d1353 1
a1353 1
    stringBuffer.append(TEXT_280);
d1355 1
a1355 1
    stringBuffer.append(TEXT_281);
d1357 1
a1357 1
    stringBuffer.append(TEXT_282);
d1359 1
a1359 1
    stringBuffer.append(TEXT_283);
d1361 1
a1361 1
    stringBuffer.append(TEXT_284);
d1367 4
d1372 1
a1372 1
    stringBuffer.append(outgoingClassName);
d1374 1
a1374 1
    stringBuffer.append(outgoingClassName);
d1376 1
a1376 1
    				if (upperBound == 1) {
d1380 2
a1381 1
    				} else {
d1385 1
a1385 2
    stringBuffer.append(upperBound);
    					if (metaFeature.getEcoreFeature().isUnique()) {
d1387 1
a1387 1
    stringBuffer.append(getFeatureValueGetter("element", metaFeature, false, importManager));
d1389 1
a1389 1
    				}
a1390 4
    			}
    stringBuffer.append(TEXT_295);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_296);
d1395 1
a1395 1
    stringBuffer.append(TEXT_297);
d1397 1
a1397 1
    stringBuffer.append(TEXT_298);
d1399 1
a1399 1
    stringBuffer.append(TEXT_299);
d1401 1
a1401 1
    stringBuffer.append(TEXT_300);
d1403 1
a1403 1
    stringBuffer.append(TEXT_301);
d1406 1
a1406 1
    stringBuffer.append(TEXT_302);
d1408 1
a1408 1
    stringBuffer.append(TEXT_303);
d1410 1
a1410 1
    stringBuffer.append(TEXT_304);
d1412 1
a1412 1
    stringBuffer.append(TEXT_305);
d1414 1
a1414 1
    stringBuffer.append(TEXT_306);
d1416 1
a1416 1
    stringBuffer.append(TEXT_307);
d1418 1
a1418 1
    stringBuffer.append(TEXT_308);
d1420 1
a1420 1
    stringBuffer.append(TEXT_309);
d1422 1
a1422 1
    stringBuffer.append(TEXT_310);
d1424 1
a1424 1
    stringBuffer.append(TEXT_311);
d1434 1
a1434 1
    stringBuffer.append(TEXT_312);
d1436 1
a1436 1
    stringBuffer.append(TEXT_313);
d1438 1
a1438 1
    stringBuffer.append(TEXT_314);
d1440 1
a1440 1
    stringBuffer.append(TEXT_315);
d1442 1
a1442 1
    stringBuffer.append(TEXT_316);
d1445 1
a1445 1
    stringBuffer.append(TEXT_317);
d1455 1
a1455 1
    stringBuffer.append(TEXT_318);
d1457 1
a1457 1
    stringBuffer.append(TEXT_319);
d1459 1
a1459 1
    stringBuffer.append(TEXT_320);
d1461 1
a1461 1
    stringBuffer.append(TEXT_321);
d1463 1
a1463 1
    stringBuffer.append(TEXT_322);
d1469 4
d1474 1
a1474 1
    stringBuffer.append(outgoingClassName);
d1476 1
a1476 1
    stringBuffer.append(outgoingClassName);
d1478 1
a1478 1
    				if (upperBound == 1) {
d1482 2
a1483 1
    				} else {
d1487 1
a1487 2
    stringBuffer.append(upperBound);
    					if (metaFeature.getEcoreFeature().isUnique()) {
d1489 1
a1489 1
    stringBuffer.append(getFeatureValueGetter("element", metaFeature, false, importManager));
d1491 1
a1491 1
    					}
a1492 4
    				}
    stringBuffer.append(TEXT_333);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_334);
d1497 1
a1497 1
    stringBuffer.append(TEXT_335);
d1499 1
a1499 1
    stringBuffer.append(TEXT_336);
d1501 1
a1501 1
    stringBuffer.append(TEXT_337);
d1503 1
a1503 1
    stringBuffer.append(TEXT_338);
d1505 1
a1505 1
    stringBuffer.append(TEXT_339);
d1508 1
a1508 1
    stringBuffer.append(TEXT_340);
d1510 1
a1510 1
    stringBuffer.append(TEXT_341);
d1512 1
a1512 1
    stringBuffer.append(TEXT_342);
d1515 1
a1515 1
    stringBuffer.append(TEXT_343);
d1517 1
a1517 1
    stringBuffer.append(TEXT_344);
d1519 1
a1519 1
    stringBuffer.append(TEXT_345);
d1521 1
a1521 1
    stringBuffer.append(TEXT_346);
d1523 1
a1523 1
    stringBuffer.append(TEXT_347);
d1525 1
a1525 1
    stringBuffer.append(TEXT_348);
d1531 1
a1531 1
    stringBuffer.append(TEXT_349);
d1533 1
a1533 1
    stringBuffer.append(TEXT_350);
@


1.42
log
@restore generators
@
text
@d469 1
a469 1
    StringBuffer stringBuffer = new StringBuffer();
@


1.41
log
@#134095 do not store compiled templates in cvs
@
text
@d469 1
a469 1
    final StringBuffer stringBuffer = new StringBuffer();
@


1.40
log
@Switching to eclipse M6.
@
text
@@


1.39
log
@#130100 Allow to specify copyright text in gmfgen model
@
text
@d469 1
a469 1
    StringBuffer stringBuffer = new StringBuffer();
@


1.38
log
@#127696 Templates should use new transaction API
In case of phantom nodes.
@
text
@d20 96
a115 96
  protected final String TEXT_1 = "package ";
  protected final String TEXT_2 = ";" + NL;
  protected final String TEXT_3 = NL + "import org.eclipse.gef.commands.Command;" + NL + "import org.eclipse.gmf.runtime.emf.type.core.commands.DestroyElementCommand;" + NL + "import org.eclipse.gmf.runtime.emf.type.core.requests.CreateRelationshipRequest;" + NL + "import org.eclipse.gmf.runtime.emf.type.core.requests.DestroyElementRequest;" + NL + "import org.eclipse.emf.ecore.EObject;" + NL + "import org.eclipse.emf.ecore.EAnnotation;" + NL + "import org.eclipse.gmf.runtime.notation.View;";
  protected final String TEXT_4 = NL + NL + "/**" + NL + " * @@generated" + NL + " */" + NL + "public class ";
  protected final String TEXT_5 = " extends ";
  protected final String TEXT_6 = " {";
  protected final String TEXT_7 = NL;
  protected final String TEXT_8 = NL;
  protected final String TEXT_9 = "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected ";
  protected final String TEXT_10 = " getCreateCommand(";
  protected final String TEXT_11 = " req) {";
  protected final String TEXT_12 = NL + "\t\tif (";
  protected final String TEXT_13 = ".";
  protected final String TEXT_14 = " == req.getElementType()) {";
  protected final String TEXT_15 = "\t\t" + NL + "\t\t\t";
  protected final String TEXT_16 = " container = (";
  protected final String TEXT_17 = ") (req.getContainer() instanceof ";
  protected final String TEXT_18 = " ? ((";
  protected final String TEXT_19 = ") req.getContainer()).getElement() : req.getContainer());";
  protected final String TEXT_20 = NL + "\t\t\tif (";
  protected final String TEXT_21 = " != null) {";
  protected final String TEXT_22 = NL + "\t\t\tif (";
  protected final String TEXT_23 = ".size() >= ";
  protected final String TEXT_24 = ") {";
  protected final String TEXT_25 = NL + "\t\t\t\treturn super.getCreateCommand(req);" + NL + "\t\t\t}";
  protected final String TEXT_26 = NL + "\t\t\tif (";
  protected final String TEXT_27 = " != null) {";
  protected final String TEXT_28 = NL + "\t\t\tif (";
  protected final String TEXT_29 = ".size() >= ";
  protected final String TEXT_30 = ") {";
  protected final String TEXT_31 = NL + "\t\t\t\treturn super.getCreateCommand(req);" + NL + "\t\t\t}";
  protected final String TEXT_32 = NL + "\t\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\t\treq.setContainmentFeature(";
  protected final String TEXT_33 = ".eINSTANCE.get";
  protected final String TEXT_34 = "());" + NL + "\t\t\t}";
  protected final String TEXT_35 = NL + "\t\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_36 = "Command(req));" + NL + "\t\t}";
  protected final String TEXT_37 = NL + "\t\treturn super.getCreateCommand(req);" + NL + "\t}";
  protected final String TEXT_38 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_39 = "Command extends ";
  protected final String TEXT_40 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_41 = "Command(CreateElementRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_42 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_43 = ".eINSTANCE.get";
  protected final String TEXT_44 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_45 = " getElementToEdit() {" + NL + "\t\t\t";
  protected final String TEXT_46 = " container = ((CreateElementRequest) getRequest()).getContainer();" + NL + "\t\t\tif (container instanceof ";
  protected final String TEXT_47 = ") {" + NL + "\t\t\t\tcontainer = ((";
  protected final String TEXT_48 = ") container).getElement();" + NL + "\t\t\t}" + NL + "\t\t\treturn container;" + NL + "\t\t}";
  protected final String TEXT_49 = NL + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_50 = " doDefaultElementCreation() {" + NL + "\t\t\t";
  protected final String TEXT_51 = " newElement = (";
  protected final String TEXT_52 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {";
  protected final String TEXT_53 = NL + "\t\t\t\t ";
  protected final String TEXT_54 = " container = (";
  protected final String TEXT_55 = ") getElementToEdit();" + NL + "\t\t\t\t if (container != null) {";
  protected final String TEXT_56 = NL + "\t\t\t\t\t";
  protected final String TEXT_57 = " featureValues = container.";
  protected final String TEXT_58 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_59 = NL + "\t\t\t\t \t";
  protected final String TEXT_60 = "newElement);";
  protected final String TEXT_61 = NL + "\t\t\t\t }";
  protected final String TEXT_62 = "\t\t" + NL + "\t\t\t\t";
  protected final String TEXT_63 = ".Initializers.";
  protected final String TEXT_64 = ".init(newElement);";
  protected final String TEXT_65 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}";
  protected final String TEXT_66 = NL + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic boolean canExecute() {" + NL + "\t\t\tif (getEClass() != null) {" + NL + "\t\t\t\treturn getEClass().isSuperTypeOf(getEClassToEdit());" + NL + "\t\t\t}" + NL + "\t\t\treturn true;" + NL + "\t\t}" + NL + "\t\t" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_67 = " getContainmentFeature() {" + NL + "\t\t\treturn null;" + NL + "\t\t}" + NL + "\t\t" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_68 = " doDefaultElementCreation() {" + NL + "\t\t\t// Uncomment to put \"phantom\" objects into the diagram file.\t\t" + NL + "\t\t\t//";
  protected final String TEXT_69 = " resource = ((CreateElementRequest) getRequest()).getContainer().eResource();" + NL + "\t\t\t//if (resource == null) {" + NL + "\t\t\t//\treturn null;" + NL + "\t\t\t//}" + NL + "\t\t\t";
  protected final String TEXT_70 = " resource = getElementToEdit().eResource();" + NL + "\t\t\t";
  protected final String TEXT_71 = " eClass = getElementType().getEClass();" + NL + "\t\t\t";
  protected final String TEXT_72 = " helper = ";
  protected final String TEXT_73 = ".getHelper(resource);" + NL + "\t\t\t";
  protected final String TEXT_74 = " eObject;" + NL + "\t\t\tif (helper != null) {" + NL + "\t\t\t\teObject = helper.create(eClass);" + NL + "\t\t\t} else {" + NL + "\t\t\t\teObject = eClass.getEPackage().getEFactoryInstance().create(eClass);" + NL + "\t\t\t}" + NL + "\t\t\tresource.getContents().add(eObject);" + NL + "\t\t\treturn eObject;" + NL + "\t\t}";
  protected final String TEXT_75 = NL + "\t}";
  protected final String TEXT_76 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getDestroyElementCommand(DestroyElementRequest req) {" + NL + "\t\treturn getMSLWrapper(new DestroyElementCommand(req) {" + NL + "\t\t" + NL + "\t\t\tprotected EObject getElementToDestroy() {" + NL + "\t\t\t\tView view = (View) getHost().getModel();" + NL + "\t\t\t\tEAnnotation annotation = view.getEAnnotation(\"Shortcut\"); //$NON-NLS-1$" + NL + "\t\t\t\tif (annotation != null) {" + NL + "\t\t\t\t\treturn view;" + NL + "\t\t\t\t}" + NL + "\t\t\t\treturn super.getElementToDestroy();" + NL + "\t\t\t}\t\t" + NL;
  protected final String TEXT_77 = NL + "\t\t\tprotected ";
  protected final String TEXT_78 = " doExecuteWithResult(";
  protected final String TEXT_79 = " progressMonitor, ";
  protected final String TEXT_80 = " info) throws ";
  protected final String TEXT_81 = " {" + NL + "\t\t\t\tEObject eObject = getElementToDestroy();" + NL + "\t\t\t\tboolean removeFromResource = eObject.eContainer() == null;" + NL + "\t\t\t\t";
  protected final String TEXT_82 = " result = super.doExecuteWithResult(progressMonitor, info);" + NL + "\t\t\t\t";
  protected final String TEXT_83 = " resource = eObject.eResource();" + NL + "\t\t\t\tif (removeFromResource && resource != null) {" + NL + "\t\t\t\t\tresource.getContents().remove(eObject);" + NL + "\t\t\t\t}" + NL + "\t\t\t\treturn result;" + NL + "\t\t\t}";
  protected final String TEXT_84 = NL + "\t\t});" + NL + "\t}";
  protected final String TEXT_85 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateRelationshipCommand(CreateRelationshipRequest req) {";
  protected final String TEXT_86 = NL + "\t\tif (";
  protected final String TEXT_87 = ".";
  protected final String TEXT_88 = " == req.getElementType()) {" + NL + "\t\t\treturn req.getTarget() == null ? ";
  protected final String TEXT_89 = " : ";
  protected final String TEXT_90 = ";" + NL + "\t\t}";
  protected final String TEXT_91 = NL + "\t\treturn super.getCreateRelationshipCommand(req);" + NL + "\t}";
  protected final String TEXT_92 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_93 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_94 = NL + "\t\t";
  protected final String TEXT_95 = " element = (";
  protected final String TEXT_96 = ") getSemanticElement();";
d118 30
a147 30
  protected final String TEXT_99 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_100 = ".eINSTANCE.get";
  protected final String TEXT_101 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_102 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_103 = NL + "\t\tif (";
  protected final String TEXT_104 = " != null) {";
  protected final String TEXT_105 = NL + "\t\tif (";
  protected final String TEXT_106 = ".size() >= ";
  protected final String TEXT_107 = ") {";
  protected final String TEXT_108 = NL + "\t\t\treturn ";
  protected final String TEXT_109 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_110 = NL + "\t\tif (";
  protected final String TEXT_111 = " != null) {";
  protected final String TEXT_112 = NL + "\t\tif (";
  protected final String TEXT_113 = ".size() >= ";
  protected final String TEXT_114 = ") {";
  protected final String TEXT_115 = NL + "\t\t\treturn ";
  protected final String TEXT_116 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_117 = NL + "\t\tif(!";
  protected final String TEXT_118 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_119 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_120 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_121 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_122 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_123 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_124 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_125 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_126 = NL + "\t\tfinal ";
  protected final String TEXT_127 = " element = (";
  protected final String TEXT_128 = ") getSemanticElement();";
d150 41
a190 41
  protected final String TEXT_131 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_132 = ".eINSTANCE.get";
  protected final String TEXT_133 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_134 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_135 = NL + "\t\tif (";
  protected final String TEXT_136 = " != null) {";
  protected final String TEXT_137 = NL + "\t\tif (";
  protected final String TEXT_138 = ".size() >= ";
  protected final String TEXT_139 = ") {";
  protected final String TEXT_140 = NL + "\t\t\treturn ";
  protected final String TEXT_141 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_142 = NL + "\t\tif (";
  protected final String TEXT_143 = " != null) {";
  protected final String TEXT_144 = NL + "\t\tif (";
  protected final String TEXT_145 = ".size() >= ";
  protected final String TEXT_146 = ") {";
  protected final String TEXT_147 = NL + "\t\t\treturn ";
  protected final String TEXT_148 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_149 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_150 = ".eINSTANCE.get";
  protected final String TEXT_151 = "());" + NL + "\t\t}" + NL + "\t\t";
  protected final String TEXT_152 = NL + "\t\tif(!";
  protected final String TEXT_153 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_154 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_155 = "\t\t\t\t" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_156 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_157 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_158 = "Command extends ";
  protected final String TEXT_159 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_160 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_161 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_162 = ".eINSTANCE.get";
  protected final String TEXT_163 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_164 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_165 = " doDefaultElementCreation() {";
  protected final String TEXT_166 = NL + "\t\t\t";
  protected final String TEXT_167 = " newElement = (";
  protected final String TEXT_168 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_169 = "(";
  protected final String TEXT_170 = ") getSource());";
  protected final String TEXT_171 = NL + "\t\t\t\t";
d192 1
a192 1
  protected final String TEXT_173 = ") getTarget());";
d194 27
a220 27
  protected final String TEXT_175 = " container = (";
  protected final String TEXT_176 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_177 = NL + "\t\t\t\t\t";
  protected final String TEXT_178 = " featureValues = container.";
  protected final String TEXT_179 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_180 = NL + "\t\t\t\t \t";
  protected final String TEXT_181 = "newElement);";
  protected final String TEXT_182 = NL + "\t\t\t\t}";
  protected final String TEXT_183 = NL + "\t\t\t\t";
  protected final String TEXT_184 = ".Initializers.";
  protected final String TEXT_185 = ".init(newElement);";
  protected final String TEXT_186 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_187 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_188 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_189 = NL + "\t\tif(!";
  protected final String TEXT_190 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_191 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_192 = "\t";
  protected final String TEXT_193 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_194 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_195 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_196 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_197 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_198 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_199 = NL + "\t\tfinal ";
  protected final String TEXT_200 = " element = (";
  protected final String TEXT_201 = ") req.getSource();";
d223 41
a263 41
  protected final String TEXT_204 = ") getRelationshipContainer(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_205 = ".eINSTANCE.get";
  protected final String TEXT_206 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_207 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_208 = NL + "\t\tif (";
  protected final String TEXT_209 = " != null) {";
  protected final String TEXT_210 = NL + "\t\tif (";
  protected final String TEXT_211 = ".size() >= ";
  protected final String TEXT_212 = ") {";
  protected final String TEXT_213 = NL + "\t\t\treturn ";
  protected final String TEXT_214 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_215 = NL + "\t\tif (";
  protected final String TEXT_216 = " != null) {";
  protected final String TEXT_217 = NL + "\t\tif (";
  protected final String TEXT_218 = ".size() >= ";
  protected final String TEXT_219 = ") {";
  protected final String TEXT_220 = NL + "\t\t\treturn ";
  protected final String TEXT_221 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_222 = NL + "\t\tif(!";
  protected final String TEXT_223 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_224 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_225 = "\t\t";
  protected final String TEXT_226 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_227 = ".eINSTANCE.get";
  protected final String TEXT_228 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_229 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_230 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_231 = "Command extends ";
  protected final String TEXT_232 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_233 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_234 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_235 = ".eINSTANCE.get";
  protected final String TEXT_236 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_237 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_238 = " doDefaultElementCreation() {";
  protected final String TEXT_239 = NL + "\t\t\t";
  protected final String TEXT_240 = " newElement = (";
  protected final String TEXT_241 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_242 = "(";
  protected final String TEXT_243 = ") getTarget());";
  protected final String TEXT_244 = NL + "\t\t\t\t";
d265 1
a265 1
  protected final String TEXT_246 = ") getSource());";
d267 103
a369 100
  protected final String TEXT_248 = " container = (";
  protected final String TEXT_249 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_250 = NL + "\t\t\t\t\t";
  protected final String TEXT_251 = " featureValues = container.";
  protected final String TEXT_252 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_253 = NL + "\t\t\t\t \t";
  protected final String TEXT_254 = "newElement);";
  protected final String TEXT_255 = NL + "\t\t\t\t}";
  protected final String TEXT_256 = NL + "\t\t\t\t";
  protected final String TEXT_257 = ".Initializers.";
  protected final String TEXT_258 = ".init(newElement);";
  protected final String TEXT_259 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_260 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_261 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_262 = NL + "\t\t";
  protected final String TEXT_263 = " element = (";
  protected final String TEXT_264 = ") getSemanticElement();";
  protected final String TEXT_265 = NL + "\t\tif (";
  protected final String TEXT_266 = " != null) {";
  protected final String TEXT_267 = NL + "\t\tif (";
  protected final String TEXT_268 = ".size() >= ";
  protected final String TEXT_269 = ") {";
  protected final String TEXT_270 = NL + "\t\t\treturn ";
  protected final String TEXT_271 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_272 = NL + "\t\tif(!";
  protected final String TEXT_273 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_274 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_275 = NL;
  protected final String TEXT_276 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_277 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_278 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_279 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_280 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_281 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_282 = NL + "\t\t";
  protected final String TEXT_283 = " element = (";
  protected final String TEXT_284 = ") getSemanticElement();";
  protected final String TEXT_285 = NL + "\t\tif (";
  protected final String TEXT_286 = " != null) {";
  protected final String TEXT_287 = NL + "\t\tif (";
  protected final String TEXT_288 = ".size() >= ";
  protected final String TEXT_289 = NL + "\t\t\t|| ";
  protected final String TEXT_290 = ".contains(req.getSource())";
  protected final String TEXT_291 = NL + "\t\t\t\t) {";
  protected final String TEXT_292 = NL + "\t\t\treturn ";
  protected final String TEXT_293 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_294 = NL + "\t\t";
  protected final String TEXT_295 = " element = (";
  protected final String TEXT_296 = ") getSemanticElement();" + NL + "\t\tif (";
  protected final String TEXT_297 = ".contains(req.getSource())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_298 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_299 = NL + "\t\tif(!";
  protected final String TEXT_300 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_301 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_302 = "\t\t";
  protected final String TEXT_303 = NL + "\t\t";
  protected final String TEXT_304 = " setReq = new ";
  protected final String TEXT_305 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_306 = ".eINSTANCE.get";
  protected final String TEXT_307 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_308 = "(setReq));" + NL + "\t}";
  protected final String TEXT_309 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_310 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_311 = NL + "\t\tif(!";
  protected final String TEXT_312 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_313 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_314 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_315 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_316 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_317 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_318 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_319 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_320 = NL + "\t\t";
  protected final String TEXT_321 = " element = (";
  protected final String TEXT_322 = ") req.getSource();";
  protected final String TEXT_323 = NL + "\t\tif (";
  protected final String TEXT_324 = " != null) {";
  protected final String TEXT_325 = NL + "\t\tif (";
  protected final String TEXT_326 = ".size() >= ";
  protected final String TEXT_327 = NL + "\t\t\t|| ";
  protected final String TEXT_328 = ".contains(req.getTarget())";
  protected final String TEXT_329 = NL + "\t\t\t\t) {";
  protected final String TEXT_330 = NL + "\t\t\treturn ";
  protected final String TEXT_331 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_332 = NL + "\t\t";
  protected final String TEXT_333 = " element = (";
  protected final String TEXT_334 = ") req.getSource();" + NL + "\t\tif (";
  protected final String TEXT_335 = ".contains(req.getTarget())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_336 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_337 = NL + "\t\tif(!";
  protected final String TEXT_338 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_339 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_340 = NL + "\t\t";
  protected final String TEXT_341 = " setReq = new ";
  protected final String TEXT_342 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_343 = ".eINSTANCE.get";
  protected final String TEXT_344 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_345 = "(setReq));" + NL + "\t}";
  protected final String TEXT_346 = NL + "}";
  protected final String TEXT_347 = NL;
d475 9
d485 1
a485 1
    stringBuffer.append(TEXT_2);
d487 1
a487 1
    stringBuffer.append(TEXT_3);
d489 1
a489 1
    stringBuffer.append(TEXT_4);
d491 1
a491 1
    stringBuffer.append(TEXT_5);
d493 1
a493 1
    stringBuffer.append(TEXT_6);
d499 3
a501 3
    stringBuffer.append(TEXT_7);
    stringBuffer.append(TEXT_8);
    stringBuffer.append(TEXT_9);
d503 1
a503 1
    stringBuffer.append(TEXT_10);
d505 1
a505 1
    stringBuffer.append(TEXT_11);
d510 1
a510 1
    stringBuffer.append(TEXT_12);
d512 1
a512 1
    stringBuffer.append(TEXT_13);
d514 1
a514 1
    stringBuffer.append(TEXT_14);
d526 1
a526 1
    stringBuffer.append(TEXT_15);
d528 1
a528 1
    stringBuffer.append(TEXT_16);
d530 1
a530 1
    stringBuffer.append(TEXT_17);
d532 1
a532 1
    stringBuffer.append(TEXT_18);
d534 1
a534 1
    stringBuffer.append(TEXT_19);
d539 1
a539 1
    stringBuffer.append(TEXT_20);
d541 1
a541 1
    stringBuffer.append(TEXT_21);
d545 1
a545 1
    stringBuffer.append(TEXT_22);
d547 1
a547 1
    stringBuffer.append(TEXT_23);
d549 1
a549 1
    stringBuffer.append(TEXT_24);
d553 1
a553 1
    stringBuffer.append(TEXT_25);
d560 1
a560 1
    stringBuffer.append(TEXT_26);
d562 1
a562 1
    stringBuffer.append(TEXT_27);
d566 1
a566 1
    stringBuffer.append(TEXT_28);
d568 1
a568 1
    stringBuffer.append(TEXT_29);
d570 1
a570 1
    stringBuffer.append(TEXT_30);
d574 1
a574 1
    stringBuffer.append(TEXT_31);
d579 1
a579 1
    stringBuffer.append(TEXT_32);
d581 1
a581 1
    stringBuffer.append(TEXT_33);
d583 1
a583 1
    stringBuffer.append(TEXT_34);
d587 1
a587 1
    stringBuffer.append(TEXT_35);
d589 1
a589 1
    stringBuffer.append(TEXT_36);
d593 1
a593 1
    stringBuffer.append(TEXT_37);
d599 1
a599 1
    stringBuffer.append(TEXT_38);
d601 1
a601 1
    stringBuffer.append(TEXT_39);
d603 1
a603 1
    stringBuffer.append(TEXT_40);
d605 1
a605 1
    stringBuffer.append(TEXT_41);
d607 1
a607 1
    stringBuffer.append(TEXT_42);
d609 1
a609 1
    stringBuffer.append(TEXT_43);
d611 1
a611 1
    stringBuffer.append(TEXT_44);
d613 1
a613 1
    stringBuffer.append(TEXT_45);
d615 1
a615 1
    stringBuffer.append(TEXT_46);
d617 1
a617 1
    stringBuffer.append(TEXT_47);
d619 1
a619 1
    stringBuffer.append(TEXT_48);
d625 1
a625 1
    stringBuffer.append(TEXT_49);
d627 1
a627 1
    stringBuffer.append(TEXT_50);
d629 1
a629 1
    stringBuffer.append(TEXT_51);
d631 1
a631 1
    stringBuffer.append(TEXT_52);
d636 1
a636 1
    stringBuffer.append(TEXT_53);
d638 1
a638 1
    stringBuffer.append(TEXT_54);
d640 1
a640 1
    stringBuffer.append(TEXT_55);
d644 1
a644 1
    stringBuffer.append(TEXT_56);
d646 1
a646 1
    stringBuffer.append(TEXT_57);
d648 1
a648 1
    stringBuffer.append(TEXT_58);
d652 1
a652 1
    stringBuffer.append(TEXT_59);
d654 1
a654 1
    stringBuffer.append(TEXT_60);
d658 1
a658 1
    stringBuffer.append(TEXT_61);
d663 1
a663 1
    stringBuffer.append(TEXT_62);
d665 1
a665 1
    stringBuffer.append(TEXT_63);
d667 1
a667 1
    stringBuffer.append(TEXT_64);
d671 1
a671 1
    stringBuffer.append(TEXT_65);
d677 1
a677 1
    stringBuffer.append(TEXT_66);
d679 1
a679 1
    stringBuffer.append(TEXT_67);
d681 1
a681 1
    stringBuffer.append(TEXT_68);
d683 1
a683 1
    stringBuffer.append(TEXT_69);
d685 1
a685 1
    stringBuffer.append(TEXT_70);
d687 1
a687 1
    stringBuffer.append(TEXT_71);
d689 1
a689 1
    stringBuffer.append(TEXT_72);
d691 1
a691 1
    stringBuffer.append(TEXT_73);
d693 1
a693 1
    stringBuffer.append(TEXT_74);
d697 1
a697 1
    stringBuffer.append(TEXT_75);
d700 1
a700 1
    stringBuffer.append(TEXT_76);
d702 1
a702 1
    stringBuffer.append(TEXT_77);
d704 1
a704 1
    stringBuffer.append(TEXT_78);
d706 1
a706 1
    stringBuffer.append(TEXT_79);
d708 1
a708 1
    stringBuffer.append(TEXT_80);
d710 1
a710 1
    stringBuffer.append(TEXT_81);
d712 1
a712 1
    stringBuffer.append(TEXT_82);
d714 1
a714 1
    stringBuffer.append(TEXT_83);
d716 1
a716 1
    stringBuffer.append(TEXT_84);
d722 1
a722 1
    stringBuffer.append(TEXT_85);
d767 1
a767 1
    stringBuffer.append(TEXT_86);
d769 1
a769 1
    stringBuffer.append(TEXT_87);
d771 1
a771 1
    stringBuffer.append(TEXT_88);
d773 1
a773 1
    stringBuffer.append(TEXT_89);
d775 1
a775 1
    stringBuffer.append(TEXT_90);
d777 1
a777 1
    stringBuffer.append(TEXT_91);
d838 1
a838 1
    stringBuffer.append(TEXT_92);
d840 1
a840 1
    stringBuffer.append(TEXT_93);
d847 1
a847 1
    stringBuffer.append(TEXT_94);
d849 1
a849 1
    stringBuffer.append(TEXT_95);
d851 1
a851 1
    stringBuffer.append(TEXT_96);
d853 1
a853 1
    stringBuffer.append(TEXT_97);
d855 1
a855 1
    stringBuffer.append(TEXT_98);
d857 1
a857 1
    stringBuffer.append(TEXT_99);
d859 1
a859 1
    stringBuffer.append(TEXT_100);
d861 1
a861 1
    stringBuffer.append(TEXT_101);
d863 1
a863 1
    stringBuffer.append(TEXT_102);
d869 1
a869 1
    stringBuffer.append(TEXT_103);
d871 1
a871 1
    stringBuffer.append(TEXT_104);
d873 1
a873 1
    stringBuffer.append(TEXT_105);
d875 1
a875 1
    stringBuffer.append(TEXT_106);
d877 1
a877 1
    stringBuffer.append(TEXT_107);
d879 1
a879 1
    stringBuffer.append(TEXT_108);
d881 1
a881 1
    stringBuffer.append(TEXT_109);
d887 1
a887 1
    stringBuffer.append(TEXT_110);
d889 1
a889 1
    stringBuffer.append(TEXT_111);
d891 1
a891 1
    stringBuffer.append(TEXT_112);
d893 1
a893 1
    stringBuffer.append(TEXT_113);
d895 1
a895 1
    stringBuffer.append(TEXT_114);
d897 1
a897 1
    stringBuffer.append(TEXT_115);
d899 1
a899 1
    stringBuffer.append(TEXT_116);
d905 1
a905 1
    stringBuffer.append(TEXT_117);
d907 1
a907 1
    stringBuffer.append(TEXT_118);
d909 1
a909 1
    stringBuffer.append(TEXT_119);
d912 1
a912 1
    stringBuffer.append(TEXT_120);
d922 1
a922 1
    stringBuffer.append(TEXT_121);
d924 1
a924 1
    stringBuffer.append(TEXT_122);
d926 1
a926 1
    stringBuffer.append(TEXT_123);
d928 1
a928 1
    stringBuffer.append(TEXT_124);
d930 1
a930 1
    stringBuffer.append(TEXT_125);
d935 1
a935 1
    stringBuffer.append(TEXT_126);
d937 1
a937 1
    stringBuffer.append(TEXT_127);
d939 1
a939 1
    stringBuffer.append(TEXT_128);
d941 1
a941 1
    stringBuffer.append(TEXT_129);
d943 1
a943 1
    stringBuffer.append(TEXT_130);
d945 1
a945 1
    stringBuffer.append(TEXT_131);
d947 1
a947 1
    stringBuffer.append(TEXT_132);
d949 1
a949 1
    stringBuffer.append(TEXT_133);
d951 1
a951 1
    stringBuffer.append(TEXT_134);
d959 1
a959 1
    stringBuffer.append(TEXT_135);
d961 1
a961 1
    stringBuffer.append(TEXT_136);
d963 1
a963 1
    stringBuffer.append(TEXT_137);
d965 1
a965 1
    stringBuffer.append(TEXT_138);
d967 1
a967 1
    stringBuffer.append(TEXT_139);
d969 1
a969 1
    stringBuffer.append(TEXT_140);
d971 1
a971 1
    stringBuffer.append(TEXT_141);
d977 1
a977 1
    stringBuffer.append(TEXT_142);
d979 1
a979 1
    stringBuffer.append(TEXT_143);
d981 1
a981 1
    stringBuffer.append(TEXT_144);
d983 1
a983 1
    stringBuffer.append(TEXT_145);
d985 1
a985 1
    stringBuffer.append(TEXT_146);
d987 1
a987 1
    stringBuffer.append(TEXT_147);
d989 1
a989 1
    stringBuffer.append(TEXT_148);
d995 1
a995 1
    stringBuffer.append(TEXT_149);
d997 1
a997 1
    stringBuffer.append(TEXT_150);
d999 1
a999 1
    stringBuffer.append(TEXT_151);
d1001 1
a1001 1
    stringBuffer.append(TEXT_152);
d1003 1
a1003 1
    stringBuffer.append(TEXT_153);
d1005 1
a1005 1
    stringBuffer.append(TEXT_154);
d1007 1
a1007 1
    stringBuffer.append(TEXT_155);
d1009 1
a1009 1
    stringBuffer.append(TEXT_156);
d1011 1
a1011 1
    stringBuffer.append(TEXT_157);
d1013 1
a1013 1
    stringBuffer.append(TEXT_158);
d1015 1
a1015 1
    stringBuffer.append(TEXT_159);
d1017 1
a1017 1
    stringBuffer.append(TEXT_160);
d1019 1
a1019 1
    stringBuffer.append(TEXT_161);
d1021 1
a1021 1
    stringBuffer.append(TEXT_162);
d1023 1
a1023 1
    stringBuffer.append(TEXT_163);
d1025 1
a1025 1
    stringBuffer.append(TEXT_164);
d1027 1
a1027 1
    stringBuffer.append(TEXT_165);
d1029 1
a1029 1
    stringBuffer.append(TEXT_166);
d1031 1
a1031 1
    stringBuffer.append(TEXT_167);
d1033 1
a1033 1
    stringBuffer.append(TEXT_168);
d1035 1
a1035 1
    stringBuffer.append(TEXT_169);
d1037 1
a1037 1
    stringBuffer.append(TEXT_170);
d1039 1
a1039 1
    stringBuffer.append(TEXT_171);
d1041 1
a1041 1
    stringBuffer.append(TEXT_172);
d1043 1
a1043 1
    stringBuffer.append(TEXT_173);
d1048 1
a1048 1
    stringBuffer.append(TEXT_174);
d1050 1
a1050 1
    stringBuffer.append(TEXT_175);
d1052 1
a1052 1
    stringBuffer.append(TEXT_176);
d1054 1
a1054 1
    stringBuffer.append(TEXT_177);
d1056 1
a1056 1
    stringBuffer.append(TEXT_178);
d1058 1
a1058 1
    stringBuffer.append(TEXT_179);
d1060 1
a1060 1
    stringBuffer.append(TEXT_180);
d1062 1
a1062 1
    stringBuffer.append(TEXT_181);
d1064 1
a1064 1
    stringBuffer.append(TEXT_182);
d1069 1
a1069 1
    stringBuffer.append(TEXT_183);
d1071 1
a1071 1
    stringBuffer.append(TEXT_184);
d1073 1
a1073 1
    stringBuffer.append(TEXT_185);
d1075 1
a1075 1
    stringBuffer.append(TEXT_186);
d1085 1
a1085 1
    stringBuffer.append(TEXT_187);
d1087 1
a1087 1
    stringBuffer.append(TEXT_188);
d1089 1
a1089 1
    stringBuffer.append(TEXT_189);
d1091 1
a1091 1
    stringBuffer.append(TEXT_190);
d1093 1
a1093 1
    stringBuffer.append(TEXT_191);
d1095 1
a1095 1
    stringBuffer.append(TEXT_192);
d1097 1
a1097 1
    stringBuffer.append(TEXT_193);
d1107 1
a1107 1
    stringBuffer.append(TEXT_194);
d1109 1
a1109 1
    stringBuffer.append(TEXT_195);
d1111 1
a1111 1
    stringBuffer.append(TEXT_196);
d1113 1
a1113 1
    stringBuffer.append(TEXT_197);
d1115 1
a1115 1
    stringBuffer.append(TEXT_198);
d1120 1
a1120 1
    stringBuffer.append(TEXT_199);
d1122 1
a1122 1
    stringBuffer.append(TEXT_200);
d1124 1
a1124 1
    stringBuffer.append(TEXT_201);
d1126 1
a1126 1
    stringBuffer.append(TEXT_202);
d1128 1
a1128 1
    stringBuffer.append(TEXT_203);
d1130 1
a1130 1
    stringBuffer.append(TEXT_204);
d1132 1
a1132 1
    stringBuffer.append(TEXT_205);
d1134 1
a1134 1
    stringBuffer.append(TEXT_206);
d1136 1
a1136 1
    stringBuffer.append(TEXT_207);
d1144 1
a1144 1
    stringBuffer.append(TEXT_208);
d1146 1
a1146 1
    stringBuffer.append(TEXT_209);
d1148 1
a1148 1
    stringBuffer.append(TEXT_210);
d1150 1
a1150 1
    stringBuffer.append(TEXT_211);
d1152 1
a1152 1
    stringBuffer.append(TEXT_212);
d1154 1
a1154 1
    stringBuffer.append(TEXT_213);
d1156 1
a1156 1
    stringBuffer.append(TEXT_214);
d1162 1
a1162 1
    stringBuffer.append(TEXT_215);
d1164 1
a1164 1
    stringBuffer.append(TEXT_216);
d1166 1
a1166 1
    stringBuffer.append(TEXT_217);
d1168 1
a1168 1
    stringBuffer.append(TEXT_218);
d1170 1
a1170 1
    stringBuffer.append(TEXT_219);
d1172 1
a1172 1
    stringBuffer.append(TEXT_220);
d1174 1
a1174 1
    stringBuffer.append(TEXT_221);
d1180 1
a1180 1
    stringBuffer.append(TEXT_222);
d1182 1
a1182 1
    stringBuffer.append(TEXT_223);
d1184 1
a1184 1
    stringBuffer.append(TEXT_224);
d1186 1
a1186 1
    stringBuffer.append(TEXT_225);
d1188 1
a1188 1
    stringBuffer.append(TEXT_226);
d1190 1
a1190 1
    stringBuffer.append(TEXT_227);
d1192 1
a1192 1
    stringBuffer.append(TEXT_228);
d1194 1
a1194 1
    stringBuffer.append(TEXT_229);
d1196 1
a1196 1
    stringBuffer.append(TEXT_230);
d1198 1
a1198 1
    stringBuffer.append(TEXT_231);
d1200 1
a1200 1
    stringBuffer.append(TEXT_232);
d1202 1
a1202 1
    stringBuffer.append(TEXT_233);
d1204 1
a1204 1
    stringBuffer.append(TEXT_234);
d1206 1
a1206 1
    stringBuffer.append(TEXT_235);
d1208 1
a1208 1
    stringBuffer.append(TEXT_236);
d1210 1
a1210 1
    stringBuffer.append(TEXT_237);
d1212 1
a1212 1
    stringBuffer.append(TEXT_238);
d1214 1
a1214 1
    stringBuffer.append(TEXT_239);
d1216 1
a1216 1
    stringBuffer.append(TEXT_240);
d1218 1
a1218 1
    stringBuffer.append(TEXT_241);
d1220 1
a1220 1
    stringBuffer.append(TEXT_242);
d1222 1
a1222 1
    stringBuffer.append(TEXT_243);
d1224 1
a1224 1
    stringBuffer.append(TEXT_244);
d1226 1
a1226 1
    stringBuffer.append(TEXT_245);
d1228 1
a1228 1
    stringBuffer.append(TEXT_246);
d1233 1
a1233 1
    stringBuffer.append(TEXT_247);
d1235 1
a1235 1
    stringBuffer.append(TEXT_248);
d1237 1
a1237 1
    stringBuffer.append(TEXT_249);
d1239 1
a1239 1
    stringBuffer.append(TEXT_250);
d1241 1
a1241 1
    stringBuffer.append(TEXT_251);
d1243 1
a1243 1
    stringBuffer.append(TEXT_252);
d1245 1
a1245 1
    stringBuffer.append(TEXT_253);
d1247 1
a1247 1
    stringBuffer.append(TEXT_254);
d1249 1
a1249 1
    stringBuffer.append(TEXT_255);
d1254 1
a1254 1
    stringBuffer.append(TEXT_256);
d1256 1
a1256 1
    stringBuffer.append(TEXT_257);
d1258 1
a1258 1
    stringBuffer.append(TEXT_258);
d1260 1
a1260 1
    stringBuffer.append(TEXT_259);
d1312 1
a1312 1
    stringBuffer.append(TEXT_260);
d1314 1
a1314 1
    stringBuffer.append(TEXT_261);
d1320 1
a1320 1
    stringBuffer.append(TEXT_262);
d1322 1
a1322 1
    stringBuffer.append(TEXT_263);
d1324 1
a1324 1
    stringBuffer.append(TEXT_264);
d1326 1
a1326 1
    stringBuffer.append(TEXT_265);
d1328 1
a1328 1
    stringBuffer.append(TEXT_266);
d1330 1
a1330 1
    stringBuffer.append(TEXT_267);
d1332 1
a1332 1
    stringBuffer.append(TEXT_268);
d1334 1
a1334 1
    stringBuffer.append(TEXT_269);
d1336 1
a1336 1
    stringBuffer.append(TEXT_270);
d1338 1
a1338 1
    stringBuffer.append(TEXT_271);
d1341 1
a1341 1
    stringBuffer.append(TEXT_272);
d1343 1
a1343 1
    stringBuffer.append(TEXT_273);
d1345 1
a1345 1
    stringBuffer.append(TEXT_274);
d1347 1
a1347 1
    stringBuffer.append(TEXT_275);
d1349 1
a1349 1
    stringBuffer.append(TEXT_276);
d1359 1
a1359 1
    stringBuffer.append(TEXT_277);
d1361 1
a1361 1
    stringBuffer.append(TEXT_278);
d1363 1
a1363 1
    stringBuffer.append(TEXT_279);
d1365 1
a1365 1
    stringBuffer.append(TEXT_280);
d1367 1
a1367 1
    stringBuffer.append(TEXT_281);
d1373 1
a1373 1
    stringBuffer.append(TEXT_282);
d1375 1
a1375 1
    stringBuffer.append(TEXT_283);
d1377 1
a1377 1
    stringBuffer.append(TEXT_284);
d1379 1
a1379 1
    stringBuffer.append(TEXT_285);
d1381 1
a1381 1
    stringBuffer.append(TEXT_286);
d1383 1
a1383 1
    stringBuffer.append(TEXT_287);
d1385 1
a1385 1
    stringBuffer.append(TEXT_288);
d1388 1
a1388 1
    stringBuffer.append(TEXT_289);
d1390 1
a1390 1
    stringBuffer.append(TEXT_290);
d1392 1
a1392 1
    stringBuffer.append(TEXT_291);
d1394 1
a1394 1
    stringBuffer.append(TEXT_292);
d1396 1
a1396 1
    stringBuffer.append(TEXT_293);
d1401 1
a1401 1
    stringBuffer.append(TEXT_294);
d1403 1
a1403 1
    stringBuffer.append(TEXT_295);
d1405 1
a1405 1
    stringBuffer.append(TEXT_296);
d1407 1
a1407 1
    stringBuffer.append(TEXT_297);
d1409 1
a1409 1
    stringBuffer.append(TEXT_298);
d1412 1
a1412 1
    stringBuffer.append(TEXT_299);
d1414 1
a1414 1
    stringBuffer.append(TEXT_300);
d1416 1
a1416 1
    stringBuffer.append(TEXT_301);
d1418 1
a1418 1
    stringBuffer.append(TEXT_302);
d1420 1
a1420 1
    stringBuffer.append(TEXT_303);
d1422 1
a1422 1
    stringBuffer.append(TEXT_304);
d1424 1
a1424 1
    stringBuffer.append(TEXT_305);
d1426 1
a1426 1
    stringBuffer.append(TEXT_306);
d1428 1
a1428 1
    stringBuffer.append(TEXT_307);
d1430 1
a1430 1
    stringBuffer.append(TEXT_308);
d1440 1
a1440 1
    stringBuffer.append(TEXT_309);
d1442 1
a1442 1
    stringBuffer.append(TEXT_310);
d1444 1
a1444 1
    stringBuffer.append(TEXT_311);
d1446 1
a1446 1
    stringBuffer.append(TEXT_312);
d1448 1
a1448 1
    stringBuffer.append(TEXT_313);
d1451 1
a1451 1
    stringBuffer.append(TEXT_314);
d1461 1
a1461 1
    stringBuffer.append(TEXT_315);
d1463 1
a1463 1
    stringBuffer.append(TEXT_316);
d1465 1
a1465 1
    stringBuffer.append(TEXT_317);
d1467 1
a1467 1
    stringBuffer.append(TEXT_318);
d1469 1
a1469 1
    stringBuffer.append(TEXT_319);
d1475 1
a1475 1
    stringBuffer.append(TEXT_320);
d1477 1
a1477 1
    stringBuffer.append(TEXT_321);
d1479 1
a1479 1
    stringBuffer.append(TEXT_322);
d1481 1
a1481 1
    stringBuffer.append(TEXT_323);
d1483 1
a1483 1
    stringBuffer.append(TEXT_324);
d1485 1
a1485 1
    stringBuffer.append(TEXT_325);
d1487 1
a1487 1
    stringBuffer.append(TEXT_326);
d1490 1
a1490 1
    stringBuffer.append(TEXT_327);
d1492 1
a1492 1
    stringBuffer.append(TEXT_328);
d1494 1
a1494 1
    stringBuffer.append(TEXT_329);
d1496 1
a1496 1
    stringBuffer.append(TEXT_330);
d1498 1
a1498 1
    stringBuffer.append(TEXT_331);
d1503 1
a1503 1
    stringBuffer.append(TEXT_332);
d1505 1
a1505 1
    stringBuffer.append(TEXT_333);
d1507 1
a1507 1
    stringBuffer.append(TEXT_334);
d1509 1
a1509 1
    stringBuffer.append(TEXT_335);
d1511 1
a1511 1
    stringBuffer.append(TEXT_336);
d1514 1
a1514 1
    stringBuffer.append(TEXT_337);
d1516 1
a1516 1
    stringBuffer.append(TEXT_338);
d1518 1
a1518 1
    stringBuffer.append(TEXT_339);
d1521 1
a1521 1
    stringBuffer.append(TEXT_340);
d1523 1
a1523 1
    stringBuffer.append(TEXT_341);
d1525 1
a1525 1
    stringBuffer.append(TEXT_342);
d1527 1
a1527 1
    stringBuffer.append(TEXT_343);
d1529 1
a1529 1
    stringBuffer.append(TEXT_344);
d1531 1
a1531 1
    stringBuffer.append(TEXT_345);
d1537 1
a1537 1
    stringBuffer.append(TEXT_346);
d1539 1
a1539 1
    stringBuffer.append(TEXT_347);
@


1.37
log
@#114175 for links
@
text
@d85 1
a85 1
  protected final String TEXT_66 = NL + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic boolean isExecutable() {" + NL + "\t\t\tif (getEClass() != null) {" + NL + "\t\t\t\treturn getEClass().isSuperTypeOf(getEClassToEdit());" + NL + "\t\t\t}" + NL + "\t\t\treturn true;" + NL + "\t\t}" + NL + "\t\t" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
d91 33
a123 33
  protected final String TEXT_72 = " domain = (";
  protected final String TEXT_73 = ") ";
  protected final String TEXT_74 = ".getEditingDomain(resource);" + NL + "\t\t\tif (domain == null) {" + NL + "\t\t\t\tdomain = (";
  protected final String TEXT_75 = ") ";
  protected final String TEXT_76 = ".INSTANCE;" + NL + "\t\t\t}" + NL + "\t\t\t";
  protected final String TEXT_77 = " eObject = ";
  protected final String TEXT_78 = ".create(domain, eClass, true);" + NL + "\t\t\tresource.getContents().add(eObject);" + NL + "\t\t\treturn eObject;" + NL + "\t\t}";
  protected final String TEXT_79 = NL + "\t}";
  protected final String TEXT_80 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getDestroyElementCommand(DestroyElementRequest req) {" + NL + "\t\treturn getMSLWrapper(new DestroyElementCommand(req) {" + NL + "\t\t" + NL + "\t\t\tprotected EObject getElementToDestroy() {" + NL + "\t\t\t\tView view = (View) getHost().getModel();" + NL + "\t\t\t\tEAnnotation annotation = view.getEAnnotation(\"Shortcut\"); //$NON-NLS-1$" + NL + "\t\t\t\tif (annotation != null) {" + NL + "\t\t\t\t\treturn view;" + NL + "\t\t\t\t}" + NL + "\t\t\t\treturn super.getElementToDestroy();" + NL + "\t\t\t}\t\t" + NL;
  protected final String TEXT_81 = NL + "\t\t\tprotected ";
  protected final String TEXT_82 = " doExecuteWithResult(";
  protected final String TEXT_83 = " progressMonitor, ";
  protected final String TEXT_84 = " info) throws ";
  protected final String TEXT_85 = " {" + NL + "\t\t\t\tEObject eObject = getElementToDestroy();" + NL + "\t\t\t\tif (eObject.eContainer() != null) {" + NL + "\t\t\t\t\treturn super.doExecuteWithResult(progressMonitor, info);" + NL + "\t\t\t\t} else {" + NL + "\t\t\t\t\t";
  protected final String TEXT_86 = " elementState = ";
  protected final String TEXT_87 = ".getState(eObject);" + NL + "\t\t\t\t\tif (";
  protected final String TEXT_88 = ".DETACHED != elementState) {" + NL + "\t\t\t\t\t\t";
  protected final String TEXT_89 = " resource = eObject.eResource();" + NL + "\t\t\t\t\t\tif (resource == null) {" + NL + "\t\t\t\t\t\t\treturn CommandResult.newErrorCommandResult(\"No resource for the object: \" + eObject);" + NL + "\t\t\t\t\t\t}" + NL + "\t\t\t\t\t\t" + NL + "\t\t\t\t\t\t";
  protected final String TEXT_90 = " domain = (";
  protected final String TEXT_91 = ") ";
  protected final String TEXT_92 = ".getEditingDomain(resource);" + NL + "\t\t\t\t\t\tif (domain == null) {" + NL + "\t\t\t\t\t\t\tdomain = (";
  protected final String TEXT_93 = ") ";
  protected final String TEXT_94 = ".INSTANCE;" + NL + "\t\t\t\t\t\t}" + NL + "\t\t\t\t\t\t";
  protected final String TEXT_95 = " metaModel = ";
  protected final String TEXT_96 = ".getMetaModel(eObject);" + NL + "\t\t\t\t\t\tif ((metaModel != null) && (!metaModel.canDestroy(eObject))) {" + NL + "\t\t\t\t\t\t\treturn CommandResult.newOKCommandResult();" + NL + "\t\t\t\t\t\t}" + NL + "\t\t\t\t\t\teObject.eNotify(new ";
  protected final String TEXT_97 = "((";
  protected final String TEXT_98 = ") eObject, ";
  protected final String TEXT_99 = ".PRE_DESTROY, (";
  protected final String TEXT_100 = ") null, eObject, eObject));" + NL + "\t\t\t\t\t\t";
  protected final String TEXT_101 = ".teardownContainment(domain, eObject, 0);" + NL + "\t\t\t\t\t\t";
  protected final String TEXT_102 = ".sendDestroyEvent(domain, eObject);" + NL + "\t\t\t\t\t\tresource.getContents().remove(eObject);" + NL + "\t\t\t\t\t}" + NL + "\t\t\t\t}" + NL + "\t\t\t\treturn CommandResult.newOKCommandResult();" + NL + "\t\t\t}";
  protected final String TEXT_103 = NL + "\t\t});" + NL + "\t}";
  protected final String TEXT_104 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateRelationshipCommand(CreateRelationshipRequest req) {";
d125 242
a366 261
  protected final String TEXT_106 = ".";
  protected final String TEXT_107 = " == req.getElementType()) {" + NL + "\t\t\treturn req.getTarget() == null ? ";
  protected final String TEXT_108 = " : ";
  protected final String TEXT_109 = ";" + NL + "\t\t}";
  protected final String TEXT_110 = NL + "\t\treturn super.getCreateRelationshipCommand(req);" + NL + "\t}";
  protected final String TEXT_111 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_112 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_113 = NL + "\t\t";
  protected final String TEXT_114 = " element = (";
  protected final String TEXT_115 = ") getSemanticElement();";
  protected final String TEXT_116 = NL + "\t\t";
  protected final String TEXT_117 = " element = (";
  protected final String TEXT_118 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_119 = ".eINSTANCE.get";
  protected final String TEXT_120 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_121 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_122 = NL + "\t\tif (";
  protected final String TEXT_123 = " != null) {";
  protected final String TEXT_124 = NL + "\t\tif (";
  protected final String TEXT_125 = ".size() >= ";
  protected final String TEXT_126 = ") {";
  protected final String TEXT_127 = NL + "\t\t\treturn ";
  protected final String TEXT_128 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_129 = NL + "\t\tif (";
  protected final String TEXT_130 = " != null) {";
  protected final String TEXT_131 = NL + "\t\tif (";
  protected final String TEXT_132 = ".size() >= ";
  protected final String TEXT_133 = ") {";
  protected final String TEXT_134 = NL + "\t\t\treturn ";
  protected final String TEXT_135 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_136 = NL + "\t\tif(!";
  protected final String TEXT_137 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_138 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_139 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_140 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_141 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_142 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_143 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_144 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_145 = NL + "\t\tfinal ";
  protected final String TEXT_146 = " element = (";
  protected final String TEXT_147 = ") getSemanticElement();";
  protected final String TEXT_148 = NL + "\t\tfinal ";
  protected final String TEXT_149 = " element = (";
  protected final String TEXT_150 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_151 = ".eINSTANCE.get";
  protected final String TEXT_152 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_153 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_154 = NL + "\t\tif (";
  protected final String TEXT_155 = " != null) {";
  protected final String TEXT_156 = NL + "\t\tif (";
  protected final String TEXT_157 = ".size() >= ";
  protected final String TEXT_158 = ") {";
  protected final String TEXT_159 = NL + "\t\t\treturn ";
  protected final String TEXT_160 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_161 = NL + "\t\tif (";
  protected final String TEXT_162 = " != null) {";
  protected final String TEXT_163 = NL + "\t\tif (";
  protected final String TEXT_164 = ".size() >= ";
  protected final String TEXT_165 = ") {";
  protected final String TEXT_166 = NL + "\t\t\treturn ";
  protected final String TEXT_167 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_168 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_169 = ".eINSTANCE.get";
  protected final String TEXT_170 = "());" + NL + "\t\t}" + NL + "\t\t";
  protected final String TEXT_171 = NL + "\t\tif(!";
  protected final String TEXT_172 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_173 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_174 = "\t\t\t\t" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_175 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_176 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_177 = "Command extends ";
  protected final String TEXT_178 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_179 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_180 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_181 = ".eINSTANCE.get";
  protected final String TEXT_182 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_183 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_184 = " doDefaultElementCreation() {";
  protected final String TEXT_185 = NL + "\t\t\t";
  protected final String TEXT_186 = " newElement = (";
  protected final String TEXT_187 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_188 = "(";
  protected final String TEXT_189 = ") getSource());";
  protected final String TEXT_190 = NL + "\t\t\t\t";
  protected final String TEXT_191 = "(";
  protected final String TEXT_192 = ") getTarget());";
  protected final String TEXT_193 = NL + "\t\t\t\t";
  protected final String TEXT_194 = " container = (";
  protected final String TEXT_195 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_196 = NL + "\t\t\t\t\t";
  protected final String TEXT_197 = " featureValues = container.";
  protected final String TEXT_198 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_199 = NL + "\t\t\t\t \t";
  protected final String TEXT_200 = "newElement);";
  protected final String TEXT_201 = NL + "\t\t\t\t}";
  protected final String TEXT_202 = NL + "\t\t\t\t";
  protected final String TEXT_203 = ".Initializers.";
  protected final String TEXT_204 = ".init(newElement);";
  protected final String TEXT_205 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_206 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_207 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_208 = NL + "\t\tif(!";
  protected final String TEXT_209 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_210 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_211 = "\t";
  protected final String TEXT_212 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_213 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_214 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_215 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_216 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_217 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_218 = NL + "\t\tfinal ";
  protected final String TEXT_219 = " element = (";
  protected final String TEXT_220 = ") req.getSource();";
  protected final String TEXT_221 = NL + "\t\tfinal ";
  protected final String TEXT_222 = " element = (";
  protected final String TEXT_223 = ") getRelationshipContainer(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_224 = ".eINSTANCE.get";
  protected final String TEXT_225 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_226 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_227 = NL + "\t\tif (";
  protected final String TEXT_228 = " != null) {";
  protected final String TEXT_229 = NL + "\t\tif (";
  protected final String TEXT_230 = ".size() >= ";
  protected final String TEXT_231 = ") {";
  protected final String TEXT_232 = NL + "\t\t\treturn ";
  protected final String TEXT_233 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_234 = NL + "\t\tif (";
  protected final String TEXT_235 = " != null) {";
  protected final String TEXT_236 = NL + "\t\tif (";
  protected final String TEXT_237 = ".size() >= ";
  protected final String TEXT_238 = ") {";
  protected final String TEXT_239 = NL + "\t\t\treturn ";
  protected final String TEXT_240 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_241 = NL + "\t\tif(!";
  protected final String TEXT_242 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_243 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_244 = "\t\t";
  protected final String TEXT_245 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_246 = ".eINSTANCE.get";
  protected final String TEXT_247 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_248 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_249 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_250 = "Command extends ";
  protected final String TEXT_251 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_252 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_253 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_254 = ".eINSTANCE.get";
  protected final String TEXT_255 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_256 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_257 = " doDefaultElementCreation() {";
  protected final String TEXT_258 = NL + "\t\t\t";
  protected final String TEXT_259 = " newElement = (";
  protected final String TEXT_260 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_261 = "(";
  protected final String TEXT_262 = ") getTarget());";
  protected final String TEXT_263 = NL + "\t\t\t\t";
  protected final String TEXT_264 = "(";
  protected final String TEXT_265 = ") getSource());";
  protected final String TEXT_266 = NL + "\t\t\t\t";
  protected final String TEXT_267 = " container = (";
  protected final String TEXT_268 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_269 = NL + "\t\t\t\t\t";
  protected final String TEXT_270 = " featureValues = container.";
  protected final String TEXT_271 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_272 = NL + "\t\t\t\t \t";
  protected final String TEXT_273 = "newElement);";
  protected final String TEXT_274 = NL + "\t\t\t\t}";
  protected final String TEXT_275 = NL + "\t\t\t\t";
  protected final String TEXT_276 = ".Initializers.";
  protected final String TEXT_277 = ".init(newElement);";
  protected final String TEXT_278 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_279 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_280 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_281 = NL + "\t\t";
  protected final String TEXT_282 = " element = (";
  protected final String TEXT_283 = ") getSemanticElement();";
  protected final String TEXT_284 = NL + "\t\tif (";
  protected final String TEXT_285 = " != null) {";
  protected final String TEXT_286 = NL + "\t\tif (";
  protected final String TEXT_287 = ".size() >= ";
  protected final String TEXT_288 = ") {";
  protected final String TEXT_289 = NL + "\t\t\treturn ";
  protected final String TEXT_290 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_291 = NL + "\t\tif(!";
  protected final String TEXT_292 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_293 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_294 = NL;
  protected final String TEXT_295 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_296 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_297 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_298 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_299 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_300 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_301 = NL + "\t\t";
  protected final String TEXT_302 = " element = (";
  protected final String TEXT_303 = ") getSemanticElement();";
  protected final String TEXT_304 = NL + "\t\tif (";
  protected final String TEXT_305 = " != null) {";
  protected final String TEXT_306 = NL + "\t\tif (";
  protected final String TEXT_307 = ".size() >= ";
  protected final String TEXT_308 = NL + "\t\t\t|| ";
  protected final String TEXT_309 = ".contains(req.getSource())";
  protected final String TEXT_310 = NL + "\t\t\t\t) {";
  protected final String TEXT_311 = NL + "\t\t\treturn ";
  protected final String TEXT_312 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_313 = NL + "\t\t";
  protected final String TEXT_314 = " element = (";
  protected final String TEXT_315 = ") getSemanticElement();" + NL + "\t\tif (";
  protected final String TEXT_316 = ".contains(req.getSource())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_317 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_318 = NL + "\t\tif(!";
  protected final String TEXT_319 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_320 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_321 = "\t\t";
  protected final String TEXT_322 = NL + "\t\t";
  protected final String TEXT_323 = " setReq = new ";
  protected final String TEXT_324 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_325 = ".eINSTANCE.get";
  protected final String TEXT_326 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_327 = "(setReq));" + NL + "\t}";
  protected final String TEXT_328 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_329 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_330 = NL + "\t\tif(!";
  protected final String TEXT_331 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_332 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_333 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_334 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_335 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_336 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_337 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_338 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_339 = NL + "\t\t";
  protected final String TEXT_340 = " element = (";
  protected final String TEXT_341 = ") req.getSource();";
  protected final String TEXT_342 = NL + "\t\tif (";
  protected final String TEXT_343 = " != null) {";
  protected final String TEXT_344 = NL + "\t\tif (";
  protected final String TEXT_345 = ".size() >= ";
  protected final String TEXT_346 = NL + "\t\t\t|| ";
  protected final String TEXT_347 = ".contains(req.getTarget())";
  protected final String TEXT_348 = NL + "\t\t\t\t) {";
  protected final String TEXT_349 = NL + "\t\t\treturn ";
  protected final String TEXT_350 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_351 = NL + "\t\t";
  protected final String TEXT_352 = " element = (";
  protected final String TEXT_353 = ") req.getSource();" + NL + "\t\tif (";
  protected final String TEXT_354 = ".contains(req.getTarget())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_355 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_356 = NL + "\t\tif(!";
  protected final String TEXT_357 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_358 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_359 = NL + "\t\t";
  protected final String TEXT_360 = " setReq = new ";
  protected final String TEXT_361 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_362 = ".eINSTANCE.get";
  protected final String TEXT_363 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_364 = "(setReq));" + NL + "\t}";
  protected final String TEXT_365 = NL + "}";
  protected final String TEXT_366 = NL;
d676 1
a676 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain"));
d678 1
a678 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain"));
d680 1
a680 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain"));
a681 8
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain"));
    stringBuffer.append(TEXT_75);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.edit.MEditingDomain"));
    stringBuffer.append(TEXT_76);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
    stringBuffer.append(TEXT_77);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.internal.util.MSLUtil"));
    stringBuffer.append(TEXT_78);
d685 1
a685 1
    stringBuffer.append(TEXT_79);
d688 1
a688 1
    stringBuffer.append(TEXT_80);
d690 1
a690 1
    stringBuffer.append(TEXT_81);
d692 1
a692 1
    stringBuffer.append(TEXT_82);
d694 1
a694 1
    stringBuffer.append(TEXT_83);
d696 1
a696 1
    stringBuffer.append(TEXT_84);
d698 3
a700 7
    stringBuffer.append(TEXT_85);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.edit.MObjectState"));
    stringBuffer.append(TEXT_86);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.util.EObjectUtil"));
    stringBuffer.append(TEXT_87);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.edit.MObjectState"));
    stringBuffer.append(TEXT_88);
d702 1
a702 27
    stringBuffer.append(TEXT_89);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain"));
    stringBuffer.append(TEXT_90);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain"));
    stringBuffer.append(TEXT_91);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.edit.MEditingDomain"));
    stringBuffer.append(TEXT_92);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain"));
    stringBuffer.append(TEXT_93);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.edit.MEditingDomain"));
    stringBuffer.append(TEXT_94);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.services.metamodel.IMetamodelSupport"));
    stringBuffer.append(TEXT_95);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.internal.util.MSLUtil"));
    stringBuffer.append(TEXT_96);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.impl.ENotificationImpl"));
    stringBuffer.append(TEXT_97);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.InternalEObject"));
    stringBuffer.append(TEXT_98);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.EventTypes"));
    stringBuffer.append(TEXT_99);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EStructuralFeature"));
    stringBuffer.append(TEXT_100);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.internal.util.MSLUtil"));
    stringBuffer.append(TEXT_101);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.internal.util.MSLUtil"));
    stringBuffer.append(TEXT_102);
d704 1
a704 1
    stringBuffer.append(TEXT_103);
d710 1
a710 1
    stringBuffer.append(TEXT_104);
d755 1
a755 1
    stringBuffer.append(TEXT_105);
d757 1
a757 1
    stringBuffer.append(TEXT_106);
d759 1
a759 1
    stringBuffer.append(TEXT_107);
d761 1
a761 1
    stringBuffer.append(TEXT_108);
d763 1
a763 1
    stringBuffer.append(TEXT_109);
d765 1
a765 1
    stringBuffer.append(TEXT_110);
d826 1
a826 1
    stringBuffer.append(TEXT_111);
d828 1
a828 1
    stringBuffer.append(TEXT_112);
d835 1
a835 1
    stringBuffer.append(TEXT_113);
d837 1
a837 1
    stringBuffer.append(TEXT_114);
d839 1
a839 1
    stringBuffer.append(TEXT_115);
d841 1
a841 1
    stringBuffer.append(TEXT_116);
d843 1
a843 1
    stringBuffer.append(TEXT_117);
d845 1
a845 1
    stringBuffer.append(TEXT_118);
d847 1
a847 1
    stringBuffer.append(TEXT_119);
d849 1
a849 1
    stringBuffer.append(TEXT_120);
d851 1
a851 1
    stringBuffer.append(TEXT_121);
d857 1
a857 1
    stringBuffer.append(TEXT_122);
d859 1
a859 1
    stringBuffer.append(TEXT_123);
d861 1
a861 1
    stringBuffer.append(TEXT_124);
d863 1
a863 1
    stringBuffer.append(TEXT_125);
d865 1
a865 1
    stringBuffer.append(TEXT_126);
d867 1
a867 1
    stringBuffer.append(TEXT_127);
d869 1
a869 1
    stringBuffer.append(TEXT_128);
d875 1
a875 1
    stringBuffer.append(TEXT_129);
d877 1
a877 1
    stringBuffer.append(TEXT_130);
d879 1
a879 1
    stringBuffer.append(TEXT_131);
d881 1
a881 1
    stringBuffer.append(TEXT_132);
d883 1
a883 1
    stringBuffer.append(TEXT_133);
d885 1
a885 1
    stringBuffer.append(TEXT_134);
d887 1
a887 1
    stringBuffer.append(TEXT_135);
d893 1
a893 1
    stringBuffer.append(TEXT_136);
d895 1
a895 1
    stringBuffer.append(TEXT_137);
d897 1
a897 1
    stringBuffer.append(TEXT_138);
d900 1
a900 1
    stringBuffer.append(TEXT_139);
d910 1
a910 1
    stringBuffer.append(TEXT_140);
d912 1
a912 1
    stringBuffer.append(TEXT_141);
d914 1
a914 1
    stringBuffer.append(TEXT_142);
d916 1
a916 1
    stringBuffer.append(TEXT_143);
d918 1
a918 1
    stringBuffer.append(TEXT_144);
d923 1
a923 1
    stringBuffer.append(TEXT_145);
d925 1
a925 1
    stringBuffer.append(TEXT_146);
d927 1
a927 1
    stringBuffer.append(TEXT_147);
d929 1
a929 1
    stringBuffer.append(TEXT_148);
d931 1
a931 1
    stringBuffer.append(TEXT_149);
d933 1
a933 1
    stringBuffer.append(TEXT_150);
d935 1
a935 1
    stringBuffer.append(TEXT_151);
d937 1
a937 1
    stringBuffer.append(TEXT_152);
d939 1
a939 1
    stringBuffer.append(TEXT_153);
d947 1
a947 1
    stringBuffer.append(TEXT_154);
d949 1
a949 1
    stringBuffer.append(TEXT_155);
d951 1
a951 1
    stringBuffer.append(TEXT_156);
d953 1
a953 1
    stringBuffer.append(TEXT_157);
d955 1
a955 1
    stringBuffer.append(TEXT_158);
d957 1
a957 1
    stringBuffer.append(TEXT_159);
d959 1
a959 1
    stringBuffer.append(TEXT_160);
d965 1
a965 1
    stringBuffer.append(TEXT_161);
d967 1
a967 1
    stringBuffer.append(TEXT_162);
d969 1
a969 1
    stringBuffer.append(TEXT_163);
d971 1
a971 1
    stringBuffer.append(TEXT_164);
d973 1
a973 1
    stringBuffer.append(TEXT_165);
d975 1
a975 1
    stringBuffer.append(TEXT_166);
d977 1
a977 1
    stringBuffer.append(TEXT_167);
d983 1
a983 1
    stringBuffer.append(TEXT_168);
d985 1
a985 1
    stringBuffer.append(TEXT_169);
d987 1
a987 1
    stringBuffer.append(TEXT_170);
d989 1
a989 1
    stringBuffer.append(TEXT_171);
d991 1
a991 1
    stringBuffer.append(TEXT_172);
d993 1
a993 1
    stringBuffer.append(TEXT_173);
d995 1
a995 1
    stringBuffer.append(TEXT_174);
d997 1
a997 1
    stringBuffer.append(TEXT_175);
d999 1
a999 1
    stringBuffer.append(TEXT_176);
d1001 1
a1001 1
    stringBuffer.append(TEXT_177);
d1003 1
a1003 1
    stringBuffer.append(TEXT_178);
d1005 1
a1005 1
    stringBuffer.append(TEXT_179);
d1007 1
a1007 1
    stringBuffer.append(TEXT_180);
d1009 1
a1009 1
    stringBuffer.append(TEXT_181);
d1011 1
a1011 1
    stringBuffer.append(TEXT_182);
d1013 1
a1013 1
    stringBuffer.append(TEXT_183);
d1015 1
a1015 1
    stringBuffer.append(TEXT_184);
d1017 1
a1017 1
    stringBuffer.append(TEXT_185);
d1019 1
a1019 1
    stringBuffer.append(TEXT_186);
d1021 1
a1021 1
    stringBuffer.append(TEXT_187);
d1023 1
a1023 1
    stringBuffer.append(TEXT_188);
d1025 1
a1025 1
    stringBuffer.append(TEXT_189);
d1027 1
a1027 1
    stringBuffer.append(TEXT_190);
d1029 1
a1029 1
    stringBuffer.append(TEXT_191);
d1031 1
a1031 1
    stringBuffer.append(TEXT_192);
d1036 1
a1036 1
    stringBuffer.append(TEXT_193);
d1038 1
a1038 1
    stringBuffer.append(TEXT_194);
d1040 1
a1040 1
    stringBuffer.append(TEXT_195);
d1042 1
a1042 1
    stringBuffer.append(TEXT_196);
d1044 1
a1044 1
    stringBuffer.append(TEXT_197);
d1046 1
a1046 1
    stringBuffer.append(TEXT_198);
d1048 1
a1048 1
    stringBuffer.append(TEXT_199);
d1050 1
a1050 1
    stringBuffer.append(TEXT_200);
d1052 1
a1052 1
    stringBuffer.append(TEXT_201);
d1057 1
a1057 1
    stringBuffer.append(TEXT_202);
d1059 1
a1059 1
    stringBuffer.append(TEXT_203);
d1061 1
a1061 1
    stringBuffer.append(TEXT_204);
d1063 1
a1063 1
    stringBuffer.append(TEXT_205);
d1073 1
a1073 1
    stringBuffer.append(TEXT_206);
d1075 1
a1075 1
    stringBuffer.append(TEXT_207);
d1077 1
a1077 1
    stringBuffer.append(TEXT_208);
d1079 1
a1079 1
    stringBuffer.append(TEXT_209);
d1081 1
a1081 1
    stringBuffer.append(TEXT_210);
d1083 1
a1083 1
    stringBuffer.append(TEXT_211);
d1085 1
a1085 1
    stringBuffer.append(TEXT_212);
d1095 1
a1095 1
    stringBuffer.append(TEXT_213);
d1097 1
a1097 1
    stringBuffer.append(TEXT_214);
d1099 1
a1099 1
    stringBuffer.append(TEXT_215);
d1101 1
a1101 1
    stringBuffer.append(TEXT_216);
d1103 1
a1103 1
    stringBuffer.append(TEXT_217);
d1108 1
a1108 1
    stringBuffer.append(TEXT_218);
d1110 1
a1110 1
    stringBuffer.append(TEXT_219);
d1112 1
a1112 1
    stringBuffer.append(TEXT_220);
d1114 1
a1114 1
    stringBuffer.append(TEXT_221);
d1116 1
a1116 1
    stringBuffer.append(TEXT_222);
d1118 1
a1118 1
    stringBuffer.append(TEXT_223);
d1120 1
a1120 1
    stringBuffer.append(TEXT_224);
d1122 1
a1122 1
    stringBuffer.append(TEXT_225);
d1124 1
a1124 1
    stringBuffer.append(TEXT_226);
d1132 1
a1132 1
    stringBuffer.append(TEXT_227);
d1134 1
a1134 1
    stringBuffer.append(TEXT_228);
d1136 1
a1136 1
    stringBuffer.append(TEXT_229);
d1138 1
a1138 1
    stringBuffer.append(TEXT_230);
d1140 1
a1140 1
    stringBuffer.append(TEXT_231);
d1142 1
a1142 1
    stringBuffer.append(TEXT_232);
d1144 1
a1144 1
    stringBuffer.append(TEXT_233);
d1150 1
a1150 1
    stringBuffer.append(TEXT_234);
d1152 1
a1152 1
    stringBuffer.append(TEXT_235);
d1154 1
a1154 1
    stringBuffer.append(TEXT_236);
d1156 1
a1156 1
    stringBuffer.append(TEXT_237);
d1158 1
a1158 1
    stringBuffer.append(TEXT_238);
d1160 1
a1160 1
    stringBuffer.append(TEXT_239);
d1162 1
a1162 1
    stringBuffer.append(TEXT_240);
d1168 1
a1168 1
    stringBuffer.append(TEXT_241);
d1170 1
a1170 1
    stringBuffer.append(TEXT_242);
d1172 1
a1172 1
    stringBuffer.append(TEXT_243);
d1174 1
a1174 1
    stringBuffer.append(TEXT_244);
d1176 1
a1176 1
    stringBuffer.append(TEXT_245);
d1178 1
a1178 1
    stringBuffer.append(TEXT_246);
d1180 1
a1180 1
    stringBuffer.append(TEXT_247);
d1182 1
a1182 1
    stringBuffer.append(TEXT_248);
d1184 1
a1184 1
    stringBuffer.append(TEXT_249);
d1186 1
a1186 1
    stringBuffer.append(TEXT_250);
d1188 1
a1188 1
    stringBuffer.append(TEXT_251);
d1190 1
a1190 1
    stringBuffer.append(TEXT_252);
d1192 1
a1192 1
    stringBuffer.append(TEXT_253);
d1194 1
a1194 1
    stringBuffer.append(TEXT_254);
d1196 1
a1196 1
    stringBuffer.append(TEXT_255);
d1198 1
a1198 1
    stringBuffer.append(TEXT_256);
d1200 1
a1200 1
    stringBuffer.append(TEXT_257);
d1202 1
a1202 1
    stringBuffer.append(TEXT_258);
d1204 1
a1204 1
    stringBuffer.append(TEXT_259);
d1206 1
a1206 1
    stringBuffer.append(TEXT_260);
d1208 1
a1208 1
    stringBuffer.append(TEXT_261);
d1210 1
a1210 1
    stringBuffer.append(TEXT_262);
d1212 1
a1212 1
    stringBuffer.append(TEXT_263);
d1214 1
a1214 1
    stringBuffer.append(TEXT_264);
d1216 1
a1216 1
    stringBuffer.append(TEXT_265);
d1221 1
a1221 1
    stringBuffer.append(TEXT_266);
d1223 1
a1223 1
    stringBuffer.append(TEXT_267);
d1225 1
a1225 1
    stringBuffer.append(TEXT_268);
d1227 1
a1227 1
    stringBuffer.append(TEXT_269);
d1229 1
a1229 1
    stringBuffer.append(TEXT_270);
d1231 1
a1231 1
    stringBuffer.append(TEXT_271);
d1233 1
a1233 1
    stringBuffer.append(TEXT_272);
d1235 1
a1235 1
    stringBuffer.append(TEXT_273);
d1237 1
a1237 1
    stringBuffer.append(TEXT_274);
d1242 1
a1242 1
    stringBuffer.append(TEXT_275);
d1244 1
a1244 1
    stringBuffer.append(TEXT_276);
d1246 1
a1246 1
    stringBuffer.append(TEXT_277);
d1248 1
a1248 1
    stringBuffer.append(TEXT_278);
d1300 1
a1300 1
    stringBuffer.append(TEXT_279);
d1302 1
a1302 1
    stringBuffer.append(TEXT_280);
d1308 1
a1308 1
    stringBuffer.append(TEXT_281);
d1310 1
a1310 1
    stringBuffer.append(TEXT_282);
d1312 1
a1312 1
    stringBuffer.append(TEXT_283);
d1314 1
a1314 1
    stringBuffer.append(TEXT_284);
d1316 1
a1316 1
    stringBuffer.append(TEXT_285);
d1318 1
a1318 1
    stringBuffer.append(TEXT_286);
d1320 1
a1320 1
    stringBuffer.append(TEXT_287);
d1322 1
a1322 1
    stringBuffer.append(TEXT_288);
d1324 1
a1324 1
    stringBuffer.append(TEXT_289);
d1326 1
a1326 1
    stringBuffer.append(TEXT_290);
d1329 1
a1329 1
    stringBuffer.append(TEXT_291);
d1331 1
a1331 1
    stringBuffer.append(TEXT_292);
d1333 1
a1333 1
    stringBuffer.append(TEXT_293);
d1335 1
a1335 1
    stringBuffer.append(TEXT_294);
d1337 1
a1337 1
    stringBuffer.append(TEXT_295);
d1347 1
a1347 1
    stringBuffer.append(TEXT_296);
d1349 1
a1349 1
    stringBuffer.append(TEXT_297);
d1351 1
a1351 1
    stringBuffer.append(TEXT_298);
d1353 1
a1353 1
    stringBuffer.append(TEXT_299);
d1355 1
a1355 1
    stringBuffer.append(TEXT_300);
d1361 1
a1361 1
    stringBuffer.append(TEXT_301);
d1363 1
a1363 1
    stringBuffer.append(TEXT_302);
d1365 1
a1365 1
    stringBuffer.append(TEXT_303);
d1367 1
a1367 1
    stringBuffer.append(TEXT_304);
d1369 1
a1369 1
    stringBuffer.append(TEXT_305);
d1371 1
a1371 1
    stringBuffer.append(TEXT_306);
d1373 1
a1373 1
    stringBuffer.append(TEXT_307);
d1376 1
a1376 1
    stringBuffer.append(TEXT_308);
d1378 1
a1378 1
    stringBuffer.append(TEXT_309);
d1380 1
a1380 1
    stringBuffer.append(TEXT_310);
d1382 1
a1382 1
    stringBuffer.append(TEXT_311);
d1384 1
a1384 1
    stringBuffer.append(TEXT_312);
d1389 1
a1389 1
    stringBuffer.append(TEXT_313);
d1391 1
a1391 1
    stringBuffer.append(TEXT_314);
d1393 1
a1393 1
    stringBuffer.append(TEXT_315);
d1395 1
a1395 1
    stringBuffer.append(TEXT_316);
d1397 1
a1397 1
    stringBuffer.append(TEXT_317);
d1400 1
a1400 1
    stringBuffer.append(TEXT_318);
d1402 1
a1402 1
    stringBuffer.append(TEXT_319);
d1404 1
a1404 1
    stringBuffer.append(TEXT_320);
d1406 1
a1406 1
    stringBuffer.append(TEXT_321);
d1408 1
a1408 1
    stringBuffer.append(TEXT_322);
d1410 1
a1410 1
    stringBuffer.append(TEXT_323);
d1412 1
a1412 1
    stringBuffer.append(TEXT_324);
d1414 1
a1414 1
    stringBuffer.append(TEXT_325);
d1416 1
a1416 1
    stringBuffer.append(TEXT_326);
d1418 1
a1418 1
    stringBuffer.append(TEXT_327);
d1428 1
a1428 1
    stringBuffer.append(TEXT_328);
d1430 1
a1430 1
    stringBuffer.append(TEXT_329);
d1432 1
a1432 1
    stringBuffer.append(TEXT_330);
d1434 1
a1434 1
    stringBuffer.append(TEXT_331);
d1436 1
a1436 1
    stringBuffer.append(TEXT_332);
d1439 1
a1439 1
    stringBuffer.append(TEXT_333);
d1449 1
a1449 1
    stringBuffer.append(TEXT_334);
d1451 1
a1451 1
    stringBuffer.append(TEXT_335);
d1453 1
a1453 1
    stringBuffer.append(TEXT_336);
d1455 1
a1455 1
    stringBuffer.append(TEXT_337);
d1457 1
a1457 1
    stringBuffer.append(TEXT_338);
d1463 1
a1463 1
    stringBuffer.append(TEXT_339);
d1465 1
a1465 1
    stringBuffer.append(TEXT_340);
d1467 1
a1467 1
    stringBuffer.append(TEXT_341);
d1469 1
a1469 1
    stringBuffer.append(TEXT_342);
d1471 1
a1471 1
    stringBuffer.append(TEXT_343);
d1473 1
a1473 1
    stringBuffer.append(TEXT_344);
d1475 1
a1475 1
    stringBuffer.append(TEXT_345);
d1478 1
a1478 1
    stringBuffer.append(TEXT_346);
d1480 1
a1480 1
    stringBuffer.append(TEXT_347);
d1482 1
a1482 1
    stringBuffer.append(TEXT_348);
d1484 1
a1484 1
    stringBuffer.append(TEXT_349);
d1486 1
a1486 1
    stringBuffer.append(TEXT_350);
d1491 1
a1491 1
    stringBuffer.append(TEXT_351);
d1493 1
a1493 1
    stringBuffer.append(TEXT_352);
d1495 1
a1495 1
    stringBuffer.append(TEXT_353);
d1497 1
a1497 1
    stringBuffer.append(TEXT_354);
d1499 1
a1499 1
    stringBuffer.append(TEXT_355);
d1502 1
a1502 1
    stringBuffer.append(TEXT_356);
d1504 1
a1504 1
    stringBuffer.append(TEXT_357);
d1506 1
a1506 1
    stringBuffer.append(TEXT_358);
d1509 1
a1509 1
    stringBuffer.append(TEXT_359);
d1511 1
a1511 1
    stringBuffer.append(TEXT_360);
d1513 1
a1513 1
    stringBuffer.append(TEXT_361);
d1515 1
a1515 1
    stringBuffer.append(TEXT_362);
d1517 1
a1517 1
    stringBuffer.append(TEXT_363);
d1519 1
a1519 1
    stringBuffer.append(TEXT_364);
d1525 1
a1525 1
    stringBuffer.append(TEXT_365);
d1527 1
a1527 1
    stringBuffer.append(TEXT_366);
@


1.36
log
@#127696 Templates should use new transaction API
@
text
@d771 1
a771 2
	
	if (!genLink.isOutgoingCreationAllowed() && !genLink.isIncomingCreationAllowed()) {
a773 1
	
a789 1
// Should not be here!
a793 1
	
a797 1
	
a804 1

d821 1
a821 3
    
}

a823 1

@


1.35
log
@#125492 Cannot generate editors whose canvas does not map to a domain element
@
text
@d99 1
a99 1
  protected final String TEXT_80 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getDestroyElementCommand(DestroyElementRequest req) {" + NL + "\t\treturn getMSLWrapper(new DestroyElementCommand(req) {" + NL + "\t\t" + NL + "\t\t\tprotected EObject getElementToDestroy() {" + NL + "\t\t\t\tView view = (View) getHost().getModel();" + NL + "\t\t\t\tEAnnotation annotation = view.getEAnnotation(\"Shortcutted\"); //$NON-NLS-1$" + NL + "\t\t\t\tif (annotation != null) {" + NL + "\t\t\t\t\treturn view;" + NL + "\t\t\t\t}" + NL + "\t\t\t\treturn super.getElementToDestroy();" + NL + "\t\t\t}\t\t" + NL;
@


1.34
log
@use new transactional emf api
@
text
@d101 9
a109 9
  protected final String TEXT_82 = " doExecute(";
  protected final String TEXT_83 = " progressMonitor) {" + NL + "\t\t\t\tEObject eObject = getElementToDestroy();" + NL + "\t\t\t\tif (eObject.eContainer() != null) {" + NL + "\t\t\t\t\treturn super.doExecute(progressMonitor);" + NL + "\t\t\t\t} else {" + NL + "\t\t\t\t\t";
  protected final String TEXT_84 = " elementState = ";
  protected final String TEXT_85 = ".getState(eObject);" + NL + "\t\t\t\t\tif (";
  protected final String TEXT_86 = ".DETACHED != elementState) {" + NL + "\t\t\t\t\t\t";
  protected final String TEXT_87 = " resource = eObject.eResource();" + NL + "\t\t\t\t\t\tif (resource == null) {" + NL + "\t\t\t\t\t\t\treturn newErrorCommandResult(\"No resource for the object: \" + eObject);" + NL + "\t\t\t\t\t\t}" + NL + "\t\t\t\t\t\t" + NL + "\t\t\t\t\t\t";
  protected final String TEXT_88 = " domain = (";
  protected final String TEXT_89 = ") ";
  protected final String TEXT_90 = ".getEditingDomain(resource);" + NL + "\t\t\t\t\t\tif (domain == null) {" + NL + "\t\t\t\t\t\t\tdomain = (";
d111 30
a140 30
  protected final String TEXT_92 = ".INSTANCE;" + NL + "\t\t\t\t\t\t}" + NL + "\t\t\t\t\t\t";
  protected final String TEXT_93 = " metaModel = ";
  protected final String TEXT_94 = ".getMetaModel(eObject);" + NL + "\t\t\t\t\t\tif ((metaModel != null) && (!metaModel.canDestroy(eObject))) {" + NL + "\t\t\t\t\t\t\treturn newOKCommandResult();" + NL + "\t\t\t\t\t\t}" + NL + "\t\t\t\t\t\teObject.eNotify(new ";
  protected final String TEXT_95 = "((";
  protected final String TEXT_96 = ") eObject, ";
  protected final String TEXT_97 = ".PRE_DESTROY, (";
  protected final String TEXT_98 = ") null, eObject, eObject));" + NL + "\t\t\t\t\t\t";
  protected final String TEXT_99 = ".teardownContainment(domain, eObject, 0);" + NL + "\t\t\t\t\t\t";
  protected final String TEXT_100 = ".sendDestroyEvent(domain, eObject);" + NL + "\t\t\t\t\t\tresource.getContents().remove(eObject);" + NL + "\t\t\t\t\t}" + NL + "\t\t\t\t}" + NL + "\t\t\t\treturn newOKCommandResult();" + NL + "\t\t\t}" + NL + "\t\t\t";
  protected final String TEXT_101 = NL + "\t\t});" + NL + "\t}";
  protected final String TEXT_102 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateRelationshipCommand(CreateRelationshipRequest req) {";
  protected final String TEXT_103 = NL + "\t\tif (";
  protected final String TEXT_104 = ".";
  protected final String TEXT_105 = " == req.getElementType()) {" + NL + "\t\t\treturn req.getTarget() == null ? ";
  protected final String TEXT_106 = " : ";
  protected final String TEXT_107 = ";" + NL + "\t\t}";
  protected final String TEXT_108 = NL + "\t\treturn super.getCreateRelationshipCommand(req);" + NL + "\t}";
  protected final String TEXT_109 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_110 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_111 = NL + "\t\t";
  protected final String TEXT_112 = " element = (";
  protected final String TEXT_113 = ") getSemanticElement();";
  protected final String TEXT_114 = NL + "\t\t";
  protected final String TEXT_115 = " element = (";
  protected final String TEXT_116 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_117 = ".eINSTANCE.get";
  protected final String TEXT_118 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_119 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_120 = NL + "\t\tif (";
  protected final String TEXT_121 = " != null) {";
d142 6
a147 6
  protected final String TEXT_123 = ".size() >= ";
  protected final String TEXT_124 = ") {";
  protected final String TEXT_125 = NL + "\t\t\treturn ";
  protected final String TEXT_126 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_127 = NL + "\t\tif (";
  protected final String TEXT_128 = " != null) {";
d149 24
a172 24
  protected final String TEXT_130 = ".size() >= ";
  protected final String TEXT_131 = ") {";
  protected final String TEXT_132 = NL + "\t\t\treturn ";
  protected final String TEXT_133 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_134 = NL + "\t\tif(!";
  protected final String TEXT_135 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_136 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_137 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_138 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_139 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_140 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_141 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_142 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_143 = NL + "\t\tfinal ";
  protected final String TEXT_144 = " element = (";
  protected final String TEXT_145 = ") getSemanticElement();";
  protected final String TEXT_146 = NL + "\t\tfinal ";
  protected final String TEXT_147 = " element = (";
  protected final String TEXT_148 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_149 = ".eINSTANCE.get";
  protected final String TEXT_150 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_151 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_152 = NL + "\t\tif (";
  protected final String TEXT_153 = " != null) {";
d174 6
a179 6
  protected final String TEXT_155 = ".size() >= ";
  protected final String TEXT_156 = ") {";
  protected final String TEXT_157 = NL + "\t\t\treturn ";
  protected final String TEXT_158 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_159 = NL + "\t\tif (";
  protected final String TEXT_160 = " != null) {";
d181 65
a245 65
  protected final String TEXT_162 = ".size() >= ";
  protected final String TEXT_163 = ") {";
  protected final String TEXT_164 = NL + "\t\t\treturn ";
  protected final String TEXT_165 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_166 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_167 = ".eINSTANCE.get";
  protected final String TEXT_168 = "());" + NL + "\t\t}" + NL + "\t\t";
  protected final String TEXT_169 = NL + "\t\tif(!";
  protected final String TEXT_170 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_171 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_172 = "\t\t\t\t" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_173 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_174 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_175 = "Command extends ";
  protected final String TEXT_176 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_177 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_178 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_179 = ".eINSTANCE.get";
  protected final String TEXT_180 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_181 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_182 = " doDefaultElementCreation() {";
  protected final String TEXT_183 = NL + "\t\t\t";
  protected final String TEXT_184 = " newElement = (";
  protected final String TEXT_185 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_186 = "(";
  protected final String TEXT_187 = ") getSource());";
  protected final String TEXT_188 = NL + "\t\t\t\t";
  protected final String TEXT_189 = "(";
  protected final String TEXT_190 = ") getTarget());";
  protected final String TEXT_191 = NL + "\t\t\t\t";
  protected final String TEXT_192 = " container = (";
  protected final String TEXT_193 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_194 = NL + "\t\t\t\t\t";
  protected final String TEXT_195 = " featureValues = container.";
  protected final String TEXT_196 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_197 = NL + "\t\t\t\t \t";
  protected final String TEXT_198 = "newElement);";
  protected final String TEXT_199 = NL + "\t\t\t\t}";
  protected final String TEXT_200 = NL + "\t\t\t\t";
  protected final String TEXT_201 = ".Initializers.";
  protected final String TEXT_202 = ".init(newElement);";
  protected final String TEXT_203 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_204 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_205 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_206 = NL + "\t\tif(!";
  protected final String TEXT_207 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_208 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_209 = "\t";
  protected final String TEXT_210 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_211 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_212 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_213 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_214 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_215 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_216 = NL + "\t\tfinal ";
  protected final String TEXT_217 = " element = (";
  protected final String TEXT_218 = ") req.getSource();";
  protected final String TEXT_219 = NL + "\t\tfinal ";
  protected final String TEXT_220 = " element = (";
  protected final String TEXT_221 = ") getRelationshipContainer(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_222 = ".eINSTANCE.get";
  protected final String TEXT_223 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_224 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_225 = NL + "\t\tif (";
  protected final String TEXT_226 = " != null) {";
d247 6
a252 6
  protected final String TEXT_228 = ".size() >= ";
  protected final String TEXT_229 = ") {";
  protected final String TEXT_230 = NL + "\t\t\treturn ";
  protected final String TEXT_231 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_232 = NL + "\t\tif (";
  protected final String TEXT_233 = " != null) {";
d254 49
a302 49
  protected final String TEXT_235 = ".size() >= ";
  protected final String TEXT_236 = ") {";
  protected final String TEXT_237 = NL + "\t\t\treturn ";
  protected final String TEXT_238 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_239 = NL + "\t\tif(!";
  protected final String TEXT_240 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_241 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_242 = "\t\t";
  protected final String TEXT_243 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_244 = ".eINSTANCE.get";
  protected final String TEXT_245 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_246 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_247 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_248 = "Command extends ";
  protected final String TEXT_249 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_250 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_251 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_252 = ".eINSTANCE.get";
  protected final String TEXT_253 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_254 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_255 = " doDefaultElementCreation() {";
  protected final String TEXT_256 = NL + "\t\t\t";
  protected final String TEXT_257 = " newElement = (";
  protected final String TEXT_258 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_259 = "(";
  protected final String TEXT_260 = ") getTarget());";
  protected final String TEXT_261 = NL + "\t\t\t\t";
  protected final String TEXT_262 = "(";
  protected final String TEXT_263 = ") getSource());";
  protected final String TEXT_264 = NL + "\t\t\t\t";
  protected final String TEXT_265 = " container = (";
  protected final String TEXT_266 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_267 = NL + "\t\t\t\t\t";
  protected final String TEXT_268 = " featureValues = container.";
  protected final String TEXT_269 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_270 = NL + "\t\t\t\t \t";
  protected final String TEXT_271 = "newElement);";
  protected final String TEXT_272 = NL + "\t\t\t\t}";
  protected final String TEXT_273 = NL + "\t\t\t\t";
  protected final String TEXT_274 = ".Initializers.";
  protected final String TEXT_275 = ".init(newElement);";
  protected final String TEXT_276 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_277 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_278 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_279 = NL + "\t\t";
  protected final String TEXT_280 = " element = (";
  protected final String TEXT_281 = ") getSemanticElement();";
  protected final String TEXT_282 = NL + "\t\tif (";
  protected final String TEXT_283 = " != null) {";
d304 19
a322 19
  protected final String TEXT_285 = ".size() >= ";
  protected final String TEXT_286 = ") {";
  protected final String TEXT_287 = NL + "\t\t\treturn ";
  protected final String TEXT_288 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_289 = NL + "\t\tif(!";
  protected final String TEXT_290 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_291 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_292 = NL;
  protected final String TEXT_293 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_294 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_295 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_296 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_297 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_298 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_299 = NL + "\t\t";
  protected final String TEXT_300 = " element = (";
  protected final String TEXT_301 = ") getSemanticElement();";
  protected final String TEXT_302 = NL + "\t\tif (";
  protected final String TEXT_303 = " != null) {";
d324 37
a360 37
  protected final String TEXT_305 = ".size() >= ";
  protected final String TEXT_306 = NL + "\t\t\t|| ";
  protected final String TEXT_307 = ".contains(req.getSource())";
  protected final String TEXT_308 = NL + "\t\t\t\t) {";
  protected final String TEXT_309 = NL + "\t\t\treturn ";
  protected final String TEXT_310 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_311 = NL + "\t\t";
  protected final String TEXT_312 = " element = (";
  protected final String TEXT_313 = ") getSemanticElement();" + NL + "\t\tif (";
  protected final String TEXT_314 = ".contains(req.getSource())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_315 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_316 = NL + "\t\tif(!";
  protected final String TEXT_317 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_318 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_319 = "\t\t";
  protected final String TEXT_320 = NL + "\t\t";
  protected final String TEXT_321 = " setReq = new ";
  protected final String TEXT_322 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_323 = ".eINSTANCE.get";
  protected final String TEXT_324 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_325 = "(setReq));" + NL + "\t}";
  protected final String TEXT_326 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_327 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_328 = NL + "\t\tif(!";
  protected final String TEXT_329 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_330 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_331 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_332 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_333 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_334 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_335 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_336 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_337 = NL + "\t\t";
  protected final String TEXT_338 = " element = (";
  protected final String TEXT_339 = ") req.getSource();";
  protected final String TEXT_340 = NL + "\t\tif (";
  protected final String TEXT_341 = " != null) {";
d362 24
a385 22
  protected final String TEXT_343 = ".size() >= ";
  protected final String TEXT_344 = NL + "\t\t\t|| ";
  protected final String TEXT_345 = ".contains(req.getTarget())";
  protected final String TEXT_346 = NL + "\t\t\t\t) {";
  protected final String TEXT_347 = NL + "\t\t\treturn ";
  protected final String TEXT_348 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_349 = NL + "\t\t";
  protected final String TEXT_350 = " element = (";
  protected final String TEXT_351 = ") req.getSource();" + NL + "\t\tif (";
  protected final String TEXT_352 = ".contains(req.getTarget())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_353 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_354 = NL + "\t\tif(!";
  protected final String TEXT_355 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_356 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_357 = NL + "\t\t";
  protected final String TEXT_358 = " setReq = new ";
  protected final String TEXT_359 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_360 = ".eINSTANCE.get";
  protected final String TEXT_361 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_362 = "(setReq));" + NL + "\t}";
  protected final String TEXT_363 = NL + "}";
  protected final String TEXT_364 = NL;
d716 1
a716 3
    
	if (genNode.getModelFacet().isPhantomElement()) {

d722 1
a722 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.edit.MObjectState"));
d724 1
a724 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.util.EObjectUtil"));
d728 1
a728 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.resource.Resource"));
d730 1
a730 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain"));
d732 2
a734 2
    stringBuffer.append(TEXT_89);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.edit.MEditingDomain"));
d740 1
a740 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.services.metamodel.IMetamodelSupport"));
d742 1
a742 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.internal.util.MSLUtil"));
d744 1
a744 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.impl.ENotificationImpl"));
d746 1
a746 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.InternalEObject"));
d748 1
a748 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.EventTypes"));
d750 1
a750 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EStructuralFeature"));
d752 1
a752 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.internal.util.MSLUtil"));
d754 2
a756 4
    stringBuffer.append(TEXT_100);
    
	}

d758 4
d767 1
a767 1
    stringBuffer.append(TEXT_102);
d818 1
a818 1
    stringBuffer.append(TEXT_103);
d820 1
a820 1
    stringBuffer.append(TEXT_104);
d822 1
a822 1
    stringBuffer.append(TEXT_105);
d824 1
a824 1
    stringBuffer.append(TEXT_106);
d826 1
a826 1
    stringBuffer.append(TEXT_107);
d830 1
a830 1
    stringBuffer.append(TEXT_108);
d892 1
a892 1
    stringBuffer.append(TEXT_109);
d894 1
a894 1
    stringBuffer.append(TEXT_110);
d901 1
a901 1
    stringBuffer.append(TEXT_111);
d903 1
a903 1
    stringBuffer.append(TEXT_112);
d905 1
a905 1
    stringBuffer.append(TEXT_113);
d907 1
a907 1
    stringBuffer.append(TEXT_114);
d909 1
a909 1
    stringBuffer.append(TEXT_115);
d911 1
a911 1
    stringBuffer.append(TEXT_116);
d913 1
a913 1
    stringBuffer.append(TEXT_117);
d915 1
a915 1
    stringBuffer.append(TEXT_118);
d917 1
a917 1
    stringBuffer.append(TEXT_119);
d923 1
a923 1
    stringBuffer.append(TEXT_120);
d925 1
a925 1
    stringBuffer.append(TEXT_121);
d927 1
a927 1
    stringBuffer.append(TEXT_122);
d929 1
a929 1
    stringBuffer.append(TEXT_123);
d931 1
a931 1
    stringBuffer.append(TEXT_124);
d933 1
a933 1
    stringBuffer.append(TEXT_125);
d935 1
a935 1
    stringBuffer.append(TEXT_126);
d941 1
a941 1
    stringBuffer.append(TEXT_127);
d943 1
a943 1
    stringBuffer.append(TEXT_128);
d945 1
a945 1
    stringBuffer.append(TEXT_129);
d947 1
a947 1
    stringBuffer.append(TEXT_130);
d949 1
a949 1
    stringBuffer.append(TEXT_131);
d951 1
a951 1
    stringBuffer.append(TEXT_132);
d953 1
a953 1
    stringBuffer.append(TEXT_133);
d959 1
a959 1
    stringBuffer.append(TEXT_134);
d961 1
a961 1
    stringBuffer.append(TEXT_135);
d963 1
a963 1
    stringBuffer.append(TEXT_136);
d966 1
a966 1
    stringBuffer.append(TEXT_137);
d976 1
a976 1
    stringBuffer.append(TEXT_138);
d978 1
a978 1
    stringBuffer.append(TEXT_139);
d980 1
a980 1
    stringBuffer.append(TEXT_140);
d982 1
a982 1
    stringBuffer.append(TEXT_141);
d984 1
a984 1
    stringBuffer.append(TEXT_142);
d989 1
a989 1
    stringBuffer.append(TEXT_143);
d991 1
a991 1
    stringBuffer.append(TEXT_144);
d993 1
a993 1
    stringBuffer.append(TEXT_145);
d995 1
a995 1
    stringBuffer.append(TEXT_146);
d997 1
a997 1
    stringBuffer.append(TEXT_147);
d999 1
a999 1
    stringBuffer.append(TEXT_148);
d1001 1
a1001 1
    stringBuffer.append(TEXT_149);
d1003 1
a1003 1
    stringBuffer.append(TEXT_150);
d1005 1
a1005 1
    stringBuffer.append(TEXT_151);
d1013 1
a1013 1
    stringBuffer.append(TEXT_152);
d1015 1
a1015 1
    stringBuffer.append(TEXT_153);
d1017 1
a1017 1
    stringBuffer.append(TEXT_154);
d1019 1
a1019 1
    stringBuffer.append(TEXT_155);
d1021 1
a1021 1
    stringBuffer.append(TEXT_156);
d1023 1
a1023 1
    stringBuffer.append(TEXT_157);
d1025 1
a1025 1
    stringBuffer.append(TEXT_158);
d1031 1
a1031 1
    stringBuffer.append(TEXT_159);
d1033 1
a1033 1
    stringBuffer.append(TEXT_160);
d1035 1
a1035 1
    stringBuffer.append(TEXT_161);
d1037 1
a1037 1
    stringBuffer.append(TEXT_162);
d1039 1
a1039 1
    stringBuffer.append(TEXT_163);
d1041 1
a1041 1
    stringBuffer.append(TEXT_164);
d1043 1
a1043 1
    stringBuffer.append(TEXT_165);
d1049 1
a1049 1
    stringBuffer.append(TEXT_166);
d1051 1
a1051 1
    stringBuffer.append(TEXT_167);
d1053 1
a1053 1
    stringBuffer.append(TEXT_168);
d1055 1
a1055 1
    stringBuffer.append(TEXT_169);
d1057 1
a1057 1
    stringBuffer.append(TEXT_170);
d1059 1
a1059 1
    stringBuffer.append(TEXT_171);
a1060 4
    stringBuffer.append(TEXT_172);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_173);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d1064 1
a1064 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.commands.CreateRelationshipCommand"));
d1068 4
d1073 1
a1073 1
    stringBuffer.append(TEXT_178);
d1075 1
a1075 1
    stringBuffer.append(TEXT_179);
d1077 1
a1077 1
    stringBuffer.append(TEXT_180);
d1079 1
a1079 1
    stringBuffer.append(TEXT_181);
d1081 1
a1081 1
    stringBuffer.append(TEXT_182);
d1083 1
a1083 1
    stringBuffer.append(TEXT_183);
d1085 1
a1085 1
    stringBuffer.append(TEXT_184);
d1087 1
a1087 1
    stringBuffer.append(TEXT_185);
d1089 1
a1089 1
    stringBuffer.append(TEXT_186);
d1091 1
a1091 1
    stringBuffer.append(TEXT_187);
d1093 1
a1093 1
    stringBuffer.append(TEXT_188);
d1095 1
a1095 1
    stringBuffer.append(TEXT_189);
d1097 1
a1097 1
    stringBuffer.append(TEXT_190);
d1102 1
a1102 1
    stringBuffer.append(TEXT_191);
d1104 1
a1104 1
    stringBuffer.append(TEXT_192);
d1106 1
a1106 1
    stringBuffer.append(TEXT_193);
d1108 1
a1108 1
    stringBuffer.append(TEXT_194);
d1110 1
a1110 1
    stringBuffer.append(TEXT_195);
d1112 1
a1112 1
    stringBuffer.append(TEXT_196);
d1114 1
a1114 1
    stringBuffer.append(TEXT_197);
d1116 1
a1116 1
    stringBuffer.append(TEXT_198);
d1118 1
a1118 1
    stringBuffer.append(TEXT_199);
d1123 1
a1123 1
    stringBuffer.append(TEXT_200);
d1125 1
a1125 1
    stringBuffer.append(TEXT_201);
d1127 1
a1127 1
    stringBuffer.append(TEXT_202);
d1129 1
a1129 1
    stringBuffer.append(TEXT_203);
d1139 1
a1139 1
    stringBuffer.append(TEXT_204);
d1141 1
a1141 1
    stringBuffer.append(TEXT_205);
d1143 1
a1143 1
    stringBuffer.append(TEXT_206);
d1145 1
a1145 1
    stringBuffer.append(TEXT_207);
d1147 1
a1147 1
    stringBuffer.append(TEXT_208);
d1149 1
a1149 1
    stringBuffer.append(TEXT_209);
d1151 1
a1151 1
    stringBuffer.append(TEXT_210);
d1161 1
a1161 1
    stringBuffer.append(TEXT_211);
d1163 1
a1163 1
    stringBuffer.append(TEXT_212);
d1165 1
a1165 1
    stringBuffer.append(TEXT_213);
d1167 1
a1167 1
    stringBuffer.append(TEXT_214);
d1169 1
a1169 1
    stringBuffer.append(TEXT_215);
d1174 1
a1174 1
    stringBuffer.append(TEXT_216);
d1176 1
a1176 1
    stringBuffer.append(TEXT_217);
d1178 1
a1178 1
    stringBuffer.append(TEXT_218);
d1180 1
a1180 1
    stringBuffer.append(TEXT_219);
d1182 1
a1182 1
    stringBuffer.append(TEXT_220);
d1184 1
a1184 1
    stringBuffer.append(TEXT_221);
d1186 1
a1186 1
    stringBuffer.append(TEXT_222);
d1188 1
a1188 1
    stringBuffer.append(TEXT_223);
d1190 1
a1190 1
    stringBuffer.append(TEXT_224);
d1198 1
a1198 1
    stringBuffer.append(TEXT_225);
d1200 1
a1200 1
    stringBuffer.append(TEXT_226);
d1202 1
a1202 1
    stringBuffer.append(TEXT_227);
d1204 1
a1204 1
    stringBuffer.append(TEXT_228);
d1206 1
a1206 1
    stringBuffer.append(TEXT_229);
d1208 1
a1208 1
    stringBuffer.append(TEXT_230);
d1210 1
a1210 1
    stringBuffer.append(TEXT_231);
d1216 1
a1216 1
    stringBuffer.append(TEXT_232);
d1218 1
a1218 1
    stringBuffer.append(TEXT_233);
d1220 1
a1220 1
    stringBuffer.append(TEXT_234);
d1222 1
a1222 1
    stringBuffer.append(TEXT_235);
d1224 1
a1224 1
    stringBuffer.append(TEXT_236);
d1226 1
a1226 1
    stringBuffer.append(TEXT_237);
d1228 1
a1228 1
    stringBuffer.append(TEXT_238);
d1234 1
a1234 1
    stringBuffer.append(TEXT_239);
d1236 1
a1236 1
    stringBuffer.append(TEXT_240);
d1238 1
a1238 1
    stringBuffer.append(TEXT_241);
d1240 1
a1240 1
    stringBuffer.append(TEXT_242);
d1242 1
a1242 1
    stringBuffer.append(TEXT_243);
d1244 1
a1244 1
    stringBuffer.append(TEXT_244);
a1245 4
    stringBuffer.append(TEXT_245);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_246);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d1249 1
a1249 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.type.core.commands.CreateRelationshipCommand"));
d1253 4
d1258 1
a1258 1
    stringBuffer.append(TEXT_251);
d1260 1
a1260 1
    stringBuffer.append(TEXT_252);
d1262 1
a1262 1
    stringBuffer.append(TEXT_253);
d1264 1
a1264 1
    stringBuffer.append(TEXT_254);
d1266 1
a1266 1
    stringBuffer.append(TEXT_255);
d1268 1
a1268 1
    stringBuffer.append(TEXT_256);
d1270 1
a1270 1
    stringBuffer.append(TEXT_257);
d1272 1
a1272 1
    stringBuffer.append(TEXT_258);
d1274 1
a1274 1
    stringBuffer.append(TEXT_259);
d1276 1
a1276 1
    stringBuffer.append(TEXT_260);
d1278 1
a1278 1
    stringBuffer.append(TEXT_261);
d1280 1
a1280 1
    stringBuffer.append(TEXT_262);
d1282 1
a1282 1
    stringBuffer.append(TEXT_263);
d1287 1
a1287 1
    stringBuffer.append(TEXT_264);
d1289 1
a1289 1
    stringBuffer.append(TEXT_265);
d1291 1
a1291 1
    stringBuffer.append(TEXT_266);
d1293 1
a1293 1
    stringBuffer.append(TEXT_267);
d1295 1
a1295 1
    stringBuffer.append(TEXT_268);
d1297 1
a1297 1
    stringBuffer.append(TEXT_269);
d1299 1
a1299 1
    stringBuffer.append(TEXT_270);
d1301 1
a1301 1
    stringBuffer.append(TEXT_271);
d1303 1
a1303 1
    stringBuffer.append(TEXT_272);
d1308 1
a1308 1
    stringBuffer.append(TEXT_273);
d1310 1
a1310 1
    stringBuffer.append(TEXT_274);
d1312 1
a1312 1
    stringBuffer.append(TEXT_275);
d1314 1
a1314 1
    stringBuffer.append(TEXT_276);
d1366 1
a1366 1
    stringBuffer.append(TEXT_277);
d1368 1
a1368 1
    stringBuffer.append(TEXT_278);
d1374 1
a1374 1
    stringBuffer.append(TEXT_279);
d1376 1
a1376 1
    stringBuffer.append(TEXT_280);
d1378 1
a1378 1
    stringBuffer.append(TEXT_281);
d1380 1
a1380 1
    stringBuffer.append(TEXT_282);
d1382 1
a1382 1
    stringBuffer.append(TEXT_283);
d1384 1
a1384 1
    stringBuffer.append(TEXT_284);
d1386 1
a1386 1
    stringBuffer.append(TEXT_285);
d1388 1
a1388 1
    stringBuffer.append(TEXT_286);
d1390 1
a1390 1
    stringBuffer.append(TEXT_287);
d1392 1
a1392 1
    stringBuffer.append(TEXT_288);
d1395 1
a1395 1
    stringBuffer.append(TEXT_289);
d1397 1
a1397 1
    stringBuffer.append(TEXT_290);
d1399 1
a1399 1
    stringBuffer.append(TEXT_291);
d1401 1
a1401 1
    stringBuffer.append(TEXT_292);
d1403 1
a1403 1
    stringBuffer.append(TEXT_293);
d1413 1
a1413 1
    stringBuffer.append(TEXT_294);
d1415 1
a1415 1
    stringBuffer.append(TEXT_295);
d1417 1
a1417 1
    stringBuffer.append(TEXT_296);
d1419 1
a1419 1
    stringBuffer.append(TEXT_297);
d1421 1
a1421 1
    stringBuffer.append(TEXT_298);
d1427 1
a1427 1
    stringBuffer.append(TEXT_299);
d1429 1
a1429 1
    stringBuffer.append(TEXT_300);
d1431 1
a1431 1
    stringBuffer.append(TEXT_301);
d1433 1
a1433 1
    stringBuffer.append(TEXT_302);
d1435 1
a1435 1
    stringBuffer.append(TEXT_303);
d1437 1
a1437 1
    stringBuffer.append(TEXT_304);
d1439 1
a1439 1
    stringBuffer.append(TEXT_305);
d1442 1
a1442 1
    stringBuffer.append(TEXT_306);
d1444 1
a1444 1
    stringBuffer.append(TEXT_307);
d1446 1
a1446 1
    stringBuffer.append(TEXT_308);
d1448 1
a1448 1
    stringBuffer.append(TEXT_309);
d1450 1
a1450 1
    stringBuffer.append(TEXT_310);
d1455 1
a1455 1
    stringBuffer.append(TEXT_311);
d1457 1
a1457 1
    stringBuffer.append(TEXT_312);
d1459 1
a1459 1
    stringBuffer.append(TEXT_313);
d1461 1
a1461 1
    stringBuffer.append(TEXT_314);
d1463 1
a1463 1
    stringBuffer.append(TEXT_315);
d1466 1
a1466 1
    stringBuffer.append(TEXT_316);
d1468 1
a1468 1
    stringBuffer.append(TEXT_317);
d1470 1
a1470 1
    stringBuffer.append(TEXT_318);
d1472 1
a1472 1
    stringBuffer.append(TEXT_319);
d1474 1
a1474 1
    stringBuffer.append(TEXT_320);
d1476 1
a1476 1
    stringBuffer.append(TEXT_321);
d1478 1
a1478 1
    stringBuffer.append(TEXT_322);
d1480 1
a1480 1
    stringBuffer.append(TEXT_323);
d1482 1
a1482 1
    stringBuffer.append(TEXT_324);
d1484 1
a1484 1
    stringBuffer.append(TEXT_325);
d1494 1
a1494 1
    stringBuffer.append(TEXT_326);
d1496 1
a1496 1
    stringBuffer.append(TEXT_327);
d1498 1
a1498 1
    stringBuffer.append(TEXT_328);
d1500 1
a1500 1
    stringBuffer.append(TEXT_329);
d1502 1
a1502 1
    stringBuffer.append(TEXT_330);
d1505 1
a1505 1
    stringBuffer.append(TEXT_331);
d1515 1
a1515 1
    stringBuffer.append(TEXT_332);
d1517 1
a1517 1
    stringBuffer.append(TEXT_333);
d1519 1
a1519 1
    stringBuffer.append(TEXT_334);
d1521 1
a1521 1
    stringBuffer.append(TEXT_335);
d1523 1
a1523 1
    stringBuffer.append(TEXT_336);
d1529 1
a1529 1
    stringBuffer.append(TEXT_337);
d1531 1
a1531 1
    stringBuffer.append(TEXT_338);
d1533 1
a1533 1
    stringBuffer.append(TEXT_339);
d1535 1
a1535 1
    stringBuffer.append(TEXT_340);
d1537 1
a1537 1
    stringBuffer.append(TEXT_341);
d1539 1
a1539 1
    stringBuffer.append(TEXT_342);
d1541 1
a1541 1
    stringBuffer.append(TEXT_343);
d1544 1
a1544 1
    stringBuffer.append(TEXT_344);
d1546 1
a1546 1
    stringBuffer.append(TEXT_345);
d1548 1
a1548 1
    stringBuffer.append(TEXT_346);
d1550 1
a1550 1
    stringBuffer.append(TEXT_347);
d1552 1
a1552 1
    stringBuffer.append(TEXT_348);
d1557 1
a1557 1
    stringBuffer.append(TEXT_349);
d1559 1
a1559 1
    stringBuffer.append(TEXT_350);
d1561 1
a1561 1
    stringBuffer.append(TEXT_351);
d1563 1
a1563 1
    stringBuffer.append(TEXT_352);
d1565 1
a1565 1
    stringBuffer.append(TEXT_353);
d1568 1
a1568 1
    stringBuffer.append(TEXT_354);
d1570 1
a1570 1
    stringBuffer.append(TEXT_355);
d1572 1
a1572 1
    stringBuffer.append(TEXT_356);
d1575 1
a1575 1
    stringBuffer.append(TEXT_357);
d1577 1
a1577 1
    stringBuffer.append(TEXT_358);
d1579 1
a1579 1
    stringBuffer.append(TEXT_359);
d1581 1
a1581 1
    stringBuffer.append(TEXT_360);
d1583 1
a1583 1
    stringBuffer.append(TEXT_361);
d1585 1
a1585 1
    stringBuffer.append(TEXT_362);
d1591 1
a1591 1
    stringBuffer.append(TEXT_363);
d1593 1
a1593 1
    stringBuffer.append(TEXT_364);
@


1.33
log
@ImportManager has to know its package anyway, so why not use it to emit appropriate statement?
Besides, package fragment is external to template, template has no control over file placement, thus we'd better pass package name as an argument
@
text
@d22 1
a22 1
  protected final String TEXT_3 = NL + "import org.eclipse.gef.commands.Command;" + NL + "import org.eclipse.gmf.runtime.emf.commands.core.commands.MSLDestroyElementCommand;" + NL + "import org.eclipse.gmf.runtime.emf.type.core.requests.CreateRelationshipRequest;" + NL + "import org.eclipse.gmf.runtime.emf.type.core.requests.DestroyElementRequest;" + NL + "import org.eclipse.emf.ecore.EObject;" + NL + "import org.eclipse.emf.ecore.EAnnotation;" + NL + "import org.eclipse.gmf.runtime.notation.View;";
d99 1
a99 1
  protected final String TEXT_80 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getDestroyElementCommand(DestroyElementRequest req) {" + NL + "\t\treturn getMSLWrapper(new MSLDestroyElementCommand(req) {" + NL + "\t\t" + NL + "\t\t\tprotected EObject getElementToDestroy() {" + NL + "\t\t\t\tView view = (View) getHost().getModel();" + NL + "\t\t\t\tEAnnotation annotation = view.getEAnnotation(\"Shortcutted\"); //$NON-NLS-1$" + NL + "\t\t\t\tif (annotation != null) {" + NL + "\t\t\t\t\treturn view;" + NL + "\t\t\t\t}" + NL + "\t\t\t\treturn super.getElementToDestroy();" + NL + "\t\t\t}\t\t" + NL;
d607 1
a607 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.commands.core.commands.MSLCreateElementCommand"));
d1066 1
a1066 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.commands.core.commands.MSLCreateRelationshipCommand"));
d1251 1
a1251 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.commands.core.commands.MSLCreateRelationshipCommand"));
@


1.32
log
@major refactoring of .gmfgen - new top-level entity introduced,  erroneous domainMetaModel feature removed (was deprecated for a while)
moving towards support of domain models defined in different packages - each GenElement uses it's own genPackage.packageInterfaceName
@
text
@d385 1
a385 1
	protected final String getFeatureValueGetter(String containerName, GenFeature feature, boolean isContainerEObject, ImportUtil importManager) {
d429 1
a429 1
	protected final String getFeatureValueSetterPrefix(String containerName, GenFeature feature, boolean isContainerEObject, ImportUtil importManager) {
d472 1
a472 1
	protected final String getMetaClassAccessor(GenClass genClass, ImportUtil importManager) {
d485 1
a485 1
GenNode genNode = (GenNode) argument;
@


1.31
log
@#126537
Possibility to visualize child-parent relachipchip as a link implemented
@
text
@a511 1
GenPackage genPackage = genDiagram.getDomainMetaModel();
d585 1
a585 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d613 1
a613 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
a760 1
GenPackage genPackage = genDiagram.getDomainMetaModel();
d910 1
a910 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d998 1
a998 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d1048 1
a1048 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d1072 1
a1072 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d1183 1
a1183 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d1241 1
a1241 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d1257 1
a1257 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d1477 1
a1477 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d1578 1
a1578 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
@


1.30
log
@ImportManager moved to oeg.common
@
text
@d53 78
a130 78
  protected final String TEXT_34 = "());" + NL + "\t\t\t}" + NL + "\t\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_35 = "Command(req));" + NL + "\t\t}";
  protected final String TEXT_36 = NL + "\t\treturn super.getCreateCommand(req);" + NL + "\t}";
  protected final String TEXT_37 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_38 = "Command extends ";
  protected final String TEXT_39 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_40 = "Command(CreateElementRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_41 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_42 = ".eINSTANCE.get";
  protected final String TEXT_43 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_44 = " getElementToEdit() {" + NL + "\t\t\t";
  protected final String TEXT_45 = " container = ((CreateElementRequest) getRequest()).getContainer();" + NL + "\t\t\tif (container instanceof ";
  protected final String TEXT_46 = ") {" + NL + "\t\t\t\tcontainer = ((";
  protected final String TEXT_47 = ") container).getElement();" + NL + "\t\t\t}" + NL + "\t\t\treturn container;" + NL + "\t\t}";
  protected final String TEXT_48 = NL + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_49 = " doDefaultElementCreation() {" + NL + "\t\t\t";
  protected final String TEXT_50 = " newElement = (";
  protected final String TEXT_51 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {";
  protected final String TEXT_52 = NL + "\t\t\t\t ";
  protected final String TEXT_53 = " container = (";
  protected final String TEXT_54 = ") getElementToEdit();" + NL + "\t\t\t\t if (container != null) {";
  protected final String TEXT_55 = NL + "\t\t\t\t\t";
  protected final String TEXT_56 = " featureValues = container.";
  protected final String TEXT_57 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_58 = NL + "\t\t\t\t \t";
  protected final String TEXT_59 = "newElement);";
  protected final String TEXT_60 = NL + "\t\t\t\t }";
  protected final String TEXT_61 = "\t\t" + NL + "\t\t\t\t";
  protected final String TEXT_62 = ".Initializers.";
  protected final String TEXT_63 = ".init(newElement);";
  protected final String TEXT_64 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}";
  protected final String TEXT_65 = NL + "\t}";
  protected final String TEXT_66 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getDestroyElementCommand(DestroyElementRequest req) {" + NL + "\t\treturn getMSLWrapper(new MSLDestroyElementCommand(req) {" + NL + "\t\t\tprotected EObject getElementToDestroy() {" + NL + "\t\t\t\tView view = (View) getHost().getModel();" + NL + "\t\t\t\tEAnnotation annotation = view.getEAnnotation(\"Shortcutted\"); //$NON-NLS-1$" + NL + "\t\t\t\tif (annotation != null) {" + NL + "\t\t\t\t\treturn view;" + NL + "\t\t\t\t}" + NL + "\t\t\t\treturn super.getElementToDestroy();" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}";
  protected final String TEXT_67 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateRelationshipCommand(CreateRelationshipRequest req) {";
  protected final String TEXT_68 = NL + "\t\tif (";
  protected final String TEXT_69 = ".";
  protected final String TEXT_70 = " == req.getElementType()) {" + NL + "\t\t\treturn req.getTarget() == null ? ";
  protected final String TEXT_71 = " : ";
  protected final String TEXT_72 = ";" + NL + "\t\t}";
  protected final String TEXT_73 = NL + "\t\treturn super.getCreateRelationshipCommand(req);" + NL + "\t}";
  protected final String TEXT_74 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_75 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_76 = NL + "\t\t";
  protected final String TEXT_77 = " element = (";
  protected final String TEXT_78 = ") getSemanticElement();";
  protected final String TEXT_79 = NL + "\t\t";
  protected final String TEXT_80 = " element = (";
  protected final String TEXT_81 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_82 = ".eINSTANCE.get";
  protected final String TEXT_83 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_84 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_85 = NL + "\t\tif (";
  protected final String TEXT_86 = " != null) {";
  protected final String TEXT_87 = NL + "\t\tif (";
  protected final String TEXT_88 = ".size() >= ";
  protected final String TEXT_89 = ") {";
  protected final String TEXT_90 = NL + "\t\t\treturn ";
  protected final String TEXT_91 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_92 = NL + "\t\tif (";
  protected final String TEXT_93 = " != null) {";
  protected final String TEXT_94 = NL + "\t\tif (";
  protected final String TEXT_95 = ".size() >= ";
  protected final String TEXT_96 = ") {";
  protected final String TEXT_97 = NL + "\t\t\treturn ";
  protected final String TEXT_98 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_99 = NL + "\t\tif(!";
  protected final String TEXT_100 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_101 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_102 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_103 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_104 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_105 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_106 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_107 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_108 = NL + "\t\tfinal ";
  protected final String TEXT_109 = " element = (";
  protected final String TEXT_110 = ") getSemanticElement();";
  protected final String TEXT_111 = NL + "\t\tfinal ";
d132 21
a152 21
  protected final String TEXT_113 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_114 = ".eINSTANCE.get";
  protected final String TEXT_115 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_116 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_117 = NL + "\t\tif (";
  protected final String TEXT_118 = " != null) {";
  protected final String TEXT_119 = NL + "\t\tif (";
  protected final String TEXT_120 = ".size() >= ";
  protected final String TEXT_121 = ") {";
  protected final String TEXT_122 = NL + "\t\t\treturn ";
  protected final String TEXT_123 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_124 = NL + "\t\tif (";
  protected final String TEXT_125 = " != null) {";
  protected final String TEXT_126 = NL + "\t\tif (";
  protected final String TEXT_127 = ".size() >= ";
  protected final String TEXT_128 = ") {";
  protected final String TEXT_129 = NL + "\t\t\treturn ";
  protected final String TEXT_130 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_131 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_132 = ".eINSTANCE.get";
  protected final String TEXT_133 = "());" + NL + "\t\t}" + NL + "\t\t";
d154 1
a154 1
  protected final String TEXT_135 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
d156 228
a383 193
  protected final String TEXT_137 = "\t\t\t\t" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_138 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_139 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_140 = "Command extends ";
  protected final String TEXT_141 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_142 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_143 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_144 = ".eINSTANCE.get";
  protected final String TEXT_145 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_146 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_147 = " doDefaultElementCreation() {";
  protected final String TEXT_148 = NL + "\t\t\t";
  protected final String TEXT_149 = " newElement = (";
  protected final String TEXT_150 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_151 = "(";
  protected final String TEXT_152 = ") getSource());";
  protected final String TEXT_153 = NL + "\t\t\t\t";
  protected final String TEXT_154 = "(";
  protected final String TEXT_155 = ") getTarget());";
  protected final String TEXT_156 = NL + "\t\t\t\t";
  protected final String TEXT_157 = " container = (";
  protected final String TEXT_158 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_159 = NL + "\t\t\t\t\t";
  protected final String TEXT_160 = " featureValues = container.";
  protected final String TEXT_161 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_162 = NL + "\t\t\t\t \t";
  protected final String TEXT_163 = "newElement);";
  protected final String TEXT_164 = NL + "\t\t\t\t}";
  protected final String TEXT_165 = NL + "\t\t\t\t";
  protected final String TEXT_166 = ".Initializers.";
  protected final String TEXT_167 = ".init(newElement);";
  protected final String TEXT_168 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_169 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_170 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_171 = NL + "\t\tif(!";
  protected final String TEXT_172 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_173 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_174 = "\t";
  protected final String TEXT_175 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_176 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_177 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_178 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_179 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_180 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_181 = NL + "\t\tfinal ";
  protected final String TEXT_182 = " element = (";
  protected final String TEXT_183 = ") req.getSource();";
  protected final String TEXT_184 = NL + "\t\tfinal ";
  protected final String TEXT_185 = " element = (";
  protected final String TEXT_186 = ") getRelationshipContainer(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_187 = ".eINSTANCE.get";
  protected final String TEXT_188 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_189 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_190 = NL + "\t\tif (";
  protected final String TEXT_191 = " != null) {";
  protected final String TEXT_192 = NL + "\t\tif (";
  protected final String TEXT_193 = ".size() >= ";
  protected final String TEXT_194 = ") {";
  protected final String TEXT_195 = NL + "\t\t\treturn ";
  protected final String TEXT_196 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_197 = NL + "\t\tif (";
  protected final String TEXT_198 = " != null) {";
  protected final String TEXT_199 = NL + "\t\tif (";
  protected final String TEXT_200 = ".size() >= ";
  protected final String TEXT_201 = ") {";
  protected final String TEXT_202 = NL + "\t\t\treturn ";
  protected final String TEXT_203 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_204 = NL + "\t\tif(!";
  protected final String TEXT_205 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_206 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_207 = "\t\t";
  protected final String TEXT_208 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_209 = ".eINSTANCE.get";
  protected final String TEXT_210 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_211 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_212 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_213 = "Command extends ";
  protected final String TEXT_214 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_215 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_216 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_217 = ".eINSTANCE.get";
  protected final String TEXT_218 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_219 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_220 = " doDefaultElementCreation() {";
  protected final String TEXT_221 = NL + "\t\t\t";
  protected final String TEXT_222 = " newElement = (";
  protected final String TEXT_223 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_224 = "(";
  protected final String TEXT_225 = ") getTarget());";
  protected final String TEXT_226 = NL + "\t\t\t\t";
  protected final String TEXT_227 = "(";
  protected final String TEXT_228 = ") getSource());";
  protected final String TEXT_229 = NL + "\t\t\t\t";
  protected final String TEXT_230 = " container = (";
  protected final String TEXT_231 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_232 = NL + "\t\t\t\t\t";
  protected final String TEXT_233 = " featureValues = container.";
  protected final String TEXT_234 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_235 = NL + "\t\t\t\t \t";
  protected final String TEXT_236 = "newElement);";
  protected final String TEXT_237 = NL + "\t\t\t\t}";
  protected final String TEXT_238 = NL + "\t\t\t\t";
  protected final String TEXT_239 = ".Initializers.";
  protected final String TEXT_240 = ".init(newElement);";
  protected final String TEXT_241 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_242 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_243 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_244 = NL + "\t\t";
  protected final String TEXT_245 = " element = (";
  protected final String TEXT_246 = ") getSemanticElement();";
  protected final String TEXT_247 = NL + "\t\tif (";
  protected final String TEXT_248 = " != null) {";
  protected final String TEXT_249 = NL + "\t\tif (";
  protected final String TEXT_250 = ".size() >= ";
  protected final String TEXT_251 = ") {";
  protected final String TEXT_252 = NL + "\t\t\treturn ";
  protected final String TEXT_253 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_254 = NL + "\t\tif(!";
  protected final String TEXT_255 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_256 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_257 = NL;
  protected final String TEXT_258 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_259 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_260 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_261 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_262 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_263 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_264 = NL + "\t\t";
  protected final String TEXT_265 = " element = (";
  protected final String TEXT_266 = ") getSemanticElement();";
  protected final String TEXT_267 = NL + "\t\tif (";
  protected final String TEXT_268 = " != null) {";
  protected final String TEXT_269 = NL + "\t\tif (";
  protected final String TEXT_270 = ".size() >= ";
  protected final String TEXT_271 = NL + "\t\t\t|| ";
  protected final String TEXT_272 = ".contains(req.getSource())";
  protected final String TEXT_273 = NL + "\t\t\t\t) {";
  protected final String TEXT_274 = NL + "\t\t\treturn ";
  protected final String TEXT_275 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_276 = NL + "\t\t";
  protected final String TEXT_277 = " element = (";
  protected final String TEXT_278 = ") getSemanticElement();" + NL + "\t\tif (";
  protected final String TEXT_279 = ".contains(req.getSource())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_280 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_281 = NL + "\t\tif(!";
  protected final String TEXT_282 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_283 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_284 = "\t\t";
  protected final String TEXT_285 = NL + "\t\t";
  protected final String TEXT_286 = " setReq = new ";
  protected final String TEXT_287 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_288 = ".eINSTANCE.get";
  protected final String TEXT_289 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_290 = "(setReq));" + NL + "\t}";
  protected final String TEXT_291 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_292 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_293 = NL + "\t\tif(!";
  protected final String TEXT_294 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_295 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_296 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_297 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_298 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_299 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_300 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_301 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_302 = NL + "\t\t";
  protected final String TEXT_303 = " element = (";
  protected final String TEXT_304 = ") req.getSource();";
  protected final String TEXT_305 = NL + "\t\tif (";
  protected final String TEXT_306 = " != null) {";
  protected final String TEXT_307 = NL + "\t\tif (";
  protected final String TEXT_308 = ".size() >= ";
  protected final String TEXT_309 = NL + "\t\t\t|| ";
  protected final String TEXT_310 = ".contains(req.getTarget())";
  protected final String TEXT_311 = NL + "\t\t\t\t) {";
  protected final String TEXT_312 = NL + "\t\t\treturn ";
  protected final String TEXT_313 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_314 = NL + "\t\t";
  protected final String TEXT_315 = " element = (";
  protected final String TEXT_316 = ") req.getSource();" + NL + "\t\tif (";
  protected final String TEXT_317 = ".contains(req.getTarget())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_318 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_319 = NL + "\t\tif(!";
  protected final String TEXT_320 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_321 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_322 = NL + "\t\t";
  protected final String TEXT_323 = " setReq = new ";
  protected final String TEXT_324 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_325 = ".eINSTANCE.get";
  protected final String TEXT_326 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_327 = "(setReq));" + NL + "\t}";
  protected final String TEXT_328 = NL + "}";
  protected final String TEXT_329 = NL;
a514 6
	TypeModelFacet modelFacet = genChildNode.getModelFacet();
	GenFeature containmentMetaFeature = modelFacet.getContainmentMetaFeature();
	GenFeature childMetaFeature = modelFacet.getChildMetaFeature();
	int upperContainmentBound = containmentMetaFeature.getEcoreFeature().getUpperBound();
	int upperChildBound = childMetaFeature.getEcoreFeature().getUpperBound();
	boolean processChildMetafeature = !childMetaFeature.equals(containmentMetaFeature) && upperChildBound > 0;
d522 9
a530 2
	if (upperContainmentBound > 0 || processChildMetafeature) {
		String containerInterfaceName = importManager.getImportedName(containerGenClass.getQualifiedInterfaceName());
d542 2
a543 2
		if (upperContainmentBound > 0) {
			if (upperContainmentBound == 1) {
d549 1
a549 1
			} else {
d557 1
a557 1
			}
d561 1
a561 1
		}
d563 2
a564 2
		if (processChildMetafeature) {
			if (upperChildBound == 1) {
d570 1
a570 1
			} else {
d578 1
a578 1
			}
d582 1
a583 1
	}
d590 4
d595 1
a595 1
    stringBuffer.append(TEXT_35);
d599 1
a599 1
    stringBuffer.append(TEXT_36);
d605 1
a605 1
    stringBuffer.append(TEXT_37);
d607 1
a607 1
    stringBuffer.append(TEXT_38);
d609 1
a609 1
    stringBuffer.append(TEXT_39);
d611 1
a611 1
    stringBuffer.append(TEXT_40);
d613 1
a613 1
    stringBuffer.append(TEXT_41);
d615 1
a615 1
    stringBuffer.append(TEXT_42);
a616 2
    stringBuffer.append(TEXT_43);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d620 1
a620 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.notation.View"));
d624 2
d627 1
a627 1
	boolean processChildMetafeature = !modelFacet.getChildMetaFeature().isDerived() && !modelFacet.getChildMetaFeature().equals(modelFacet.getContainmentMetaFeature());
d631 1
a631 1
    stringBuffer.append(TEXT_48);
a632 2
    stringBuffer.append(TEXT_49);
    stringBuffer.append(metaClassName);
d636 2
a641 2
    stringBuffer.append(TEXT_52);
    stringBuffer.append(containerMetaClass);
d645 2
d650 1
a650 1
    stringBuffer.append(TEXT_55);
d652 1
a652 1
    stringBuffer.append(TEXT_56);
d654 1
a654 1
    stringBuffer.append(TEXT_57);
d658 1
a658 1
    stringBuffer.append(TEXT_58);
d660 1
a660 1
    stringBuffer.append(TEXT_59);
d664 1
a664 1
    stringBuffer.append(TEXT_60);
d669 1
a669 1
    stringBuffer.append(TEXT_61);
d671 1
a671 1
    stringBuffer.append(TEXT_62);
d673 1
a673 1
    stringBuffer.append(TEXT_63);
d677 31
a707 1
    stringBuffer.append(TEXT_64);
d711 1
a711 1
    stringBuffer.append(TEXT_65);
d714 47
a760 1
    stringBuffer.append(TEXT_66);
d767 1
a767 1
    stringBuffer.append(TEXT_67);
d818 1
a818 1
    stringBuffer.append(TEXT_68);
d820 1
a820 1
    stringBuffer.append(TEXT_69);
d822 1
a822 1
    stringBuffer.append(TEXT_70);
d824 1
a824 1
    stringBuffer.append(TEXT_71);
d826 1
a826 1
    stringBuffer.append(TEXT_72);
d830 1
a830 1
    stringBuffer.append(TEXT_73);
d892 1
a892 1
    stringBuffer.append(TEXT_74);
d894 1
a894 1
    stringBuffer.append(TEXT_75);
d901 1
a901 1
    stringBuffer.append(TEXT_76);
d903 1
a903 1
    stringBuffer.append(TEXT_77);
d905 1
a905 1
    stringBuffer.append(TEXT_78);
d907 1
a907 1
    stringBuffer.append(TEXT_79);
d909 1
a909 1
    stringBuffer.append(TEXT_80);
d911 1
a911 1
    stringBuffer.append(TEXT_81);
d913 1
a913 1
    stringBuffer.append(TEXT_82);
d915 1
a915 1
    stringBuffer.append(TEXT_83);
d917 1
a917 1
    stringBuffer.append(TEXT_84);
d923 1
a923 1
    stringBuffer.append(TEXT_85);
d925 1
a925 1
    stringBuffer.append(TEXT_86);
d927 1
a927 1
    stringBuffer.append(TEXT_87);
d929 1
a929 1
    stringBuffer.append(TEXT_88);
d931 1
a931 1
    stringBuffer.append(TEXT_89);
d933 1
a933 1
    stringBuffer.append(TEXT_90);
d935 1
a935 1
    stringBuffer.append(TEXT_91);
d941 1
a941 1
    stringBuffer.append(TEXT_92);
d943 1
a943 1
    stringBuffer.append(TEXT_93);
d945 1
a945 1
    stringBuffer.append(TEXT_94);
d947 1
a947 1
    stringBuffer.append(TEXT_95);
d949 1
a949 1
    stringBuffer.append(TEXT_96);
d951 1
a951 1
    stringBuffer.append(TEXT_97);
d953 1
a953 1
    stringBuffer.append(TEXT_98);
d959 1
a959 1
    stringBuffer.append(TEXT_99);
d961 1
a961 1
    stringBuffer.append(TEXT_100);
d963 1
a963 1
    stringBuffer.append(TEXT_101);
d966 1
a966 1
    stringBuffer.append(TEXT_102);
d976 1
a976 1
    stringBuffer.append(TEXT_103);
d978 1
a978 1
    stringBuffer.append(TEXT_104);
d980 1
a980 1
    stringBuffer.append(TEXT_105);
d982 1
a982 1
    stringBuffer.append(TEXT_106);
d984 1
a984 1
    stringBuffer.append(TEXT_107);
d989 1
a989 1
    stringBuffer.append(TEXT_108);
d991 1
a991 1
    stringBuffer.append(TEXT_109);
d993 1
a993 1
    stringBuffer.append(TEXT_110);
d995 1
a995 1
    stringBuffer.append(TEXT_111);
d997 1
a997 1
    stringBuffer.append(TEXT_112);
d999 1
a999 1
    stringBuffer.append(TEXT_113);
d1001 1
a1001 1
    stringBuffer.append(TEXT_114);
d1003 1
a1003 1
    stringBuffer.append(TEXT_115);
d1005 1
a1005 1
    stringBuffer.append(TEXT_116);
d1013 1
a1013 1
    stringBuffer.append(TEXT_117);
d1015 1
a1015 1
    stringBuffer.append(TEXT_118);
d1017 1
a1017 1
    stringBuffer.append(TEXT_119);
d1019 1
a1019 1
    stringBuffer.append(TEXT_120);
d1021 1
a1021 1
    stringBuffer.append(TEXT_121);
d1023 1
a1023 1
    stringBuffer.append(TEXT_122);
d1025 1
a1025 1
    stringBuffer.append(TEXT_123);
d1031 1
a1031 1
    stringBuffer.append(TEXT_124);
d1033 1
a1033 1
    stringBuffer.append(TEXT_125);
d1035 1
a1035 1
    stringBuffer.append(TEXT_126);
d1037 1
a1037 1
    stringBuffer.append(TEXT_127);
d1039 1
a1039 1
    stringBuffer.append(TEXT_128);
d1041 1
a1041 1
    stringBuffer.append(TEXT_129);
d1043 1
a1043 1
    stringBuffer.append(TEXT_130);
d1049 1
a1049 1
    stringBuffer.append(TEXT_131);
d1051 1
a1051 1
    stringBuffer.append(TEXT_132);
d1053 1
a1053 1
    stringBuffer.append(TEXT_133);
d1055 1
a1055 1
    stringBuffer.append(TEXT_134);
d1057 1
a1057 1
    stringBuffer.append(TEXT_135);
d1059 1
a1059 1
    stringBuffer.append(TEXT_136);
d1061 1
a1061 1
    stringBuffer.append(TEXT_137);
d1063 1
a1063 1
    stringBuffer.append(TEXT_138);
d1065 1
a1065 1
    stringBuffer.append(TEXT_139);
d1067 1
a1067 1
    stringBuffer.append(TEXT_140);
d1069 1
a1069 1
    stringBuffer.append(TEXT_141);
d1071 1
a1071 1
    stringBuffer.append(TEXT_142);
d1073 1
a1073 1
    stringBuffer.append(TEXT_143);
d1075 1
a1075 1
    stringBuffer.append(TEXT_144);
d1077 1
a1077 1
    stringBuffer.append(TEXT_145);
d1079 1
a1079 1
    stringBuffer.append(TEXT_146);
d1081 1
a1081 1
    stringBuffer.append(TEXT_147);
d1083 1
a1083 1
    stringBuffer.append(TEXT_148);
d1085 1
a1085 1
    stringBuffer.append(TEXT_149);
d1087 1
a1087 1
    stringBuffer.append(TEXT_150);
d1089 1
a1089 1
    stringBuffer.append(TEXT_151);
d1091 1
a1091 1
    stringBuffer.append(TEXT_152);
d1093 1
a1093 1
    stringBuffer.append(TEXT_153);
d1095 1
a1095 1
    stringBuffer.append(TEXT_154);
d1097 1
a1097 1
    stringBuffer.append(TEXT_155);
d1102 1
a1102 1
    stringBuffer.append(TEXT_156);
d1104 1
a1104 1
    stringBuffer.append(TEXT_157);
d1106 1
a1106 1
    stringBuffer.append(TEXT_158);
d1108 1
a1108 1
    stringBuffer.append(TEXT_159);
d1110 1
a1110 1
    stringBuffer.append(TEXT_160);
d1112 1
a1112 1
    stringBuffer.append(TEXT_161);
d1114 1
a1114 1
    stringBuffer.append(TEXT_162);
d1116 1
a1116 1
    stringBuffer.append(TEXT_163);
d1118 1
a1118 1
    stringBuffer.append(TEXT_164);
d1123 1
a1123 1
    stringBuffer.append(TEXT_165);
d1125 1
a1125 1
    stringBuffer.append(TEXT_166);
d1127 1
a1127 1
    stringBuffer.append(TEXT_167);
d1129 1
a1129 1
    stringBuffer.append(TEXT_168);
d1139 1
a1139 1
    stringBuffer.append(TEXT_169);
d1141 1
a1141 1
    stringBuffer.append(TEXT_170);
d1143 1
a1143 1
    stringBuffer.append(TEXT_171);
d1145 1
a1145 1
    stringBuffer.append(TEXT_172);
d1147 1
a1147 1
    stringBuffer.append(TEXT_173);
d1149 1
a1149 1
    stringBuffer.append(TEXT_174);
d1151 1
a1151 1
    stringBuffer.append(TEXT_175);
d1161 1
a1161 1
    stringBuffer.append(TEXT_176);
d1163 1
a1163 1
    stringBuffer.append(TEXT_177);
d1165 1
a1165 1
    stringBuffer.append(TEXT_178);
d1167 1
a1167 1
    stringBuffer.append(TEXT_179);
d1169 1
a1169 1
    stringBuffer.append(TEXT_180);
d1174 1
a1174 1
    stringBuffer.append(TEXT_181);
d1176 1
a1176 1
    stringBuffer.append(TEXT_182);
d1178 1
a1178 1
    stringBuffer.append(TEXT_183);
d1180 1
a1180 1
    stringBuffer.append(TEXT_184);
d1182 1
a1182 1
    stringBuffer.append(TEXT_185);
d1184 1
a1184 1
    stringBuffer.append(TEXT_186);
d1186 1
a1186 1
    stringBuffer.append(TEXT_187);
d1188 1
a1188 1
    stringBuffer.append(TEXT_188);
d1190 1
a1190 1
    stringBuffer.append(TEXT_189);
d1198 1
a1198 1
    stringBuffer.append(TEXT_190);
d1200 1
a1200 1
    stringBuffer.append(TEXT_191);
d1202 1
a1202 1
    stringBuffer.append(TEXT_192);
d1204 1
a1204 1
    stringBuffer.append(TEXT_193);
d1206 1
a1206 1
    stringBuffer.append(TEXT_194);
d1208 1
a1208 1
    stringBuffer.append(TEXT_195);
d1210 1
a1210 1
    stringBuffer.append(TEXT_196);
d1216 1
a1216 1
    stringBuffer.append(TEXT_197);
d1218 1
a1218 1
    stringBuffer.append(TEXT_198);
d1220 1
a1220 1
    stringBuffer.append(TEXT_199);
d1222 1
a1222 1
    stringBuffer.append(TEXT_200);
d1224 1
a1224 1
    stringBuffer.append(TEXT_201);
d1226 1
a1226 1
    stringBuffer.append(TEXT_202);
d1228 1
a1228 1
    stringBuffer.append(TEXT_203);
d1234 1
a1234 1
    stringBuffer.append(TEXT_204);
d1236 1
a1236 1
    stringBuffer.append(TEXT_205);
d1238 1
a1238 1
    stringBuffer.append(TEXT_206);
d1240 1
a1240 1
    stringBuffer.append(TEXT_207);
d1242 1
a1242 1
    stringBuffer.append(TEXT_208);
d1244 1
a1244 1
    stringBuffer.append(TEXT_209);
d1246 1
a1246 1
    stringBuffer.append(TEXT_210);
d1248 1
a1248 1
    stringBuffer.append(TEXT_211);
d1250 1
a1250 1
    stringBuffer.append(TEXT_212);
d1252 1
a1252 1
    stringBuffer.append(TEXT_213);
d1254 1
a1254 1
    stringBuffer.append(TEXT_214);
d1256 1
a1256 1
    stringBuffer.append(TEXT_215);
d1258 1
a1258 1
    stringBuffer.append(TEXT_216);
d1260 1
a1260 1
    stringBuffer.append(TEXT_217);
d1262 1
a1262 1
    stringBuffer.append(TEXT_218);
d1264 1
a1264 1
    stringBuffer.append(TEXT_219);
d1266 1
a1266 1
    stringBuffer.append(TEXT_220);
d1268 1
a1268 1
    stringBuffer.append(TEXT_221);
d1270 1
a1270 1
    stringBuffer.append(TEXT_222);
d1272 1
a1272 1
    stringBuffer.append(TEXT_223);
d1274 1
a1274 1
    stringBuffer.append(TEXT_224);
d1276 1
a1276 1
    stringBuffer.append(TEXT_225);
d1278 1
a1278 1
    stringBuffer.append(TEXT_226);
d1280 1
a1280 1
    stringBuffer.append(TEXT_227);
d1282 1
a1282 1
    stringBuffer.append(TEXT_228);
d1287 1
a1287 1
    stringBuffer.append(TEXT_229);
d1289 1
a1289 1
    stringBuffer.append(TEXT_230);
d1291 1
a1291 1
    stringBuffer.append(TEXT_231);
d1293 1
a1293 1
    stringBuffer.append(TEXT_232);
d1295 1
a1295 1
    stringBuffer.append(TEXT_233);
d1297 1
a1297 1
    stringBuffer.append(TEXT_234);
d1299 1
a1299 1
    stringBuffer.append(TEXT_235);
d1301 1
a1301 1
    stringBuffer.append(TEXT_236);
d1303 1
a1303 1
    stringBuffer.append(TEXT_237);
d1308 1
a1308 1
    stringBuffer.append(TEXT_238);
d1310 1
a1310 1
    stringBuffer.append(TEXT_239);
d1312 1
a1312 1
    stringBuffer.append(TEXT_240);
d1314 1
a1314 1
    stringBuffer.append(TEXT_241);
d1366 1
a1366 1
    stringBuffer.append(TEXT_242);
d1368 1
a1368 1
    stringBuffer.append(TEXT_243);
d1374 1
a1374 1
    stringBuffer.append(TEXT_244);
d1376 1
a1376 1
    stringBuffer.append(TEXT_245);
d1378 1
a1378 1
    stringBuffer.append(TEXT_246);
d1380 1
a1380 1
    stringBuffer.append(TEXT_247);
d1382 1
a1382 1
    stringBuffer.append(TEXT_248);
d1384 1
a1384 1
    stringBuffer.append(TEXT_249);
d1386 1
a1386 1
    stringBuffer.append(TEXT_250);
d1388 1
a1388 1
    stringBuffer.append(TEXT_251);
d1390 1
a1390 1
    stringBuffer.append(TEXT_252);
d1392 1
a1392 1
    stringBuffer.append(TEXT_253);
d1395 1
a1395 1
    stringBuffer.append(TEXT_254);
d1397 1
a1397 1
    stringBuffer.append(TEXT_255);
d1399 1
a1399 1
    stringBuffer.append(TEXT_256);
d1401 1
a1401 1
    stringBuffer.append(TEXT_257);
d1403 1
a1403 1
    stringBuffer.append(TEXT_258);
d1413 1
a1413 1
    stringBuffer.append(TEXT_259);
d1415 1
a1415 1
    stringBuffer.append(TEXT_260);
d1417 1
a1417 1
    stringBuffer.append(TEXT_261);
d1419 1
a1419 1
    stringBuffer.append(TEXT_262);
d1421 1
a1421 1
    stringBuffer.append(TEXT_263);
d1427 1
a1427 1
    stringBuffer.append(TEXT_264);
d1429 1
a1429 1
    stringBuffer.append(TEXT_265);
d1431 1
a1431 1
    stringBuffer.append(TEXT_266);
d1433 1
a1433 1
    stringBuffer.append(TEXT_267);
d1435 1
a1435 1
    stringBuffer.append(TEXT_268);
d1437 1
a1437 1
    stringBuffer.append(TEXT_269);
d1439 1
a1439 1
    stringBuffer.append(TEXT_270);
d1442 1
a1442 1
    stringBuffer.append(TEXT_271);
d1444 1
a1444 1
    stringBuffer.append(TEXT_272);
d1446 1
a1446 1
    stringBuffer.append(TEXT_273);
d1448 1
a1448 1
    stringBuffer.append(TEXT_274);
d1450 1
a1450 1
    stringBuffer.append(TEXT_275);
d1455 1
a1455 1
    stringBuffer.append(TEXT_276);
d1457 1
a1457 1
    stringBuffer.append(TEXT_277);
d1459 1
a1459 1
    stringBuffer.append(TEXT_278);
d1461 1
a1461 1
    stringBuffer.append(TEXT_279);
d1463 1
a1463 1
    stringBuffer.append(TEXT_280);
d1466 1
a1466 1
    stringBuffer.append(TEXT_281);
d1468 1
a1468 1
    stringBuffer.append(TEXT_282);
d1470 1
a1470 1
    stringBuffer.append(TEXT_283);
d1472 1
a1472 1
    stringBuffer.append(TEXT_284);
d1474 1
a1474 1
    stringBuffer.append(TEXT_285);
d1476 1
a1476 1
    stringBuffer.append(TEXT_286);
d1478 1
a1478 1
    stringBuffer.append(TEXT_287);
d1480 1
a1480 1
    stringBuffer.append(TEXT_288);
d1482 1
a1482 1
    stringBuffer.append(TEXT_289);
d1484 1
a1484 1
    stringBuffer.append(TEXT_290);
d1494 1
a1494 1
    stringBuffer.append(TEXT_291);
d1496 1
a1496 1
    stringBuffer.append(TEXT_292);
d1498 1
a1498 1
    stringBuffer.append(TEXT_293);
d1500 1
a1500 1
    stringBuffer.append(TEXT_294);
d1502 1
a1502 1
    stringBuffer.append(TEXT_295);
d1505 1
a1505 1
    stringBuffer.append(TEXT_296);
d1515 1
a1515 1
    stringBuffer.append(TEXT_297);
d1517 1
a1517 1
    stringBuffer.append(TEXT_298);
d1519 1
a1519 1
    stringBuffer.append(TEXT_299);
d1521 1
a1521 1
    stringBuffer.append(TEXT_300);
d1523 1
a1523 1
    stringBuffer.append(TEXT_301);
d1529 1
a1529 1
    stringBuffer.append(TEXT_302);
d1531 1
a1531 1
    stringBuffer.append(TEXT_303);
d1533 1
a1533 1
    stringBuffer.append(TEXT_304);
d1535 1
a1535 1
    stringBuffer.append(TEXT_305);
d1537 1
a1537 1
    stringBuffer.append(TEXT_306);
d1539 1
a1539 1
    stringBuffer.append(TEXT_307);
d1541 1
a1541 1
    stringBuffer.append(TEXT_308);
d1544 1
a1544 1
    stringBuffer.append(TEXT_309);
d1546 1
a1546 1
    stringBuffer.append(TEXT_310);
d1548 1
a1548 1
    stringBuffer.append(TEXT_311);
d1550 1
a1550 1
    stringBuffer.append(TEXT_312);
d1552 1
a1552 1
    stringBuffer.append(TEXT_313);
d1557 1
a1557 1
    stringBuffer.append(TEXT_314);
d1559 1
a1559 1
    stringBuffer.append(TEXT_315);
d1561 1
a1561 1
    stringBuffer.append(TEXT_316);
d1563 1
a1563 1
    stringBuffer.append(TEXT_317);
d1565 1
a1565 1
    stringBuffer.append(TEXT_318);
d1568 1
a1568 1
    stringBuffer.append(TEXT_319);
d1570 1
a1570 1
    stringBuffer.append(TEXT_320);
d1572 1
a1572 1
    stringBuffer.append(TEXT_321);
d1575 1
a1575 1
    stringBuffer.append(TEXT_322);
d1577 1
a1577 1
    stringBuffer.append(TEXT_323);
d1579 1
a1579 1
    stringBuffer.append(TEXT_324);
d1581 1
a1581 1
    stringBuffer.append(TEXT_325);
d1583 1
a1583 1
    stringBuffer.append(TEXT_326);
d1585 1
a1585 1
    stringBuffer.append(TEXT_327);
d1591 1
a1591 1
    stringBuffer.append(TEXT_328);
d1593 1
a1593 1
    stringBuffer.append(TEXT_329);
@


1.29
log
@#125055
@
text
@d6 1
a6 1
import org.eclipse.gmf.codegen.util.*;
@


1.28
log
@- Border should be defined in gmfgraph model
- Setter for features with "isList() == true" corrected
@
text
@a654 2
	//GenLinkConstraints linkConstraints = genLink.getCreationConstraints();
	//String constraintsInstance = linkConstraints != null ? importManager.getImportedName(genDiagram.getLinkCreationConstraintsQualifiedClassName())+"."+linkConstraints.getConstraintsInstanceFieldName() : null;
a719 1
	String constraintsInstance = linkConstraints != null ? importManager.getImportedName(genDiagram.getLinkCreationConstraintsQualifiedClassName())+"."+linkConstraints.getConstraintsInstanceFieldName() : null;
d844 1
a844 1
    stringBuffer.append(constraintsInstance);
d940 1
a940 1
    stringBuffer.append(constraintsInstance);
d1028 1
a1028 1
    stringBuffer.append(constraintsInstance);
d1119 1
a1119 1
    stringBuffer.append(constraintsInstance);
d1280 1
a1280 1
    stringBuffer.append(constraintsInstance);
d1351 1
a1351 1
    stringBuffer.append(constraintsInstance);
d1383 1
a1383 1
    stringBuffer.append(constraintsInstance);
d1453 1
a1453 1
    stringBuffer.append(constraintsInstance);
@


1.27
log
@As a part of implementstion
#114178,114179
"Shortcutting" diagram elements.
@
text
@d424 9
a432 3
			result.append(".set");
			result.append(feature.getAccessorName());
			result.append("(");
@


1.26
log
@Correcting compilation problem if "incoming link creation" is off.
@
text
@d22 1
a22 1
  protected final String TEXT_3 = NL + "import org.eclipse.gef.commands.Command;" + NL + "import org.eclipse.gmf.runtime.emf.commands.core.commands.MSLDestroyElementCommand;" + NL + "import org.eclipse.gmf.runtime.emf.type.core.requests.CreateRelationshipRequest;" + NL + "import org.eclipse.gmf.runtime.emf.type.core.requests.DestroyElementRequest;";
d85 1
a85 1
  protected final String TEXT_66 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getDestroyElementCommand(DestroyElementRequest req) {" + NL + "\t\treturn getMSLWrapper(new MSLDestroyElementCommand(req));" + NL + "\t}";
@


1.25
log
@#119243
Checking upper bound limit for diagram elements.
@
text
@d681 9
d691 6
a696 9
	namePartSuffix += genLink.getVisualID();
	
/**
 * In case this node can be both Source and Target of this link, this link is a link to self,
 * so for start request we should call "Outgoing" method, for complete = "Incomming" since
 * we should not invert link in this case.
 **/
	String startCommandGetter = genLink.isOutgoingCreationAllowed() ? "getCreateStart" + (canBeSource ? OUTGOING_TOKEN : INCOMING_TOKEN) + namePartSuffix + "Command(req)" : "null";
	String endCommandGetter = genLink.isIncomingCreationAllowed() ? "getCreateComplete" + (canBeTarget ? INCOMING_TOKEN : OUTGOING_TOKEN) + namePartSuffix + "Command(req)" : "null";
d744 3
a746 3
		boolean couldBeSource = outgoingClass.getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass());
		boolean couldBeTarget = incomingClass.getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass());		
		boolean selfLink = couldBeSource && couldBeTarget;
d760 4
a763 4
		boolean generateStartOutgoingCommand = couldBeSource && genLink.isOutgoingCreationAllowed();
		boolean generateCompleteOutgoingCommand = couldBeSource && genLink.isIncomingCreationAllowed() && !selfLink;
		boolean generateStartIncomingCommand = couldBeTarget && genLink.isIncomingCreationAllowed() && !selfLink;
		boolean generateCompleteIncomingCommand = couldBeTarget && genLink.isOutgoingCreationAllowed();
d1218 3
a1220 3
		boolean couldBeSource = outgoingClass.getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass());
		boolean couldBeTarget = incomingClass.getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass());		
		boolean selfLink = couldBeSource && couldBeTarget;
d1234 4
a1237 4
		boolean generateStartOutgoingCommand = couldBeSource && genLink.isOutgoingCreationAllowed();
		boolean generateCompleteOutgoingCommand = couldBeSource && genLink.isIncomingCreationAllowed() && !selfLink;
		boolean generateStartIncomingCommand = couldBeTarget && genLink.isIncomingCreationAllowed() && !selfLink;
		boolean generateCompleteIncomingCommand = couldBeTarget && genLink.isOutgoingCreationAllowed();
@


1.24
log
@Refactoring + calling correct constraint methods so to say, a part of #117716
@
text
@d36 3
a38 3
  protected final String TEXT_17 = ") req.getContainer();";
  protected final String TEXT_18 = NL + "\t\t\tif (";
  protected final String TEXT_19 = " != null) {";
d40 5
a44 5
  protected final String TEXT_21 = ".size() >= ";
  protected final String TEXT_22 = ") {";
  protected final String TEXT_23 = NL + "\t\t\t\treturn super.getCreateCommand(req);" + NL + "\t\t\t}";
  protected final String TEXT_24 = NL + "\t\t\tif (";
  protected final String TEXT_25 = " != null) {";
d46 58
a103 58
  protected final String TEXT_27 = ".size() >= ";
  protected final String TEXT_28 = ") {";
  protected final String TEXT_29 = NL + "\t\t\t\treturn super.getCreateCommand(req);" + NL + "\t\t\t}";
  protected final String TEXT_30 = NL + "\t\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\t\treq.setContainmentFeature(";
  protected final String TEXT_31 = ".eINSTANCE.get";
  protected final String TEXT_32 = "());" + NL + "\t\t\t}" + NL + "\t\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_33 = "Command(req));" + NL + "\t\t}";
  protected final String TEXT_34 = NL + "\t\treturn super.getCreateCommand(req);" + NL + "\t}";
  protected final String TEXT_35 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_36 = "Command extends ";
  protected final String TEXT_37 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_38 = "Command(CreateElementRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_39 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_40 = ".eINSTANCE.get";
  protected final String TEXT_41 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_42 = " getElementToEdit() {" + NL + "\t\t\t";
  protected final String TEXT_43 = " container = ((CreateElementRequest) getRequest()).getContainer();" + NL + "\t\t\tif (container instanceof ";
  protected final String TEXT_44 = ") {" + NL + "\t\t\t\tcontainer = ((";
  protected final String TEXT_45 = ") container).getElement();" + NL + "\t\t\t}" + NL + "\t\t\treturn container;" + NL + "\t\t}";
  protected final String TEXT_46 = NL + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_47 = " doDefaultElementCreation() {" + NL + "\t\t\t";
  protected final String TEXT_48 = " newElement = (";
  protected final String TEXT_49 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {";
  protected final String TEXT_50 = NL + "\t\t\t\t ";
  protected final String TEXT_51 = " container = (";
  protected final String TEXT_52 = ") getElementToEdit();" + NL + "\t\t\t\t if (container != null) {";
  protected final String TEXT_53 = NL + "\t\t\t\t\t";
  protected final String TEXT_54 = " featureValues = container.";
  protected final String TEXT_55 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_56 = NL + "\t\t\t\t \t";
  protected final String TEXT_57 = "newElement);";
  protected final String TEXT_58 = NL + "\t\t\t\t }";
  protected final String TEXT_59 = "\t\t" + NL + "\t\t\t\t";
  protected final String TEXT_60 = ".Initializers.";
  protected final String TEXT_61 = ".init(newElement);";
  protected final String TEXT_62 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}";
  protected final String TEXT_63 = NL + "\t}";
  protected final String TEXT_64 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getDestroyElementCommand(DestroyElementRequest req) {" + NL + "\t\treturn getMSLWrapper(new MSLDestroyElementCommand(req));" + NL + "\t}";
  protected final String TEXT_65 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateRelationshipCommand(CreateRelationshipRequest req) {";
  protected final String TEXT_66 = NL + "\t\tif (";
  protected final String TEXT_67 = ".";
  protected final String TEXT_68 = " == req.getElementType()) {" + NL + "\t\t\treturn req.getTarget() == null ? ";
  protected final String TEXT_69 = " : ";
  protected final String TEXT_70 = ";" + NL + "\t\t}";
  protected final String TEXT_71 = NL + "\t\treturn super.getCreateRelationshipCommand(req);" + NL + "\t}";
  protected final String TEXT_72 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_73 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_74 = NL + "\t\t";
  protected final String TEXT_75 = " element = (";
  protected final String TEXT_76 = ") getSemanticElement();";
  protected final String TEXT_77 = NL + "\t\t";
  protected final String TEXT_78 = " element = (";
  protected final String TEXT_79 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_80 = ".eINSTANCE.get";
  protected final String TEXT_81 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_82 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_83 = NL + "\t\tif (";
  protected final String TEXT_84 = " != null) {";
d105 6
a110 6
  protected final String TEXT_86 = ".size() >= ";
  protected final String TEXT_87 = ") {";
  protected final String TEXT_88 = NL + "\t\t\treturn ";
  protected final String TEXT_89 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_90 = NL + "\t\tif (";
  protected final String TEXT_91 = " != null) {";
d112 24
a135 24
  protected final String TEXT_93 = ".size() >= ";
  protected final String TEXT_94 = ") {";
  protected final String TEXT_95 = NL + "\t\t\treturn ";
  protected final String TEXT_96 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_97 = NL + "\t\tif(!";
  protected final String TEXT_98 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_99 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_100 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_101 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_102 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_103 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_104 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_105 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_106 = NL + "\t\tfinal ";
  protected final String TEXT_107 = " element = (";
  protected final String TEXT_108 = ") getSemanticElement();";
  protected final String TEXT_109 = NL + "\t\tfinal ";
  protected final String TEXT_110 = " element = (";
  protected final String TEXT_111 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_112 = ".eINSTANCE.get";
  protected final String TEXT_113 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_114 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_115 = NL + "\t\tif (";
  protected final String TEXT_116 = " != null) {";
d137 6
a142 6
  protected final String TEXT_118 = ".size() >= ";
  protected final String TEXT_119 = ") {";
  protected final String TEXT_120 = NL + "\t\t\treturn ";
  protected final String TEXT_121 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_122 = NL + "\t\tif (";
  protected final String TEXT_123 = " != null) {";
d144 65
a208 65
  protected final String TEXT_125 = ".size() >= ";
  protected final String TEXT_126 = ") {";
  protected final String TEXT_127 = NL + "\t\t\treturn ";
  protected final String TEXT_128 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_129 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_130 = ".eINSTANCE.get";
  protected final String TEXT_131 = "());" + NL + "\t\t}" + NL + "\t\t";
  protected final String TEXT_132 = NL + "\t\tif(!";
  protected final String TEXT_133 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_134 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_135 = "\t\t\t\t" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_136 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_137 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_138 = "Command extends ";
  protected final String TEXT_139 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_140 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_141 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_142 = ".eINSTANCE.get";
  protected final String TEXT_143 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_144 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_145 = " doDefaultElementCreation() {";
  protected final String TEXT_146 = NL + "\t\t\t";
  protected final String TEXT_147 = " newElement = (";
  protected final String TEXT_148 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_149 = "(";
  protected final String TEXT_150 = ") getSource());";
  protected final String TEXT_151 = NL + "\t\t\t\t";
  protected final String TEXT_152 = "(";
  protected final String TEXT_153 = ") getTarget());";
  protected final String TEXT_154 = NL + "\t\t\t\t";
  protected final String TEXT_155 = " container = (";
  protected final String TEXT_156 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_157 = NL + "\t\t\t\t\t";
  protected final String TEXT_158 = " featureValues = container.";
  protected final String TEXT_159 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_160 = NL + "\t\t\t\t \t";
  protected final String TEXT_161 = "newElement);";
  protected final String TEXT_162 = NL + "\t\t\t\t}";
  protected final String TEXT_163 = NL + "\t\t\t\t";
  protected final String TEXT_164 = ".Initializers.";
  protected final String TEXT_165 = ".init(newElement);";
  protected final String TEXT_166 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_167 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_168 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_169 = NL + "\t\tif(!";
  protected final String TEXT_170 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_171 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_172 = "\t";
  protected final String TEXT_173 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_174 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_175 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_176 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_177 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_178 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_179 = NL + "\t\tfinal ";
  protected final String TEXT_180 = " element = (";
  protected final String TEXT_181 = ") req.getSource();";
  protected final String TEXT_182 = NL + "\t\tfinal ";
  protected final String TEXT_183 = " element = (";
  protected final String TEXT_184 = ") getRelationshipContainer(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_185 = ".eINSTANCE.get";
  protected final String TEXT_186 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_187 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_188 = NL + "\t\tif (";
  protected final String TEXT_189 = " != null) {";
d210 6
a215 6
  protected final String TEXT_191 = ".size() >= ";
  protected final String TEXT_192 = ") {";
  protected final String TEXT_193 = NL + "\t\t\treturn ";
  protected final String TEXT_194 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_195 = NL + "\t\tif (";
  protected final String TEXT_196 = " != null) {";
d217 49
a265 49
  protected final String TEXT_198 = ".size() >= ";
  protected final String TEXT_199 = ") {";
  protected final String TEXT_200 = NL + "\t\t\treturn ";
  protected final String TEXT_201 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_202 = NL + "\t\tif(!";
  protected final String TEXT_203 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_204 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_205 = "\t\t";
  protected final String TEXT_206 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_207 = ".eINSTANCE.get";
  protected final String TEXT_208 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_209 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_210 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_211 = "Command extends ";
  protected final String TEXT_212 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_213 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_214 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_215 = ".eINSTANCE.get";
  protected final String TEXT_216 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_217 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_218 = " doDefaultElementCreation() {";
  protected final String TEXT_219 = NL + "\t\t\t";
  protected final String TEXT_220 = " newElement = (";
  protected final String TEXT_221 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_222 = "(";
  protected final String TEXT_223 = ") getTarget());";
  protected final String TEXT_224 = NL + "\t\t\t\t";
  protected final String TEXT_225 = "(";
  protected final String TEXT_226 = ") getSource());";
  protected final String TEXT_227 = NL + "\t\t\t\t";
  protected final String TEXT_228 = " container = (";
  protected final String TEXT_229 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_230 = NL + "\t\t\t\t\t";
  protected final String TEXT_231 = " featureValues = container.";
  protected final String TEXT_232 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_233 = NL + "\t\t\t\t \t";
  protected final String TEXT_234 = "newElement);";
  protected final String TEXT_235 = NL + "\t\t\t\t}";
  protected final String TEXT_236 = NL + "\t\t\t\t";
  protected final String TEXT_237 = ".Initializers.";
  protected final String TEXT_238 = ".init(newElement);";
  protected final String TEXT_239 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_240 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_241 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_242 = NL + "\t\t";
  protected final String TEXT_243 = " element = (";
  protected final String TEXT_244 = ") getSemanticElement();";
  protected final String TEXT_245 = NL + "\t\tif (";
  protected final String TEXT_246 = " != null) {";
d267 19
a285 19
  protected final String TEXT_248 = ".size() >= ";
  protected final String TEXT_249 = ") {";
  protected final String TEXT_250 = NL + "\t\t\treturn ";
  protected final String TEXT_251 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_252 = NL + "\t\tif(!";
  protected final String TEXT_253 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_254 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_255 = NL;
  protected final String TEXT_256 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_257 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_258 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_259 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_260 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_261 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_262 = NL + "\t\t";
  protected final String TEXT_263 = " element = (";
  protected final String TEXT_264 = ") getSemanticElement();";
  protected final String TEXT_265 = NL + "\t\tif (";
  protected final String TEXT_266 = " != null) {";
d287 37
a323 37
  protected final String TEXT_268 = ".size() >= ";
  protected final String TEXT_269 = NL + "\t\t\t|| ";
  protected final String TEXT_270 = ".contains(req.getSource())";
  protected final String TEXT_271 = NL + "\t\t\t\t) {";
  protected final String TEXT_272 = NL + "\t\t\treturn ";
  protected final String TEXT_273 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_274 = NL + "\t\t";
  protected final String TEXT_275 = " element = (";
  protected final String TEXT_276 = ") getSemanticElement();" + NL + "\t\tif (";
  protected final String TEXT_277 = ".contains(req.getSource())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_278 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_279 = NL + "\t\tif(!";
  protected final String TEXT_280 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_281 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_282 = "\t\t";
  protected final String TEXT_283 = NL + "\t\t";
  protected final String TEXT_284 = " setReq = new ";
  protected final String TEXT_285 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_286 = ".eINSTANCE.get";
  protected final String TEXT_287 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_288 = "(setReq));" + NL + "\t}";
  protected final String TEXT_289 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_290 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_291 = NL + "\t\tif(!";
  protected final String TEXT_292 = ".canCreateLink(req, true)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_293 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_294 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_295 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_296 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_297 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_298 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_299 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_300 = NL + "\t\t";
  protected final String TEXT_301 = " element = (";
  protected final String TEXT_302 = ") req.getSource();";
  protected final String TEXT_303 = NL + "\t\tif (";
  protected final String TEXT_304 = " != null) {";
d325 24
a348 22
  protected final String TEXT_306 = ".size() >= ";
  protected final String TEXT_307 = NL + "\t\t\t|| ";
  protected final String TEXT_308 = ".contains(req.getTarget())";
  protected final String TEXT_309 = NL + "\t\t\t\t) {";
  protected final String TEXT_310 = NL + "\t\t\treturn ";
  protected final String TEXT_311 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_312 = NL + "\t\t";
  protected final String TEXT_313 = " element = (";
  protected final String TEXT_314 = ") req.getSource();" + NL + "\t\tif (";
  protected final String TEXT_315 = ".contains(req.getTarget())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_316 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_317 = NL + "\t\tif(!";
  protected final String TEXT_318 = ".canCreateLink(req, false)) {" + NL + "\t\t\treturn ";
  protected final String TEXT_319 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_320 = NL + "\t\t";
  protected final String TEXT_321 = " setReq = new ";
  protected final String TEXT_322 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_323 = ".eINSTANCE.get";
  protected final String TEXT_324 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_325 = "(setReq));" + NL + "\t}";
  protected final String TEXT_326 = NL + "}";
  protected final String TEXT_327 = NL;
d460 2
a461 2
	GenChildContainer childContainer = genNode;
	GenNode containerNode = genNode;
d472 1
a472 1
for (Iterator nodes = childContainer.getChildNodes().iterator(); nodes.hasNext(); ) {
d488 1
a488 1
		String containerInterfaceName = importManager.getImportedName(containerNode.getModelFacet().getMetaClass().getQualifiedInterfaceName());
d495 4
d503 1
a503 1
    stringBuffer.append(TEXT_18);
d505 1
a505 1
    stringBuffer.append(TEXT_19);
d509 1
a509 1
    stringBuffer.append(TEXT_20);
d511 1
a511 1
    stringBuffer.append(TEXT_21);
d513 1
a513 1
    stringBuffer.append(TEXT_22);
d517 1
a517 1
    stringBuffer.append(TEXT_23);
d524 1
a524 1
    stringBuffer.append(TEXT_24);
d526 1
a526 1
    stringBuffer.append(TEXT_25);
d530 1
a530 1
    stringBuffer.append(TEXT_26);
d532 1
a532 1
    stringBuffer.append(TEXT_27);
d534 1
a534 1
    stringBuffer.append(TEXT_28);
d538 1
a538 1
    stringBuffer.append(TEXT_29);
d543 1
a543 1
    stringBuffer.append(TEXT_30);
d545 1
a545 1
    stringBuffer.append(TEXT_31);
d547 1
a547 1
    stringBuffer.append(TEXT_32);
d549 1
a549 1
    stringBuffer.append(TEXT_33);
d553 1
a553 1
    stringBuffer.append(TEXT_34);
d555 1
a555 1
for (Iterator nodes = childContainer.getChildNodes().iterator(); nodes.hasNext(); ) {
a558 4
    stringBuffer.append(TEXT_35);
    stringBuffer.append(genChildNode.getUniqueIdentifier());
    stringBuffer.append(TEXT_36);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.commands.core.commands.MSLCreateElementCommand"));
d562 1
a562 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EClass"));
d564 1
a564 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d566 1
a566 1
    stringBuffer.append(containerNode.getModelFacet().getMetaClass().getClassifierAccessorName());
d568 4
d573 1
a573 1
    stringBuffer.append(TEXT_42);
d575 1
a575 1
    stringBuffer.append(TEXT_43);
d577 1
a577 1
    stringBuffer.append(TEXT_44);
d579 1
a579 1
    stringBuffer.append(TEXT_45);
d585 1
a585 1
    stringBuffer.append(TEXT_46);
d587 1
a587 1
    stringBuffer.append(TEXT_47);
d589 1
a589 1
    stringBuffer.append(TEXT_48);
d591 1
a591 1
    stringBuffer.append(TEXT_49);
d596 1
a596 1
    stringBuffer.append(TEXT_50);
d598 1
a598 1
    stringBuffer.append(TEXT_51);
d600 1
a600 1
    stringBuffer.append(TEXT_52);
d604 1
a604 1
    stringBuffer.append(TEXT_53);
d606 1
a606 1
    stringBuffer.append(TEXT_54);
d608 1
a608 1
    stringBuffer.append(TEXT_55);
d612 1
a612 1
    stringBuffer.append(TEXT_56);
d614 1
a614 1
    stringBuffer.append(TEXT_57);
d618 1
a618 1
    stringBuffer.append(TEXT_58);
d623 1
a623 1
    stringBuffer.append(TEXT_59);
d625 1
a625 1
    stringBuffer.append(TEXT_60);
d627 1
a627 1
    stringBuffer.append(TEXT_61);
d631 1
a631 1
    stringBuffer.append(TEXT_62);
d635 1
a635 1
    stringBuffer.append(TEXT_63);
d638 1
a638 1
    stringBuffer.append(TEXT_64);
d645 1
a645 1
    stringBuffer.append(TEXT_65);
d692 1
a692 1
    stringBuffer.append(TEXT_66);
d694 1
a694 1
    stringBuffer.append(TEXT_67);
d696 1
a696 1
    stringBuffer.append(TEXT_68);
d698 1
a698 1
    stringBuffer.append(TEXT_69);
d700 1
a700 1
    stringBuffer.append(TEXT_70);
d704 1
a704 1
    stringBuffer.append(TEXT_71);
d767 1
a767 1
    stringBuffer.append(TEXT_72);
d769 1
a769 1
    stringBuffer.append(TEXT_73);
d776 1
a776 1
    stringBuffer.append(TEXT_74);
d778 1
a778 1
    stringBuffer.append(TEXT_75);
d780 1
a780 1
    stringBuffer.append(TEXT_76);
d782 1
a782 1
    stringBuffer.append(TEXT_77);
d784 1
a784 1
    stringBuffer.append(TEXT_78);
d786 1
a786 1
    stringBuffer.append(TEXT_79);
d788 1
a788 1
    stringBuffer.append(TEXT_80);
d790 1
a790 1
    stringBuffer.append(TEXT_81);
d792 1
a792 1
    stringBuffer.append(TEXT_82);
d798 1
a798 1
    stringBuffer.append(TEXT_83);
d800 1
a800 1
    stringBuffer.append(TEXT_84);
d802 1
a802 1
    stringBuffer.append(TEXT_85);
d804 1
a804 1
    stringBuffer.append(TEXT_86);
d806 1
a806 1
    stringBuffer.append(TEXT_87);
d808 1
a808 1
    stringBuffer.append(TEXT_88);
d810 1
a810 1
    stringBuffer.append(TEXT_89);
d816 1
a816 1
    stringBuffer.append(TEXT_90);
d818 1
a818 1
    stringBuffer.append(TEXT_91);
d820 1
a820 1
    stringBuffer.append(TEXT_92);
d822 1
a822 1
    stringBuffer.append(TEXT_93);
d824 1
a824 1
    stringBuffer.append(TEXT_94);
d826 1
a826 1
    stringBuffer.append(TEXT_95);
d828 1
a828 1
    stringBuffer.append(TEXT_96);
d834 1
a834 1
    stringBuffer.append(TEXT_97);
d836 1
a836 1
    stringBuffer.append(TEXT_98);
d838 1
a838 1
    stringBuffer.append(TEXT_99);
d841 1
a841 1
    stringBuffer.append(TEXT_100);
d851 1
a851 1
    stringBuffer.append(TEXT_101);
d853 1
a853 1
    stringBuffer.append(TEXT_102);
d855 1
a855 1
    stringBuffer.append(TEXT_103);
d857 1
a857 1
    stringBuffer.append(TEXT_104);
d859 1
a859 1
    stringBuffer.append(TEXT_105);
d864 1
a864 1
    stringBuffer.append(TEXT_106);
d866 1
a866 1
    stringBuffer.append(TEXT_107);
d868 1
a868 1
    stringBuffer.append(TEXT_108);
d870 1
a870 1
    stringBuffer.append(TEXT_109);
d872 1
a872 1
    stringBuffer.append(TEXT_110);
d874 1
a874 1
    stringBuffer.append(TEXT_111);
d876 1
a876 1
    stringBuffer.append(TEXT_112);
d878 1
a878 1
    stringBuffer.append(TEXT_113);
d880 1
a880 1
    stringBuffer.append(TEXT_114);
d888 1
a888 1
    stringBuffer.append(TEXT_115);
d890 1
a890 1
    stringBuffer.append(TEXT_116);
d892 1
a892 1
    stringBuffer.append(TEXT_117);
d894 1
a894 1
    stringBuffer.append(TEXT_118);
d896 1
a896 1
    stringBuffer.append(TEXT_119);
d898 1
a898 1
    stringBuffer.append(TEXT_120);
d900 1
a900 1
    stringBuffer.append(TEXT_121);
d906 1
a906 1
    stringBuffer.append(TEXT_122);
d908 1
a908 1
    stringBuffer.append(TEXT_123);
d910 1
a910 1
    stringBuffer.append(TEXT_124);
d912 1
a912 1
    stringBuffer.append(TEXT_125);
d914 1
a914 1
    stringBuffer.append(TEXT_126);
d916 1
a916 1
    stringBuffer.append(TEXT_127);
d918 1
a918 1
    stringBuffer.append(TEXT_128);
d924 1
a924 1
    stringBuffer.append(TEXT_129);
d926 1
a926 1
    stringBuffer.append(TEXT_130);
d928 1
a928 1
    stringBuffer.append(TEXT_131);
d930 1
a930 1
    stringBuffer.append(TEXT_132);
d932 1
a932 1
    stringBuffer.append(TEXT_133);
d934 1
a934 1
    stringBuffer.append(TEXT_134);
a935 4
    stringBuffer.append(TEXT_135);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_136);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d939 1
a939 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.commands.core.commands.MSLCreateRelationshipCommand"));
d943 1
a943 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EClass"));
d945 1
a945 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d947 1
a947 1
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
d949 1
a949 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d951 2
a953 2
    stringBuffer.append(TEXT_145);
    			String metaClassName = importManager.getImportedName(modelFacet.getMetaClass().getQualifiedInterfaceName());
d955 1
a955 1
    stringBuffer.append(metaClassName);
d957 4
d962 1
a962 1
    stringBuffer.append(TEXT_148);
d964 1
a964 1
    stringBuffer.append(TEXT_149);
d966 1
a966 1
    stringBuffer.append(TEXT_150);
d968 1
a968 1
    stringBuffer.append(TEXT_151);
d970 1
a970 1
    stringBuffer.append(TEXT_152);
d972 1
a972 1
    stringBuffer.append(TEXT_153);
d977 1
a977 1
    stringBuffer.append(TEXT_154);
d979 1
a979 1
    stringBuffer.append(TEXT_155);
d981 1
a981 1
    stringBuffer.append(TEXT_156);
d983 1
a983 1
    stringBuffer.append(TEXT_157);
d985 1
a985 1
    stringBuffer.append(TEXT_158);
d987 1
a987 1
    stringBuffer.append(TEXT_159);
d989 1
a989 1
    stringBuffer.append(TEXT_160);
d991 1
a991 1
    stringBuffer.append(TEXT_161);
d993 1
a993 1
    stringBuffer.append(TEXT_162);
d998 1
a998 1
    stringBuffer.append(TEXT_163);
d1000 1
a1000 1
    stringBuffer.append(TEXT_164);
d1002 1
a1002 1
    stringBuffer.append(TEXT_165);
d1004 1
a1004 1
    stringBuffer.append(TEXT_166);
d1014 1
a1014 1
    stringBuffer.append(TEXT_167);
d1016 1
a1016 1
    stringBuffer.append(TEXT_168);
d1018 1
a1018 1
    stringBuffer.append(TEXT_169);
d1020 1
a1020 1
    stringBuffer.append(TEXT_170);
d1022 1
a1022 1
    stringBuffer.append(TEXT_171);
d1024 1
a1024 1
    stringBuffer.append(TEXT_172);
d1026 1
a1026 1
    stringBuffer.append(TEXT_173);
d1036 1
a1036 1
    stringBuffer.append(TEXT_174);
d1038 1
a1038 1
    stringBuffer.append(TEXT_175);
d1040 1
a1040 1
    stringBuffer.append(TEXT_176);
d1042 1
a1042 1
    stringBuffer.append(TEXT_177);
d1044 1
a1044 1
    stringBuffer.append(TEXT_178);
d1049 1
a1049 1
    stringBuffer.append(TEXT_179);
d1051 1
a1051 1
    stringBuffer.append(TEXT_180);
d1053 1
a1053 1
    stringBuffer.append(TEXT_181);
d1055 1
a1055 1
    stringBuffer.append(TEXT_182);
d1057 1
a1057 1
    stringBuffer.append(TEXT_183);
d1059 1
a1059 1
    stringBuffer.append(TEXT_184);
d1061 1
a1061 1
    stringBuffer.append(TEXT_185);
d1063 1
a1063 1
    stringBuffer.append(TEXT_186);
d1065 1
a1065 1
    stringBuffer.append(TEXT_187);
d1073 1
a1073 1
    stringBuffer.append(TEXT_188);
d1075 1
a1075 1
    stringBuffer.append(TEXT_189);
d1077 1
a1077 1
    stringBuffer.append(TEXT_190);
d1079 1
a1079 1
    stringBuffer.append(TEXT_191);
d1081 1
a1081 1
    stringBuffer.append(TEXT_192);
d1083 1
a1083 1
    stringBuffer.append(TEXT_193);
d1085 1
a1085 1
    stringBuffer.append(TEXT_194);
d1091 1
a1091 1
    stringBuffer.append(TEXT_195);
d1093 1
a1093 1
    stringBuffer.append(TEXT_196);
d1095 1
a1095 1
    stringBuffer.append(TEXT_197);
d1097 1
a1097 1
    stringBuffer.append(TEXT_198);
d1099 1
a1099 1
    stringBuffer.append(TEXT_199);
d1101 1
a1101 1
    stringBuffer.append(TEXT_200);
d1103 1
a1103 1
    stringBuffer.append(TEXT_201);
d1109 1
a1109 1
    stringBuffer.append(TEXT_202);
d1111 1
a1111 1
    stringBuffer.append(TEXT_203);
d1113 1
a1113 1
    stringBuffer.append(TEXT_204);
d1115 1
a1115 1
    stringBuffer.append(TEXT_205);
d1117 1
a1117 1
    stringBuffer.append(TEXT_206);
d1119 1
a1119 1
    stringBuffer.append(TEXT_207);
a1120 4
    stringBuffer.append(TEXT_208);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_209);
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d1124 1
a1124 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.commands.core.commands.MSLCreateRelationshipCommand"));
d1128 4
d1133 1
a1133 1
    stringBuffer.append(TEXT_214);
d1135 1
a1135 1
    stringBuffer.append(TEXT_215);
d1137 1
a1137 1
    stringBuffer.append(TEXT_216);
d1139 1
a1139 1
    stringBuffer.append(TEXT_217);
d1141 1
a1141 1
    stringBuffer.append(TEXT_218);
d1143 1
a1143 1
    stringBuffer.append(TEXT_219);
d1145 1
a1145 1
    stringBuffer.append(TEXT_220);
d1147 1
a1147 1
    stringBuffer.append(TEXT_221);
d1149 1
a1149 1
    stringBuffer.append(TEXT_222);
d1151 1
a1151 1
    stringBuffer.append(TEXT_223);
d1153 1
a1153 1
    stringBuffer.append(TEXT_224);
d1155 1
a1155 1
    stringBuffer.append(TEXT_225);
d1157 1
a1157 1
    stringBuffer.append(TEXT_226);
d1162 1
a1162 1
    stringBuffer.append(TEXT_227);
d1164 1
a1164 1
    stringBuffer.append(TEXT_228);
d1166 1
a1166 1
    stringBuffer.append(TEXT_229);
d1168 1
a1168 1
    stringBuffer.append(TEXT_230);
d1170 1
a1170 1
    stringBuffer.append(TEXT_231);
d1172 1
a1172 1
    stringBuffer.append(TEXT_232);
d1174 1
a1174 1
    stringBuffer.append(TEXT_233);
d1176 1
a1176 1
    stringBuffer.append(TEXT_234);
d1178 1
a1178 1
    stringBuffer.append(TEXT_235);
d1183 1
a1183 1
    stringBuffer.append(TEXT_236);
d1185 1
a1185 1
    stringBuffer.append(TEXT_237);
d1187 1
a1187 1
    stringBuffer.append(TEXT_238);
d1189 1
a1189 1
    stringBuffer.append(TEXT_239);
d1241 1
a1241 1
    stringBuffer.append(TEXT_240);
d1243 1
a1243 1
    stringBuffer.append(TEXT_241);
d1249 1
a1249 1
    stringBuffer.append(TEXT_242);
d1251 1
a1251 1
    stringBuffer.append(TEXT_243);
d1253 1
a1253 1
    stringBuffer.append(TEXT_244);
d1255 1
a1255 1
    stringBuffer.append(TEXT_245);
d1257 1
a1257 1
    stringBuffer.append(TEXT_246);
d1259 1
a1259 1
    stringBuffer.append(TEXT_247);
d1261 1
a1261 1
    stringBuffer.append(TEXT_248);
d1263 1
a1263 1
    stringBuffer.append(TEXT_249);
d1265 1
a1265 1
    stringBuffer.append(TEXT_250);
d1267 1
a1267 1
    stringBuffer.append(TEXT_251);
d1270 1
a1270 1
    stringBuffer.append(TEXT_252);
d1272 1
a1272 1
    stringBuffer.append(TEXT_253);
d1274 1
a1274 1
    stringBuffer.append(TEXT_254);
d1276 1
a1276 1
    stringBuffer.append(TEXT_255);
d1278 1
a1278 1
    stringBuffer.append(TEXT_256);
d1288 1
a1288 1
    stringBuffer.append(TEXT_257);
d1290 1
a1290 1
    stringBuffer.append(TEXT_258);
d1292 1
a1292 1
    stringBuffer.append(TEXT_259);
d1294 1
a1294 1
    stringBuffer.append(TEXT_260);
d1296 1
a1296 1
    stringBuffer.append(TEXT_261);
d1302 1
a1302 1
    stringBuffer.append(TEXT_262);
d1304 1
a1304 1
    stringBuffer.append(TEXT_263);
d1306 1
a1306 1
    stringBuffer.append(TEXT_264);
d1308 1
a1308 1
    stringBuffer.append(TEXT_265);
d1310 1
a1310 1
    stringBuffer.append(TEXT_266);
d1312 1
a1312 1
    stringBuffer.append(TEXT_267);
d1314 1
a1314 1
    stringBuffer.append(TEXT_268);
d1317 1
a1317 1
    stringBuffer.append(TEXT_269);
d1319 1
a1319 1
    stringBuffer.append(TEXT_270);
d1321 1
a1321 1
    stringBuffer.append(TEXT_271);
d1323 1
a1323 1
    stringBuffer.append(TEXT_272);
d1325 1
a1325 1
    stringBuffer.append(TEXT_273);
d1330 1
a1330 1
    stringBuffer.append(TEXT_274);
d1332 1
a1332 1
    stringBuffer.append(TEXT_275);
d1334 1
a1334 1
    stringBuffer.append(TEXT_276);
d1336 1
a1336 1
    stringBuffer.append(TEXT_277);
d1338 1
a1338 1
    stringBuffer.append(TEXT_278);
d1341 1
a1341 1
    stringBuffer.append(TEXT_279);
d1343 1
a1343 1
    stringBuffer.append(TEXT_280);
d1345 1
a1345 1
    stringBuffer.append(TEXT_281);
d1347 1
a1347 1
    stringBuffer.append(TEXT_282);
d1349 1
a1349 1
    stringBuffer.append(TEXT_283);
d1351 1
a1351 1
    stringBuffer.append(TEXT_284);
d1353 1
a1353 1
    stringBuffer.append(TEXT_285);
d1355 1
a1355 1
    stringBuffer.append(TEXT_286);
d1357 1
a1357 1
    stringBuffer.append(TEXT_287);
d1359 1
a1359 1
    stringBuffer.append(TEXT_288);
d1369 1
a1369 1
    stringBuffer.append(TEXT_289);
d1371 1
a1371 1
    stringBuffer.append(TEXT_290);
d1373 1
a1373 1
    stringBuffer.append(TEXT_291);
d1375 1
a1375 1
    stringBuffer.append(TEXT_292);
d1377 1
a1377 1
    stringBuffer.append(TEXT_293);
d1380 1
a1380 1
    stringBuffer.append(TEXT_294);
d1390 1
a1390 1
    stringBuffer.append(TEXT_295);
d1392 1
a1392 1
    stringBuffer.append(TEXT_296);
d1394 1
a1394 1
    stringBuffer.append(TEXT_297);
d1396 1
a1396 1
    stringBuffer.append(TEXT_298);
d1398 1
a1398 1
    stringBuffer.append(TEXT_299);
d1404 1
a1404 1
    stringBuffer.append(TEXT_300);
d1406 1
a1406 1
    stringBuffer.append(TEXT_301);
d1408 1
a1408 1
    stringBuffer.append(TEXT_302);
d1410 1
a1410 1
    stringBuffer.append(TEXT_303);
d1412 1
a1412 1
    stringBuffer.append(TEXT_304);
d1414 1
a1414 1
    stringBuffer.append(TEXT_305);
d1416 1
a1416 1
    stringBuffer.append(TEXT_306);
d1419 1
a1419 1
    stringBuffer.append(TEXT_307);
d1421 1
a1421 1
    stringBuffer.append(TEXT_308);
d1423 1
a1423 1
    stringBuffer.append(TEXT_309);
d1425 1
a1425 1
    stringBuffer.append(TEXT_310);
d1427 1
a1427 1
    stringBuffer.append(TEXT_311);
d1432 1
a1432 1
    stringBuffer.append(TEXT_312);
d1434 1
a1434 1
    stringBuffer.append(TEXT_313);
d1436 1
a1436 1
    stringBuffer.append(TEXT_314);
d1438 1
a1438 1
    stringBuffer.append(TEXT_315);
d1440 1
a1440 1
    stringBuffer.append(TEXT_316);
d1443 1
a1443 1
    stringBuffer.append(TEXT_317);
d1445 1
a1445 1
    stringBuffer.append(TEXT_318);
d1447 1
a1447 1
    stringBuffer.append(TEXT_319);
d1450 1
a1450 1
    stringBuffer.append(TEXT_320);
d1452 1
a1452 1
    stringBuffer.append(TEXT_321);
d1454 1
a1454 1
    stringBuffer.append(TEXT_322);
d1456 1
a1456 1
    stringBuffer.append(TEXT_323);
d1458 1
a1458 1
    stringBuffer.append(TEXT_324);
d1460 1
a1460 1
    stringBuffer.append(TEXT_325);
d1466 1
a1466 1
    stringBuffer.append(TEXT_326);
d1468 1
a1468 1
    stringBuffer.append(TEXT_327);
@


1.23
log
@Removing extra spaces
@
text
@d117 84
a200 84
  protected final String TEXT_98 = ".canCreateLink(req, ";
  protected final String TEXT_99 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_100 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_101 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_102 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_103 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_104 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_105 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_106 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_107 = NL + "\t\tfinal ";
  protected final String TEXT_108 = " element = (";
  protected final String TEXT_109 = ") getSemanticElement();";
  protected final String TEXT_110 = NL + "\t\tfinal ";
  protected final String TEXT_111 = " element = (";
  protected final String TEXT_112 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_113 = ".eINSTANCE.get";
  protected final String TEXT_114 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_115 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_116 = NL + "\t\tif (";
  protected final String TEXT_117 = " != null) {";
  protected final String TEXT_118 = NL + "\t\tif (";
  protected final String TEXT_119 = ".size() >= ";
  protected final String TEXT_120 = ") {";
  protected final String TEXT_121 = NL + "\t\t\treturn ";
  protected final String TEXT_122 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_123 = NL + "\t\tif (";
  protected final String TEXT_124 = " != null) {";
  protected final String TEXT_125 = NL + "\t\tif (";
  protected final String TEXT_126 = ".size() >= ";
  protected final String TEXT_127 = ") {";
  protected final String TEXT_128 = NL + "\t\t\treturn ";
  protected final String TEXT_129 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_130 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_131 = ".eINSTANCE.get";
  protected final String TEXT_132 = "());" + NL + "\t\t}" + NL + "\t\t";
  protected final String TEXT_133 = NL + "\t\tif(!";
  protected final String TEXT_134 = ".canCreateLink(req, ";
  protected final String TEXT_135 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_136 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_137 = "\t\t\t\t" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_138 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_139 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_140 = "Command extends ";
  protected final String TEXT_141 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_142 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_143 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_144 = ".eINSTANCE.get";
  protected final String TEXT_145 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_146 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_147 = " doDefaultElementCreation() {";
  protected final String TEXT_148 = NL + "\t\t\t";
  protected final String TEXT_149 = " newElement = (";
  protected final String TEXT_150 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_151 = "(";
  protected final String TEXT_152 = ") getSource());";
  protected final String TEXT_153 = NL + "\t\t\t\t";
  protected final String TEXT_154 = "(";
  protected final String TEXT_155 = ") getTarget());";
  protected final String TEXT_156 = NL + "\t\t\t\t";
  protected final String TEXT_157 = " container = (";
  protected final String TEXT_158 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_159 = NL + "\t\t\t\t\t";
  protected final String TEXT_160 = " featureValues = container.";
  protected final String TEXT_161 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_162 = NL + "\t\t\t\t \t";
  protected final String TEXT_163 = "newElement);";
  protected final String TEXT_164 = NL + "\t\t\t\t}";
  protected final String TEXT_165 = NL + "\t\t\t\t";
  protected final String TEXT_166 = ".Initializers.";
  protected final String TEXT_167 = ".init(newElement);";
  protected final String TEXT_168 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_169 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_170 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_171 = NL + "\t\tif(!";
  protected final String TEXT_172 = ".canCreateLink(req, ";
  protected final String TEXT_173 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_174 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_175 = "\t";
  protected final String TEXT_176 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_177 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_178 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_179 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_180 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_181 = ".INSTANCE;" + NL + "\t\t}";
d203 94
a296 94
  protected final String TEXT_184 = ") req.getSource();";
  protected final String TEXT_185 = NL + "\t\tfinal ";
  protected final String TEXT_186 = " element = (";
  protected final String TEXT_187 = ") getRelationshipContainer(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_188 = ".eINSTANCE.get";
  protected final String TEXT_189 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_190 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_191 = NL + "\t\tif (";
  protected final String TEXT_192 = " != null) {";
  protected final String TEXT_193 = NL + "\t\tif (";
  protected final String TEXT_194 = ".size() >= ";
  protected final String TEXT_195 = ") {";
  protected final String TEXT_196 = NL + "\t\t\treturn ";
  protected final String TEXT_197 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_198 = NL + "\t\tif (";
  protected final String TEXT_199 = " != null) {";
  protected final String TEXT_200 = NL + "\t\tif (";
  protected final String TEXT_201 = ".size() >= ";
  protected final String TEXT_202 = ") {";
  protected final String TEXT_203 = NL + "\t\t\treturn ";
  protected final String TEXT_204 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_205 = NL + "\t\tif(!";
  protected final String TEXT_206 = ".canCreateLink(req, ";
  protected final String TEXT_207 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_208 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_209 = "\t\t";
  protected final String TEXT_210 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_211 = ".eINSTANCE.get";
  protected final String TEXT_212 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_213 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_214 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_215 = "Command extends ";
  protected final String TEXT_216 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_217 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_218 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_219 = ".eINSTANCE.get";
  protected final String TEXT_220 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_221 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_222 = " doDefaultElementCreation() {";
  protected final String TEXT_223 = NL + "\t\t\t";
  protected final String TEXT_224 = " newElement = (";
  protected final String TEXT_225 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_226 = "(";
  protected final String TEXT_227 = ") getTarget());";
  protected final String TEXT_228 = NL + "\t\t\t\t";
  protected final String TEXT_229 = "(";
  protected final String TEXT_230 = ") getSource());";
  protected final String TEXT_231 = NL + "\t\t\t\t";
  protected final String TEXT_232 = " container = (";
  protected final String TEXT_233 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_234 = NL + "\t\t\t\t\t";
  protected final String TEXT_235 = " featureValues = container.";
  protected final String TEXT_236 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_237 = NL + "\t\t\t\t \t";
  protected final String TEXT_238 = "newElement);";
  protected final String TEXT_239 = NL + "\t\t\t\t}";
  protected final String TEXT_240 = NL + "\t\t\t\t";
  protected final String TEXT_241 = ".Initializers.";
  protected final String TEXT_242 = ".init(newElement);";
  protected final String TEXT_243 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_244 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_245 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_246 = NL + "\t\t";
  protected final String TEXT_247 = " element = (";
  protected final String TEXT_248 = ") getSemanticElement();";
  protected final String TEXT_249 = NL + "\t\tif (";
  protected final String TEXT_250 = " != null) {";
  protected final String TEXT_251 = NL + "\t\tif (";
  protected final String TEXT_252 = ".size() >= ";
  protected final String TEXT_253 = ") {";
  protected final String TEXT_254 = NL + "\t\t\treturn ";
  protected final String TEXT_255 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_256 = NL + "\t\tif(!";
  protected final String TEXT_257 = ".canCreateLink(req, ";
  protected final String TEXT_258 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_259 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_260 = NL;
  protected final String TEXT_261 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_262 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_263 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_264 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_265 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_266 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_267 = NL + "\t\t";
  protected final String TEXT_268 = " element = (";
  protected final String TEXT_269 = ") getSemanticElement();";
  protected final String TEXT_270 = NL + "\t\tif (";
  protected final String TEXT_271 = " != null) {";
  protected final String TEXT_272 = NL + "\t\tif (";
  protected final String TEXT_273 = ".size() >= ";
  protected final String TEXT_274 = NL + "\t\t\t|| ";
  protected final String TEXT_275 = ".contains(req.getSource())";
  protected final String TEXT_276 = NL + "\t\t\t\t) {";
  protected final String TEXT_277 = NL + "\t\t\treturn ";
d298 17
a314 17
  protected final String TEXT_279 = NL + "\t\t";
  protected final String TEXT_280 = " element = (";
  protected final String TEXT_281 = ") getSemanticElement();" + NL + "\t\tif (";
  protected final String TEXT_282 = ".contains(req.getSource())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_283 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_284 = NL + "\t\tif(!";
  protected final String TEXT_285 = ".canCreateLink(req, ";
  protected final String TEXT_286 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_287 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_288 = "\t\t";
  protected final String TEXT_289 = NL + "\t\t";
  protected final String TEXT_290 = " setReq = new ";
  protected final String TEXT_291 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_292 = ".eINSTANCE.get";
  protected final String TEXT_293 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_294 = "(setReq));" + NL + "\t}";
  protected final String TEXT_295 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
d316 31
a346 39
  protected final String TEXT_297 = NL + "\t\tif(!";
  protected final String TEXT_298 = ".canCreateLink(req, ";
  protected final String TEXT_299 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_300 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_301 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_302 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_303 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_304 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_305 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_306 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_307 = NL + "\t\t";
  protected final String TEXT_308 = " element = (";
  protected final String TEXT_309 = ") req.getSource();";
  protected final String TEXT_310 = NL + "\t\tif (";
  protected final String TEXT_311 = " != null) {";
  protected final String TEXT_312 = NL + "\t\tif (";
  protected final String TEXT_313 = ".size() >= ";
  protected final String TEXT_314 = NL + "\t\t\t|| ";
  protected final String TEXT_315 = ".contains(req.getTarget())";
  protected final String TEXT_316 = NL + "\t\t\t\t) {";
  protected final String TEXT_317 = NL + "\t\t\treturn ";
  protected final String TEXT_318 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_319 = NL + "\t\t";
  protected final String TEXT_320 = " element = (";
  protected final String TEXT_321 = ") req.getSource();" + NL + "\t\tif (";
  protected final String TEXT_322 = ".contains(req.getTarget())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_323 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_324 = NL + "\t\tif(!";
  protected final String TEXT_325 = ".canCreateLink(req, ";
  protected final String TEXT_326 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_327 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_328 = NL + "\t\t";
  protected final String TEXT_329 = " setReq = new ";
  protected final String TEXT_330 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_331 = ".eINSTANCE.get";
  protected final String TEXT_332 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_333 = "(setReq));" + NL + "\t}";
  protected final String TEXT_334 = NL + "}";
  protected final String TEXT_335 = NL;
d651 2
a652 2
	boolean canBeSource = false;
	boolean canBeTarget = false;
d655 1
a655 1
		GenClass outgoingClass = modelFacet.getSourceMetaFeature() == null
d658 1
a658 1
		GenClass incomingClass = modelFacet.getTargetMetaFeature().getTypeGenClass();
a659 2
		canBeSource = outgoingClass.getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass());
		canBeTarget = incomingClass.getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass());
d662 2
d665 3
a667 2
		canBeSource = metaFeature.getGenClass().getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass());
		canBeTarget = metaFeature.getTypeGenClass().getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass());
d669 2
d678 5
a715 1
		boolean outgoing = true;
a758 1
			outgoing = true;
d831 1
a831 1
    stringBuffer.append(outgoing ? "false" : "true");
a832 2
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_100);
d835 1
a835 1
    stringBuffer.append(TEXT_101);
a842 1
			outgoing = true;
d845 2
d848 1
a848 1
    stringBuffer.append(namePart);
d850 1
a850 1
     // check that source is valid 
d852 1
a852 1
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
a853 2
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_106);
d858 2
d863 2
a865 2
    stringBuffer.append(TEXT_109);
    			} else {
d869 1
a869 1
    stringBuffer.append(containerClassName);
d871 1
a871 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d873 1
a873 1
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
a874 2
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_115);
d882 2
d885 2
a887 2
    stringBuffer.append(TEXT_117);
    					} else {
d889 1
a889 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d891 1
a891 1
    stringBuffer.append(upperContainmentBound);
d893 1
a893 1
    					}
a894 2
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_122);
d900 2
d903 2
a905 2
    stringBuffer.append(TEXT_124);
    					} else {
d907 1
a907 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d909 1
a909 1
    stringBuffer.append(upperChildBound);
d911 1
a911 1
    					}
a912 2
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_129);
d918 2
d921 1
a921 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d923 1
a923 1
    stringBuffer.append(containmentFeature.getFeatureAccessorName());
d925 1
a925 1
    			if(linkConstraints != null) { 
d927 1
a927 1
    stringBuffer.append(constraintsInstance);
d929 1
a929 1
    stringBuffer.append(outgoing ? "true" : "false");
d931 1
a931 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d933 1
a933 1
    			} // end of link constraints 
d937 1
a937 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d941 1
a941 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.commands.core.commands.MSLCreateRelationshipCommand"));
d943 1
a943 1
    stringBuffer.append(namePart);
d945 1
a945 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EClass"));
d947 1
a947 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d949 1
a949 1
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
d951 1
a951 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d953 1
a953 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d955 1
a955 1
    			String metaClassName = importManager.getImportedName(modelFacet.getMetaClass().getQualifiedInterfaceName());
d957 1
a957 1
    stringBuffer.append(metaClassName);
d959 1
a959 1
    stringBuffer.append(metaClassName);
d961 1
a961 1
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getTargetMetaFeature(), false, importManager));
d963 1
a963 1
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
d965 1
a965 1
    			if (modelFacet.getSourceMetaFeature() != null) {
a966 4
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getSourceMetaFeature(), false, importManager));
    stringBuffer.append(TEXT_154);
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
    stringBuffer.append(TEXT_155);
d971 1
a971 1
    stringBuffer.append(TEXT_156);
d973 1
a973 1
    stringBuffer.append(TEXT_157);
d975 1
a975 1
    stringBuffer.append(TEXT_158);
d977 1
a977 1
    stringBuffer.append(TEXT_159);
d979 1
a979 1
    stringBuffer.append(TEXT_160);
d981 1
a981 1
    stringBuffer.append(TEXT_161);
d983 1
a983 1
    stringBuffer.append(TEXT_162);
d985 1
a985 1
    stringBuffer.append(TEXT_163);
d987 1
a987 1
    stringBuffer.append(TEXT_164);
d992 1
a992 1
    stringBuffer.append(TEXT_165);
d994 1
a994 1
    stringBuffer.append(TEXT_166);
d996 1
a996 1
    stringBuffer.append(TEXT_167);
d998 1
a998 1
    stringBuffer.append(TEXT_168);
a1005 1
			outgoing = false;
d1008 1
a1008 1
    stringBuffer.append(TEXT_169);
d1010 1
a1010 1
    stringBuffer.append(TEXT_170);
d1012 1
a1012 1
    stringBuffer.append(TEXT_171);
d1014 1
a1014 3
    stringBuffer.append(TEXT_172);
    stringBuffer.append(outgoing ? "false" : "true");
    stringBuffer.append(TEXT_173);
d1016 1
a1016 1
    stringBuffer.append(TEXT_174);
d1018 1
a1018 1
    stringBuffer.append(TEXT_175);
d1020 1
a1020 1
    stringBuffer.append(TEXT_176);
a1027 1
			outgoing = false;
d1030 1
a1030 1
    stringBuffer.append(TEXT_177);
d1032 1
a1032 1
    stringBuffer.append(TEXT_178);
d1034 1
a1034 1
    stringBuffer.append(TEXT_179);
d1036 1
a1036 1
    stringBuffer.append(TEXT_180);
d1038 1
a1038 1
    stringBuffer.append(TEXT_181);
d1043 6
d1054 1
a1054 1
    				} else {
d1056 1
a1056 1
    stringBuffer.append(containerClassName);
d1058 1
a1058 1
    stringBuffer.append(containerClassName);
a1059 6
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
    stringBuffer.append(TEXT_188);
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
    stringBuffer.append(TEXT_189);
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_190);
d1067 1
a1067 1
    stringBuffer.append(TEXT_191);
d1069 1
a1069 1
    stringBuffer.append(TEXT_192);
d1071 1
a1071 1
    stringBuffer.append(TEXT_193);
d1073 1
a1073 1
    stringBuffer.append(TEXT_194);
d1075 1
a1075 1
    stringBuffer.append(TEXT_195);
d1077 1
a1077 1
    stringBuffer.append(TEXT_196);
d1079 1
a1079 1
    stringBuffer.append(TEXT_197);
d1085 1
a1085 1
    stringBuffer.append(TEXT_198);
d1087 1
a1087 1
    stringBuffer.append(TEXT_199);
d1089 1
a1089 1
    stringBuffer.append(TEXT_200);
d1091 1
a1091 1
    stringBuffer.append(TEXT_201);
d1093 1
a1093 1
    stringBuffer.append(TEXT_202);
d1095 1
a1095 1
    stringBuffer.append(TEXT_203);
d1097 1
a1097 1
    stringBuffer.append(TEXT_204);
d1103 1
a1103 1
    stringBuffer.append(TEXT_205);
d1105 1
a1105 3
    stringBuffer.append(TEXT_206);
    stringBuffer.append(outgoing ? "true" : "false");
    stringBuffer.append(TEXT_207);
d1107 1
a1107 1
    stringBuffer.append(TEXT_208);
d1109 1
a1109 1
    stringBuffer.append(TEXT_209);
d1111 1
a1111 1
    stringBuffer.append(TEXT_210);
d1113 1
a1113 1
    stringBuffer.append(TEXT_211);
d1115 1
a1115 1
    stringBuffer.append(TEXT_212);
d1117 1
a1117 1
    stringBuffer.append(TEXT_213);
d1119 1
a1119 1
    stringBuffer.append(TEXT_214);
d1121 1
a1121 1
    stringBuffer.append(TEXT_215);
d1123 1
a1123 1
    stringBuffer.append(TEXT_216);
d1125 1
a1125 1
    stringBuffer.append(TEXT_217);
d1127 1
a1127 1
    stringBuffer.append(TEXT_218);
d1129 1
a1129 1
    stringBuffer.append(TEXT_219);
d1131 1
a1131 1
    stringBuffer.append(TEXT_220);
d1133 1
a1133 1
    stringBuffer.append(TEXT_221);
d1135 1
a1135 1
    stringBuffer.append(TEXT_222);
d1137 1
a1137 1
    stringBuffer.append(TEXT_223);
d1139 1
a1139 1
    stringBuffer.append(TEXT_224);
d1141 1
a1141 1
    stringBuffer.append(TEXT_225);
d1143 1
a1143 1
    stringBuffer.append(TEXT_226);
d1145 1
a1145 1
    stringBuffer.append(TEXT_227);
d1147 1
a1147 1
    stringBuffer.append(TEXT_228);
d1149 1
a1149 1
    stringBuffer.append(TEXT_229);
d1151 1
a1151 1
    stringBuffer.append(TEXT_230);
d1156 1
a1156 1
    stringBuffer.append(TEXT_231);
d1158 1
a1158 1
    stringBuffer.append(TEXT_232);
d1160 1
a1160 1
    stringBuffer.append(TEXT_233);
d1162 1
a1162 1
    stringBuffer.append(TEXT_234);
d1164 1
a1164 1
    stringBuffer.append(TEXT_235);
d1166 1
a1166 1
    stringBuffer.append(TEXT_236);
d1168 1
a1168 1
    stringBuffer.append(TEXT_237);
d1170 1
a1170 1
    stringBuffer.append(TEXT_238);
d1172 1
a1172 1
    stringBuffer.append(TEXT_239);
d1177 1
a1177 1
    stringBuffer.append(TEXT_240);
d1179 1
a1179 1
    stringBuffer.append(TEXT_241);
d1181 1
a1181 1
    stringBuffer.append(TEXT_242);
d1183 1
a1183 1
    stringBuffer.append(TEXT_243);
a1196 1
		boolean outgoing = true;
a1232 1
			outgoing = true;
d1235 1
a1235 1
    stringBuffer.append(TEXT_244);
d1237 1
a1237 1
    stringBuffer.append(TEXT_245);
d1243 1
a1243 1
    stringBuffer.append(TEXT_246);
d1245 1
a1245 1
    stringBuffer.append(TEXT_247);
d1247 1
a1247 1
    stringBuffer.append(TEXT_248);
d1249 1
a1249 1
    stringBuffer.append(TEXT_249);
d1251 1
a1251 1
    stringBuffer.append(TEXT_250);
d1253 1
a1253 1
    stringBuffer.append(TEXT_251);
d1255 1
a1255 1
    stringBuffer.append(TEXT_252);
d1257 1
a1257 1
    stringBuffer.append(TEXT_253);
d1259 1
a1259 1
    stringBuffer.append(TEXT_254);
d1261 1
a1261 1
    stringBuffer.append(TEXT_255);
d1264 1
a1264 1
    stringBuffer.append(TEXT_256);
d1266 1
a1266 3
    stringBuffer.append(TEXT_257);
    stringBuffer.append(outgoing ? "false" : "true");
    stringBuffer.append(TEXT_258);
d1268 1
a1268 1
    stringBuffer.append(TEXT_259);
d1270 1
a1270 1
    stringBuffer.append(TEXT_260);
d1272 1
a1272 1
    stringBuffer.append(TEXT_261);
a1279 1
			outgoing = true;
d1282 1
a1282 1
    stringBuffer.append(TEXT_262);
d1284 1
a1284 1
    stringBuffer.append(TEXT_263);
d1286 1
a1286 1
    stringBuffer.append(TEXT_264);
d1288 1
a1288 1
    stringBuffer.append(TEXT_265);
d1290 1
a1290 1
    stringBuffer.append(TEXT_266);
d1296 1
a1296 1
    stringBuffer.append(TEXT_267);
d1298 1
a1298 1
    stringBuffer.append(TEXT_268);
d1300 1
a1300 1
    stringBuffer.append(TEXT_269);
d1302 1
a1302 1
    stringBuffer.append(TEXT_270);
d1304 1
a1304 1
    stringBuffer.append(TEXT_271);
d1306 1
a1306 1
    stringBuffer.append(TEXT_272);
d1308 1
a1308 1
    stringBuffer.append(TEXT_273);
d1311 1
a1311 1
    stringBuffer.append(TEXT_274);
d1313 1
a1313 1
    stringBuffer.append(TEXT_275);
d1315 1
a1315 1
    stringBuffer.append(TEXT_276);
d1317 1
a1317 1
    stringBuffer.append(TEXT_277);
d1319 1
a1319 1
    stringBuffer.append(TEXT_278);
d1324 1
a1324 1
    stringBuffer.append(TEXT_279);
d1326 1
a1326 1
    stringBuffer.append(TEXT_280);
d1328 1
a1328 1
    stringBuffer.append(TEXT_281);
d1330 1
a1330 1
    stringBuffer.append(TEXT_282);
d1332 1
a1332 1
    stringBuffer.append(TEXT_283);
d1335 1
a1335 1
    stringBuffer.append(TEXT_284);
d1337 1
a1337 3
    stringBuffer.append(TEXT_285);
    stringBuffer.append(outgoing ? "true" : "false");
    stringBuffer.append(TEXT_286);
d1339 1
a1339 1
    stringBuffer.append(TEXT_287);
d1341 1
a1341 1
    stringBuffer.append(TEXT_288);
d1343 1
a1343 1
    stringBuffer.append(TEXT_289);
d1345 1
a1345 1
    stringBuffer.append(TEXT_290);
d1347 1
a1347 1
    stringBuffer.append(TEXT_291);
d1349 1
a1349 1
    stringBuffer.append(TEXT_292);
d1351 1
a1351 1
    stringBuffer.append(TEXT_293);
d1353 1
a1353 1
    stringBuffer.append(TEXT_294);
a1360 1
			outgoing = false;
d1363 1
a1363 1
    stringBuffer.append(TEXT_295);
d1365 1
a1365 1
    stringBuffer.append(TEXT_296);
d1367 1
a1367 1
    stringBuffer.append(TEXT_297);
d1369 1
a1369 3
    stringBuffer.append(TEXT_298);
    stringBuffer.append(outgoing ? "false" : "true");
    stringBuffer.append(TEXT_299);
d1371 1
a1371 1
    stringBuffer.append(TEXT_300);
d1374 1
a1374 1
    stringBuffer.append(TEXT_301);
a1381 1
			outgoing = false;
d1384 1
a1384 1
    stringBuffer.append(TEXT_302);
d1386 1
a1386 1
    stringBuffer.append(TEXT_303);
d1388 1
a1388 1
    stringBuffer.append(TEXT_304);
d1390 1
a1390 1
    stringBuffer.append(TEXT_305);
d1392 1
a1392 1
    stringBuffer.append(TEXT_306);
d1398 1
a1398 1
    stringBuffer.append(TEXT_307);
d1400 1
a1400 1
    stringBuffer.append(TEXT_308);
d1402 1
a1402 1
    stringBuffer.append(TEXT_309);
d1404 1
a1404 1
    stringBuffer.append(TEXT_310);
d1406 1
a1406 1
    stringBuffer.append(TEXT_311);
d1408 1
a1408 1
    stringBuffer.append(TEXT_312);
d1410 1
a1410 1
    stringBuffer.append(TEXT_313);
d1413 1
a1413 1
    stringBuffer.append(TEXT_314);
d1415 1
a1415 1
    stringBuffer.append(TEXT_315);
d1417 1
a1417 1
    stringBuffer.append(TEXT_316);
d1419 1
a1419 1
    stringBuffer.append(TEXT_317);
d1421 1
a1421 1
    stringBuffer.append(TEXT_318);
d1426 1
a1426 1
    stringBuffer.append(TEXT_319);
d1428 1
a1428 1
    stringBuffer.append(TEXT_320);
d1430 1
a1430 1
    stringBuffer.append(TEXT_321);
d1432 1
a1432 1
    stringBuffer.append(TEXT_322);
d1434 1
a1434 1
    stringBuffer.append(TEXT_323);
d1437 1
a1437 1
    stringBuffer.append(TEXT_324);
d1439 1
a1439 3
    stringBuffer.append(TEXT_325);
    stringBuffer.append(outgoing ? "true" : "false");
    stringBuffer.append(TEXT_326);
d1441 1
a1441 1
    stringBuffer.append(TEXT_327);
d1444 1
a1444 1
    stringBuffer.append(TEXT_328);
d1446 1
a1446 1
    stringBuffer.append(TEXT_329);
d1448 1
a1448 1
    stringBuffer.append(TEXT_330);
d1450 1
a1450 1
    stringBuffer.append(TEXT_331);
d1452 1
a1452 1
    stringBuffer.append(TEXT_332);
d1454 1
a1454 1
    stringBuffer.append(TEXT_333);
d1460 1
a1460 1
    stringBuffer.append(TEXT_334);
d1462 1
a1462 1
    stringBuffer.append(TEXT_335);
@


1.22
log
@#117716
Creating self links in a correct direction.
@
text
@a1199 4
		
		
		
		
a1407 1

@


1.21
log
@comment out unused variables
@
text
@d87 37
a123 37
  protected final String TEXT_68 = " == req.getElementType()) {";
  protected final String TEXT_69 = NL + "\t\t\treturn req.getTarget() == null ? getCreateStart";
  protected final String TEXT_70 = "Command(req) : getCreateComplete";
  protected final String TEXT_71 = "Command(req);";
  protected final String TEXT_72 = NL + "\t\t\treturn req.getTarget() == null ? getCreateStart";
  protected final String TEXT_73 = "Command(req) : null;";
  protected final String TEXT_74 = NL + "\t\t\treturn req.getTarget() == null ? null : getCreateComplete";
  protected final String TEXT_75 = "Command(req);";
  protected final String TEXT_76 = NL + "\t\t}";
  protected final String TEXT_77 = NL + "\t\treturn super.getCreateRelationshipCommand(req);" + NL + "\t}";
  protected final String TEXT_78 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_79 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_80 = NL + "\t\t";
  protected final String TEXT_81 = " element = (";
  protected final String TEXT_82 = ") getSemanticElement();";
  protected final String TEXT_83 = NL + "\t\t";
  protected final String TEXT_84 = " element = (";
  protected final String TEXT_85 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_86 = ".eINSTANCE.get";
  protected final String TEXT_87 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_88 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_89 = NL + "\t\tif (";
  protected final String TEXT_90 = " != null) {";
  protected final String TEXT_91 = NL + "\t\tif (";
  protected final String TEXT_92 = ".size() >= ";
  protected final String TEXT_93 = ") {";
  protected final String TEXT_94 = NL + "\t\t\treturn ";
  protected final String TEXT_95 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_96 = NL + "\t\tif (";
  protected final String TEXT_97 = " != null) {";
  protected final String TEXT_98 = NL + "\t\tif (";
  protected final String TEXT_99 = ".size() >= ";
  protected final String TEXT_100 = ") {";
  protected final String TEXT_101 = NL + "\t\t\treturn ";
  protected final String TEXT_102 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_103 = NL + "\t\tif(!";
  protected final String TEXT_104 = ".canCreateLink(req, ";
d125 199
a323 199
  protected final String TEXT_106 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_107 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_108 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_109 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_110 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_111 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_112 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_113 = NL + "\t\tfinal ";
  protected final String TEXT_114 = " element = (";
  protected final String TEXT_115 = ") getSemanticElement();";
  protected final String TEXT_116 = NL + "\t\tfinal ";
  protected final String TEXT_117 = " element = (";
  protected final String TEXT_118 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_119 = ".eINSTANCE.get";
  protected final String TEXT_120 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_121 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_122 = NL + "\t\tif (";
  protected final String TEXT_123 = " != null) {";
  protected final String TEXT_124 = NL + "\t\tif (";
  protected final String TEXT_125 = ".size() >= ";
  protected final String TEXT_126 = ") {";
  protected final String TEXT_127 = NL + "\t\t\treturn ";
  protected final String TEXT_128 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_129 = NL + "\t\tif (";
  protected final String TEXT_130 = " != null) {";
  protected final String TEXT_131 = NL + "\t\tif (";
  protected final String TEXT_132 = ".size() >= ";
  protected final String TEXT_133 = ") {";
  protected final String TEXT_134 = NL + "\t\t\treturn ";
  protected final String TEXT_135 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_136 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_137 = ".eINSTANCE.get";
  protected final String TEXT_138 = "());" + NL + "\t\t}" + NL + "\t\t";
  protected final String TEXT_139 = NL + "\t\tif(!";
  protected final String TEXT_140 = ".canCreateLink(req, ";
  protected final String TEXT_141 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_142 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_143 = "\t\t\t\t" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_144 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_145 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_146 = "Command extends ";
  protected final String TEXT_147 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_148 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_149 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_150 = ".eINSTANCE.get";
  protected final String TEXT_151 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_152 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_153 = " doDefaultElementCreation() {";
  protected final String TEXT_154 = NL + "\t\t\t";
  protected final String TEXT_155 = " newElement = (";
  protected final String TEXT_156 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_157 = "(";
  protected final String TEXT_158 = ") getSource());";
  protected final String TEXT_159 = NL + "\t\t\t\t";
  protected final String TEXT_160 = "(";
  protected final String TEXT_161 = ") getTarget());";
  protected final String TEXT_162 = NL + "\t\t\t\t";
  protected final String TEXT_163 = " container = (";
  protected final String TEXT_164 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_165 = NL + "\t\t\t\t\t";
  protected final String TEXT_166 = " featureValues = container.";
  protected final String TEXT_167 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_168 = NL + "\t\t\t\t \t";
  protected final String TEXT_169 = "newElement);";
  protected final String TEXT_170 = NL + "\t\t\t\t}";
  protected final String TEXT_171 = NL + "\t\t\t\t";
  protected final String TEXT_172 = ".Initializers.";
  protected final String TEXT_173 = ".init(newElement);";
  protected final String TEXT_174 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_175 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_176 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_177 = NL + "\t\tif(!";
  protected final String TEXT_178 = ".canCreateLink(req, ";
  protected final String TEXT_179 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_180 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_181 = "\t";
  protected final String TEXT_182 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_183 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_184 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_185 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_186 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_187 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_188 = NL + "\t\tfinal ";
  protected final String TEXT_189 = " element = (";
  protected final String TEXT_190 = ") req.getSource();";
  protected final String TEXT_191 = NL + "\t\tfinal ";
  protected final String TEXT_192 = " element = (";
  protected final String TEXT_193 = ") getRelationshipContainer(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_194 = ".eINSTANCE.get";
  protected final String TEXT_195 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_196 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_197 = NL + "\t\tif (";
  protected final String TEXT_198 = " != null) {";
  protected final String TEXT_199 = NL + "\t\tif (";
  protected final String TEXT_200 = ".size() >= ";
  protected final String TEXT_201 = ") {";
  protected final String TEXT_202 = NL + "\t\t\treturn ";
  protected final String TEXT_203 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_204 = NL + "\t\tif (";
  protected final String TEXT_205 = " != null) {";
  protected final String TEXT_206 = NL + "\t\tif (";
  protected final String TEXT_207 = ".size() >= ";
  protected final String TEXT_208 = ") {";
  protected final String TEXT_209 = NL + "\t\t\treturn ";
  protected final String TEXT_210 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_211 = NL + "\t\tif(!";
  protected final String TEXT_212 = ".canCreateLink(req, ";
  protected final String TEXT_213 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_214 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_215 = "\t\t";
  protected final String TEXT_216 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_217 = ".eINSTANCE.get";
  protected final String TEXT_218 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_219 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_220 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_221 = "Command extends ";
  protected final String TEXT_222 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_223 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_224 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_225 = ".eINSTANCE.get";
  protected final String TEXT_226 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_227 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_228 = " doDefaultElementCreation() {";
  protected final String TEXT_229 = NL + "\t\t\t";
  protected final String TEXT_230 = " newElement = (";
  protected final String TEXT_231 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_232 = "(";
  protected final String TEXT_233 = ") getTarget());";
  protected final String TEXT_234 = NL + "\t\t\t\t";
  protected final String TEXT_235 = "(";
  protected final String TEXT_236 = ") getSource());";
  protected final String TEXT_237 = NL + "\t\t\t\t";
  protected final String TEXT_238 = " container = (";
  protected final String TEXT_239 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_240 = NL + "\t\t\t\t\t";
  protected final String TEXT_241 = " featureValues = container.";
  protected final String TEXT_242 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_243 = NL + "\t\t\t\t \t";
  protected final String TEXT_244 = "newElement);";
  protected final String TEXT_245 = NL + "\t\t\t\t}";
  protected final String TEXT_246 = NL + "\t\t\t\t";
  protected final String TEXT_247 = ".Initializers.";
  protected final String TEXT_248 = ".init(newElement);";
  protected final String TEXT_249 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_250 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_251 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_252 = NL + "\t\t";
  protected final String TEXT_253 = " element = (";
  protected final String TEXT_254 = ") getSemanticElement();";
  protected final String TEXT_255 = NL + "\t\tif (";
  protected final String TEXT_256 = " != null) {";
  protected final String TEXT_257 = NL + "\t\tif (";
  protected final String TEXT_258 = ".size() >= ";
  protected final String TEXT_259 = ") {";
  protected final String TEXT_260 = NL + "\t\t\treturn ";
  protected final String TEXT_261 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_262 = NL + "\t\tif(!";
  protected final String TEXT_263 = ".canCreateLink(req, ";
  protected final String TEXT_264 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_265 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_266 = NL;
  protected final String TEXT_267 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_268 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_269 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_270 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_271 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_272 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_273 = NL + "\t\t";
  protected final String TEXT_274 = " element = (";
  protected final String TEXT_275 = ") getSemanticElement();";
  protected final String TEXT_276 = NL + "\t\tif (";
  protected final String TEXT_277 = " != null) {";
  protected final String TEXT_278 = NL + "\t\tif (";
  protected final String TEXT_279 = ".size() >= ";
  protected final String TEXT_280 = NL + "\t\t\t|| ";
  protected final String TEXT_281 = ".contains(req.getSource())";
  protected final String TEXT_282 = NL + "\t\t\t\t) {";
  protected final String TEXT_283 = NL + "\t\t\treturn ";
  protected final String TEXT_284 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_285 = NL + "\t\t";
  protected final String TEXT_286 = " element = (";
  protected final String TEXT_287 = ") getSemanticElement();" + NL + "\t\tif (";
  protected final String TEXT_288 = ".contains(req.getSource())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_289 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_290 = NL + "\t\tif(!";
  protected final String TEXT_291 = ".canCreateLink(req, ";
  protected final String TEXT_292 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_293 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_294 = "\t\t";
  protected final String TEXT_295 = NL + "\t\t";
  protected final String TEXT_296 = " setReq = new ";
  protected final String TEXT_297 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_298 = ".eINSTANCE.get";
  protected final String TEXT_299 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_300 = "(setReq));" + NL + "\t}";
  protected final String TEXT_301 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_302 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_303 = NL + "\t\tif(!";
  protected final String TEXT_304 = ".canCreateLink(req, ";
d325 30
a354 36
  protected final String TEXT_306 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_307 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_308 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_309 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_310 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_311 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_312 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_313 = NL + "\t\t";
  protected final String TEXT_314 = " element = (";
  protected final String TEXT_315 = ") req.getSource();";
  protected final String TEXT_316 = NL + "\t\tif (";
  protected final String TEXT_317 = " != null) {";
  protected final String TEXT_318 = NL + "\t\tif (";
  protected final String TEXT_319 = ".size() >= ";
  protected final String TEXT_320 = NL + "\t\t\t|| ";
  protected final String TEXT_321 = ".contains(req.getTarget())";
  protected final String TEXT_322 = NL + "\t\t\t\t) {";
  protected final String TEXT_323 = NL + "\t\t\treturn ";
  protected final String TEXT_324 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_325 = NL + "\t\t";
  protected final String TEXT_326 = " element = (";
  protected final String TEXT_327 = ") req.getSource();" + NL + "\t\tif (";
  protected final String TEXT_328 = ".contains(req.getTarget())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_329 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_330 = NL + "\t\tif(!";
  protected final String TEXT_331 = ".canCreateLink(req, ";
  protected final String TEXT_332 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_333 = ".INSTANCE;\t\t\t" + NL + "\t\t}";
  protected final String TEXT_334 = NL + "\t\t";
  protected final String TEXT_335 = " setReq = new ";
  protected final String TEXT_336 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_337 = ".eINSTANCE.get";
  protected final String TEXT_338 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_339 = "(setReq));" + NL + "\t}";
  protected final String TEXT_340 = NL + "}";
  protected final String TEXT_341 = NL;
d657 4
a660 2
	String namePart = null;
	boolean outgoing = true;
d666 4
a669 6
		if (outgoingClass.getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass())) {
			namePart = OUTGOING_TOKEN + modelFacet.getMetaClass().getName();
		} else if (modelFacet.getTargetMetaFeature().getTypeGenClass().getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass())) {
			namePart = INCOMING_TOKEN + modelFacet.getMetaClass().getName();
			outgoing = false;
		}
d672 7
a678 6
		if (metaFeature.getGenClass().getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass())) {
			namePart = OUTGOING_TOKEN + metaFeature.getFeatureAccessorName();
		} else if (metaFeature.getTypeGenClass().getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass())) {
			namePart = INCOMING_TOKEN + metaFeature.getFeatureAccessorName();
			outgoing = false;
		}
d680 5
a684 2
	if (namePart != null) {
		namePart += genLink.getVisualID();
d691 1
a691 1
    		if (genLink.isOutgoingCreationAllowed() && genLink.isIncomingCreationAllowed()) {
d693 1
a693 1
    stringBuffer.append(namePart);
a694 2
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_71);
d696 1
a696 2
		} else {
			if (outgoing ? genLink.isOutgoingCreationAllowed() : genLink.isIncomingCreationAllowed()) {
d698 1
a698 7
    stringBuffer.append(TEXT_72);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_73);
    			} else {
    stringBuffer.append(TEXT_74);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_75);
a699 7
			}
		}

    stringBuffer.append(TEXT_76);
    
	}
}
a700 2
    stringBuffer.append(TEXT_77);
    
a705 1
	String namePart = null;
d728 32
a759 1
		if (outgoingClass.getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass())) {
d761 1
a761 2
			namePart = OUTGOING_TOKEN + modelFacet.getMetaClass().getName() + genLink.getVisualID();
			if (genLink.isOutgoingCreationAllowed()) {
d763 1
a763 1
    stringBuffer.append(TEXT_78);
d765 1
a765 1
    stringBuffer.append(TEXT_79);
d768 3
a770 3
				if (upperContainmentBound > 0 || checkChildFeatureUpperBound) {
					String containerClassName = importManager.getImportedName(containmentFeature.getGenClass().getQualifiedInterfaceName());
					if (modelFacet.getSourceMetaFeature() == null) {
d772 12
d785 1
a785 1
    stringBuffer.append(containerClassName);
d787 1
a787 1
    stringBuffer.append(containerClassName);
d789 5
a793 1
    					} else {
d795 1
a795 1
    stringBuffer.append(containerClassName);
d797 1
a797 1
    stringBuffer.append(containerClassName);
d799 1
a799 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d801 1
a801 1
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
d803 2
d806 1
a806 1
    stringBuffer.append(TEXT_88);
d808 3
a810 3
					}
					if (upperContainmentBound > 0) {
						if (upperContainmentBound == 1) {
a811 2
    stringBuffer.append(TEXT_89);
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d813 1
a813 1
    						} else {
d815 1
a815 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d817 1
a817 1
    stringBuffer.append(upperContainmentBound);
d819 1
a819 1
    						}
d821 2
d824 1
a824 1
    stringBuffer.append(TEXT_95);
d826 2
a827 3
					}
					if (checkChildFeatureUpperBound) {
						if (upperChildBound == 1) {
d829 1
a829 2
    stringBuffer.append(TEXT_96);
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d831 1
a831 1
    						} else {
d833 1
a833 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d835 1
a835 1
    stringBuffer.append(upperChildBound);
d837 2
a838 1
    						}
a839 2
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_102);
d841 8
a848 2
					}
				}
d850 2
a851 1
    				if(linkConstraints != null) { 
d853 1
a853 1
    stringBuffer.append(constraintsInstance);
d855 1
a855 1
    stringBuffer.append(outgoing ? "false" : "true");
a858 3
    				} // end of link constraints 
     // create always executable command 
    stringBuffer.append(TEXT_107);
d860 2
a861 2
			}
			if (genLink.isIncomingCreationAllowed()) {
d863 2
d866 1
a866 1
    stringBuffer.append(namePart);
d868 1
a868 1
     // check that source is valid 
d870 1
a870 1
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
d872 1
a872 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d874 1
a874 4
    
				String containerClassName = importManager.getImportedName(containmentFeature.getGenClass().getQualifiedInterfaceName());
				if (modelFacet.getSourceMetaFeature() == null) {

d876 1
a876 1
    stringBuffer.append(containerClassName);
d878 1
a878 1
    stringBuffer.append(containerClassName);
d880 7
a886 1
    				} else {
d888 1
a888 1
    stringBuffer.append(containerClassName);
d890 1
a890 1
    stringBuffer.append(containerClassName);
d892 1
a892 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d894 1
a894 1
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
d896 2
d899 1
a899 3
    stringBuffer.append(TEXT_121);
    				}
     // check that containment feature is not set / has capacity for the new element 
d901 3
a903 3
				if (upperContainmentBound > 0 || checkChildFeatureUpperBound) {
					if (upperContainmentBound > 0) {
						if (upperContainmentBound == 1) {
a904 2
    stringBuffer.append(TEXT_122);
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d906 1
a906 1
    						} else {
d908 1
a908 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d910 1
a910 1
    stringBuffer.append(upperContainmentBound);
d912 1
a912 1
    						}
d914 2
d917 1
a917 1
    stringBuffer.append(TEXT_128);
d919 2
a920 3
					}
					if (checkChildFeatureUpperBound) {
						if (upperChildBound == 1) {
d922 1
a922 2
    stringBuffer.append(TEXT_129);
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d924 1
a924 1
    						} else {
d926 1
a926 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d928 1
a928 1
    stringBuffer.append(upperChildBound);
d930 1
a930 1
    						}
d932 2
a934 6
    stringBuffer.append(TEXT_135);
    
					}
				}

     // create semantic command 
d936 1
a936 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d938 1
a938 1
    stringBuffer.append(containmentFeature.getFeatureAccessorName());
d940 1
a940 1
    				if(linkConstraints != null) { 
d942 1
a942 1
    stringBuffer.append(constraintsInstance);
d944 1
a944 1
    stringBuffer.append(outgoing ? "true" : "false");
d946 1
a946 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d948 1
a948 1
    				} // end of link constraints 
d950 1
a950 1
    stringBuffer.append(namePart);
d952 2
a954 2
    stringBuffer.append(TEXT_145);
    stringBuffer.append(namePart);
d956 1
a956 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.commands.core.commands.MSLCreateRelationshipCommand"));
d958 1
a958 1
    stringBuffer.append(namePart);
d960 1
a960 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EClass"));
d962 1
a962 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d964 1
a964 1
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
d966 1
a966 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d968 1
a968 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d970 1
a970 1
    				String metaClassName = importManager.getImportedName(modelFacet.getMetaClass().getQualifiedInterfaceName());
d972 1
a972 1
    stringBuffer.append(metaClassName);
d974 4
a977 1
    stringBuffer.append(metaClassName);
d979 1
a979 1
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getTargetMetaFeature(), false, importManager));
d981 1
a981 1
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
d983 1
a983 1
    				if (modelFacet.getSourceMetaFeature() != null) {
d985 1
a985 1
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getSourceMetaFeature(), false, importManager));
d987 1
a987 1
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
d989 1
a989 4
    
				}
				if (processChildFeature) {

d991 1
a991 1
    stringBuffer.append(containerClassName);
d993 1
a993 1
    stringBuffer.append(containerClassName);
d995 4
a998 1
    					if (childFeature.isListType()) {
d1000 1
a1000 1
    stringBuffer.append(importManager.getImportedName("java.util.Collection"));
d1002 1
a1002 1
    stringBuffer.append(childFeature.getGetAccessor());
d1004 1
a1004 1
    					} else {
d1006 10
a1015 1
    stringBuffer.append(getFeatureValueSetterPrefix("container", childFeature, false, importManager));
d1017 1
a1017 1
    					}
d1019 1
a1019 4
    
				}
				if (modelFacet.getModelElementInitializer() != null) { 

d1021 1
a1021 1
    stringBuffer.append(importManager.getImportedName(genDiagram.getElementTypesQualifiedClassName()));
d1023 1
a1023 1
    stringBuffer.append(genLink.getUniqueIdentifier());
d1025 1
a1025 1
    				}
d1027 4
d1032 6
a1037 2
			}
		} else if (incomingClass.getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass())) {
d1039 1
a1039 2
			namePart = INCOMING_TOKEN + modelFacet.getMetaClass().getName() + genLink.getVisualID();
			if (genLink.isIncomingCreationAllowed()) {
d1041 1
a1041 1
    stringBuffer.append(TEXT_175);
a1042 4
    stringBuffer.append(TEXT_176);
    			if(linkConstraints != null) { 
    stringBuffer.append(TEXT_177);
    stringBuffer.append(constraintsInstance);
d1044 1
a1044 1
    stringBuffer.append(outgoing ? "false" : "true");
d1046 2
a1048 2
    stringBuffer.append(TEXT_180);
    			} // end of link constraints 
a1049 2
     // no feasible restrictions here 
    stringBuffer.append(TEXT_182);
d1051 2
a1052 2
			}
			if (genLink.isOutgoingCreationAllowed()) {
d1054 2
d1057 1
a1057 1
    stringBuffer.append(namePart);
d1059 1
a1059 1
     // check that source is valid 
d1061 1
a1061 1
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
d1063 1
a1063 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d1065 1
a1065 4
    
				String containerClassName = importManager.getImportedName(containmentFeature.getGenClass().getQualifiedInterfaceName());
				if (modelFacet.getSourceMetaFeature() == null) {

d1067 1
a1067 1
    stringBuffer.append(containerClassName);
d1069 1
a1069 1
    stringBuffer.append(containerClassName);
d1071 7
a1077 1
    				} else {
d1079 1
a1079 1
    stringBuffer.append(containerClassName);
d1081 1
a1081 1
    stringBuffer.append(containerClassName);
d1083 1
a1083 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d1085 1
a1085 1
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
d1087 2
d1090 1
a1090 3
    stringBuffer.append(TEXT_196);
    				}
     // check that containment feature is not set / has capacity for the new element 
d1092 3
a1094 3
				if (upperContainmentBound > 0 || checkChildFeatureUpperBound) {
					if (upperContainmentBound > 0) {
						if (upperContainmentBound == 1) {
a1095 2
    stringBuffer.append(TEXT_197);
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d1097 1
a1097 1
    						} else {
d1099 1
a1099 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d1101 1
a1101 1
    stringBuffer.append(upperContainmentBound);
d1103 1
a1103 1
    						}
d1105 2
d1108 1
a1108 1
    stringBuffer.append(TEXT_203);
d1110 2
a1111 3
					}
					if (checkChildFeatureUpperBound) {
						if (upperChildBound == 1) {
d1113 1
a1113 2
    stringBuffer.append(TEXT_204);
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d1115 1
a1115 1
    						} else {
d1117 1
a1117 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d1119 1
a1119 1
    stringBuffer.append(upperChildBound);
d1121 1
a1121 1
    						}
d1123 1
a1123 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d1125 1
a1125 5
    
					}
				}

    				if(linkConstraints != null) { 
d1127 1
a1127 1
    stringBuffer.append(constraintsInstance);
d1129 1
a1129 1
    stringBuffer.append(outgoing ? "true" : "false");
d1131 1
a1131 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d1133 1
a1133 1
    				} // end of constraints 
d1135 1
a1135 1
     // create semantic command 
d1137 1
a1137 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d1139 1
a1139 1
    stringBuffer.append(modelFacet.getContainmentMetaFeature().getFeatureAccessorName());
d1141 1
a1141 1
    stringBuffer.append(namePart);
d1143 2
a1145 2
    stringBuffer.append(TEXT_220);
    stringBuffer.append(namePart);
d1147 1
a1147 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.commands.core.commands.MSLCreateRelationshipCommand"));
d1149 1
a1149 1
    stringBuffer.append(namePart);
d1151 1
a1151 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EClass"));
d1153 1
a1153 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d1155 1
a1155 1
    stringBuffer.append(containmentFeature.getGenClass().getClassifierAccessorName());
d1157 1
a1157 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d1159 1
a1159 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d1161 1
a1161 1
    				String metaClassName = importManager.getImportedName(modelFacet.getMetaClass().getQualifiedInterfaceName());
d1163 1
a1163 1
    stringBuffer.append(metaClassName);
d1165 4
a1168 1
    stringBuffer.append(metaClassName);
d1170 1
a1170 1
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getTargetMetaFeature(), false, importManager));
d1172 1
a1172 1
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
d1174 1
a1174 1
    				if (modelFacet.getSourceMetaFeature() != null) {
d1176 1
a1176 1
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getSourceMetaFeature(), false, importManager));
d1178 1
a1178 1
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
d1180 1
a1180 4
    
				}
				if (processChildFeature) {

d1182 1
a1182 1
    stringBuffer.append(containerClassName);
d1184 1
a1184 1
    stringBuffer.append(containerClassName);
a1185 12
    					if (childFeature.isListType()) {
    stringBuffer.append(TEXT_240);
    stringBuffer.append(importManager.getImportedName("java.util.Collection"));
    stringBuffer.append(TEXT_241);
    stringBuffer.append(childFeature.getGetAccessor());
    stringBuffer.append(TEXT_242);
    					} else {
    stringBuffer.append(TEXT_243);
    stringBuffer.append(getFeatureValueSetterPrefix("container", childFeature, false, importManager));
    stringBuffer.append(TEXT_244);
    					}
    stringBuffer.append(TEXT_245);
d1187 1
a1187 1
				}
d1190 1
a1190 1
    stringBuffer.append(TEXT_246);
d1192 1
a1192 1
    stringBuffer.append(TEXT_247);
d1194 3
a1196 3
    stringBuffer.append(TEXT_248);
    				}
    stringBuffer.append(TEXT_249);
a1197 1
			}
d1199 5
d1219 32
a1250 1
		if (outgoingClass.getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass())) {
d1252 1
a1252 2
			namePart = OUTGOING_TOKEN + metaFeature.getFeatureAccessorName() + genLink.getVisualID();
			if (genLink.isOutgoingCreationAllowed()) {
d1254 1
a1254 1
    stringBuffer.append(TEXT_250);
d1256 1
a1256 1
    stringBuffer.append(TEXT_251);
d1262 1
a1262 1
    stringBuffer.append(TEXT_252);
d1264 1
a1264 1
    stringBuffer.append(TEXT_253);
d1266 1
a1266 1
    stringBuffer.append(TEXT_254);
d1268 1
a1268 1
    stringBuffer.append(TEXT_255);
d1270 1
a1270 1
    stringBuffer.append(TEXT_256);
d1272 1
a1272 1
    stringBuffer.append(TEXT_257);
d1274 1
a1274 1
    stringBuffer.append(TEXT_258);
d1276 1
a1276 1
    stringBuffer.append(TEXT_259);
d1278 1
a1278 1
    stringBuffer.append(TEXT_260);
d1280 1
a1280 1
    stringBuffer.append(TEXT_261);
d1283 1
a1283 1
    stringBuffer.append(TEXT_262);
d1285 1
a1285 1
    stringBuffer.append(TEXT_263);
d1287 1
a1287 1
    stringBuffer.append(TEXT_264);
d1289 1
a1289 1
    stringBuffer.append(TEXT_265);
d1291 1
a1291 1
    stringBuffer.append(TEXT_266);
d1293 1
a1293 1
    stringBuffer.append(TEXT_267);
d1295 8
a1302 2
			}
			if (genLink.isIncomingCreationAllowed()) {
d1304 1
a1304 1
    stringBuffer.append(TEXT_268);
d1306 1
a1306 1
    stringBuffer.append(TEXT_269);
d1308 1
a1308 1
    stringBuffer.append(TEXT_270);
d1310 1
a1310 1
    stringBuffer.append(TEXT_271);
d1312 1
a1312 1
    stringBuffer.append(TEXT_272);
d1318 1
a1318 1
    stringBuffer.append(TEXT_273);
d1320 1
a1320 1
    stringBuffer.append(TEXT_274);
d1322 1
a1322 1
    stringBuffer.append(TEXT_275);
d1324 1
a1324 1
    stringBuffer.append(TEXT_276);
d1326 1
a1326 1
    stringBuffer.append(TEXT_277);
d1328 1
a1328 1
    stringBuffer.append(TEXT_278);
d1330 1
a1330 1
    stringBuffer.append(TEXT_279);
d1333 1
a1333 1
    stringBuffer.append(TEXT_280);
d1335 1
a1335 3
    stringBuffer.append(TEXT_281);
    					}
    stringBuffer.append(TEXT_282);
d1337 3
a1339 1
    stringBuffer.append(TEXT_283);
d1341 1
a1341 1
    stringBuffer.append(TEXT_284);
d1346 1
a1346 1
    stringBuffer.append(TEXT_285);
d1348 1
a1348 1
    stringBuffer.append(TEXT_286);
d1350 1
a1350 1
    stringBuffer.append(TEXT_287);
d1352 1
a1352 1
    stringBuffer.append(TEXT_288);
d1354 1
a1354 1
    stringBuffer.append(TEXT_289);
d1357 1
a1357 1
    stringBuffer.append(TEXT_290);
d1359 1
a1359 1
    stringBuffer.append(TEXT_291);
d1361 1
a1361 1
    stringBuffer.append(TEXT_292);
d1363 1
a1363 1
    stringBuffer.append(TEXT_293);
d1365 1
a1365 1
    stringBuffer.append(TEXT_294);
d1367 1
a1367 1
    stringBuffer.append(TEXT_295);
d1369 1
a1369 1
    stringBuffer.append(TEXT_296);
d1371 1
a1371 1
    stringBuffer.append(TEXT_297);
d1373 1
a1373 1
    stringBuffer.append(TEXT_298);
d1375 1
a1375 1
    stringBuffer.append(TEXT_299);
d1377 1
a1377 1
    stringBuffer.append(TEXT_300);
d1379 6
a1384 2
			}
		} else if (incomingClass.getEcoreClass().isSuperTypeOf(nodeMetaClass.getEcoreClass())) {
d1386 1
a1386 2
			namePart = INCOMING_TOKEN + metaFeature.getFeatureAccessorName() + genLink.getVisualID();
			if (genLink.isIncomingCreationAllowed()) {
d1388 1
a1388 1
    stringBuffer.append(TEXT_301);
d1390 1
a1390 1
    stringBuffer.append(TEXT_302);
d1392 1
a1392 1
    stringBuffer.append(TEXT_303);
d1394 1
a1394 1
    stringBuffer.append(TEXT_304);
d1396 1
a1396 1
    stringBuffer.append(TEXT_305);
d1398 1
a1398 1
    stringBuffer.append(TEXT_306);
d1401 1
a1401 1
    stringBuffer.append(TEXT_307);
d1403 9
a1411 2
			}
			if (genLink.isOutgoingCreationAllowed()) {
d1413 1
a1413 1
    stringBuffer.append(TEXT_308);
d1415 1
a1415 1
    stringBuffer.append(TEXT_309);
d1417 1
a1417 1
    stringBuffer.append(TEXT_310);
d1419 1
a1419 1
    stringBuffer.append(TEXT_311);
d1421 1
a1421 1
    stringBuffer.append(TEXT_312);
d1427 1
a1427 1
    stringBuffer.append(TEXT_313);
d1429 1
a1429 1
    stringBuffer.append(TEXT_314);
d1431 1
a1431 1
    stringBuffer.append(TEXT_315);
d1433 1
a1433 1
    stringBuffer.append(TEXT_316);
d1435 1
a1435 1
    stringBuffer.append(TEXT_317);
d1437 1
a1437 1
    stringBuffer.append(TEXT_318);
d1439 1
a1439 1
    stringBuffer.append(TEXT_319);
d1442 1
a1442 1
    stringBuffer.append(TEXT_320);
d1444 1
a1444 1
    stringBuffer.append(TEXT_321);
d1446 1
a1446 1
    stringBuffer.append(TEXT_322);
d1448 1
a1448 1
    stringBuffer.append(TEXT_323);
d1450 1
a1450 1
    stringBuffer.append(TEXT_324);
d1455 1
a1455 1
    stringBuffer.append(TEXT_325);
d1457 1
a1457 1
    stringBuffer.append(TEXT_326);
d1459 1
a1459 1
    stringBuffer.append(TEXT_327);
d1461 1
a1461 1
    stringBuffer.append(TEXT_328);
d1463 1
a1463 1
    stringBuffer.append(TEXT_329);
d1466 1
a1466 1
    stringBuffer.append(TEXT_330);
d1468 1
a1468 1
    stringBuffer.append(TEXT_331);
d1470 1
a1470 1
    stringBuffer.append(TEXT_332);
d1472 1
a1472 1
    stringBuffer.append(TEXT_333);
d1475 1
a1475 1
    stringBuffer.append(TEXT_334);
d1477 1
a1477 1
    stringBuffer.append(TEXT_335);
d1479 1
a1479 1
    stringBuffer.append(TEXT_336);
d1481 1
a1481 1
    stringBuffer.append(TEXT_337);
d1483 1
a1483 1
    stringBuffer.append(TEXT_338);
d1485 1
a1485 1
    stringBuffer.append(TEXT_339);
a1486 1
			}
d1491 1
a1491 1
    stringBuffer.append(TEXT_340);
d1493 1
a1493 1
    stringBuffer.append(TEXT_341);
@


1.20
log
@[rdvorak] #117743 support for link creation constraints
@
text
@d657 2
a658 2
	GenLinkConstraints linkConstraints = genLink.getCreationConstraints();
	String constraintsInstance = linkConstraints != null ? importManager.getImportedName(genDiagram.getLinkCreationConstraintsQualifiedClassName())+"."+linkConstraints.getConstraintsInstanceFieldName() : null;
@


1.19
log
@sync with templates, getUniqueIdentifier instead of modelFacet.getMetaClass seems right
@
text
@d122 59
a180 59
  protected final String TEXT_103 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_104 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_105 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_106 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_107 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_108 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_109 = NL + "\t\tfinal ";
  protected final String TEXT_110 = " element = (";
  protected final String TEXT_111 = ") getSemanticElement();";
  protected final String TEXT_112 = NL + "\t\tfinal ";
  protected final String TEXT_113 = " element = (";
  protected final String TEXT_114 = ") getRelationshipContainer(getSemanticElement()," + NL + "\t\t\t";
  protected final String TEXT_115 = ".eINSTANCE.get";
  protected final String TEXT_116 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_117 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_118 = NL + "\t\tif (";
  protected final String TEXT_119 = " != null) {";
  protected final String TEXT_120 = NL + "\t\tif (";
  protected final String TEXT_121 = ".size() >= ";
  protected final String TEXT_122 = ") {";
  protected final String TEXT_123 = NL + "\t\t\treturn ";
  protected final String TEXT_124 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_125 = NL + "\t\tif (";
  protected final String TEXT_126 = " != null) {";
  protected final String TEXT_127 = NL + "\t\tif (";
  protected final String TEXT_128 = ".size() >= ";
  protected final String TEXT_129 = ") {";
  protected final String TEXT_130 = NL + "\t\t\treturn ";
  protected final String TEXT_131 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_132 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_133 = ".eINSTANCE.get";
  protected final String TEXT_134 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_135 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_136 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_137 = "Command extends ";
  protected final String TEXT_138 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_139 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_140 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_141 = ".eINSTANCE.get";
  protected final String TEXT_142 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_143 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_144 = " doDefaultElementCreation() {";
  protected final String TEXT_145 = NL + "\t\t\t";
  protected final String TEXT_146 = " newElement = (";
  protected final String TEXT_147 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_148 = "(";
  protected final String TEXT_149 = ") getSource());";
  protected final String TEXT_150 = NL + "\t\t\t\t";
  protected final String TEXT_151 = "(";
  protected final String TEXT_152 = ") getTarget());";
  protected final String TEXT_153 = NL + "\t\t\t\t";
  protected final String TEXT_154 = " container = (";
  protected final String TEXT_155 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_156 = NL + "\t\t\t\t\t";
  protected final String TEXT_157 = " featureValues = container.";
  protected final String TEXT_158 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_159 = NL + "\t\t\t\t \t";
  protected final String TEXT_160 = "newElement);";
  protected final String TEXT_161 = NL + "\t\t\t\t}";
d182 33
a214 33
  protected final String TEXT_163 = ".Initializers.";
  protected final String TEXT_164 = ".init(newElement);";
  protected final String TEXT_165 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_166 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_167 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_168 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_169 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_170 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_171 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_172 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_173 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_174 = NL + "\t\tfinal ";
  protected final String TEXT_175 = " element = (";
  protected final String TEXT_176 = ") req.getSource();";
  protected final String TEXT_177 = NL + "\t\tfinal ";
  protected final String TEXT_178 = " element = (";
  protected final String TEXT_179 = ") getRelationshipContainer(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_180 = ".eINSTANCE.get";
  protected final String TEXT_181 = "(), req.getElementType());" + NL + "\t\tif (element == null) {" + NL + "\t\t\treturn ";
  protected final String TEXT_182 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_183 = NL + "\t\tif (";
  protected final String TEXT_184 = " != null) {";
  protected final String TEXT_185 = NL + "\t\tif (";
  protected final String TEXT_186 = ".size() >= ";
  protected final String TEXT_187 = ") {";
  protected final String TEXT_188 = NL + "\t\t\treturn ";
  protected final String TEXT_189 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_190 = NL + "\t\tif (";
  protected final String TEXT_191 = " != null) {";
  protected final String TEXT_192 = NL + "\t\tif (";
  protected final String TEXT_193 = ".size() >= ";
  protected final String TEXT_194 = ") {";
  protected final String TEXT_195 = NL + "\t\t\treturn ";
d216 145
a360 108
  protected final String TEXT_197 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_198 = ".eINSTANCE.get";
  protected final String TEXT_199 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_200 = "Command(req) {" + NL + "" + NL + "\t\t\t/**" + NL + "\t\t\t * @@generated" + NL + "\t\t\t */" + NL + "\t\t\tprotected ";
  protected final String TEXT_201 = " getElementToEdit() {" + NL + "\t\t\t\treturn element;" + NL + "\t\t\t}" + NL + "\t\t});" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_202 = "Command extends ";
  protected final String TEXT_203 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_204 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_205 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_206 = ".eINSTANCE.get";
  protected final String TEXT_207 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected void setElementToEdit(";
  protected final String TEXT_208 = " element) {" + NL + "\t\t\tthrow new UnsupportedOperationException();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_209 = " doDefaultElementCreation() {";
  protected final String TEXT_210 = NL + "\t\t\t";
  protected final String TEXT_211 = " newElement = (";
  protected final String TEXT_212 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_213 = "(";
  protected final String TEXT_214 = ") getTarget());";
  protected final String TEXT_215 = NL + "\t\t\t\t";
  protected final String TEXT_216 = "(";
  protected final String TEXT_217 = ") getSource());";
  protected final String TEXT_218 = NL + "\t\t\t\t";
  protected final String TEXT_219 = " container = (";
  protected final String TEXT_220 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_221 = NL + "\t\t\t\t\t";
  protected final String TEXT_222 = " featureValues = container.";
  protected final String TEXT_223 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_224 = NL + "\t\t\t\t \t";
  protected final String TEXT_225 = "newElement);";
  protected final String TEXT_226 = NL + "\t\t\t\t}";
  protected final String TEXT_227 = NL + "\t\t\t\t";
  protected final String TEXT_228 = ".Initializers.";
  protected final String TEXT_229 = ".init(newElement);";
  protected final String TEXT_230 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_231 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_232 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_233 = NL + "\t\t";
  protected final String TEXT_234 = " element = (";
  protected final String TEXT_235 = ") getSemanticElement();";
  protected final String TEXT_236 = NL + "\t\tif (";
  protected final String TEXT_237 = " != null) {";
  protected final String TEXT_238 = NL + "\t\tif (";
  protected final String TEXT_239 = ".size() >= ";
  protected final String TEXT_240 = ") {";
  protected final String TEXT_241 = NL + "\t\t\treturn ";
  protected final String TEXT_242 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_243 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_244 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_245 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_246 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_247 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_248 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_249 = NL + "\t\t";
  protected final String TEXT_250 = " element = (";
  protected final String TEXT_251 = ") getSemanticElement();";
  protected final String TEXT_252 = NL + "\t\tif (";
  protected final String TEXT_253 = " != null) {";
  protected final String TEXT_254 = NL + "\t\tif (";
  protected final String TEXT_255 = ".size() >= ";
  protected final String TEXT_256 = NL + "\t\t\t|| ";
  protected final String TEXT_257 = ".contains(req.getSource())";
  protected final String TEXT_258 = NL + "\t\t\t\t) {";
  protected final String TEXT_259 = NL + "\t\t\treturn ";
  protected final String TEXT_260 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_261 = NL + "\t\t";
  protected final String TEXT_262 = " element = (";
  protected final String TEXT_263 = ") getSemanticElement();" + NL + "\t\tif (";
  protected final String TEXT_264 = ".contains(req.getSource())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_265 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_266 = NL + "\t\t";
  protected final String TEXT_267 = " setReq = new ";
  protected final String TEXT_268 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_269 = ".eINSTANCE.get";
  protected final String TEXT_270 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_271 = "(setReq));" + NL + "\t}";
  protected final String TEXT_272 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_273 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_274 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_275 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_276 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_277 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_278 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_279 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_280 = NL + "\t\t";
  protected final String TEXT_281 = " element = (";
  protected final String TEXT_282 = ") req.getSource();";
  protected final String TEXT_283 = NL + "\t\tif (";
  protected final String TEXT_284 = " != null) {";
  protected final String TEXT_285 = NL + "\t\tif (";
  protected final String TEXT_286 = ".size() >= ";
  protected final String TEXT_287 = NL + "\t\t\t|| ";
  protected final String TEXT_288 = ".contains(req.getTarget())";
  protected final String TEXT_289 = NL + "\t\t\t\t) {";
  protected final String TEXT_290 = NL + "\t\t\treturn ";
  protected final String TEXT_291 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_292 = NL + "\t\t";
  protected final String TEXT_293 = " element = (";
  protected final String TEXT_294 = ") req.getSource();" + NL + "\t\tif (";
  protected final String TEXT_295 = ".contains(req.getTarget())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_296 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_297 = NL + "\t\t";
  protected final String TEXT_298 = " setReq = new ";
  protected final String TEXT_299 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_300 = ".eINSTANCE.get";
  protected final String TEXT_301 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_302 = "(setReq));" + NL + "\t}";
  protected final String TEXT_303 = NL + "}";
  protected final String TEXT_304 = NL;
d443 9
d657 3
d723 3
d737 1
d750 1
d820 9
d830 1
a830 1
    stringBuffer.append(TEXT_103);
d835 1
a835 1
    stringBuffer.append(TEXT_104);
d837 1
a837 1
    stringBuffer.append(TEXT_105);
d839 1
a839 1
    stringBuffer.append(TEXT_106);
d841 1
a841 1
    stringBuffer.append(TEXT_107);
d843 1
a843 1
    stringBuffer.append(TEXT_108);
d848 1
a848 1
    stringBuffer.append(TEXT_109);
d850 1
a850 1
    stringBuffer.append(TEXT_110);
d852 1
a852 1
    stringBuffer.append(TEXT_111);
d854 1
a854 1
    stringBuffer.append(TEXT_112);
d856 1
a856 1
    stringBuffer.append(TEXT_113);
d858 1
a858 1
    stringBuffer.append(TEXT_114);
d860 1
a860 1
    stringBuffer.append(TEXT_115);
d862 1
a862 1
    stringBuffer.append(TEXT_116);
d864 1
a864 1
    stringBuffer.append(TEXT_117);
d872 1
a872 1
    stringBuffer.append(TEXT_118);
d874 1
a874 1
    stringBuffer.append(TEXT_119);
d876 1
a876 1
    stringBuffer.append(TEXT_120);
d878 1
a878 1
    stringBuffer.append(TEXT_121);
d880 1
a880 1
    stringBuffer.append(TEXT_122);
d882 1
a882 1
    stringBuffer.append(TEXT_123);
d884 1
a884 1
    stringBuffer.append(TEXT_124);
d890 1
a890 1
    stringBuffer.append(TEXT_125);
d892 1
a892 1
    stringBuffer.append(TEXT_126);
d894 1
a894 1
    stringBuffer.append(TEXT_127);
d896 1
a896 1
    stringBuffer.append(TEXT_128);
d898 1
a898 1
    stringBuffer.append(TEXT_129);
d900 1
a900 1
    stringBuffer.append(TEXT_130);
d902 1
a902 1
    stringBuffer.append(TEXT_131);
d908 1
a908 1
    stringBuffer.append(TEXT_132);
d910 1
a910 1
    stringBuffer.append(TEXT_133);
d912 11
a922 1
    stringBuffer.append(TEXT_134);
d924 1
a924 1
    stringBuffer.append(TEXT_135);
d926 1
a926 1
    stringBuffer.append(TEXT_136);
d928 1
a928 1
    stringBuffer.append(TEXT_137);
d930 1
a930 1
    stringBuffer.append(TEXT_138);
d932 1
a932 1
    stringBuffer.append(TEXT_139);
d934 1
a934 1
    stringBuffer.append(TEXT_140);
d936 1
a936 1
    stringBuffer.append(TEXT_141);
d938 1
a938 1
    stringBuffer.append(TEXT_142);
d940 1
a940 1
    stringBuffer.append(TEXT_143);
d942 1
a942 1
    stringBuffer.append(TEXT_144);
d944 1
a944 1
    stringBuffer.append(TEXT_145);
d946 1
a946 1
    stringBuffer.append(TEXT_146);
d948 1
a948 1
    stringBuffer.append(TEXT_147);
d950 1
a950 1
    stringBuffer.append(TEXT_148);
d952 1
a952 1
    stringBuffer.append(TEXT_149);
d954 1
a954 1
    stringBuffer.append(TEXT_150);
d956 1
a956 1
    stringBuffer.append(TEXT_151);
d958 1
a958 1
    stringBuffer.append(TEXT_152);
d963 1
a963 1
    stringBuffer.append(TEXT_153);
d965 1
a965 1
    stringBuffer.append(TEXT_154);
d967 1
a967 1
    stringBuffer.append(TEXT_155);
d969 1
a969 1
    stringBuffer.append(TEXT_156);
d971 1
a971 1
    stringBuffer.append(TEXT_157);
d973 1
a973 1
    stringBuffer.append(TEXT_158);
d975 1
a975 1
    stringBuffer.append(TEXT_159);
d977 1
a977 1
    stringBuffer.append(TEXT_160);
d979 1
a979 1
    stringBuffer.append(TEXT_161);
d984 1
a984 1
    stringBuffer.append(TEXT_162);
d986 1
a986 1
    stringBuffer.append(TEXT_163);
d988 1
a988 1
    stringBuffer.append(TEXT_164);
d990 1
a990 1
    stringBuffer.append(TEXT_165);
d994 1
d998 1
a998 1
    stringBuffer.append(TEXT_166);
d1000 11
a1010 1
    stringBuffer.append(TEXT_167);
d1012 1
a1012 1
    stringBuffer.append(TEXT_168);
d1017 1
a1017 1
    stringBuffer.append(TEXT_169);
d1019 1
a1019 1
    stringBuffer.append(TEXT_170);
d1021 1
a1021 1
    stringBuffer.append(TEXT_171);
d1023 1
a1023 1
    stringBuffer.append(TEXT_172);
d1025 1
a1025 1
    stringBuffer.append(TEXT_173);
d1030 1
a1030 1
    stringBuffer.append(TEXT_174);
d1032 1
a1032 1
    stringBuffer.append(TEXT_175);
d1034 1
a1034 1
    stringBuffer.append(TEXT_176);
d1036 1
a1036 1
    stringBuffer.append(TEXT_177);
d1038 1
a1038 1
    stringBuffer.append(TEXT_178);
d1040 1
a1040 1
    stringBuffer.append(TEXT_179);
d1042 1
a1042 1
    stringBuffer.append(TEXT_180);
d1044 1
a1044 1
    stringBuffer.append(TEXT_181);
d1046 1
a1046 1
    stringBuffer.append(TEXT_182);
d1054 1
a1054 1
    stringBuffer.append(TEXT_183);
d1056 1
a1056 1
    stringBuffer.append(TEXT_184);
d1058 1
a1058 1
    stringBuffer.append(TEXT_185);
d1060 1
a1060 1
    stringBuffer.append(TEXT_186);
d1062 1
a1062 1
    stringBuffer.append(TEXT_187);
d1064 1
a1064 1
    stringBuffer.append(TEXT_188);
d1066 1
a1066 1
    stringBuffer.append(TEXT_189);
d1072 1
a1072 1
    stringBuffer.append(TEXT_190);
d1074 1
a1074 1
    stringBuffer.append(TEXT_191);
d1076 1
a1076 1
    stringBuffer.append(TEXT_192);
d1078 1
a1078 1
    stringBuffer.append(TEXT_193);
d1080 1
a1080 1
    stringBuffer.append(TEXT_194);
d1082 1
a1082 1
    stringBuffer.append(TEXT_195);
d1084 1
a1084 1
    stringBuffer.append(TEXT_196);
d1089 10
d1100 1
a1100 1
    stringBuffer.append(TEXT_197);
d1102 1
a1102 1
    stringBuffer.append(TEXT_198);
d1104 1
a1104 1
    stringBuffer.append(TEXT_199);
d1106 1
a1106 1
    stringBuffer.append(TEXT_200);
d1108 1
a1108 1
    stringBuffer.append(TEXT_201);
d1110 1
a1110 1
    stringBuffer.append(TEXT_202);
d1112 1
a1112 1
    stringBuffer.append(TEXT_203);
d1114 1
a1114 1
    stringBuffer.append(TEXT_204);
d1116 1
a1116 1
    stringBuffer.append(TEXT_205);
d1118 1
a1118 1
    stringBuffer.append(TEXT_206);
d1120 1
a1120 1
    stringBuffer.append(TEXT_207);
d1122 1
a1122 1
    stringBuffer.append(TEXT_208);
d1124 1
a1124 1
    stringBuffer.append(TEXT_209);
d1126 1
a1126 1
    stringBuffer.append(TEXT_210);
d1128 1
a1128 1
    stringBuffer.append(TEXT_211);
d1130 1
a1130 1
    stringBuffer.append(TEXT_212);
d1132 1
a1132 1
    stringBuffer.append(TEXT_213);
d1134 1
a1134 1
    stringBuffer.append(TEXT_214);
d1136 1
a1136 1
    stringBuffer.append(TEXT_215);
d1138 1
a1138 1
    stringBuffer.append(TEXT_216);
d1140 1
a1140 1
    stringBuffer.append(TEXT_217);
d1145 1
a1145 1
    stringBuffer.append(TEXT_218);
d1147 1
a1147 1
    stringBuffer.append(TEXT_219);
d1149 1
a1149 1
    stringBuffer.append(TEXT_220);
d1151 1
a1151 1
    stringBuffer.append(TEXT_221);
d1153 1
a1153 1
    stringBuffer.append(TEXT_222);
d1155 1
a1155 1
    stringBuffer.append(TEXT_223);
d1157 1
a1157 1
    stringBuffer.append(TEXT_224);
d1159 1
a1159 1
    stringBuffer.append(TEXT_225);
d1161 1
a1161 1
    stringBuffer.append(TEXT_226);
d1166 1
a1166 1
    stringBuffer.append(TEXT_227);
d1168 1
a1168 1
    stringBuffer.append(TEXT_228);
d1170 1
a1170 1
    stringBuffer.append(TEXT_229);
d1172 1
a1172 1
    stringBuffer.append(TEXT_230);
d1186 1
d1192 1
d1196 1
a1196 1
    stringBuffer.append(TEXT_231);
d1198 1
a1198 1
    stringBuffer.append(TEXT_232);
d1204 1
a1204 1
    stringBuffer.append(TEXT_233);
d1206 1
a1206 1
    stringBuffer.append(TEXT_234);
d1208 1
a1208 1
    stringBuffer.append(TEXT_235);
d1210 1
a1210 1
    stringBuffer.append(TEXT_236);
d1212 1
a1212 1
    stringBuffer.append(TEXT_237);
d1214 1
a1214 1
    stringBuffer.append(TEXT_238);
d1216 1
a1216 1
    stringBuffer.append(TEXT_239);
d1218 1
a1218 1
    stringBuffer.append(TEXT_240);
d1220 1
a1220 1
    stringBuffer.append(TEXT_241);
d1222 1
a1222 1
    stringBuffer.append(TEXT_242);
d1224 10
d1235 1
a1235 1
    stringBuffer.append(TEXT_243);
d1240 1
a1240 1
    stringBuffer.append(TEXT_244);
d1242 1
a1242 1
    stringBuffer.append(TEXT_245);
d1244 1
a1244 1
    stringBuffer.append(TEXT_246);
d1246 1
a1246 1
    stringBuffer.append(TEXT_247);
d1248 1
a1248 1
    stringBuffer.append(TEXT_248);
d1254 1
a1254 1
    stringBuffer.append(TEXT_249);
d1256 1
a1256 1
    stringBuffer.append(TEXT_250);
d1258 1
a1258 1
    stringBuffer.append(TEXT_251);
d1260 1
a1260 1
    stringBuffer.append(TEXT_252);
d1262 1
a1262 1
    stringBuffer.append(TEXT_253);
d1264 1
a1264 1
    stringBuffer.append(TEXT_254);
d1266 1
a1266 1
    stringBuffer.append(TEXT_255);
d1269 1
a1269 1
    stringBuffer.append(TEXT_256);
d1271 1
a1271 1
    stringBuffer.append(TEXT_257);
d1273 1
a1273 1
    stringBuffer.append(TEXT_258);
d1275 1
a1275 1
    stringBuffer.append(TEXT_259);
d1277 1
a1277 1
    stringBuffer.append(TEXT_260);
d1282 1
a1282 1
    stringBuffer.append(TEXT_261);
d1284 1
a1284 1
    stringBuffer.append(TEXT_262);
d1286 1
a1286 1
    stringBuffer.append(TEXT_263);
d1288 1
a1288 1
    stringBuffer.append(TEXT_264);
d1290 1
a1290 1
    stringBuffer.append(TEXT_265);
d1292 10
d1303 1
a1303 1
    stringBuffer.append(TEXT_266);
d1305 1
a1305 1
    stringBuffer.append(TEXT_267);
d1307 1
a1307 1
    stringBuffer.append(TEXT_268);
d1309 1
a1309 1
    stringBuffer.append(TEXT_269);
d1311 1
a1311 1
    stringBuffer.append(TEXT_270);
d1313 1
a1313 1
    stringBuffer.append(TEXT_271);
d1317 1
d1321 1
a1321 1
    stringBuffer.append(TEXT_272);
d1323 10
a1332 1
    stringBuffer.append(TEXT_273);
d1334 1
a1334 1
    stringBuffer.append(TEXT_274);
d1339 1
a1339 1
    stringBuffer.append(TEXT_275);
d1341 1
a1341 1
    stringBuffer.append(TEXT_276);
d1343 1
a1343 1
    stringBuffer.append(TEXT_277);
d1345 1
a1345 1
    stringBuffer.append(TEXT_278);
d1347 1
a1347 1
    stringBuffer.append(TEXT_279);
d1353 1
a1353 1
    stringBuffer.append(TEXT_280);
d1355 1
a1355 1
    stringBuffer.append(TEXT_281);
d1357 1
a1357 1
    stringBuffer.append(TEXT_282);
d1359 1
a1359 1
    stringBuffer.append(TEXT_283);
d1361 1
a1361 1
    stringBuffer.append(TEXT_284);
d1363 1
a1363 1
    stringBuffer.append(TEXT_285);
d1365 1
a1365 1
    stringBuffer.append(TEXT_286);
d1368 1
a1368 1
    stringBuffer.append(TEXT_287);
d1370 1
a1370 1
    stringBuffer.append(TEXT_288);
d1372 1
a1372 1
    stringBuffer.append(TEXT_289);
d1374 1
a1374 1
    stringBuffer.append(TEXT_290);
d1376 1
a1376 1
    stringBuffer.append(TEXT_291);
d1381 1
a1381 1
    stringBuffer.append(TEXT_292);
d1383 1
a1383 1
    stringBuffer.append(TEXT_293);
d1385 1
a1385 1
    stringBuffer.append(TEXT_294);
d1387 1
a1387 1
    stringBuffer.append(TEXT_295);
d1389 1
a1389 1
    stringBuffer.append(TEXT_296);
d1391 9
d1401 1
a1401 1
    stringBuffer.append(TEXT_297);
d1403 1
a1403 1
    stringBuffer.append(TEXT_298);
d1405 1
a1405 1
    stringBuffer.append(TEXT_299);
d1407 1
a1407 1
    stringBuffer.append(TEXT_300);
d1409 1
a1409 1
    stringBuffer.append(TEXT_301);
d1411 1
a1411 1
    stringBuffer.append(TEXT_302);
d1418 1
a1418 1
    stringBuffer.append(TEXT_303);
d1420 1
a1420 1
    stringBuffer.append(TEXT_304);
@


1.18
log
@#118256

Enabling links creation to/from sub-classes of corresponding metaclasses from model
@
text
@d510 1
a510 1
    stringBuffer.append(modelFacet.getMetaClass().getName());
d522 1
a522 1
    stringBuffer.append(modelFacet.getMetaClass().getName());
d526 1
a526 1
    stringBuffer.append(modelFacet.getMetaClass().getName());
@


1.17
log
@#117749 & #118040 generate unique names for the shared elements in mapping model
@
text
@d510 1
a510 1
    stringBuffer.append(genChildNode.getUniqueIdentifier());
d522 1
a522 1
    stringBuffer.append(genChildNode.getUniqueIdentifier());
d526 1
a526 1
    stringBuffer.append(genChildNode.getUniqueIdentifier());
d621 1
a621 1
		if (nodeMetaClass.equals(outgoingClass)) {
d623 1
a623 1
		} else if (nodeMetaClass.equals(modelFacet.getTargetMetaFeature().getTypeGenClass())) {
d629 1
a629 1
		if (nodeMetaClass.equals(metaFeature.getGenClass())) {
d631 1
a631 1
		} else if (nodeMetaClass.equals(metaFeature.getTypeGenClass())) {
d696 1
a696 1
		if (nodeMetaClass.equals(outgoingClass)) {
d920 1
a920 1
		} else if (nodeMetaClass.equals(incomingClass)) {
d1096 1
a1096 1
		if (nodeMetaClass.equals(outgoingClass)) {
d1200 1
a1200 1
		} else if (nodeMetaClass.equals(incomingClass)) {
@


1.16
log
@#115621 Support links with distinct source and containment features
@
text
@d510 1
a510 1
    stringBuffer.append(modelFacet.getMetaClass().getName());
d522 1
a522 1
    stringBuffer.append(modelFacet.getMetaClass().getName());
d526 1
a526 1
    stringBuffer.append(modelFacet.getMetaClass().getName());
@


1.15
log
@#117901 Check that new link target is unique when multiplicity is -1
@
text
@d102 19
a120 19
  protected final String TEXT_83 = NL + "\t\tif (";
  protected final String TEXT_84 = " != null) {";
  protected final String TEXT_85 = NL + "\t\tif (";
  protected final String TEXT_86 = ".size() >= ";
  protected final String TEXT_87 = ") {";
  protected final String TEXT_88 = NL + "\t\t\treturn ";
  protected final String TEXT_89 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_90 = NL + "\t\tif (";
  protected final String TEXT_91 = " != null) {";
  protected final String TEXT_92 = NL + "\t\tif (";
  protected final String TEXT_93 = ".size() >= ";
  protected final String TEXT_94 = ") {";
  protected final String TEXT_95 = NL + "\t\t\treturn ";
  protected final String TEXT_96 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_97 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_98 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_99 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_100 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_101 = ")) {" + NL + "\t\t\treturn ";
d122 162
a283 162
  protected final String TEXT_103 = NL + "\t\t";
  protected final String TEXT_104 = " element = (";
  protected final String TEXT_105 = ") getSemanticElement();";
  protected final String TEXT_106 = NL + "\t\tif (";
  protected final String TEXT_107 = " != null) {";
  protected final String TEXT_108 = NL + "\t\tif (";
  protected final String TEXT_109 = ".size() >= ";
  protected final String TEXT_110 = ") {";
  protected final String TEXT_111 = NL + "\t\t\treturn ";
  protected final String TEXT_112 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_113 = NL + "\t\tif (";
  protected final String TEXT_114 = " != null) {";
  protected final String TEXT_115 = NL + "\t\tif (";
  protected final String TEXT_116 = ".size() >= ";
  protected final String TEXT_117 = ") {";
  protected final String TEXT_118 = NL + "\t\t\treturn ";
  protected final String TEXT_119 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_120 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_121 = ".eINSTANCE.get";
  protected final String TEXT_122 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_123 = "Command(req));" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_124 = "Command extends ";
  protected final String TEXT_125 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_126 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_127 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_128 = ".eINSTANCE.get";
  protected final String TEXT_129 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_130 = " getElementToEdit() {" + NL + "\t\t\treturn getTarget();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_131 = " doDefaultElementCreation() {";
  protected final String TEXT_132 = NL + "\t\t\t";
  protected final String TEXT_133 = " newElement = (";
  protected final String TEXT_134 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_135 = "(";
  protected final String TEXT_136 = ") getSource());";
  protected final String TEXT_137 = NL + "\t\t\t\t";
  protected final String TEXT_138 = " container = (";
  protected final String TEXT_139 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_140 = NL + "\t\t\t\t\t";
  protected final String TEXT_141 = " featureValues = container.";
  protected final String TEXT_142 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_143 = NL + "\t\t\t\t \t";
  protected final String TEXT_144 = "newElement);";
  protected final String TEXT_145 = NL + "\t\t\t\t}";
  protected final String TEXT_146 = NL + "\t\t\t\t";
  protected final String TEXT_147 = ".Initializers.";
  protected final String TEXT_148 = ".init(newElement);";
  protected final String TEXT_149 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_150 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_151 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_152 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_153 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_154 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_155 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_156 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_157 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_158 = NL + "\t\t";
  protected final String TEXT_159 = " element = (";
  protected final String TEXT_160 = ") req.getSource();";
  protected final String TEXT_161 = NL + "\t\tif (";
  protected final String TEXT_162 = " != null) {";
  protected final String TEXT_163 = NL + "\t\tif (";
  protected final String TEXT_164 = ".size() >= ";
  protected final String TEXT_165 = ") {";
  protected final String TEXT_166 = NL + "\t\t\treturn ";
  protected final String TEXT_167 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_168 = NL + "\t\tif (";
  protected final String TEXT_169 = " != null) {";
  protected final String TEXT_170 = NL + "\t\tif (";
  protected final String TEXT_171 = ".size() >= ";
  protected final String TEXT_172 = ") {";
  protected final String TEXT_173 = NL + "\t\t\treturn ";
  protected final String TEXT_174 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_175 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_176 = ".eINSTANCE.get";
  protected final String TEXT_177 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_178 = "Command(req));" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_179 = "Command extends ";
  protected final String TEXT_180 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_181 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_182 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_183 = ".eINSTANCE.get";
  protected final String TEXT_184 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_185 = " getElementToEdit() {" + NL + "\t\t\treturn getSource();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_186 = " doDefaultElementCreation() {";
  protected final String TEXT_187 = NL + "\t\t\t";
  protected final String TEXT_188 = " newElement = (";
  protected final String TEXT_189 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_190 = "(";
  protected final String TEXT_191 = ") getTarget());";
  protected final String TEXT_192 = NL + "\t\t\t\t";
  protected final String TEXT_193 = " container = (";
  protected final String TEXT_194 = ") getElementToEdit();" + NL + "\t\t\t\tif (container != null) {";
  protected final String TEXT_195 = NL + "\t\t\t\t\t";
  protected final String TEXT_196 = " featureValues = container.";
  protected final String TEXT_197 = "();" + NL + "\t\t\t\t\tfeatureValues.add(newElement);";
  protected final String TEXT_198 = NL + "\t\t\t\t \t";
  protected final String TEXT_199 = "newElement);";
  protected final String TEXT_200 = NL + "\t\t\t\t}";
  protected final String TEXT_201 = NL + "\t\t\t\t";
  protected final String TEXT_202 = ".Initializers.";
  protected final String TEXT_203 = ".init(newElement);";
  protected final String TEXT_204 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_205 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_206 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_207 = NL + "\t\t";
  protected final String TEXT_208 = " element = (";
  protected final String TEXT_209 = ") getSemanticElement();";
  protected final String TEXT_210 = NL + "\t\tif (";
  protected final String TEXT_211 = " != null) {";
  protected final String TEXT_212 = NL + "\t\tif (";
  protected final String TEXT_213 = ".size() >= ";
  protected final String TEXT_214 = ") {";
  protected final String TEXT_215 = NL + "\t\t\treturn ";
  protected final String TEXT_216 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_217 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_218 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_219 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_220 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_221 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_222 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_223 = NL + "\t\t";
  protected final String TEXT_224 = " element = (";
  protected final String TEXT_225 = ") getSemanticElement();";
  protected final String TEXT_226 = NL + "\t\tif (";
  protected final String TEXT_227 = " != null) {";
  protected final String TEXT_228 = NL + "\t\tif (";
  protected final String TEXT_229 = ".size() >= ";
  protected final String TEXT_230 = NL + "\t\t\t|| ";
  protected final String TEXT_231 = ".contains(req.getSource())";
  protected final String TEXT_232 = NL + "\t\t\t\t) {";
  protected final String TEXT_233 = NL + "\t\t\treturn ";
  protected final String TEXT_234 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_235 = NL + "\t\t";
  protected final String TEXT_236 = " element = (";
  protected final String TEXT_237 = ") getSemanticElement();" + NL + "\t\tif (";
  protected final String TEXT_238 = ".contains(req.getSource())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_239 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_240 = NL + "\t\t";
  protected final String TEXT_241 = " setReq = new ";
  protected final String TEXT_242 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_243 = ".eINSTANCE.get";
  protected final String TEXT_244 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_245 = "(setReq));" + NL + "\t}";
  protected final String TEXT_246 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_247 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_248 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_249 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_250 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_251 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_252 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_253 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_254 = NL + "\t\t";
  protected final String TEXT_255 = " element = (";
  protected final String TEXT_256 = ") req.getSource();";
  protected final String TEXT_257 = NL + "\t\tif (";
  protected final String TEXT_258 = " != null) {";
  protected final String TEXT_259 = NL + "\t\tif (";
  protected final String TEXT_260 = ".size() >= ";
  protected final String TEXT_261 = NL + "\t\t\t|| ";
  protected final String TEXT_262 = ".contains(req.getTarget())";
  protected final String TEXT_263 = NL + "\t\t\t\t) {";
  protected final String TEXT_264 = NL + "\t\t\treturn ";
d286 38
a323 12
  protected final String TEXT_267 = " element = (";
  protected final String TEXT_268 = ") req.getSource();" + NL + "\t\tif (";
  protected final String TEXT_269 = ".contains(req.getTarget())) {" + NL + "\t\t\treturn ";
  protected final String TEXT_270 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_271 = NL + "\t\t";
  protected final String TEXT_272 = " setReq = new ";
  protected final String TEXT_273 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_274 = ".eINSTANCE.get";
  protected final String TEXT_275 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_276 = "(setReq));" + NL + "\t}";
  protected final String TEXT_277 = NL + "}";
  protected final String TEXT_278 = NL;
d618 4
a621 1
		if (nodeMetaClass.equals(modelFacet.getContainmentMetaFeature().getGenClass())) {
d661 2
a662 1
    			}
d686 3
a688 1
		GenClass outgoingClass = modelFacet.getContainmentMetaFeature().getGenClass();
d691 1
a691 1
		GenFeature childFeature = modelFacet.getContainmentMetaFeature();
d705 3
a707 2
			if (upperContainmentBound > 0 || checkChildFeatureUpperBound) {
				String outgoingClassName = importManager.getImportedName(outgoingClass.getQualifiedInterfaceName());
d710 1
a710 1
    stringBuffer.append(outgoingClassName);
d712 1
a712 1
    stringBuffer.append(outgoingClassName);
d714 1
a714 4
    
				if (upperContainmentBound > 0) {
					if (upperContainmentBound == 1) {

d716 1
a716 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d718 1
a718 1
    					} else {
d720 1
a720 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d722 1
a722 1
    stringBuffer.append(upperContainmentBound);
d724 1
a724 1
    					}
a725 2
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_89);
d727 3
a729 3
				}
				if (checkChildFeatureUpperBound) {
					if (upperChildBound == 1) {
d731 2
d734 1
a734 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d736 1
a736 1
    					} else {
d738 1
a738 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d740 1
a740 1
    stringBuffer.append(upperChildBound);
d742 1
a742 1
    					}
a743 2
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
    stringBuffer.append(TEXT_96);
d745 3
a747 2
				}
			}
d749 2
a750 1
     // create always executable command 
d752 1
a752 4
    
			}
			if (genLink.isIncomingCreationAllowed()) {

d754 1
a754 1
    stringBuffer.append(namePart);
d756 1
a756 1
     // check that source is valid 
d758 1
a758 1
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
a761 1
     // check that containment feature is not set / has capacity for the new element 
d763 2
a764 2
			if (upperContainmentBound > 0 || checkChildFeatureUpperBound) {
				String outgoingClassName = importManager.getImportedName(outgoingClass.getQualifiedInterfaceName());
d766 1
d768 4
a771 1
    stringBuffer.append(outgoingClassName);
d773 1
a773 1
    stringBuffer.append(outgoingClassName);
d775 1
a775 4
    
				if (upperContainmentBound > 0) {
					if (upperContainmentBound == 1) {

d777 1
a777 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d779 1
a779 1
    					} else {
d781 4
a784 1
    stringBuffer.append(getFeatureValueGetter("element", containmentFeature, false, importManager));
d786 1
a786 1
    stringBuffer.append(upperContainmentBound);
d788 1
a788 1
    					}
d790 1
a790 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d792 1
a792 5
    
				}
				if (checkChildFeatureUpperBound) {
					if (upperChildBound == 1) {

d794 1
a794 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d796 1
a796 1
    					} else {
d798 1
a798 1
    stringBuffer.append(getFeatureValueGetter("element", childFeature, false, importManager));
d800 1
a800 1
    stringBuffer.append(upperChildBound);
d802 7
a808 1
    					}
d810 1
a810 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gef.commands.UnexecutableCommand"));
d812 1
a812 5
    
				}
			}

     // create semantic command 
d814 1
a814 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d816 1
a816 1
    stringBuffer.append(modelFacet.getContainmentMetaFeature().getFeatureAccessorName());
d818 1
a818 1
    stringBuffer.append(namePart);
d820 1
a820 1
    stringBuffer.append(namePart);
d822 5
a826 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.gmf.runtime.emf.commands.core.commands.MSLCreateRelationshipCommand"));
d828 1
a828 1
    stringBuffer.append(namePart);
d830 1
a830 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EClass"));
d832 1
a832 1
    stringBuffer.append(importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName()));
d834 1
a834 1
    stringBuffer.append(outgoingClass.getClassifierAccessorName());
d836 1
a836 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d838 1
a838 1
    stringBuffer.append(importManager.getImportedName("org.eclipse.emf.ecore.EObject"));
d841 2
a842 2
			String metaClassName = importManager.getImportedName(modelFacet.getMetaClass().getQualifiedInterfaceName());
			String containerMetaClass = importManager.getImportedName(childFeature.getGenClass().getQualifiedInterfaceName());
d844 1
d846 1
a846 1
    stringBuffer.append(metaClassName);
d848 1
a848 1
    stringBuffer.append(metaClassName);
d850 1
a850 1
    stringBuffer.append(getFeatureValueSetterPrefix("newElement", modelFacet.getTargetMetaFeature(), false, importManager));
d852 1
a852 1
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
d854 1
a854 1
    			if (processChildFeature) {
d856 1
a856 1
    stringBuffer.append(containerMetaClass);
d858 1
a858 1
    stringBuffer.append(containerMetaClass);
d860 1
a860 1
    				if (childFeature.isListType()) {
d862 1
a862 1
    stringBuffer.append(importManager.getImportedName("java.util.Collection"));
d864 1
a864 1
    stringBuffer.append(childFeature.getGetAccessor());
d866 1
a866 1
    				} else {
d868 1
a868 1
    stringBuffer.append(getFeatureValueSetterPrefix("container", childFeature, false, importManager));
d870 1
a870 1
    				}
d872 14
d887 23
a909 2
			}
			if (modelFacet.getModelElementInitializer() != null) { 
d911 1
a911 1
    stringBuffer.append(TEXT_146);
d913 1
a913 1
    stringBuffer.append(TEXT_147);
d915 3
a917 3
    stringBuffer.append(TEXT_148);
    			}
    stringBuffer.append(TEXT_149);
d924 1
a924 1
    stringBuffer.append(TEXT_150);
d926 1
a926 1
    stringBuffer.append(TEXT_151);
d928 1
a928 1
    stringBuffer.append(TEXT_152);
d933 1
a933 1
    stringBuffer.append(TEXT_153);
d935 1
a935 1
    stringBuffer.append(TEXT_154);
d937 1
a937 1
    stringBuffer.append(TEXT_155);
d939 22
a960 1
    stringBuffer.append(TEXT_156);
d962 2
a963 1
    stringBuffer.append(TEXT_157);
a966 8
					String outgoingClassName = importManager.getImportedName(outgoingClass.getQualifiedInterfaceName());

    stringBuffer.append(TEXT_158);
    stringBuffer.append(outgoingClassName);
    stringBuffer.append(TEXT_159);
    stringBuffer.append(outgoingClassName);
    stringBuffer.append(TEXT_160);
    
d970 1
a970 1
    stringBuffer.append(TEXT_161);
d972 1
a972 1
    stringBuffer.append(TEXT_162);
d974 1
a974 1
    stringBuffer.append(TEXT_163);
d976 1
a976 1
    stringBuffer.append(TEXT_164);
d978 1
a978 1
    stringBuffer.append(TEXT_165);
d980 1
a980 1
    stringBuffer.append(TEXT_166);
d982 1
a982 1
    stringBuffer.append(TEXT_167);
d988 1
a988 1
    stringBuffer.append(TEXT_168);
d990 1
a990 1
    stringBuffer.append(TEXT_169);
d992 1
a992 1
    stringBuffer.append(TEXT_170);
d994 1
a994 1
    stringBuffer.append(TEXT_171);
d996 1
a996 1
    stringBuffer.append(TEXT_172);
d998 1
a998 1
    stringBuffer.append(TEXT_173);
d1000 1
a1000 1
    stringBuffer.append(TEXT_174);
d1006 1
a1006 1
    stringBuffer.append(TEXT_175);
d1008 1
a1008 1
    stringBuffer.append(TEXT_176);
d1010 1
a1010 1
    stringBuffer.append(TEXT_177);
d1012 3
a1014 1
    stringBuffer.append(TEXT_178);
d1016 1
a1016 1
    stringBuffer.append(TEXT_179);
d1018 1
a1018 1
    stringBuffer.append(TEXT_180);
d1020 1
a1020 1
    stringBuffer.append(TEXT_181);
d1022 1
a1022 1
    stringBuffer.append(TEXT_182);
d1024 3
a1026 3
    stringBuffer.append(TEXT_183);
    stringBuffer.append(outgoingClass.getClassifierAccessorName());
    stringBuffer.append(TEXT_184);
d1028 1
a1028 1
    stringBuffer.append(TEXT_185);
d1030 3
a1032 6
    stringBuffer.append(TEXT_186);
    
			String metaClassName = importManager.getImportedName(modelFacet.getMetaClass().getQualifiedInterfaceName());
			String containerMetaClass = importManager.getImportedName(childFeature.getGenClass().getQualifiedInterfaceName());

    stringBuffer.append(TEXT_187);
d1034 1
a1034 1
    stringBuffer.append(TEXT_188);
d1036 1
a1036 1
    stringBuffer.append(TEXT_189);
d1038 1
a1038 1
    stringBuffer.append(TEXT_190);
d1040 18
a1057 9
    stringBuffer.append(TEXT_191);
    			if (processChildFeature) {
    stringBuffer.append(TEXT_192);
    stringBuffer.append(containerMetaClass);
    stringBuffer.append(TEXT_193);
    stringBuffer.append(containerMetaClass);
    stringBuffer.append(TEXT_194);
    				if (childFeature.isListType()) {
    stringBuffer.append(TEXT_195);
d1059 1
a1059 1
    stringBuffer.append(TEXT_196);
d1061 3
a1063 3
    stringBuffer.append(TEXT_197);
    				} else {
    stringBuffer.append(TEXT_198);
d1065 3
a1067 3
    stringBuffer.append(TEXT_199);
    				}
    stringBuffer.append(TEXT_200);
d1069 2
a1070 2
			}
			if (modelFacet.getModelElementInitializer() != null) { 
d1072 1
a1072 1
    stringBuffer.append(TEXT_201);
d1074 1
a1074 1
    stringBuffer.append(TEXT_202);
d1076 3
a1078 3
    stringBuffer.append(TEXT_203);
    			}
    stringBuffer.append(TEXT_204);
d1100 1
a1100 1
    stringBuffer.append(TEXT_205);
d1102 1
a1102 1
    stringBuffer.append(TEXT_206);
d1108 1
a1108 1
    stringBuffer.append(TEXT_207);
d1110 1
a1110 1
    stringBuffer.append(TEXT_208);
d1112 1
a1112 1
    stringBuffer.append(TEXT_209);
d1114 1
a1114 1
    stringBuffer.append(TEXT_210);
d1116 1
a1116 1
    stringBuffer.append(TEXT_211);
d1118 1
a1118 1
    stringBuffer.append(TEXT_212);
d1120 1
a1120 1
    stringBuffer.append(TEXT_213);
d1122 1
a1122 1
    stringBuffer.append(TEXT_214);
d1124 1
a1124 1
    stringBuffer.append(TEXT_215);
d1126 1
a1126 1
    stringBuffer.append(TEXT_216);
d1129 1
a1129 1
    stringBuffer.append(TEXT_217);
d1134 1
a1134 1
    stringBuffer.append(TEXT_218);
d1136 1
a1136 1
    stringBuffer.append(TEXT_219);
d1138 1
a1138 1
    stringBuffer.append(TEXT_220);
d1140 1
a1140 1
    stringBuffer.append(TEXT_221);
d1142 1
a1142 1
    stringBuffer.append(TEXT_222);
d1148 1
a1148 1
    stringBuffer.append(TEXT_223);
d1150 1
a1150 1
    stringBuffer.append(TEXT_224);
d1152 1
a1152 1
    stringBuffer.append(TEXT_225);
d1154 1
a1154 1
    stringBuffer.append(TEXT_226);
d1156 1
a1156 1
    stringBuffer.append(TEXT_227);
d1158 1
a1158 1
    stringBuffer.append(TEXT_228);
d1160 1
a1160 1
    stringBuffer.append(TEXT_229);
d1163 1
a1163 1
    stringBuffer.append(TEXT_230);
d1165 1
a1165 1
    stringBuffer.append(TEXT_231);
d1167 1
a1167 1
    stringBuffer.append(TEXT_232);
d1169 1
a1169 1
    stringBuffer.append(TEXT_233);
d1171 1
a1171 1
    stringBuffer.append(TEXT_234);
d1176 1
a1176 1
    stringBuffer.append(TEXT_235);
d1178 1
a1178 1
    stringBuffer.append(TEXT_236);
d1180 1
a1180 1
    stringBuffer.append(TEXT_237);
d1182 1
a1182 1
    stringBuffer.append(TEXT_238);
d1184 1
a1184 1
    stringBuffer.append(TEXT_239);
d1187 1
a1187 1
    stringBuffer.append(TEXT_240);
d1189 1
a1189 1
    stringBuffer.append(TEXT_241);
d1191 1
a1191 1
    stringBuffer.append(TEXT_242);
d1193 1
a1193 1
    stringBuffer.append(TEXT_243);
d1195 1
a1195 1
    stringBuffer.append(TEXT_244);
d1197 1
a1197 1
    stringBuffer.append(TEXT_245);
d1204 1
a1204 1
    stringBuffer.append(TEXT_246);
d1206 1
a1206 1
    stringBuffer.append(TEXT_247);
d1208 1
a1208 1
    stringBuffer.append(TEXT_248);
d1213 1
a1213 1
    stringBuffer.append(TEXT_249);
d1215 1
a1215 1
    stringBuffer.append(TEXT_250);
d1217 1
a1217 1
    stringBuffer.append(TEXT_251);
d1219 1
a1219 1
    stringBuffer.append(TEXT_252);
d1221 1
a1221 1
    stringBuffer.append(TEXT_253);
d1227 1
a1227 1
    stringBuffer.append(TEXT_254);
d1229 1
a1229 1
    stringBuffer.append(TEXT_255);
d1231 1
a1231 1
    stringBuffer.append(TEXT_256);
d1233 1
a1233 1
    stringBuffer.append(TEXT_257);
d1235 1
a1235 1
    stringBuffer.append(TEXT_258);
d1237 1
a1237 1
    stringBuffer.append(TEXT_259);
d1239 1
a1239 1
    stringBuffer.append(TEXT_260);
d1242 1
a1242 1
    stringBuffer.append(TEXT_261);
d1244 1
a1244 1
    stringBuffer.append(TEXT_262);
d1246 1
a1246 1
    stringBuffer.append(TEXT_263);
d1248 1
a1248 1
    stringBuffer.append(TEXT_264);
d1250 1
a1250 1
    stringBuffer.append(TEXT_265);
d1255 1
a1255 1
    stringBuffer.append(TEXT_266);
d1257 1
a1257 1
    stringBuffer.append(TEXT_267);
d1259 1
a1259 1
    stringBuffer.append(TEXT_268);
d1261 1
a1261 1
    stringBuffer.append(TEXT_269);
d1263 1
a1263 1
    stringBuffer.append(TEXT_270);
d1266 1
a1266 1
    stringBuffer.append(TEXT_271);
d1268 1
a1268 1
    stringBuffer.append(TEXT_272);
d1270 1
a1270 1
    stringBuffer.append(TEXT_273);
d1272 1
a1272 1
    stringBuffer.append(TEXT_274);
d1274 1
a1274 1
    stringBuffer.append(TEXT_275);
d1276 1
a1276 1
    stringBuffer.append(TEXT_276);
d1283 1
a1283 1
    stringBuffer.append(TEXT_277);
d1285 1
a1285 1
    stringBuffer.append(TEXT_278);
@


1.14
log
@#116448
- Setting Child Meta Feature value if specified feature !isDerived()
- Checking Upper limit for Child Meta Feature
@
text
@d255 43
a297 33
  protected final String TEXT_236 = " setReq = new ";
  protected final String TEXT_237 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_238 = ".eINSTANCE.get";
  protected final String TEXT_239 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_240 = "(setReq));" + NL + "\t}";
  protected final String TEXT_241 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_242 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_243 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_244 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_245 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_246 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_247 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_248 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_249 = NL + "\t\t";
  protected final String TEXT_250 = " element = (";
  protected final String TEXT_251 = ") req.getSource();";
  protected final String TEXT_252 = NL + "\t\tif (";
  protected final String TEXT_253 = " != null) {";
  protected final String TEXT_254 = NL + "\t\tif (";
  protected final String TEXT_255 = ".size() >= ";
  protected final String TEXT_256 = NL + "\t\t\t|| ";
  protected final String TEXT_257 = ".contains(req.getTarget())";
  protected final String TEXT_258 = NL + "\t\t\t\t) {";
  protected final String TEXT_259 = NL + "\t\t\treturn ";
  protected final String TEXT_260 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_261 = NL + "\t\t";
  protected final String TEXT_262 = " setReq = new ";
  protected final String TEXT_263 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_264 = ".eINSTANCE.get";
  protected final String TEXT_265 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_266 = "(setReq));" + NL + "\t}";
  protected final String TEXT_267 = NL + "}";
  protected final String TEXT_268 = NL;
d688 1
a688 3
    
					} else {

d694 1
a694 3
    				
					}

d706 1
a706 3
    
					} else {

d712 1
a712 3
    
					}

d752 1
a752 3
    
					} else {

d758 1
a758 3
    				
					}

d770 1
a770 3
    
					} else {

d776 1
a776 3
    
					}

d821 1
a821 3
    
			if (processChildFeature) {

d827 1
a827 3
    
				if (childFeature.isListType()) {

d833 1
a833 3
    
				} else {

d837 1
a837 3
    
				}

a840 1

d848 1
a848 3
    
			}

d876 2
a877 2
			if (upperContainmentBound > 0 || checkChildFeatureUpperBound) {
				String outgoingClassName = importManager.getImportedName(outgoingClass.getQualifiedInterfaceName());
d885 2
a886 2
				if (upperContainmentBound > 0) {
					if (upperContainmentBound == 1) {
d891 1
a891 3
    
					} else {

d897 1
a897 3
    				
					}

d902 3
a904 3
				}
				if (checkChildFeatureUpperBound) {
					if (upperChildBound == 1) {
d909 1
a909 3
    
					} else {

d915 1
a915 3
    
					}

d920 1
a921 1
			}
d960 1
a960 3
    
			if (processChildFeature) {

d966 1
a966 3
    
				if (childFeature.isListType()) {

d972 1
a972 3
    
				} else {

d976 1
a976 3
    
				}

a979 1

d987 1
a987 3
    
			}

d1053 1
a1053 1
     // check that feature is not set / has capacity for the new value 
d1082 13
d1097 1
a1097 1
    stringBuffer.append(TEXT_235);
d1099 1
a1099 1
    stringBuffer.append(TEXT_236);
d1101 1
a1101 1
    stringBuffer.append(TEXT_237);
d1103 1
a1103 1
    stringBuffer.append(TEXT_238);
d1105 1
a1105 1
    stringBuffer.append(TEXT_239);
d1107 1
a1107 1
    stringBuffer.append(TEXT_240);
d1114 1
a1114 1
    stringBuffer.append(TEXT_241);
d1116 1
a1116 1
    stringBuffer.append(TEXT_242);
d1118 1
a1118 1
    stringBuffer.append(TEXT_243);
d1123 1
a1123 1
    stringBuffer.append(TEXT_244);
d1125 1
a1125 1
    stringBuffer.append(TEXT_245);
d1127 1
a1127 1
    stringBuffer.append(TEXT_246);
d1129 1
a1129 1
    stringBuffer.append(TEXT_247);
d1131 2
a1132 2
    stringBuffer.append(TEXT_248);
     // check that feature is not set / has capacity for the new value 
d1137 1
a1137 1
    stringBuffer.append(TEXT_249);
d1139 1
a1139 1
    stringBuffer.append(TEXT_250);
d1141 1
a1141 1
    stringBuffer.append(TEXT_251);
d1143 1
a1143 1
    stringBuffer.append(TEXT_252);
d1145 1
a1145 1
    stringBuffer.append(TEXT_253);
d1147 1
a1147 1
    stringBuffer.append(TEXT_254);
d1149 1
a1149 1
    stringBuffer.append(TEXT_255);
d1152 1
a1152 1
    stringBuffer.append(TEXT_256);
d1154 1
a1154 1
    stringBuffer.append(TEXT_257);
d1156 1
a1156 1
    stringBuffer.append(TEXT_258);
d1158 14
a1171 1
    stringBuffer.append(TEXT_259);
d1173 1
a1173 1
    stringBuffer.append(TEXT_260);
d1176 1
a1176 1
    stringBuffer.append(TEXT_261);
d1178 1
a1178 1
    stringBuffer.append(TEXT_262);
d1180 1
a1180 1
    stringBuffer.append(TEXT_263);
d1182 1
a1182 1
    stringBuffer.append(TEXT_264);
d1184 1
a1184 1
    stringBuffer.append(TEXT_265);
d1186 1
a1186 1
    stringBuffer.append(TEXT_266);
d1193 1
a1193 1
    stringBuffer.append(TEXT_267);
d1195 1
a1195 1
    stringBuffer.append(TEXT_268);
@


1.13
log
@get rid of 'never used locally' compilation warning
@
text
@d43 56
a98 56
  protected final String TEXT_24 = NL + "\t\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\t\treq.setContainmentFeature(";
  protected final String TEXT_25 = ".eINSTANCE.get";
  protected final String TEXT_26 = "());" + NL + "\t\t\t}" + NL + "\t\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_27 = "Command(req));" + NL + "\t\t}";
  protected final String TEXT_28 = NL + "\t\treturn super.getCreateCommand(req);" + NL + "\t}";
  protected final String TEXT_29 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_30 = "Command extends ";
  protected final String TEXT_31 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_32 = "Command(CreateElementRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_33 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_34 = ".eINSTANCE.get";
  protected final String TEXT_35 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_36 = " getElementToEdit() {" + NL + "\t\t\t";
  protected final String TEXT_37 = " container = ((CreateElementRequest) getRequest()).getContainer();" + NL + "\t\t\tif (container instanceof ";
  protected final String TEXT_38 = ") {" + NL + "\t\t\t\tcontainer = ((";
  protected final String TEXT_39 = ") container).getElement();" + NL + "\t\t\t}" + NL + "\t\t\treturn container;" + NL + "\t\t}";
  protected final String TEXT_40 = NL + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_41 = " doDefaultElementCreation() {";
  protected final String TEXT_42 = NL + "\t\t\t";
  protected final String TEXT_43 = " newElement = (";
  protected final String TEXT_44 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_45 = ".Initializers.";
  protected final String TEXT_46 = ".init(newElement);" + NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}";
  protected final String TEXT_47 = NL + "\t}";
  protected final String TEXT_48 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getDestroyElementCommand(DestroyElementRequest req) {" + NL + "\t\treturn getMSLWrapper(new MSLDestroyElementCommand(req));" + NL + "\t}";
  protected final String TEXT_49 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateRelationshipCommand(CreateRelationshipRequest req) {";
  protected final String TEXT_50 = NL + "\t\tif (";
  protected final String TEXT_51 = ".";
  protected final String TEXT_52 = " == req.getElementType()) {";
  protected final String TEXT_53 = NL + "\t\t\treturn req.getTarget() == null ? getCreateStart";
  protected final String TEXT_54 = "Command(req) : getCreateComplete";
  protected final String TEXT_55 = "Command(req);";
  protected final String TEXT_56 = NL + "\t\t\treturn req.getTarget() == null ? getCreateStart";
  protected final String TEXT_57 = "Command(req) : null;";
  protected final String TEXT_58 = NL + "\t\t\treturn req.getTarget() == null ? null : getCreateComplete";
  protected final String TEXT_59 = "Command(req);";
  protected final String TEXT_60 = NL + "\t\t}";
  protected final String TEXT_61 = NL + "\t\treturn super.getCreateRelationshipCommand(req);" + NL + "\t}";
  protected final String TEXT_62 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_63 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_64 = NL + "\t\t";
  protected final String TEXT_65 = " element = (";
  protected final String TEXT_66 = ") getSemanticElement();";
  protected final String TEXT_67 = NL + "\t\tif (";
  protected final String TEXT_68 = " != null) {";
  protected final String TEXT_69 = NL + "\t\tif (";
  protected final String TEXT_70 = ".size() >= ";
  protected final String TEXT_71 = ") {";
  protected final String TEXT_72 = NL + "\t\t\treturn ";
  protected final String TEXT_73 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_74 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_75 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_76 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_77 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_78 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_79 = ".INSTANCE;" + NL + "\t\t}";
d109 56
a164 56
  protected final String TEXT_90 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_91 = ".eINSTANCE.get";
  protected final String TEXT_92 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_93 = "Command(req));" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_94 = "Command extends ";
  protected final String TEXT_95 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_96 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_97 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_98 = ".eINSTANCE.get";
  protected final String TEXT_99 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_100 = " getElementToEdit() {" + NL + "\t\t\treturn getTarget();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_101 = " doDefaultElementCreation() {";
  protected final String TEXT_102 = NL + "\t\t\t";
  protected final String TEXT_103 = " newElement = (";
  protected final String TEXT_104 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_105 = "(";
  protected final String TEXT_106 = ") getSource());";
  protected final String TEXT_107 = NL + "\t\t\t\t";
  protected final String TEXT_108 = ".Initializers.";
  protected final String TEXT_109 = ".init(newElement);";
  protected final String TEXT_110 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_111 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_112 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_113 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_114 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_115 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_116 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_117 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_118 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_119 = NL + "\t\t";
  protected final String TEXT_120 = " element = (";
  protected final String TEXT_121 = ") req.getSource();";
  protected final String TEXT_122 = NL + "\t\tif (";
  protected final String TEXT_123 = " != null) {";
  protected final String TEXT_124 = NL + "\t\tif (";
  protected final String TEXT_125 = ".size() >= ";
  protected final String TEXT_126 = ") {";
  protected final String TEXT_127 = NL + "\t\t\treturn ";
  protected final String TEXT_128 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_129 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_130 = ".eINSTANCE.get";
  protected final String TEXT_131 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_132 = "Command(req));" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_133 = "Command extends ";
  protected final String TEXT_134 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_135 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_136 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_137 = ".eINSTANCE.get";
  protected final String TEXT_138 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_139 = " getElementToEdit() {" + NL + "\t\t\treturn getSource();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_140 = " doDefaultElementCreation() {";
  protected final String TEXT_141 = NL + "\t\t\t";
  protected final String TEXT_142 = " newElement = (";
  protected final String TEXT_143 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_144 = "(";
  protected final String TEXT_145 = ") getTarget());";
d171 15
a185 15
  protected final String TEXT_152 = NL + "\t\t";
  protected final String TEXT_153 = " element = (";
  protected final String TEXT_154 = ") getSemanticElement();";
  protected final String TEXT_155 = NL + "\t\tif (";
  protected final String TEXT_156 = " != null) {";
  protected final String TEXT_157 = NL + "\t\tif (";
  protected final String TEXT_158 = ".size() >= ";
  protected final String TEXT_159 = ") {";
  protected final String TEXT_160 = NL + "\t\t\treturn ";
  protected final String TEXT_161 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_162 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_163 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_164 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_165 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_166 = ")) {" + NL + "\t\t\treturn ";
d187 15
a201 15
  protected final String TEXT_168 = NL + "\t\t";
  protected final String TEXT_169 = " element = (";
  protected final String TEXT_170 = ") getSemanticElement();";
  protected final String TEXT_171 = NL + "\t\tif (";
  protected final String TEXT_172 = " != null) {";
  protected final String TEXT_173 = NL + "\t\tif (";
  protected final String TEXT_174 = ".size() >= ";
  protected final String TEXT_175 = NL + "\t\t\t|| ";
  protected final String TEXT_176 = ".contains(req.getSource())";
  protected final String TEXT_177 = NL + "\t\t\t\t) {";
  protected final String TEXT_178 = NL + "\t\t\treturn ";
  protected final String TEXT_179 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_180 = NL + "\t\t";
  protected final String TEXT_181 = " setReq = new ";
  protected final String TEXT_182 = "(req.getTarget()," + NL + "\t\t\t";
d203 85
a287 30
  protected final String TEXT_184 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_185 = "(setReq));" + NL + "\t}";
  protected final String TEXT_186 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_187 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_188 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}";
  protected final String TEXT_189 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_190 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_191 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_192 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_193 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_194 = NL + "\t\t";
  protected final String TEXT_195 = " element = (";
  protected final String TEXT_196 = ") req.getSource();";
  protected final String TEXT_197 = NL + "\t\tif (";
  protected final String TEXT_198 = " != null) {";
  protected final String TEXT_199 = NL + "\t\tif (";
  protected final String TEXT_200 = ".size() >= ";
  protected final String TEXT_201 = NL + "\t\t\t|| ";
  protected final String TEXT_202 = ".contains(req.getTarget())";
  protected final String TEXT_203 = NL + "\t\t\t\t) {";
  protected final String TEXT_204 = NL + "\t\t\treturn ";
  protected final String TEXT_205 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_206 = NL + "\t\t";
  protected final String TEXT_207 = " setReq = new ";
  protected final String TEXT_208 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_209 = ".eINSTANCE.get";
  protected final String TEXT_210 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_211 = "(setReq));" + NL + "\t}";
  protected final String TEXT_212 = NL + "}";
  protected final String TEXT_213 = NL;
d406 4
a409 1
	int upperBound = containmentMetaFeature.getEcoreFeature().getUpperBound();
d417 1
a417 1
	if (upperBound > 0) {
d426 2
a427 1
		if (upperBound == 1) {
d433 1
a433 1
		} else {
d438 1
a438 1
    stringBuffer.append(upperBound);
d441 4
d446 3
d450 15
a464 1
    stringBuffer.append(TEXT_23);
d466 1
d469 1
a469 1
    stringBuffer.append(TEXT_24);
d471 1
a471 1
    stringBuffer.append(TEXT_25);
d473 1
a473 1
    stringBuffer.append(TEXT_26);
d475 1
a475 1
    stringBuffer.append(TEXT_27);
d479 1
a479 1
    stringBuffer.append(TEXT_28);
d485 1
a485 1
    stringBuffer.append(TEXT_29);
d487 1
a487 1
    stringBuffer.append(TEXT_30);
d489 1
a489 1
    stringBuffer.append(TEXT_31);
d491 1
a491 1
    stringBuffer.append(TEXT_32);
d493 1
a493 1
    stringBuffer.append(TEXT_33);
d495 1
a495 1
    stringBuffer.append(TEXT_34);
d497 1
a497 1
    stringBuffer.append(TEXT_35);
d499 1
a499 1
    stringBuffer.append(TEXT_36);
d501 1
a501 1
    stringBuffer.append(TEXT_37);
d503 1
a503 1
    stringBuffer.append(TEXT_38);
d505 7
a511 3
    stringBuffer.append(TEXT_39);
    	if (modelFacet.getModelElementInitializer() != null) { 
    stringBuffer.append(TEXT_40);
d513 1
a513 3
    stringBuffer.append(TEXT_41);
    		String metaClassName = importManager.getImportedName(modelFacet.getMetaClass().getQualifiedInterfaceName());
    stringBuffer.append(TEXT_42);
d515 1
a515 1
    stringBuffer.append(TEXT_43);
d517 33
a549 1
    stringBuffer.append(TEXT_44);
d551 1
a551 1
    stringBuffer.append(TEXT_45);
d553 9
a561 3
    stringBuffer.append(TEXT_46);
    	}
    stringBuffer.append(TEXT_47);
d564 1
a564 1
    stringBuffer.append(TEXT_48);
d571 1
a571 1
    stringBuffer.append(TEXT_49);
d600 1
a600 1
    stringBuffer.append(TEXT_50);
d602 1
a602 1
    stringBuffer.append(TEXT_51);
d604 1
a604 1
    stringBuffer.append(TEXT_52);
d606 1
a606 1
    stringBuffer.append(TEXT_53);
d608 1
a608 1
    stringBuffer.append(TEXT_54);
d610 1
a610 1
    stringBuffer.append(TEXT_55);
d615 1
a615 1
    stringBuffer.append(TEXT_56);
d617 1
a617 1
    stringBuffer.append(TEXT_57);
d619 1
a619 1
    stringBuffer.append(TEXT_58);
d621 1
a621 1
    stringBuffer.append(TEXT_59);
d625 1
a625 1
    stringBuffer.append(TEXT_60);
d630 1
a630 1
    stringBuffer.append(TEXT_61);
d649 5
a653 1
		int upperBound = containmentFeature.getEcoreFeature().getUpperBound();
d658 1
a658 1
    stringBuffer.append(TEXT_62);
d660 1
a660 1
    stringBuffer.append(TEXT_63);
d663 1
a663 1
			if (upperBound > 0) { // consider UNBOUNDED_MULTIPLICITY and UNSPECIFIED_MULTIPLICITY
d666 1
a666 1
    stringBuffer.append(TEXT_64);
d668 1
a668 1
    stringBuffer.append(TEXT_65);
d670 6
a675 3
    stringBuffer.append(TEXT_66);
    				if (upperBound == 1) {
    stringBuffer.append(TEXT_67);
d677 5
a681 3
    stringBuffer.append(TEXT_68);
    				} else {
    stringBuffer.append(TEXT_69);
d683 29
a711 5
    stringBuffer.append(TEXT_70);
    stringBuffer.append(upperBound);
    stringBuffer.append(TEXT_71);
    				}
    stringBuffer.append(TEXT_72);
d713 5
a717 2
    stringBuffer.append(TEXT_73);
    			}
d719 1
a719 1
    stringBuffer.append(TEXT_74);
d724 1
a724 1
    stringBuffer.append(TEXT_75);
d726 1
a726 1
    stringBuffer.append(TEXT_76);
d728 1
a728 1
    stringBuffer.append(TEXT_77);
d730 1
a730 1
    stringBuffer.append(TEXT_78);
d732 1
a732 1
    stringBuffer.append(TEXT_79);
d735 1
a735 1
			if (upperBound > 0) { // consider UNBOUNDED_MULTIPLICITY and UNSPECIFIED_MULTIPLICITY
d738 1
a738 1
    stringBuffer.append(TEXT_80);
d740 1
a740 1
    stringBuffer.append(TEXT_81);
d742 6
a747 3
    stringBuffer.append(TEXT_82);
    				if (upperBound == 1) {
    stringBuffer.append(TEXT_83);
d749 5
a753 3
    stringBuffer.append(TEXT_84);
    				} else {
    stringBuffer.append(TEXT_85);
d755 29
a783 5
    stringBuffer.append(TEXT_86);
    stringBuffer.append(upperBound);
    stringBuffer.append(TEXT_87);
    				}
    stringBuffer.append(TEXT_88);
d785 5
a789 2
    stringBuffer.append(TEXT_89);
    			}
d791 1
a791 1
    stringBuffer.append(TEXT_90);
d793 1
a793 1
    stringBuffer.append(TEXT_91);
d795 1
a795 1
    stringBuffer.append(TEXT_92);
d797 1
a797 1
    stringBuffer.append(TEXT_93);
d799 1
a799 1
    stringBuffer.append(TEXT_94);
d801 1
a801 1
    stringBuffer.append(TEXT_95);
d803 1
a803 1
    stringBuffer.append(TEXT_96);
d805 1
a805 1
    stringBuffer.append(TEXT_97);
d807 1
a807 1
    stringBuffer.append(TEXT_98);
d809 1
a809 1
    stringBuffer.append(TEXT_99);
d811 1
a811 1
    stringBuffer.append(TEXT_100);
d813 6
a818 3
    stringBuffer.append(TEXT_101);
    			String metaClassName = importManager.getImportedName(modelFacet.getMetaClass().getQualifiedInterfaceName());
    stringBuffer.append(TEXT_102);
d820 1
a820 1
    stringBuffer.append(TEXT_103);
d822 1
a822 1
    stringBuffer.append(TEXT_104);
d824 1
a824 1
    stringBuffer.append(TEXT_105);
d826 33
a858 3
    stringBuffer.append(TEXT_106);
    			if (modelFacet.getModelElementInitializer() != null) { 
    stringBuffer.append(TEXT_107);
d860 1
a860 1
    stringBuffer.append(TEXT_108);
d862 5
a866 3
    stringBuffer.append(TEXT_109);
    }
    stringBuffer.append(TEXT_110);
d873 1
a873 1
    stringBuffer.append(TEXT_111);
d875 1
a875 1
    stringBuffer.append(TEXT_112);
d877 1
a877 1
    stringBuffer.append(TEXT_113);
d882 1
a882 1
    stringBuffer.append(TEXT_114);
d884 1
a884 1
    stringBuffer.append(TEXT_115);
d886 1
a886 1
    stringBuffer.append(TEXT_116);
d888 1
a888 1
    stringBuffer.append(TEXT_117);
d890 1
a890 1
    stringBuffer.append(TEXT_118);
d893 1
a893 1
			if (upperBound > 0) { // consider UNBOUNDED_MULTIPLICITY and UNSPECIFIED_MULTIPLICITY
d896 1
a896 1
    stringBuffer.append(TEXT_119);
d898 1
a898 1
    stringBuffer.append(TEXT_120);
d900 6
a905 3
    stringBuffer.append(TEXT_121);
    				if (upperBound == 1) {
    stringBuffer.append(TEXT_122);
d907 5
a911 3
    stringBuffer.append(TEXT_123);
    				} else {
    stringBuffer.append(TEXT_124);
d913 29
a941 5
    stringBuffer.append(TEXT_125);
    stringBuffer.append(upperBound);
    stringBuffer.append(TEXT_126);
    				}
    stringBuffer.append(TEXT_127);
d943 5
a947 2
    stringBuffer.append(TEXT_128);
    			}
d949 1
a949 1
    stringBuffer.append(TEXT_129);
d951 1
a951 1
    stringBuffer.append(TEXT_130);
d953 1
a953 1
    stringBuffer.append(TEXT_131);
d955 1
a955 1
    stringBuffer.append(TEXT_132);
d957 1
a957 1
    stringBuffer.append(TEXT_133);
d959 1
a959 1
    stringBuffer.append(TEXT_134);
d961 1
a961 1
    stringBuffer.append(TEXT_135);
d963 1
a963 1
    stringBuffer.append(TEXT_136);
d965 1
a965 1
    stringBuffer.append(TEXT_137);
d967 1
a967 1
    stringBuffer.append(TEXT_138);
d969 1
a969 1
    stringBuffer.append(TEXT_139);
d971 6
a976 3
    stringBuffer.append(TEXT_140);
    			String metaClassName = importManager.getImportedName(modelFacet.getMetaClass().getQualifiedInterfaceName());
    stringBuffer.append(TEXT_141);
d978 1
a978 1
    stringBuffer.append(TEXT_142);
d980 1
a980 1
    stringBuffer.append(TEXT_143);
d982 1
a982 1
    stringBuffer.append(TEXT_144);
d984 33
a1016 3
    stringBuffer.append(TEXT_145);
    			if (modelFacet.getModelElementInitializer() != null) { 
    stringBuffer.append(TEXT_146);
d1018 1
a1018 1
    stringBuffer.append(TEXT_147);
d1020 5
a1024 3
    stringBuffer.append(TEXT_148);
    }
    stringBuffer.append(TEXT_149);
d1046 1
a1046 1
    stringBuffer.append(TEXT_150);
d1048 1
a1048 1
    stringBuffer.append(TEXT_151);
d1054 1
a1054 1
    stringBuffer.append(TEXT_152);
d1056 1
a1056 1
    stringBuffer.append(TEXT_153);
d1058 1
a1058 1
    stringBuffer.append(TEXT_154);
d1060 1
a1060 1
    stringBuffer.append(TEXT_155);
d1062 1
a1062 1
    stringBuffer.append(TEXT_156);
d1064 1
a1064 1
    stringBuffer.append(TEXT_157);
d1066 1
a1066 1
    stringBuffer.append(TEXT_158);
d1068 1
a1068 1
    stringBuffer.append(TEXT_159);
d1070 1
a1070 1
    stringBuffer.append(TEXT_160);
d1072 1
a1072 1
    stringBuffer.append(TEXT_161);
d1075 1
a1075 1
    stringBuffer.append(TEXT_162);
d1080 1
a1080 1
    stringBuffer.append(TEXT_163);
d1082 1
a1082 1
    stringBuffer.append(TEXT_164);
d1084 1
a1084 1
    stringBuffer.append(TEXT_165);
d1086 1
a1086 1
    stringBuffer.append(TEXT_166);
d1088 1
a1088 1
    stringBuffer.append(TEXT_167);
d1094 1
a1094 1
    stringBuffer.append(TEXT_168);
d1096 1
a1096 1
    stringBuffer.append(TEXT_169);
d1098 1
a1098 1
    stringBuffer.append(TEXT_170);
d1100 1
a1100 1
    stringBuffer.append(TEXT_171);
d1102 1
a1102 1
    stringBuffer.append(TEXT_172);
d1104 1
a1104 1
    stringBuffer.append(TEXT_173);
d1106 1
a1106 1
    stringBuffer.append(TEXT_174);
d1109 1
a1109 1
    stringBuffer.append(TEXT_175);
d1111 1
a1111 1
    stringBuffer.append(TEXT_176);
d1113 1
a1113 1
    stringBuffer.append(TEXT_177);
d1115 1
a1115 1
    stringBuffer.append(TEXT_178);
d1117 1
a1117 1
    stringBuffer.append(TEXT_179);
d1120 1
a1120 1
    stringBuffer.append(TEXT_180);
d1122 1
a1122 1
    stringBuffer.append(TEXT_181);
d1124 1
a1124 1
    stringBuffer.append(TEXT_182);
d1126 1
a1126 1
    stringBuffer.append(TEXT_183);
d1128 1
a1128 1
    stringBuffer.append(TEXT_184);
d1130 1
a1130 1
    stringBuffer.append(TEXT_185);
d1137 1
a1137 1
    stringBuffer.append(TEXT_186);
d1139 1
a1139 1
    stringBuffer.append(TEXT_187);
d1141 1
a1141 1
    stringBuffer.append(TEXT_188);
d1146 1
a1146 1
    stringBuffer.append(TEXT_189);
d1148 1
a1148 1
    stringBuffer.append(TEXT_190);
d1150 1
a1150 1
    stringBuffer.append(TEXT_191);
d1152 1
a1152 1
    stringBuffer.append(TEXT_192);
d1154 1
a1154 1
    stringBuffer.append(TEXT_193);
d1160 1
a1160 1
    stringBuffer.append(TEXT_194);
d1162 1
a1162 1
    stringBuffer.append(TEXT_195);
d1164 1
a1164 1
    stringBuffer.append(TEXT_196);
d1166 1
a1166 1
    stringBuffer.append(TEXT_197);
d1168 1
a1168 1
    stringBuffer.append(TEXT_198);
d1170 1
a1170 1
    stringBuffer.append(TEXT_199);
d1172 1
a1172 1
    stringBuffer.append(TEXT_200);
d1175 1
a1175 1
    stringBuffer.append(TEXT_201);
d1177 1
a1177 1
    stringBuffer.append(TEXT_202);
d1179 1
a1179 1
    stringBuffer.append(TEXT_203);
d1181 1
a1181 1
    stringBuffer.append(TEXT_204);
d1183 1
a1183 1
    stringBuffer.append(TEXT_205);
d1186 1
a1186 1
    stringBuffer.append(TEXT_206);
d1188 1
a1188 1
    stringBuffer.append(TEXT_207);
d1190 1
a1190 1
    stringBuffer.append(TEXT_208);
d1192 1
a1192 1
    stringBuffer.append(TEXT_209);
d1194 1
a1194 1
    stringBuffer.append(TEXT_210);
d1196 1
a1196 1
    stringBuffer.append(TEXT_211);
d1203 1
a1203 1
    stringBuffer.append(TEXT_212);
d1205 1
a1205 1
    stringBuffer.append(TEXT_213);
@


1.12
log
@#115794 allow to specify directions in which link could be created on diagram
@
text
@d234 1
a234 1
	private String getFeatureValueGetter(String containerName, GenFeature feature, boolean isContainerEObject, ImportUtil importManager) {
d278 1
a278 1
	private String getFeatureValueSetterPrefix(String containerName, GenFeature feature, boolean isContainerEObject, ImportUtil importManager) {
@


1.11
log
@#116655

Generating correct access for all the features.
@
text
@d71 39
a109 39
  protected final String TEXT_52 = " == req.getElementType()) {" + NL + "\t\t\treturn req.getTarget() == null ? getCreateStart";
  protected final String TEXT_53 = "Command(req) : getCreateComplete";
  protected final String TEXT_54 = "Command(req);" + NL + "\t\t}";
  protected final String TEXT_55 = NL + "\t\treturn super.getCreateRelationshipCommand(req);" + NL + "\t}";
  protected final String TEXT_56 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_57 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_58 = NL + "\t\t";
  protected final String TEXT_59 = " element = (";
  protected final String TEXT_60 = ") getSemanticElement();";
  protected final String TEXT_61 = NL + "\t\tif (";
  protected final String TEXT_62 = " != null) {";
  protected final String TEXT_63 = NL + "\t\tif (";
  protected final String TEXT_64 = ".size() >= ";
  protected final String TEXT_65 = ") {";
  protected final String TEXT_66 = NL + "\t\t\treturn ";
  protected final String TEXT_67 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_68 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_69 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_70 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_71 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_72 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_73 = NL + "\t\t";
  protected final String TEXT_74 = " element = (";
  protected final String TEXT_75 = ") getSemanticElement();";
  protected final String TEXT_76 = NL + "\t\tif (";
  protected final String TEXT_77 = " != null) {";
  protected final String TEXT_78 = NL + "\t\tif (";
  protected final String TEXT_79 = ".size() >= ";
  protected final String TEXT_80 = ") {";
  protected final String TEXT_81 = NL + "\t\t\treturn ";
  protected final String TEXT_82 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_83 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_84 = ".eINSTANCE.get";
  protected final String TEXT_85 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_86 = "Command(req));" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_87 = "Command extends ";
  protected final String TEXT_88 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_89 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_90 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
d111 122
a232 112
  protected final String TEXT_92 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_93 = " getElementToEdit() {" + NL + "\t\t\treturn getTarget();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_94 = " doDefaultElementCreation() {";
  protected final String TEXT_95 = NL + "\t\t\t";
  protected final String TEXT_96 = " newElement = (";
  protected final String TEXT_97 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_98 = "(";
  protected final String TEXT_99 = ") getSource());";
  protected final String TEXT_100 = NL + "\t\t\t\t";
  protected final String TEXT_101 = ".Initializers.";
  protected final String TEXT_102 = ".init(newElement);";
  protected final String TEXT_103 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_104 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_105 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_106 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_107 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_108 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_109 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_110 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_111 = NL + "\t\t";
  protected final String TEXT_112 = " element = (";
  protected final String TEXT_113 = ") req.getSource();";
  protected final String TEXT_114 = NL + "\t\tif (";
  protected final String TEXT_115 = " != null) {";
  protected final String TEXT_116 = NL + "\t\tif (";
  protected final String TEXT_117 = ".size() >= ";
  protected final String TEXT_118 = ") {";
  protected final String TEXT_119 = NL + "\t\t\treturn ";
  protected final String TEXT_120 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_121 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_122 = ".eINSTANCE.get";
  protected final String TEXT_123 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_124 = "Command(req));" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_125 = "Command extends ";
  protected final String TEXT_126 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_127 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_128 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_129 = ".eINSTANCE.get";
  protected final String TEXT_130 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_131 = " getElementToEdit() {" + NL + "\t\t\treturn getSource();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_132 = " doDefaultElementCreation() {";
  protected final String TEXT_133 = NL + "\t\t\t";
  protected final String TEXT_134 = " newElement = (";
  protected final String TEXT_135 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_136 = "(";
  protected final String TEXT_137 = ") getTarget());";
  protected final String TEXT_138 = NL + "\t\t\t\t";
  protected final String TEXT_139 = ".Initializers.";
  protected final String TEXT_140 = ".init(newElement);";
  protected final String TEXT_141 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_142 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_143 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_144 = NL + "\t\t";
  protected final String TEXT_145 = " element = (";
  protected final String TEXT_146 = ") getSemanticElement();";
  protected final String TEXT_147 = NL + "\t\tif (";
  protected final String TEXT_148 = " != null) {";
  protected final String TEXT_149 = NL + "\t\tif (";
  protected final String TEXT_150 = ".size() >= ";
  protected final String TEXT_151 = ") {";
  protected final String TEXT_152 = NL + "\t\t\treturn ";
  protected final String TEXT_153 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_154 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_155 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_156 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_157 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_158 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_159 = NL + "\t\t";
  protected final String TEXT_160 = " element = (";
  protected final String TEXT_161 = ") getSemanticElement();";
  protected final String TEXT_162 = NL + "\t\tif (";
  protected final String TEXT_163 = " != null) {";
  protected final String TEXT_164 = NL + "\t\tif (";
  protected final String TEXT_165 = ".size() >= ";
  protected final String TEXT_166 = NL + "\t\t\t|| ";
  protected final String TEXT_167 = ".contains(req.getSource())";
  protected final String TEXT_168 = NL + "\t\t\t\t) {";
  protected final String TEXT_169 = NL + "\t\t\treturn ";
  protected final String TEXT_170 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_171 = NL + "\t\t";
  protected final String TEXT_172 = " setReq = new ";
  protected final String TEXT_173 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_174 = ".eINSTANCE.get";
  protected final String TEXT_175 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_176 = "(setReq));" + NL + "\t}";
  protected final String TEXT_177 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_178 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_179 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_180 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_181 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_182 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_183 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_184 = NL + "\t\t";
  protected final String TEXT_185 = " element = (";
  protected final String TEXT_186 = ") req.getSource();";
  protected final String TEXT_187 = NL + "\t\tif (";
  protected final String TEXT_188 = " != null) {";
  protected final String TEXT_189 = NL + "\t\tif (";
  protected final String TEXT_190 = ".size() >= ";
  protected final String TEXT_191 = NL + "\t\t\t|| ";
  protected final String TEXT_192 = ".contains(req.getTarget())";
  protected final String TEXT_193 = NL + "\t\t\t\t) {";
  protected final String TEXT_194 = NL + "\t\t\treturn ";
  protected final String TEXT_195 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_196 = NL + "\t\t";
  protected final String TEXT_197 = " setReq = new ";
  protected final String TEXT_198 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_199 = ".eINSTANCE.get";
  protected final String TEXT_200 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_201 = "(setReq));" + NL + "\t}";
  protected final String TEXT_202 = NL + "}";
  protected final String TEXT_203 = NL;
d454 3
d458 1
d465 1
d473 1
d484 1
a484 1
    stringBuffer.append(namePart);
d488 17
d509 1
a509 1
    stringBuffer.append(TEXT_55);
d515 9
d531 1
d533 1
a533 1
    stringBuffer.append(TEXT_56);
d535 1
a535 1
    stringBuffer.append(TEXT_57);
d541 1
a541 1
    stringBuffer.append(TEXT_58);
d543 1
a543 1
    stringBuffer.append(TEXT_59);
d545 1
a545 1
    stringBuffer.append(TEXT_60);
d547 1
a547 1
    stringBuffer.append(TEXT_61);
d549 1
a549 1
    stringBuffer.append(TEXT_62);
d551 1
a551 1
    stringBuffer.append(TEXT_63);
d553 1
a553 1
    stringBuffer.append(TEXT_64);
d555 1
a555 1
    stringBuffer.append(TEXT_65);
d557 1
a557 1
    stringBuffer.append(TEXT_66);
d559 1
a559 1
    stringBuffer.append(TEXT_67);
d562 6
a567 1
    stringBuffer.append(TEXT_68);
d569 1
a569 1
    stringBuffer.append(TEXT_69);
d571 1
a571 1
    stringBuffer.append(TEXT_70);
d573 1
a573 1
    stringBuffer.append(TEXT_71);
d575 1
a575 1
    stringBuffer.append(TEXT_72);
d581 1
a581 1
    stringBuffer.append(TEXT_73);
d583 1
a583 1
    stringBuffer.append(TEXT_74);
d585 1
a585 1
    stringBuffer.append(TEXT_75);
d587 1
a587 1
    stringBuffer.append(TEXT_76);
d589 1
a589 1
    stringBuffer.append(TEXT_77);
d591 1
a591 1
    stringBuffer.append(TEXT_78);
d593 1
a593 1
    stringBuffer.append(TEXT_79);
d595 1
a595 1
    stringBuffer.append(TEXT_80);
d597 1
a597 1
    stringBuffer.append(TEXT_81);
d599 1
a599 1
    stringBuffer.append(TEXT_82);
d602 1
a602 1
    stringBuffer.append(TEXT_83);
d604 1
a604 1
    stringBuffer.append(TEXT_84);
d606 1
a606 1
    stringBuffer.append(TEXT_85);
d608 1
a608 1
    stringBuffer.append(TEXT_86);
d610 1
a610 1
    stringBuffer.append(TEXT_87);
d612 1
a612 1
    stringBuffer.append(TEXT_88);
d614 1
a614 1
    stringBuffer.append(TEXT_89);
d616 1
a616 1
    stringBuffer.append(TEXT_90);
d618 1
a618 1
    stringBuffer.append(TEXT_91);
d620 1
a620 1
    stringBuffer.append(TEXT_92);
d622 1
a622 1
    stringBuffer.append(TEXT_93);
d624 1
a624 1
    stringBuffer.append(TEXT_94);
d626 1
a626 1
    stringBuffer.append(TEXT_95);
d628 1
a628 1
    stringBuffer.append(TEXT_96);
d630 1
a630 1
    stringBuffer.append(TEXT_97);
d632 1
a632 1
    stringBuffer.append(TEXT_98);
d634 1
a634 1
    stringBuffer.append(TEXT_99);
d636 1
a636 1
    stringBuffer.append(TEXT_100);
d638 1
a638 1
    stringBuffer.append(TEXT_101);
d640 1
a640 1
    stringBuffer.append(TEXT_102);
d642 1
a642 1
    stringBuffer.append(TEXT_103);
d644 1
d647 1
d649 1
a649 1
    stringBuffer.append(TEXT_104);
d651 1
a651 1
    stringBuffer.append(TEXT_105);
d653 6
a658 1
    stringBuffer.append(TEXT_106);
d660 1
a660 1
    stringBuffer.append(TEXT_107);
d662 1
a662 1
    stringBuffer.append(TEXT_108);
d664 1
a664 1
    stringBuffer.append(TEXT_109);
d666 1
a666 1
    stringBuffer.append(TEXT_110);
d672 1
a672 1
    stringBuffer.append(TEXT_111);
d674 1
a674 1
    stringBuffer.append(TEXT_112);
d676 1
a676 1
    stringBuffer.append(TEXT_113);
d678 1
a678 1
    stringBuffer.append(TEXT_114);
d680 1
a680 1
    stringBuffer.append(TEXT_115);
d682 1
a682 1
    stringBuffer.append(TEXT_116);
d684 1
a684 1
    stringBuffer.append(TEXT_117);
d686 1
a686 1
    stringBuffer.append(TEXT_118);
d688 1
a688 1
    stringBuffer.append(TEXT_119);
d690 1
a690 1
    stringBuffer.append(TEXT_120);
d693 1
a693 1
    stringBuffer.append(TEXT_121);
d695 1
a695 1
    stringBuffer.append(TEXT_122);
d697 1
a697 1
    stringBuffer.append(TEXT_123);
d699 1
a699 1
    stringBuffer.append(TEXT_124);
d701 1
a701 1
    stringBuffer.append(TEXT_125);
d703 1
a703 1
    stringBuffer.append(TEXT_126);
d705 1
a705 1
    stringBuffer.append(TEXT_127);
d707 1
a707 1
    stringBuffer.append(TEXT_128);
d709 1
a709 1
    stringBuffer.append(TEXT_129);
d711 1
a711 1
    stringBuffer.append(TEXT_130);
d713 1
a713 1
    stringBuffer.append(TEXT_131);
d715 1
a715 1
    stringBuffer.append(TEXT_132);
d717 1
a717 1
    stringBuffer.append(TEXT_133);
d719 1
a719 1
    stringBuffer.append(TEXT_134);
d721 1
a721 1
    stringBuffer.append(TEXT_135);
d723 1
a723 1
    stringBuffer.append(TEXT_136);
d725 1
a725 1
    stringBuffer.append(TEXT_137);
d727 1
a727 1
    stringBuffer.append(TEXT_138);
d729 1
a729 1
    stringBuffer.append(TEXT_139);
d731 1
a731 1
    stringBuffer.append(TEXT_140);
d733 1
a733 1
    stringBuffer.append(TEXT_141);
d735 1
d738 9
d753 1
d755 1
a755 1
    stringBuffer.append(TEXT_142);
d757 1
a757 1
    stringBuffer.append(TEXT_143);
d763 1
a763 1
    stringBuffer.append(TEXT_144);
d765 1
a765 1
    stringBuffer.append(TEXT_145);
d767 1
a767 1
    stringBuffer.append(TEXT_146);
d769 1
a769 1
    stringBuffer.append(TEXT_147);
d771 1
a771 1
    stringBuffer.append(TEXT_148);
d773 1
a773 1
    stringBuffer.append(TEXT_149);
d775 1
a775 1
    stringBuffer.append(TEXT_150);
d777 1
a777 1
    stringBuffer.append(TEXT_151);
d779 1
a779 1
    stringBuffer.append(TEXT_152);
d781 1
a781 1
    stringBuffer.append(TEXT_153);
d784 6
a789 1
    stringBuffer.append(TEXT_154);
d791 1
a791 1
    stringBuffer.append(TEXT_155);
d793 1
a793 1
    stringBuffer.append(TEXT_156);
d795 1
a795 1
    stringBuffer.append(TEXT_157);
d797 1
a797 1
    stringBuffer.append(TEXT_158);
d803 1
a803 1
    stringBuffer.append(TEXT_159);
d805 1
a805 1
    stringBuffer.append(TEXT_160);
d807 1
a807 1
    stringBuffer.append(TEXT_161);
d809 1
a809 1
    stringBuffer.append(TEXT_162);
d811 1
a811 1
    stringBuffer.append(TEXT_163);
d813 1
a813 1
    stringBuffer.append(TEXT_164);
d815 1
a815 1
    stringBuffer.append(TEXT_165);
d818 1
a818 1
    stringBuffer.append(TEXT_166);
d820 1
a820 1
    stringBuffer.append(TEXT_167);
d822 1
a822 1
    stringBuffer.append(TEXT_168);
d824 1
a824 1
    stringBuffer.append(TEXT_169);
d826 1
a826 1
    stringBuffer.append(TEXT_170);
d829 1
a829 1
    stringBuffer.append(TEXT_171);
d831 1
a831 1
    stringBuffer.append(TEXT_172);
d833 1
a833 1
    stringBuffer.append(TEXT_173);
d835 1
a835 1
    stringBuffer.append(TEXT_174);
d837 1
a837 1
    stringBuffer.append(TEXT_175);
d839 1
a839 1
    stringBuffer.append(TEXT_176);
d841 1
d844 1
d846 1
a846 1
    stringBuffer.append(TEXT_177);
d848 1
a848 1
    stringBuffer.append(TEXT_178);
d850 6
a855 1
    stringBuffer.append(TEXT_179);
d857 1
a857 1
    stringBuffer.append(TEXT_180);
d859 1
a859 1
    stringBuffer.append(TEXT_181);
d861 1
a861 1
    stringBuffer.append(TEXT_182);
d863 1
a863 1
    stringBuffer.append(TEXT_183);
d869 1
a869 1
    stringBuffer.append(TEXT_184);
d871 1
a871 1
    stringBuffer.append(TEXT_185);
d873 1
a873 1
    stringBuffer.append(TEXT_186);
d875 1
a875 1
    stringBuffer.append(TEXT_187);
d877 1
a877 1
    stringBuffer.append(TEXT_188);
d879 1
a879 1
    stringBuffer.append(TEXT_189);
d881 1
a881 1
    stringBuffer.append(TEXT_190);
d884 1
a884 1
    stringBuffer.append(TEXT_191);
d886 1
a886 1
    stringBuffer.append(TEXT_192);
d888 1
a888 1
    stringBuffer.append(TEXT_193);
d890 1
a890 1
    stringBuffer.append(TEXT_194);
d892 1
a892 1
    stringBuffer.append(TEXT_195);
d895 1
a895 1
    stringBuffer.append(TEXT_196);
d897 1
a897 1
    stringBuffer.append(TEXT_197);
d899 1
a899 1
    stringBuffer.append(TEXT_198);
d901 1
a901 1
    stringBuffer.append(TEXT_199);
d903 1
a903 1
    stringBuffer.append(TEXT_200);
d905 1
a905 1
    stringBuffer.append(TEXT_201);
d907 1
d912 1
a912 1
    stringBuffer.append(TEXT_202);
d914 1
a914 1
    stringBuffer.append(TEXT_203);
@


1.10
log
@#116448
Correcting CanonicalEditPolicy + SemanticEditPolicy to support references with multiplicities "1","n".
@
text
@d8 2
a9 2
public class NodeItemSemanticEditPolicyGenerator
{
d37 4
a40 4
  protected final String TEXT_18 = NL + "\t\t\tif (container.";
  protected final String TEXT_19 = "() != null) {";
  protected final String TEXT_20 = NL + "\t\t\tif (container.";
  protected final String TEXT_21 = "().size() >= ";
d80 4
a83 4
  protected final String TEXT_61 = NL + "\t\tif (element.get";
  protected final String TEXT_62 = "() != null) {";
  protected final String TEXT_63 = NL + "\t\tif (element.get";
  protected final String TEXT_64 = "().size() >= ";
d95 4
a98 4
  protected final String TEXT_76 = NL + "\t\tif (element.get";
  protected final String TEXT_77 = "() != null) {";
  protected final String TEXT_78 = NL + "\t\tif (element.get";
  protected final String TEXT_79 = "().size() >= ";
d116 2
a117 2
  protected final String TEXT_97 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\tnewElement.set";
  protected final String TEXT_98 = "((";
d133 4
a136 4
  protected final String TEXT_114 = NL + "\t\tif (element.get";
  protected final String TEXT_115 = "() != null) {";
  protected final String TEXT_116 = NL + "\t\tif (element.get";
  protected final String TEXT_117 = "().size() >= ";
d154 2
a155 2
  protected final String TEXT_135 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\tnewElement.set";
  protected final String TEXT_136 = "((";
d166 4
a169 4
  protected final String TEXT_147 = NL + "\t\tif (element.get";
  protected final String TEXT_148 = "() != null) {";
  protected final String TEXT_149 = NL + "\t\tif (element.get";
  protected final String TEXT_150 = "().size() >= ";
d181 6
a186 6
  protected final String TEXT_162 = NL + "\t\tif (element.get";
  protected final String TEXT_163 = "() != null) {";
  protected final String TEXT_164 = NL + "\t\tif (element.get";
  protected final String TEXT_165 = "().size() >= ";
  protected final String TEXT_166 = NL + "\t\t\t|| element.get";
  protected final String TEXT_167 = "().contains(req.getSource())";
d206 6
a211 6
  protected final String TEXT_187 = NL + "\t\tif (element.get";
  protected final String TEXT_188 = "() != null) {";
  protected final String TEXT_189 = NL + "\t\tif (element.get";
  protected final String TEXT_190 = "().size() >= ";
  protected final String TEXT_191 = NL + "\t\t\t|| element.get";
  protected final String TEXT_192 = "().contains(req.getTarget())";
d224 82
a305 1
  public String generate(Object argument)
d361 1
a361 1
    stringBuffer.append(containmentMetaFeature.getGetAccessor());
d367 1
a367 1
    stringBuffer.append(containmentMetaFeature.getGetAccessor());
d505 1
a505 1
    stringBuffer.append(containmentFeature.getAccessorName());
d509 1
a509 1
    stringBuffer.append(containmentFeature.getAccessorName());
d540 1
a540 1
    stringBuffer.append(containmentFeature.getAccessorName());
d544 1
a544 1
    stringBuffer.append(containmentFeature.getAccessorName());
d583 1
a583 1
    stringBuffer.append(modelFacet.getTargetMetaFeature().getAccessorName());
d624 1
a624 1
    stringBuffer.append(containmentFeature.getAccessorName());
d628 1
a628 1
    stringBuffer.append(containmentFeature.getAccessorName());
d667 1
a667 1
    stringBuffer.append(modelFacet.getTargetMetaFeature().getAccessorName());
d704 1
a704 1
    stringBuffer.append(metaFeature.getAccessorName());
d708 1
a708 1
    stringBuffer.append(metaFeature.getAccessorName());
d739 1
a739 1
    stringBuffer.append(metaFeature.getAccessorName());
d743 1
a743 1
    stringBuffer.append(metaFeature.getAccessorName());
d748 1
a748 1
    stringBuffer.append(metaFeature.getAccessorName());
d798 1
a798 1
    stringBuffer.append(metaFeature.getAccessorName());
d802 1
a802 1
    stringBuffer.append(metaFeature.getAccessorName());
d807 1
a807 1
    stringBuffer.append(metaFeature.getAccessorName());
d838 1
a838 1
}
@


1.9
log
@#116031 avoid hardcoded class names in templates
@
text
@d33 58
a90 58
  protected final String TEXT_14 = " == req.getElementType()) {" + NL + "\t\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\t\treq.setContainmentFeature(";
  protected final String TEXT_15 = ".eINSTANCE.get";
  protected final String TEXT_16 = "());" + NL + "\t\t\t}" + NL + "\t\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_17 = "Command(req));" + NL + "\t\t}";
  protected final String TEXT_18 = NL + "\t\treturn super.getCreateCommand(req);" + NL + "\t}";
  protected final String TEXT_19 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_20 = "Command extends ";
  protected final String TEXT_21 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_22 = "Command(CreateElementRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_23 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_24 = ".eINSTANCE.get";
  protected final String TEXT_25 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_26 = " getElementToEdit() {" + NL + "\t\t\t";
  protected final String TEXT_27 = " container = ((CreateElementRequest) getRequest()).getContainer();" + NL + "\t\t\tif (container instanceof ";
  protected final String TEXT_28 = ") {" + NL + "\t\t\t\tcontainer = ((";
  protected final String TEXT_29 = ") container).getElement();" + NL + "\t\t\t}" + NL + "\t\t\treturn container;" + NL + "\t\t}";
  protected final String TEXT_30 = NL + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_31 = " doDefaultElementCreation() {";
  protected final String TEXT_32 = NL + "\t\t\t";
  protected final String TEXT_33 = " newElement = (";
  protected final String TEXT_34 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\t";
  protected final String TEXT_35 = ".Initializers.";
  protected final String TEXT_36 = ".init(newElement);" + NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}";
  protected final String TEXT_37 = NL + "\t}";
  protected final String TEXT_38 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getDestroyElementCommand(DestroyElementRequest req) {" + NL + "\t\treturn getMSLWrapper(new MSLDestroyElementCommand(req));" + NL + "\t}";
  protected final String TEXT_39 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateRelationshipCommand(CreateRelationshipRequest req) {";
  protected final String TEXT_40 = NL + "\t\tif (";
  protected final String TEXT_41 = ".";
  protected final String TEXT_42 = " == req.getElementType()) {" + NL + "\t\t\treturn req.getTarget() == null ? getCreateStart";
  protected final String TEXT_43 = "Command(req) : getCreateComplete";
  protected final String TEXT_44 = "Command(req);" + NL + "\t\t}";
  protected final String TEXT_45 = NL + "\t\treturn super.getCreateRelationshipCommand(req);" + NL + "\t}";
  protected final String TEXT_46 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_47 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_48 = NL + "\t\t";
  protected final String TEXT_49 = " element = (";
  protected final String TEXT_50 = ") getSemanticElement();";
  protected final String TEXT_51 = NL + "\t\tif (element.get";
  protected final String TEXT_52 = "() != null) {";
  protected final String TEXT_53 = NL + "\t\tif (element.get";
  protected final String TEXT_54 = "().size() >= ";
  protected final String TEXT_55 = ") {";
  protected final String TEXT_56 = NL + "\t\t\treturn ";
  protected final String TEXT_57 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_58 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_59 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_60 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_61 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_62 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_63 = NL + "\t\t";
  protected final String TEXT_64 = " element = (";
  protected final String TEXT_65 = ") getSemanticElement();";
  protected final String TEXT_66 = NL + "\t\tif (element.get";
  protected final String TEXT_67 = "() != null) {";
  protected final String TEXT_68 = NL + "\t\tif (element.get";
  protected final String TEXT_69 = "().size() >= ";
  protected final String TEXT_70 = ") {";
  protected final String TEXT_71 = NL + "\t\t\treturn ";
d92 37
a128 37
  protected final String TEXT_73 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_74 = ".eINSTANCE.get";
  protected final String TEXT_75 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_76 = "Command(req));" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_77 = "Command extends ";
  protected final String TEXT_78 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_79 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_80 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_81 = ".eINSTANCE.get";
  protected final String TEXT_82 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_83 = " getElementToEdit() {" + NL + "\t\t\treturn getTarget();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_84 = " doDefaultElementCreation() {";
  protected final String TEXT_85 = NL + "\t\t\t";
  protected final String TEXT_86 = " newElement = (";
  protected final String TEXT_87 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\tnewElement.set";
  protected final String TEXT_88 = "((";
  protected final String TEXT_89 = ") getSource());";
  protected final String TEXT_90 = NL + "\t\t\t\t";
  protected final String TEXT_91 = ".Initializers.";
  protected final String TEXT_92 = ".init(newElement);";
  protected final String TEXT_93 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_94 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_95 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_96 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_97 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_98 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_99 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_100 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_101 = NL + "\t\t";
  protected final String TEXT_102 = " element = (";
  protected final String TEXT_103 = ") req.getSource();";
  protected final String TEXT_104 = NL + "\t\tif (element.get";
  protected final String TEXT_105 = "() != null) {";
  protected final String TEXT_106 = NL + "\t\tif (element.get";
  protected final String TEXT_107 = "().size() >= ";
  protected final String TEXT_108 = ") {";
  protected final String TEXT_109 = NL + "\t\t\treturn ";
d130 93
a222 83
  protected final String TEXT_111 = NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_112 = ".eINSTANCE.get";
  protected final String TEXT_113 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_114 = "Command(req));" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_115 = "Command extends ";
  protected final String TEXT_116 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_117 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_118 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_119 = ".eINSTANCE.get";
  protected final String TEXT_120 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_121 = " getElementToEdit() {" + NL + "\t\t\treturn getSource();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_122 = " doDefaultElementCreation() {";
  protected final String TEXT_123 = NL + "\t\t\t";
  protected final String TEXT_124 = " newElement = (";
  protected final String TEXT_125 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\tnewElement.set";
  protected final String TEXT_126 = "((";
  protected final String TEXT_127 = ") getTarget());";
  protected final String TEXT_128 = NL + "\t\t\t\t";
  protected final String TEXT_129 = ".Initializers.";
  protected final String TEXT_130 = ".init(newElement);";
  protected final String TEXT_131 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_132 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_133 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_134 = NL + "\t\t";
  protected final String TEXT_135 = " element = (";
  protected final String TEXT_136 = ") getSemanticElement();";
  protected final String TEXT_137 = NL + "\t\tif (element.get";
  protected final String TEXT_138 = "() != null) {";
  protected final String TEXT_139 = NL + "\t\tif (element.get";
  protected final String TEXT_140 = "().size() >= ";
  protected final String TEXT_141 = ") {";
  protected final String TEXT_142 = NL + "\t\t\treturn ";
  protected final String TEXT_143 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_144 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_145 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_146 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_147 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_148 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_149 = NL + "\t\t";
  protected final String TEXT_150 = " element = (";
  protected final String TEXT_151 = ") getSemanticElement();";
  protected final String TEXT_152 = NL + "\t\tif (element.get";
  protected final String TEXT_153 = "() != null) {";
  protected final String TEXT_154 = NL + "\t\tif (element.get";
  protected final String TEXT_155 = "().size() >= ";
  protected final String TEXT_156 = NL + "\t\t\t|| element.get";
  protected final String TEXT_157 = "().contains(req.getSource())";
  protected final String TEXT_158 = NL + "\t\t\t\t) {";
  protected final String TEXT_159 = NL + "\t\t\treturn ";
  protected final String TEXT_160 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_161 = NL + "\t\t";
  protected final String TEXT_162 = " setReq = new ";
  protected final String TEXT_163 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_164 = ".eINSTANCE.get";
  protected final String TEXT_165 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_166 = "(setReq));" + NL + "\t}";
  protected final String TEXT_167 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_168 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_169 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_170 = "Command(CreateRelationshipRequest req) {";
  protected final String TEXT_171 = NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_172 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_173 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_174 = NL + "\t\t";
  protected final String TEXT_175 = " element = (";
  protected final String TEXT_176 = ") req.getSource();";
  protected final String TEXT_177 = NL + "\t\tif (element.get";
  protected final String TEXT_178 = "() != null) {";
  protected final String TEXT_179 = NL + "\t\tif (element.get";
  protected final String TEXT_180 = "().size() >= ";
  protected final String TEXT_181 = NL + "\t\t\t|| element.get";
  protected final String TEXT_182 = "().contains(req.getTarget())";
  protected final String TEXT_183 = NL + "\t\t\t\t) {";
  protected final String TEXT_184 = NL + "\t\t\treturn ";
  protected final String TEXT_185 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_186 = NL + "\t\t";
  protected final String TEXT_187 = " setReq = new ";
  protected final String TEXT_188 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_189 = ".eINSTANCE.get";
  protected final String TEXT_190 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_191 = "(setReq));" + NL + "\t}";
  protected final String TEXT_192 = NL + "}";
  protected final String TEXT_193 = NL;
d259 2
d267 31
d299 1
a299 1
    stringBuffer.append(TEXT_15);
d301 1
a301 1
    stringBuffer.append(TEXT_16);
d303 1
a303 1
    stringBuffer.append(TEXT_17);
d307 1
a307 1
    stringBuffer.append(TEXT_18);
d313 1
a313 1
    stringBuffer.append(TEXT_19);
d315 1
a315 1
    stringBuffer.append(TEXT_20);
d317 1
a317 1
    stringBuffer.append(TEXT_21);
d319 1
a319 1
    stringBuffer.append(TEXT_22);
d321 1
a321 1
    stringBuffer.append(TEXT_23);
d323 1
a323 1
    stringBuffer.append(TEXT_24);
d325 1
a325 1
    stringBuffer.append(TEXT_25);
d327 1
a327 1
    stringBuffer.append(TEXT_26);
d329 1
a329 1
    stringBuffer.append(TEXT_27);
d331 1
a331 1
    stringBuffer.append(TEXT_28);
d333 1
a333 1
    stringBuffer.append(TEXT_29);
d335 1
a335 1
    stringBuffer.append(TEXT_30);
d337 1
a337 1
    stringBuffer.append(TEXT_31);
d339 1
a339 1
    stringBuffer.append(TEXT_32);
d341 1
a341 1
    stringBuffer.append(TEXT_33);
d343 1
a343 1
    stringBuffer.append(TEXT_34);
d345 1
a345 1
    stringBuffer.append(TEXT_35);
d347 1
a347 1
    stringBuffer.append(TEXT_36);
d349 1
a349 1
    stringBuffer.append(TEXT_37);
d352 1
a352 1
    stringBuffer.append(TEXT_38);
d359 1
a359 1
    stringBuffer.append(TEXT_39);
d382 1
a382 1
    stringBuffer.append(TEXT_40);
d384 1
a384 1
    stringBuffer.append(TEXT_41);
d386 1
a386 1
    stringBuffer.append(TEXT_42);
d388 1
a388 1
    stringBuffer.append(TEXT_43);
d390 1
a390 1
    stringBuffer.append(TEXT_44);
d395 1
a395 1
    stringBuffer.append(TEXT_45);
d409 1
a409 1
    stringBuffer.append(TEXT_46);
d411 1
a411 1
    stringBuffer.append(TEXT_47);
d417 1
a417 1
    stringBuffer.append(TEXT_48);
d419 1
a419 1
    stringBuffer.append(TEXT_49);
d421 1
a421 1
    stringBuffer.append(TEXT_50);
d423 1
a423 1
    stringBuffer.append(TEXT_51);
d425 1
a425 1
    stringBuffer.append(TEXT_52);
d427 1
a427 1
    stringBuffer.append(TEXT_53);
d429 1
a429 1
    stringBuffer.append(TEXT_54);
d431 1
a431 1
    stringBuffer.append(TEXT_55);
d433 1
a433 1
    stringBuffer.append(TEXT_56);
d435 1
a435 1
    stringBuffer.append(TEXT_57);
d438 1
a438 1
    stringBuffer.append(TEXT_58);
d440 1
a440 1
    stringBuffer.append(TEXT_59);
d442 1
a442 1
    stringBuffer.append(TEXT_60);
d444 1
a444 1
    stringBuffer.append(TEXT_61);
d446 1
a446 1
    stringBuffer.append(TEXT_62);
d452 1
a452 1
    stringBuffer.append(TEXT_63);
d454 1
a454 1
    stringBuffer.append(TEXT_64);
d456 1
a456 1
    stringBuffer.append(TEXT_65);
d458 1
a458 1
    stringBuffer.append(TEXT_66);
d460 1
a460 1
    stringBuffer.append(TEXT_67);
d462 1
a462 1
    stringBuffer.append(TEXT_68);
d464 1
a464 1
    stringBuffer.append(TEXT_69);
d466 1
a466 1
    stringBuffer.append(TEXT_70);
d468 1
a468 1
    stringBuffer.append(TEXT_71);
d470 1
a470 1
    stringBuffer.append(TEXT_72);
d473 1
a473 1
    stringBuffer.append(TEXT_73);
d475 1
a475 1
    stringBuffer.append(TEXT_74);
d477 1
a477 1
    stringBuffer.append(TEXT_75);
d479 1
a479 1
    stringBuffer.append(TEXT_76);
d481 1
a481 1
    stringBuffer.append(TEXT_77);
d483 1
a483 1
    stringBuffer.append(TEXT_78);
d485 1
a485 1
    stringBuffer.append(TEXT_79);
d487 1
a487 1
    stringBuffer.append(TEXT_80);
d489 1
a489 1
    stringBuffer.append(TEXT_81);
d491 1
a491 1
    stringBuffer.append(TEXT_82);
d493 1
a493 1
    stringBuffer.append(TEXT_83);
d495 1
a495 1
    stringBuffer.append(TEXT_84);
d497 1
a497 1
    stringBuffer.append(TEXT_85);
d499 1
a499 1
    stringBuffer.append(TEXT_86);
d501 1
a501 1
    stringBuffer.append(TEXT_87);
d503 1
a503 1
    stringBuffer.append(TEXT_88);
d505 1
a505 1
    stringBuffer.append(TEXT_89);
d507 1
a507 1
    stringBuffer.append(TEXT_90);
d509 1
a509 1
    stringBuffer.append(TEXT_91);
d511 1
a511 1
    stringBuffer.append(TEXT_92);
d513 1
a513 1
    stringBuffer.append(TEXT_93);
d518 1
a518 1
    stringBuffer.append(TEXT_94);
d520 1
a520 1
    stringBuffer.append(TEXT_95);
d522 1
a522 1
    stringBuffer.append(TEXT_96);
d524 1
a524 1
    stringBuffer.append(TEXT_97);
d526 1
a526 1
    stringBuffer.append(TEXT_98);
d528 1
a528 1
    stringBuffer.append(TEXT_99);
d530 1
a530 1
    stringBuffer.append(TEXT_100);
d536 1
a536 1
    stringBuffer.append(TEXT_101);
d538 1
a538 1
    stringBuffer.append(TEXT_102);
d540 1
a540 1
    stringBuffer.append(TEXT_103);
d542 1
a542 1
    stringBuffer.append(TEXT_104);
d544 1
a544 1
    stringBuffer.append(TEXT_105);
d546 1
a546 1
    stringBuffer.append(TEXT_106);
d548 1
a548 1
    stringBuffer.append(TEXT_107);
d550 1
a550 1
    stringBuffer.append(TEXT_108);
d552 1
a552 1
    stringBuffer.append(TEXT_109);
d554 1
a554 1
    stringBuffer.append(TEXT_110);
d557 1
a557 1
    stringBuffer.append(TEXT_111);
d559 1
a559 1
    stringBuffer.append(TEXT_112);
d561 1
a561 1
    stringBuffer.append(TEXT_113);
d563 1
a563 1
    stringBuffer.append(TEXT_114);
d565 1
a565 1
    stringBuffer.append(TEXT_115);
d567 1
a567 1
    stringBuffer.append(TEXT_116);
d569 1
a569 1
    stringBuffer.append(TEXT_117);
d571 1
a571 1
    stringBuffer.append(TEXT_118);
d573 1
a573 1
    stringBuffer.append(TEXT_119);
d575 1
a575 1
    stringBuffer.append(TEXT_120);
d577 1
a577 1
    stringBuffer.append(TEXT_121);
d579 1
a579 1
    stringBuffer.append(TEXT_122);
d581 1
a581 1
    stringBuffer.append(TEXT_123);
d583 1
a583 1
    stringBuffer.append(TEXT_124);
d585 1
a585 1
    stringBuffer.append(TEXT_125);
d587 1
a587 1
    stringBuffer.append(TEXT_126);
d589 1
a589 1
    stringBuffer.append(TEXT_127);
d591 1
a591 1
    stringBuffer.append(TEXT_128);
d593 1
a593 1
    stringBuffer.append(TEXT_129);
d595 1
a595 1
    stringBuffer.append(TEXT_130);
d597 1
a597 1
    stringBuffer.append(TEXT_131);
d608 1
a608 1
    stringBuffer.append(TEXT_132);
d610 1
a610 1
    stringBuffer.append(TEXT_133);
d616 1
a616 1
    stringBuffer.append(TEXT_134);
d618 1
a618 1
    stringBuffer.append(TEXT_135);
d620 1
a620 1
    stringBuffer.append(TEXT_136);
d622 1
a622 1
    stringBuffer.append(TEXT_137);
d624 1
a624 1
    stringBuffer.append(TEXT_138);
d626 1
a626 1
    stringBuffer.append(TEXT_139);
d628 1
a628 1
    stringBuffer.append(TEXT_140);
d630 1
a630 1
    stringBuffer.append(TEXT_141);
d632 1
a632 1
    stringBuffer.append(TEXT_142);
d634 1
a634 1
    stringBuffer.append(TEXT_143);
d637 1
a637 1
    stringBuffer.append(TEXT_144);
d639 1
a639 1
    stringBuffer.append(TEXT_145);
d641 1
a641 1
    stringBuffer.append(TEXT_146);
d643 1
a643 1
    stringBuffer.append(TEXT_147);
d645 1
a645 1
    stringBuffer.append(TEXT_148);
d651 1
a651 1
    stringBuffer.append(TEXT_149);
d653 1
a653 1
    stringBuffer.append(TEXT_150);
d655 1
a655 1
    stringBuffer.append(TEXT_151);
d657 1
a657 1
    stringBuffer.append(TEXT_152);
d659 1
a659 1
    stringBuffer.append(TEXT_153);
d661 1
a661 1
    stringBuffer.append(TEXT_154);
d663 1
a663 1
    stringBuffer.append(TEXT_155);
d666 1
a666 1
    stringBuffer.append(TEXT_156);
d668 1
a668 1
    stringBuffer.append(TEXT_157);
d670 1
a670 1
    stringBuffer.append(TEXT_158);
d672 1
a672 1
    stringBuffer.append(TEXT_159);
d674 1
a674 1
    stringBuffer.append(TEXT_160);
d677 1
a677 1
    stringBuffer.append(TEXT_161);
d679 1
a679 1
    stringBuffer.append(TEXT_162);
d681 1
a681 1
    stringBuffer.append(TEXT_163);
d683 1
a683 1
    stringBuffer.append(TEXT_164);
d685 1
a685 1
    stringBuffer.append(TEXT_165);
d687 1
a687 1
    stringBuffer.append(TEXT_166);
d692 1
a692 1
    stringBuffer.append(TEXT_167);
d694 1
a694 1
    stringBuffer.append(TEXT_168);
d696 1
a696 1
    stringBuffer.append(TEXT_169);
d698 1
a698 1
    stringBuffer.append(TEXT_170);
d700 1
a700 1
    stringBuffer.append(TEXT_171);
d702 1
a702 1
    stringBuffer.append(TEXT_172);
d704 1
a704 1
    stringBuffer.append(TEXT_173);
d710 1
a710 1
    stringBuffer.append(TEXT_174);
d712 1
a712 1
    stringBuffer.append(TEXT_175);
d714 1
a714 1
    stringBuffer.append(TEXT_176);
d716 1
a716 1
    stringBuffer.append(TEXT_177);
d718 1
a718 1
    stringBuffer.append(TEXT_178);
d720 1
a720 1
    stringBuffer.append(TEXT_179);
d722 1
a722 1
    stringBuffer.append(TEXT_180);
d725 1
a725 1
    stringBuffer.append(TEXT_181);
d727 1
a727 1
    stringBuffer.append(TEXT_182);
d729 1
a729 1
    stringBuffer.append(TEXT_183);
d731 1
a731 1
    stringBuffer.append(TEXT_184);
d733 1
a733 1
    stringBuffer.append(TEXT_185);
d736 1
a736 1
    stringBuffer.append(TEXT_186);
d738 1
a738 1
    stringBuffer.append(TEXT_187);
d740 1
a740 1
    stringBuffer.append(TEXT_188);
d742 1
a742 1
    stringBuffer.append(TEXT_189);
d744 1
a744 1
    stringBuffer.append(TEXT_190);
d746 1
a746 1
    stringBuffer.append(TEXT_191);
d752 1
a752 1
    stringBuffer.append(TEXT_192);
d754 1
a754 1
    stringBuffer.append(TEXT_193);
@


1.8
log
@#115812 Do not allow to create links when max multiplicity is reeached
@
text
@d251 1
a251 1
    stringBuffer.append(importManager.getImportedName(genDiagram.getProvidersPackageName() + ".ElementTypes"));
d301 1
a301 1
    stringBuffer.append(importManager.getImportedName(genDiagram.getProvidersPackageName() + ".ElementTypes"));
d340 1
a340 1
    stringBuffer.append(importManager.getImportedName(genDiagram.getProvidersPackageName() + ".ElementTypes"));
d465 1
a465 1
    stringBuffer.append(importManager.getImportedName(genDiagram.getProvidersPackageName() + ".ElementTypes"));
d549 1
a549 1
    stringBuffer.append(importManager.getImportedName(genDiagram.getProvidersPackageName() + ".ElementTypes"));
@


1.7
log
@import outgoing class
@
text
@d66 50
a115 50
  protected final String TEXT_47 = "Command(CreateRelationshipRequest req) {" + NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_48 = "Command(CreateRelationshipRequest req) {" + NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_49 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_50 = ".INSTANCE;" + NL + "\t\t}" + NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_51 = ".eINSTANCE.get";
  protected final String TEXT_52 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_53 = "Command(req));" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_54 = "Command extends ";
  protected final String TEXT_55 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_56 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_57 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_58 = ".eINSTANCE.get";
  protected final String TEXT_59 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_60 = " getElementToEdit() {" + NL + "\t\t\treturn getTarget();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_61 = " doDefaultElementCreation() {";
  protected final String TEXT_62 = NL + "\t\t\t";
  protected final String TEXT_63 = " newElement = (";
  protected final String TEXT_64 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\tnewElement.set";
  protected final String TEXT_65 = "((";
  protected final String TEXT_66 = ") getSource());";
  protected final String TEXT_67 = NL + "\t\t\t\t";
  protected final String TEXT_68 = ".Initializers.";
  protected final String TEXT_69 = ".init(newElement);";
  protected final String TEXT_70 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_71 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_72 = "Command(CreateRelationshipRequest req) {" + NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_73 = "Command(CreateRelationshipRequest req) {" + NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_74 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_75 = ".INSTANCE;" + NL + "\t\t}" + NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_76 = ".eINSTANCE.get";
  protected final String TEXT_77 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_78 = "Command(req));" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_79 = "Command extends ";
  protected final String TEXT_80 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_81 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_82 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_83 = ".eINSTANCE.get";
  protected final String TEXT_84 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_85 = " getElementToEdit() {" + NL + "\t\t\treturn getSource();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_86 = " doDefaultElementCreation() {";
  protected final String TEXT_87 = NL + "\t\t\t";
  protected final String TEXT_88 = " newElement = (";
  protected final String TEXT_89 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\tnewElement.set";
  protected final String TEXT_90 = "((";
  protected final String TEXT_91 = ") getTarget());";
  protected final String TEXT_92 = NL + "\t\t\t\t";
  protected final String TEXT_93 = ".Initializers.";
  protected final String TEXT_94 = ".init(newElement);";
  protected final String TEXT_95 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_96 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
d117 96
a212 57
  protected final String TEXT_98 = NL + "\t\t";
  protected final String TEXT_99 = " element = (";
  protected final String TEXT_100 = ") getSemanticElement();";
  protected final String TEXT_101 = NL + "\t\tif (element.get";
  protected final String TEXT_102 = "() != null) {";
  protected final String TEXT_103 = NL + "\t\tif (element.get";
  protected final String TEXT_104 = "().size() >= ";
  protected final String TEXT_105 = ") {";
  protected final String TEXT_106 = NL + "\t\t\treturn ";
  protected final String TEXT_107 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_108 = NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_109 = "Command(CreateRelationshipRequest req) {" + NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_110 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_111 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_112 = NL + "\t\t";
  protected final String TEXT_113 = " element = (";
  protected final String TEXT_114 = ") getSemanticElement();";
  protected final String TEXT_115 = NL + "\t\tif (element.get";
  protected final String TEXT_116 = "() != null) {";
  protected final String TEXT_117 = NL + "\t\tif (element.get";
  protected final String TEXT_118 = "().size() >= ";
  protected final String TEXT_119 = NL + "\t\t\t|| element.get";
  protected final String TEXT_120 = "().contains(req.getSource())";
  protected final String TEXT_121 = NL + "\t\t\t\t) {";
  protected final String TEXT_122 = NL + "\t\t\treturn ";
  protected final String TEXT_123 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_124 = NL + "\t\t";
  protected final String TEXT_125 = " setReq = new ";
  protected final String TEXT_126 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_127 = ".eINSTANCE.get";
  protected final String TEXT_128 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_129 = "(setReq));" + NL + "\t}";
  protected final String TEXT_130 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_131 = "Command(CreateRelationshipRequest req) {" + NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_132 = "Command(CreateRelationshipRequest req) {" + NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_133 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_134 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_135 = NL + "\t\t";
  protected final String TEXT_136 = " element = (";
  protected final String TEXT_137 = ") req.getSource();";
  protected final String TEXT_138 = NL + "\t\tif (element.get";
  protected final String TEXT_139 = "() != null) {";
  protected final String TEXT_140 = NL + "\t\tif (element.get";
  protected final String TEXT_141 = "().size() >= ";
  protected final String TEXT_142 = NL + "\t\t\t|| element.get";
  protected final String TEXT_143 = "().contains(req.getTarget())";
  protected final String TEXT_144 = NL + "\t\t\t\t) {";
  protected final String TEXT_145 = NL + "\t\t\treturn ";
  protected final String TEXT_146 = ".INSTANCE;" + NL + "\t\t}";
  protected final String TEXT_147 = NL + "\t\t";
  protected final String TEXT_148 = " setReq = new ";
  protected final String TEXT_149 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_150 = ".eINSTANCE.get";
  protected final String TEXT_151 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_152 = "(setReq));" + NL + "\t}";
  protected final String TEXT_153 = NL + "}";
  protected final String TEXT_154 = NL;
d361 2
d369 27
d397 3
a399 1
    stringBuffer.append(TEXT_48);
d401 25
a425 1
    stringBuffer.append(TEXT_49);
d427 4
a430 1
    stringBuffer.append(TEXT_50);
d432 1
a432 1
    stringBuffer.append(TEXT_51);
d434 1
a434 1
    stringBuffer.append(TEXT_52);
d436 1
a436 1
    stringBuffer.append(TEXT_53);
d438 1
a438 1
    stringBuffer.append(TEXT_54);
d440 1
a440 1
    stringBuffer.append(TEXT_55);
d442 1
a442 1
    stringBuffer.append(TEXT_56);
d444 1
a444 1
    stringBuffer.append(TEXT_57);
d446 1
a446 1
    stringBuffer.append(TEXT_58);
d448 1
a448 1
    stringBuffer.append(TEXT_59);
d450 1
a450 1
    stringBuffer.append(TEXT_60);
d452 1
a452 1
    stringBuffer.append(TEXT_61);
d454 1
a454 1
    stringBuffer.append(TEXT_62);
d456 1
a456 1
    stringBuffer.append(TEXT_63);
d458 1
a458 1
    stringBuffer.append(TEXT_64);
d460 1
a460 1
    stringBuffer.append(TEXT_65);
d462 1
a462 1
    stringBuffer.append(TEXT_66);
d464 1
a464 1
    stringBuffer.append(TEXT_67);
d466 1
a466 1
    stringBuffer.append(TEXT_68);
d468 1
a468 1
    stringBuffer.append(TEXT_69);
d470 1
a470 1
    stringBuffer.append(TEXT_70);
d475 1
a475 1
    stringBuffer.append(TEXT_71);
d477 3
a479 1
    stringBuffer.append(TEXT_72);
d481 3
a483 1
    stringBuffer.append(TEXT_73);
d485 25
a509 1
    stringBuffer.append(TEXT_74);
d511 4
a514 1
    stringBuffer.append(TEXT_75);
d516 1
a516 1
    stringBuffer.append(TEXT_76);
d518 1
a518 1
    stringBuffer.append(TEXT_77);
d520 1
a520 1
    stringBuffer.append(TEXT_78);
d522 1
a522 1
    stringBuffer.append(TEXT_79);
d524 1
a524 1
    stringBuffer.append(TEXT_80);
d526 1
a526 1
    stringBuffer.append(TEXT_81);
d528 1
a528 1
    stringBuffer.append(TEXT_82);
d530 1
a530 1
    stringBuffer.append(TEXT_83);
d532 1
a532 1
    stringBuffer.append(TEXT_84);
d534 1
a534 1
    stringBuffer.append(TEXT_85);
d536 1
a536 1
    stringBuffer.append(TEXT_86);
d538 1
a538 1
    stringBuffer.append(TEXT_87);
d540 1
a540 1
    stringBuffer.append(TEXT_88);
d542 1
a542 1
    stringBuffer.append(TEXT_89);
d544 1
a544 1
    stringBuffer.append(TEXT_90);
d546 1
a546 1
    stringBuffer.append(TEXT_91);
d548 1
a548 1
    stringBuffer.append(TEXT_92);
d550 1
a550 1
    stringBuffer.append(TEXT_93);
d552 1
a552 1
    stringBuffer.append(TEXT_94);
d554 1
a554 1
    stringBuffer.append(TEXT_95);
d565 1
a565 1
    stringBuffer.append(TEXT_96);
d567 2
a568 1
    stringBuffer.append(TEXT_97);
d573 1
a573 1
    stringBuffer.append(TEXT_98);
d575 1
a575 1
    stringBuffer.append(TEXT_99);
d577 1
a577 1
    stringBuffer.append(TEXT_100);
d579 1
a579 1
    stringBuffer.append(TEXT_101);
d581 1
a581 1
    stringBuffer.append(TEXT_102);
d583 1
a583 1
    stringBuffer.append(TEXT_103);
d585 1
a585 1
    stringBuffer.append(TEXT_104);
d587 1
a587 1
    stringBuffer.append(TEXT_105);
d589 1
a589 1
    stringBuffer.append(TEXT_106);
d591 1
a591 1
    stringBuffer.append(TEXT_107);
d593 2
a594 1
    stringBuffer.append(TEXT_108);
d596 3
a598 1
    stringBuffer.append(TEXT_109);
d600 1
a600 1
    stringBuffer.append(TEXT_110);
d602 2
a603 1
    stringBuffer.append(TEXT_111);
d608 1
a608 1
    stringBuffer.append(TEXT_112);
d610 1
a610 1
    stringBuffer.append(TEXT_113);
d612 1
a612 1
    stringBuffer.append(TEXT_114);
d614 1
a614 1
    stringBuffer.append(TEXT_115);
d616 1
a616 1
    stringBuffer.append(TEXT_116);
d618 1
a618 1
    stringBuffer.append(TEXT_117);
d620 1
a620 1
    stringBuffer.append(TEXT_118);
d623 1
a623 1
    stringBuffer.append(TEXT_119);
d625 1
a625 1
    stringBuffer.append(TEXT_120);
d627 1
a627 1
    stringBuffer.append(TEXT_121);
d629 1
a629 1
    stringBuffer.append(TEXT_122);
d631 1
a631 1
    stringBuffer.append(TEXT_123);
d633 2
a634 1
    stringBuffer.append(TEXT_124);
d636 1
a636 1
    stringBuffer.append(TEXT_125);
d638 1
a638 1
    stringBuffer.append(TEXT_126);
d640 1
a640 1
    stringBuffer.append(TEXT_127);
d642 1
a642 1
    stringBuffer.append(TEXT_128);
d644 1
a644 1
    stringBuffer.append(TEXT_129);
d649 1
a649 3
    stringBuffer.append(TEXT_130);
    stringBuffer.append(namePart);
    stringBuffer.append(TEXT_131);
d651 7
a657 1
    stringBuffer.append(TEXT_132);
d659 1
a659 1
    stringBuffer.append(TEXT_133);
d661 2
a662 1
    stringBuffer.append(TEXT_134);
d667 1
a667 1
    stringBuffer.append(TEXT_135);
d669 1
a669 1
    stringBuffer.append(TEXT_136);
d671 1
a671 1
    stringBuffer.append(TEXT_137);
d673 1
a673 1
    stringBuffer.append(TEXT_138);
d675 1
a675 1
    stringBuffer.append(TEXT_139);
d677 1
a677 1
    stringBuffer.append(TEXT_140);
d679 1
a679 1
    stringBuffer.append(TEXT_141);
d682 1
a682 1
    stringBuffer.append(TEXT_142);
d684 1
a684 1
    stringBuffer.append(TEXT_143);
d686 1
a686 1
    stringBuffer.append(TEXT_144);
d688 1
a688 1
    stringBuffer.append(TEXT_145);
d690 1
a690 1
    stringBuffer.append(TEXT_146);
d692 2
a693 1
    stringBuffer.append(TEXT_147);
d695 1
a695 1
    stringBuffer.append(TEXT_148);
d697 1
a697 1
    stringBuffer.append(TEXT_149);
d699 1
a699 1
    stringBuffer.append(TEXT_150);
d701 1
a701 1
    stringBuffer.append(TEXT_151);
d703 1
a703 1
    stringBuffer.append(TEXT_152);
d709 1
a709 1
    stringBuffer.append(TEXT_153);
d711 1
a711 1
    stringBuffer.append(TEXT_154);
@


1.6
log
@#115812 for reference based links
@
text
@d440 4
a443 1
    			if (upperBound > 0) { // consider UNBOUNDED_MULTIPLICITY and UNSPECIFIED_MULTIPLICITY
d445 1
a445 1
    stringBuffer.append(outgoingClass.getName());
d447 1
a447 1
    stringBuffer.append(outgoingClass.getName());
d471 4
a474 1
    			if (upperBound > 0) { // consider UNBOUNDED_MULTIPLICITY and UNSPECIFIED_MULTIPLICITY
d476 1
a476 1
    stringBuffer.append(outgoingClass.getName());
d478 1
a478 1
    stringBuffer.append(outgoingClass.getName());
d524 4
a527 1
    			if (upperBound > 0) { // consider UNBOUNDED_MULTIPLICITY and UNSPECIFIED_MULTIPLICITY
d529 1
a529 1
    stringBuffer.append(outgoingClass.getName());
d531 1
a531 1
    stringBuffer.append(outgoingClass.getName());
@


1.5
log
@#115861
ChildNode could be created not only in the compartment, but directly in it's parent.
@
text
@d116 58
a173 21
  protected final String TEXT_97 = "Command(CreateRelationshipRequest req) {" + NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_98 = "Command(CreateRelationshipRequest req) {" + NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_99 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_100 = ".INSTANCE;" + NL + "\t\t}" + NL + "\t\t";
  protected final String TEXT_101 = " setReq = new ";
  protected final String TEXT_102 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_103 = ".eINSTANCE.get";
  protected final String TEXT_104 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_105 = "(setReq));" + NL + "\t}";
  protected final String TEXT_106 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_107 = "Command(CreateRelationshipRequest req) {" + NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_108 = "Command(CreateRelationshipRequest req) {" + NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_109 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_110 = ".INSTANCE;" + NL + "\t\t}" + NL + "\t\t";
  protected final String TEXT_111 = " setReq = new ";
  protected final String TEXT_112 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_113 = ".eINSTANCE.get";
  protected final String TEXT_114 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_115 = "(setReq));" + NL + "\t}";
  protected final String TEXT_116 = NL + "}";
  protected final String TEXT_117 = NL;
d269 1
a269 3
    
}

d431 1
d440 22
d463 1
a463 1
    stringBuffer.append(TEXT_98);
d465 26
a490 1
    stringBuffer.append(TEXT_99);
d492 3
a494 1
    stringBuffer.append(TEXT_100);
d496 1
a496 1
    stringBuffer.append(TEXT_101);
d498 1
a498 1
    stringBuffer.append(TEXT_102);
d500 1
a500 1
    stringBuffer.append(TEXT_103);
d502 1
a502 1
    stringBuffer.append(TEXT_104);
d504 1
a504 1
    stringBuffer.append(TEXT_105);
d509 1
a509 1
    stringBuffer.append(TEXT_106);
d511 1
a511 1
    stringBuffer.append(TEXT_107);
d513 1
a513 1
    stringBuffer.append(TEXT_108);
d515 26
a540 1
    stringBuffer.append(TEXT_109);
d542 3
a544 1
    stringBuffer.append(TEXT_110);
d546 1
a546 1
    stringBuffer.append(TEXT_111);
d548 1
a548 1
    stringBuffer.append(TEXT_112);
d550 1
a550 1
    stringBuffer.append(TEXT_113);
d552 1
a552 1
    stringBuffer.append(TEXT_114);
d554 1
a554 1
    stringBuffer.append(TEXT_115);
d560 1
a560 1
    stringBuffer.append(TEXT_116);
d562 1
a562 1
    stringBuffer.append(TEXT_117);
@


1.4
log
@Wrapping optional imports into importManager.getImportedName() calls
@
text
@d25 45
a69 45
  protected final String TEXT_6 = " {" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getDestroyElementCommand(DestroyElementRequest req) {" + NL + "\t\treturn getMSLWrapper(new MSLDestroyElementCommand(req));" + NL + "\t}";
  protected final String TEXT_7 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateRelationshipCommand(CreateRelationshipRequest req) {";
  protected final String TEXT_8 = NL + "\t\tif (";
  protected final String TEXT_9 = ".";
  protected final String TEXT_10 = " == req.getElementType()) {" + NL + "\t\t\treturn req.getTarget() == null ? getCreateStart";
  protected final String TEXT_11 = "Command(req) : getCreateComplete";
  protected final String TEXT_12 = "Command(req);" + NL + "\t\t}";
  protected final String TEXT_13 = NL + "\t\treturn super.getCreateRelationshipCommand(req);" + NL + "\t}";
  protected final String TEXT_14 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_15 = "Command(CreateRelationshipRequest req) {" + NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_16 = "Command(CreateRelationshipRequest req) {" + NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_17 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_18 = ".INSTANCE;" + NL + "\t\t}" + NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_19 = ".eINSTANCE.get";
  protected final String TEXT_20 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_21 = "Command(req));" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_22 = "Command extends ";
  protected final String TEXT_23 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_24 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_25 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_26 = ".eINSTANCE.get";
  protected final String TEXT_27 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_28 = " getElementToEdit() {" + NL + "\t\t\treturn getTarget();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_29 = " doDefaultElementCreation() {";
  protected final String TEXT_30 = NL + "\t\t\t";
  protected final String TEXT_31 = " newElement = (";
  protected final String TEXT_32 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\tnewElement.set";
  protected final String TEXT_33 = "((";
  protected final String TEXT_34 = ") getSource());";
  protected final String TEXT_35 = NL + "\t\t\t\t";
  protected final String TEXT_36 = ".Initializers.";
  protected final String TEXT_37 = ".init(newElement);";
  protected final String TEXT_38 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_39 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_40 = "Command(CreateRelationshipRequest req) {" + NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_41 = "Command(CreateRelationshipRequest req) {" + NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_42 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_43 = ".INSTANCE;" + NL + "\t\t}" + NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_44 = ".eINSTANCE.get";
  protected final String TEXT_45 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_46 = "Command(req));" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_47 = "Command extends ";
  protected final String TEXT_48 = " {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_49 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_50 = " getEClassToEdit() {" + NL + "\t\t\treturn ";
d71 66
a136 34
  protected final String TEXT_52 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_53 = " getElementToEdit() {" + NL + "\t\t\treturn getSource();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected ";
  protected final String TEXT_54 = " doDefaultElementCreation() {";
  protected final String TEXT_55 = NL + "\t\t\t";
  protected final String TEXT_56 = " newElement = (";
  protected final String TEXT_57 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\tnewElement.set";
  protected final String TEXT_58 = "((";
  protected final String TEXT_59 = ") getTarget());";
  protected final String TEXT_60 = NL + "\t\t\t\t";
  protected final String TEXT_61 = ".Initializers.";
  protected final String TEXT_62 = ".init(newElement);";
  protected final String TEXT_63 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_64 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_65 = "Command(CreateRelationshipRequest req) {" + NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_66 = "Command(CreateRelationshipRequest req) {" + NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_67 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_68 = ".INSTANCE;" + NL + "\t\t}" + NL + "\t\t";
  protected final String TEXT_69 = " setReq = new ";
  protected final String TEXT_70 = "(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_71 = ".eINSTANCE.get";
  protected final String TEXT_72 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_73 = "(setReq));" + NL + "\t}";
  protected final String TEXT_74 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_75 = "Command(CreateRelationshipRequest req) {" + NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_76 = "Command(CreateRelationshipRequest req) {" + NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_77 = ")) {" + NL + "\t\t\treturn ";
  protected final String TEXT_78 = ".INSTANCE;" + NL + "\t\t}" + NL + "\t\t";
  protected final String TEXT_79 = " setReq = new ";
  protected final String TEXT_80 = "(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_81 = ".eINSTANCE.get";
  protected final String TEXT_82 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new ";
  protected final String TEXT_83 = "(setReq));" + NL + "\t}";
  protected final String TEXT_84 = NL + "}";
  protected final String TEXT_85 = NL;
d157 80
d242 1
a242 1
    stringBuffer.append(TEXT_7);
d265 1
a265 1
    stringBuffer.append(TEXT_8);
d267 1
a267 1
    stringBuffer.append(TEXT_9);
d269 1
a269 1
    stringBuffer.append(TEXT_10);
d271 1
a271 1
    stringBuffer.append(TEXT_11);
d273 1
a273 1
    stringBuffer.append(TEXT_12);
d278 1
a278 1
    stringBuffer.append(TEXT_13);
d290 1
a290 1
    stringBuffer.append(TEXT_14);
d292 1
a292 1
    stringBuffer.append(TEXT_15);
d294 1
a294 1
    stringBuffer.append(TEXT_16);
d296 1
a296 1
    stringBuffer.append(TEXT_17);
d298 1
a298 1
    stringBuffer.append(TEXT_18);
d300 1
a300 1
    stringBuffer.append(TEXT_19);
d302 1
a302 1
    stringBuffer.append(TEXT_20);
d304 1
a304 1
    stringBuffer.append(TEXT_21);
d306 1
a306 1
    stringBuffer.append(TEXT_22);
d308 1
a308 1
    stringBuffer.append(TEXT_23);
d310 1
a310 1
    stringBuffer.append(TEXT_24);
d312 1
a312 1
    stringBuffer.append(TEXT_25);
d314 1
a314 1
    stringBuffer.append(TEXT_26);
d316 1
a316 1
    stringBuffer.append(TEXT_27);
d318 1
a318 1
    stringBuffer.append(TEXT_28);
d320 1
a320 1
    stringBuffer.append(TEXT_29);
d322 1
a322 1
    stringBuffer.append(TEXT_30);
d324 1
a324 1
    stringBuffer.append(TEXT_31);
d326 1
a326 1
    stringBuffer.append(TEXT_32);
d328 1
a328 1
    stringBuffer.append(TEXT_33);
d330 1
a330 1
    stringBuffer.append(TEXT_34);
d332 1
a332 1
    stringBuffer.append(TEXT_35);
d334 1
a334 1
    stringBuffer.append(TEXT_36);
d336 1
a336 1
    stringBuffer.append(TEXT_37);
d338 1
a338 1
    stringBuffer.append(TEXT_38);
d343 1
a343 1
    stringBuffer.append(TEXT_39);
d345 1
a345 1
    stringBuffer.append(TEXT_40);
d347 1
a347 1
    stringBuffer.append(TEXT_41);
d349 1
a349 1
    stringBuffer.append(TEXT_42);
d351 1
a351 1
    stringBuffer.append(TEXT_43);
d353 1
a353 1
    stringBuffer.append(TEXT_44);
d355 1
a355 1
    stringBuffer.append(TEXT_45);
d357 1
a357 1
    stringBuffer.append(TEXT_46);
d359 1
a359 1
    stringBuffer.append(TEXT_47);
d361 1
a361 1
    stringBuffer.append(TEXT_48);
d363 1
a363 1
    stringBuffer.append(TEXT_49);
d365 1
a365 1
    stringBuffer.append(TEXT_50);
d367 1
a367 1
    stringBuffer.append(TEXT_51);
d369 1
a369 1
    stringBuffer.append(TEXT_52);
d371 1
a371 1
    stringBuffer.append(TEXT_53);
d373 1
a373 1
    stringBuffer.append(TEXT_54);
d375 1
a375 1
    stringBuffer.append(TEXT_55);
d377 1
a377 1
    stringBuffer.append(TEXT_56);
d379 1
a379 1
    stringBuffer.append(TEXT_57);
d381 1
a381 1
    stringBuffer.append(TEXT_58);
d383 1
a383 1
    stringBuffer.append(TEXT_59);
d385 1
a385 1
    stringBuffer.append(TEXT_60);
d387 1
a387 1
    stringBuffer.append(TEXT_61);
d389 1
a389 1
    stringBuffer.append(TEXT_62);
d391 1
a391 1
    stringBuffer.append(TEXT_63);
d401 1
a401 1
    stringBuffer.append(TEXT_64);
d403 1
a403 1
    stringBuffer.append(TEXT_65);
d405 1
a405 1
    stringBuffer.append(TEXT_66);
d407 1
a407 1
    stringBuffer.append(TEXT_67);
d409 1
a409 1
    stringBuffer.append(TEXT_68);
d411 1
a411 1
    stringBuffer.append(TEXT_69);
d413 1
a413 1
    stringBuffer.append(TEXT_70);
d415 1
a415 1
    stringBuffer.append(TEXT_71);
d417 1
a417 1
    stringBuffer.append(TEXT_72);
d419 1
a419 1
    stringBuffer.append(TEXT_73);
d424 1
a424 1
    stringBuffer.append(TEXT_74);
d426 1
a426 1
    stringBuffer.append(TEXT_75);
d428 1
a428 1
    stringBuffer.append(TEXT_76);
d430 1
a430 1
    stringBuffer.append(TEXT_77);
d432 1
a432 1
    stringBuffer.append(TEXT_78);
d434 1
a434 1
    stringBuffer.append(TEXT_79);
d436 1
a436 1
    stringBuffer.append(TEXT_80);
d438 1
a438 1
    stringBuffer.append(TEXT_81);
d440 1
a440 1
    stringBuffer.append(TEXT_82);
d442 1
a442 1
    stringBuffer.append(TEXT_83);
d448 1
a448 1
    stringBuffer.append(TEXT_84);
d450 1
a450 1
    stringBuffer.append(TEXT_85);
@


1.3
log
@[ashatalin] #115625 fixes compilation problems with initializers
@
text
@d22 7
a28 7
  protected final String TEXT_3 = NL + "import org.eclipse.emf.ecore.EClass;" + NL + "import org.eclipse.emf.ecore.EObject;" + NL + "import org.eclipse.gef.commands.Command;" + NL + "import org.eclipse.gef.commands.UnexecutableCommand;" + NL + "import org.eclipse.gmf.runtime.emf.commands.core.commands.MSLCreateRelationshipCommand;" + NL + "import org.eclipse.gmf.runtime.emf.commands.core.commands.MSLDestroyElementCommand;" + NL + "import org.eclipse.gmf.runtime.emf.type.core.commands.SetValueCommand;" + NL + "import org.eclipse.gmf.runtime.emf.type.core.requests.CreateRelationshipRequest;" + NL + "import org.eclipse.gmf.runtime.emf.type.core.requests.DestroyElementRequest;" + NL + "import org.eclipse.gmf.runtime.emf.type.core.requests.SetRequest;" + NL + "import ";
  protected final String TEXT_4 = ".ElementTypes;";
  protected final String TEXT_5 = NL + NL + "/**" + NL + " * @@generated" + NL + " */" + NL + "public class ";
  protected final String TEXT_6 = " extends ";
  protected final String TEXT_7 = " {" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getDestroyElementCommand(DestroyElementRequest req) {" + NL + "\t\treturn getMSLWrapper(new MSLDestroyElementCommand(req));" + NL + "\t}";
  protected final String TEXT_8 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateRelationshipCommand(CreateRelationshipRequest req) {";
  protected final String TEXT_9 = NL + "\t\tif (ElementTypes.";
d36 69
a104 49
  protected final String TEXT_17 = ")) {" + NL + "\t\t\treturn UnexecutableCommand.INSTANCE;" + NL + "\t\t}" + NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_18 = ".eINSTANCE.get";
  protected final String TEXT_19 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_20 = "Command(req));" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_21 = "Command extends MSLCreateRelationshipCommand {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_22 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected EClass getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_23 = ".eINSTANCE.get";
  protected final String TEXT_24 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected EObject getElementToEdit() {" + NL + "\t\t\treturn getTarget();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected EObject doDefaultElementCreation() {";
  protected final String TEXT_25 = NL + "\t\t\t";
  protected final String TEXT_26 = " newElement = (";
  protected final String TEXT_27 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\tnewElement.set";
  protected final String TEXT_28 = "((";
  protected final String TEXT_29 = ") getSource());";
  protected final String TEXT_30 = NL + "\t\t\t\tElementTypes.Initializers.";
  protected final String TEXT_31 = ".init(newElement);";
  protected final String TEXT_32 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_33 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_34 = "Command(CreateRelationshipRequest req) {" + NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_35 = "Command(CreateRelationshipRequest req) {" + NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_36 = ")) {" + NL + "\t\t\treturn UnexecutableCommand.INSTANCE;" + NL + "\t\t}" + NL + "\t\tif (req.getContainmentFeature() == null) {" + NL + "\t\t\treq.setContainmentFeature(";
  protected final String TEXT_37 = ".eINSTANCE.get";
  protected final String TEXT_38 = "());" + NL + "\t\t}" + NL + "\t\treturn getMSLWrapper(new Create";
  protected final String TEXT_39 = "Command(req));" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprivate static class Create";
  protected final String TEXT_40 = "Command extends MSLCreateRelationshipCommand {" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tpublic Create";
  protected final String TEXT_41 = "Command(CreateRelationshipRequest req) {" + NL + "\t\t\tsuper(req);" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected EClass getEClassToEdit() {" + NL + "\t\t\treturn ";
  protected final String TEXT_42 = ".eINSTANCE.get";
  protected final String TEXT_43 = "();" + NL + "\t\t};" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected EObject getElementToEdit() {" + NL + "\t\t\treturn getSource();" + NL + "\t\t}" + NL + "" + NL + "\t\t/**" + NL + "\t\t * @@generated" + NL + "\t\t */" + NL + "\t\tprotected EObject doDefaultElementCreation() {";
  protected final String TEXT_44 = NL + "\t\t\t";
  protected final String TEXT_45 = " newElement = (";
  protected final String TEXT_46 = ") super.doDefaultElementCreation();" + NL + "\t\t\tif (newElement != null) {" + NL + "\t\t\t\tnewElement.set";
  protected final String TEXT_47 = "((";
  protected final String TEXT_48 = ") getTarget());";
  protected final String TEXT_49 = NL + "\t\t\t\tElementTypes.Initializers.";
  protected final String TEXT_50 = ".init(newElement);";
  protected final String TEXT_51 = NL + "\t\t\t}" + NL + "\t\t\treturn newElement;" + NL + "\t\t}" + NL + "\t}";
  protected final String TEXT_52 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_53 = "Command(CreateRelationshipRequest req) {" + NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_54 = "Command(CreateRelationshipRequest req) {" + NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_55 = ")) {" + NL + "\t\t\treturn UnexecutableCommand.INSTANCE;" + NL + "\t\t}" + NL + "\t\tSetRequest setReq = new SetRequest(req.getTarget()," + NL + "\t\t\t";
  protected final String TEXT_56 = ".eINSTANCE.get";
  protected final String TEXT_57 = "(), req.getSource());" + NL + "\t\treturn getMSLWrapper(new SetValueCommand(setReq));" + NL + "\t}";
  protected final String TEXT_58 = NL + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateStart";
  protected final String TEXT_59 = "Command(CreateRelationshipRequest req) {" + NL + "\t\treturn new Command() {" + NL + "\t\t};" + NL + "\t}" + NL + "" + NL + "\t/**" + NL + "\t * @@generated" + NL + "\t */" + NL + "\tprotected Command getCreateComplete";
  protected final String TEXT_60 = "Command(CreateRelationshipRequest req) {" + NL + "\t\tif (!(req.getSource() instanceof ";
  protected final String TEXT_61 = ")) {" + NL + "\t\t\treturn UnexecutableCommand.INSTANCE;" + NL + "\t\t}" + NL + "\t\tSetRequest setReq = new SetRequest(req.getSource()," + NL + "\t\t\t";
  protected final String TEXT_62 = ".eINSTANCE.get";
  protected final String TEXT_63 = "(), req.getTarget());" + NL + "\t\treturn getMSLWrapper(new SetValueCommand(setReq));" + NL + "\t}";
  protected final String TEXT_64 = NL + "}";
  protected final String TEXT_65 = NL;
d118 1
a118 1
    stringBuffer.append(genDiagram.getProvidersPackageName());
d120 1
a120 1
    importManager.markImportLocation(stringBuffer);
d122 1
a122 1
    stringBuffer.append(genNode.getItemSemanticEditPolicyClassName());
a123 2
    stringBuffer.append(importManager.getImportedName(genDiagram.getBaseItemSemanticEditPolicyQualifiedClassName()));
    stringBuffer.append(TEXT_7);
a125 1
String semanticPackageInterfaceName = importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName());
d130 1
a130 1
    stringBuffer.append(TEXT_8);
d153 2
d185 1
a185 1
    stringBuffer.append(semanticPackageInterfaceName);
d187 2
a189 2
    stringBuffer.append(TEXT_19);
    stringBuffer.append(namePart);
d195 1
a195 1
    stringBuffer.append(semanticPackageInterfaceName);
d197 1
a197 1
    stringBuffer.append(outgoingClass.getClassifierAccessorName());
d199 1
a199 1
    			String metaClassName = importManager.getImportedName(modelFacet.getMetaClass().getQualifiedInterfaceName());
d201 1
a201 1
    stringBuffer.append(metaClassName);
d203 1
a203 1
    stringBuffer.append(metaClassName);
d205 1
a205 1
    stringBuffer.append(modelFacet.getTargetMetaFeature().getAccessorName());
d207 1
a207 1
    stringBuffer.append(importManager.getImportedName(incomingClass.getQualifiedInterfaceName()));
d209 1
a209 1
    			if (modelFacet.getModelElementInitializer() != null) { 
d211 1
a211 1
    stringBuffer.append(genLink.getUniqueIdentifier());
d213 1
a213 1
    }
d215 1
a215 4
    
		} else if (nodeMetaClass.equals(incomingClass)) {
			namePart = INCOMING_TOKEN + modelFacet.getMetaClass().getName() + genLink.getVisualID();

d217 1
a217 1
    stringBuffer.append(namePart);
d219 1
a219 1
    stringBuffer.append(namePart);
d221 1
a221 1
    stringBuffer.append(importManager.getImportedName(outgoingClass.getQualifiedInterfaceName()));
d223 1
a223 1
    stringBuffer.append(semanticPackageInterfaceName);
d225 1
a225 1
    stringBuffer.append(modelFacet.getContainmentMetaFeature().getFeatureAccessorName());
d227 4
a230 1
    stringBuffer.append(namePart);
d236 1
a236 1
    stringBuffer.append(semanticPackageInterfaceName);
d238 18
d257 5
a261 1
    stringBuffer.append(TEXT_43);
d263 1
a263 1
    stringBuffer.append(TEXT_44);
d265 1
a265 1
    stringBuffer.append(TEXT_45);
d267 1
a267 1
    stringBuffer.append(TEXT_46);
d269 1
a269 1
    stringBuffer.append(TEXT_47);
d271 1
a271 1
    stringBuffer.append(TEXT_48);
d273 3
a275 1
    stringBuffer.append(TEXT_49);
d277 1
a277 1
    stringBuffer.append(TEXT_50);
d279 1
a279 1
    stringBuffer.append(TEXT_51);
d289 1
a289 1
    stringBuffer.append(TEXT_52);
d291 1
a291 1
    stringBuffer.append(TEXT_53);
d293 1
a293 1
    stringBuffer.append(TEXT_54);
d295 9
a303 3
    stringBuffer.append(TEXT_55);
    stringBuffer.append(semanticPackageInterfaceName);
    stringBuffer.append(TEXT_56);
d305 3
a307 1
    stringBuffer.append(TEXT_57);
d312 1
a312 1
    stringBuffer.append(TEXT_58);
d314 1
a314 1
    stringBuffer.append(TEXT_59);
d316 1
a316 1
    stringBuffer.append(TEXT_60);
d318 9
a326 3
    stringBuffer.append(TEXT_61);
    stringBuffer.append(semanticPackageInterfaceName);
    stringBuffer.append(TEXT_62);
d328 3
a330 1
    stringBuffer.append(TEXT_63);
d336 1
a336 1
    stringBuffer.append(TEXT_64);
d338 1
a338 1
    stringBuffer.append(TEXT_65);
@


1.2
log
@accessor method name is not always mirrors name of the target class
@
text
@d134 1
d157 1
a157 1
			namePart = OUTGOING_TOKEN + modelFacet.getMetaClass().getName();
d198 1
a198 1
			namePart = INCOMING_TOKEN + modelFacet.getMetaClass().getName();
d244 1
a244 1
			namePart = OUTGOING_TOKEN + metaFeature.getFeatureAccessorName();
d259 1
a259 1
			namePart = INCOMING_TOKEN + metaFeature.getFeatureAccessorName();
@


1.1
log
@[dstadnik] #115466 custom semantic edit policies to control link creation
@
text
@d185 1
a185 1
    stringBuffer.append(incomingClass.getClassifierAccessorName());
d226 1
a226 1
    stringBuffer.append(incomingClass.getClassifierAccessorName());
@

