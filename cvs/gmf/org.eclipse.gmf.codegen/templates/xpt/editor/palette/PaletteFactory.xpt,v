head	1.17;
access;
symbols
	v20081022-1925:1.17
	v20081015-1925:1.17
	v20081008-1925:1.17
	v20081001-1925:1.17
	v20080930-1130:1.17
	v20080926-1245:1.17
	v20080924-1925:1.17
	v20080917-1925:1.17
	v20080911-1728:1.16
	v20080910-1520:1.16
	v20080903-1520:1.16
	v20080827-1520:1.16
	v20080813-1520:1.15
	v20080806-1520:1.15
	v20080722-1827:1.15
	v20080718-1731:1.15
	v20080716-1600:1.15
	v20080716-1642:1.15
	R2_1_maintenance:1.15.0.2
	Root_R2_1_maintenance:1.15
	R2_1_0:1.15
	v20080610-1132:1.15
	v20080603-1553:1.15
	v20080528-1052:1.15
	v20080521:1.15
	v20080516-1543:1.15
	v20080516-1143:1.15
	v20080512-1200:1.15
	v20080508-2000:1.15
	v20080507-1326:1.15
	v20080503-1740:1.14
	v20080501-1739:1.14
	v20080425-1959:1.14
	v20080417-1610:1.14
	v20080411-0411:1.14
	v20080404-1111:1.14
	v20080322-0000:1.14
	v20080222-1200:1.14
	v20080215-1500:1.14
	v20080207-0207:1.14
	v20071222-1111:1.14
	v20071214-1111:1.14
	v20071130-1111:1.14
	v20071124-0000:1.14
	v20071112-0000:1.14
	v20071108-0000:1.14
	v20071003-0000:1.14
	v20070928-0000:1.14
	v20070921-0000:1.14
	v20070915-0000:1.14
	v20070903-0000:1.14
	v20070809-0000:1.14
	R2_0_maintenance:1.14.0.2
	R2_0:1.14
	R4_20:1.14
	v20070621-0000:1.14
	RC3_20:1.14
	v20070614-1400:1.14
	v20070608-1300:1.14
	v20070605-1400:1.14
	v20070601-1400:1.14
	v20070525-1500:1.14
	v20070520-1200:1.14
	v20070518-1300:1.13
	v20070504-1000:1.13
	v20070427-0600:1.13
	v20070420-1000:1.13
	v20070413-1300:1.13
	v20070405-1100:1.13
	v20070403-1500:1.12
	v20070330-1300:1.12
	v20060330-1300:1.12
	v20070322-1100:1.12
	v20060316-0600:1.12
	v20070307-0700:1.12
	v20070301-1200:1.12
	v20070228-2000:1.12
	v20070221-1500:1.12
	v20070208-1800:1.12
	v20070103-0300:1.5
	M4_20:1.5
	v20061222-1800:1.5
	v20061218-1200:1.5
	v20061214-0000:1.4;
locks; strict;
comment	@# @;
expand	@k@;


1.17
date	2008.09.17.15.56.39;	author atikhomirov;	state Exp;
branches;
next	1.16;
commitid	149b248d128b64567;

1.16
date	2008.08.21.13.40.58;	author dstadnik;	state Exp;
branches;
next	1.15;
commitid	532c48ad70684567;

1.15
date	2008.05.07.13.56.00;	author atikhomirov;	state Exp;
branches;
next	1.14;
commitid	39124821b4de4567;

1.14
date	2007.05.18.21.17.18;	author atikhomirov;	state Exp;
branches;
next	1.13;
commitid	2591464e17d14567;

1.13
date	2007.04.04.11.18.20;	author bblajer;	state Exp;
branches;
next	1.12;
commitid	2664461389794567;

1.12
date	2007.01.30.16.42.28;	author ashatalin;	state Exp;
branches;
next	1.11;
commitid	4e0e45bf75734567;

1.11
date	2007.01.10.16.06.16;	author atikhomirov;	state Exp;
branches;
next	1.10;
commitid	238b45a50ef84567;

1.10
date	2007.01.10.15.49.58;	author atikhomirov;	state Exp;
branches;
next	1.9;
commitid	3d2b45a50b264567;

1.9
date	2007.01.10.15.34.13;	author atikhomirov;	state Exp;
branches;
next	1.8;
commitid	74f345a507754567;

1.8
date	2007.01.10.14.36.53;	author atikhomirov;	state Exp;
branches;
next	1.7;
commitid	40a445a4fa044567;

1.7
date	2007.01.09.19.39.45;	author atikhomirov;	state Exp;
branches;
next	1.6;
commitid	4b3645a3ef804567;

1.6
date	2007.01.09.16.43.46;	author dstadnik;	state Exp;
branches;
next	1.5;
commitid	4c7445a3c6414567;

1.5
date	2006.12.18.12.21.38;	author dstadnik;	state Exp;
branches;
next	1.4;
commitid	3d30458687d04567;

1.4
date	2006.12.11.17.25.25;	author dstadnik;	state Exp;
branches;
next	1.3;
commitid	453e457d94834567;

1.3
date	2006.12.07.12.26.10;	author dstadnik;	state Exp;
branches;
next	1.2;
commitid	1b31457808624567;

1.2
date	2006.11.29.19.55.30;	author atikhomirov;	state Exp;
branches;
next	1.1;
commitid	6652456de5b14567;

1.1
date	2006.11.29.18.25.47;	author atikhomirov;	state Exp;
branches;
next	;
commitid	724c456dd0aa4567;


desc
@@


1.17
log
@fixed copyright years along with some comments
@
text
@/*
 * Copyright (c) 2006, 2008 Borland Software Corporation
 * 
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *    Artem Tikhomirov (Borland) - initial API and implementation
 */

«IMPORT "http://www.eclipse.org/gmf/2008/GenModel"»
«IMPORT "http://www.eclipse.org/emf/2002/Ecore"»
«EXTENSION xpt::editor::palette::Utils»

«DEFINE Factory FOR gmfgen::Palette»
«EXPAND xpt::Common::copyright FOR diagram.editorGen-»
package «packageName»;

«EXPAND xpt::Common::generatedClassComment»
public class «factoryClassName» {

	«EXPAND xpt::Common::generatedMemberComment»
	public void fillPalette(org.eclipse.gef.palette.PaletteRoot paletteRoot) {
«IF definesStandardTools()-»
		cleanStandardTools(paletteRoot);
«ENDIF-»
		«EXPAND addEntry("paletteRoot") FOREACH groups-»
	}
«IF definesStandardTools()»
«EXPAND cleanStandardToolsHack-»
«ENDIF-»

«EXPAND createGroup FOREACH collectGroups()»
«EXPAND createEntry FOREACH collectTools()»

«IF needsNodeToolEntryClass()»«EXPAND nodeToolEntry»«ENDIF-»
«IF needsLinkToolEntryClass()»«EXPAND linkToolEntry»«ENDIF-»
}
«ENDDEFINE»

«DEFINE createGroup FOR gmfgen::ToolGroup-»
	«EXPAND xpt::Common::generatedMemberComment("Creates \"" + title + "\" palette tool group")»
	private org.eclipse.gef.palette.PaletteContainer «createMethodName»() {
		«EXPAND newContainer("paletteContainer")-»
		«EXPAND setDescription("paletteContainer", this) FOR description-»
		«EXPAND setSmallImage("paletteContainer", palette)-»
		«EXPAND setLargeImage("paletteContainer", palette)-»
		«EXPAND addEntry("paletteContainer") FOREACH entries-»
		return paletteContainer;
	}
«ENDDEFINE»

«DEFINE newContainer(String varName) FOR gmfgen::ToolGroup-»
«IF collapse && toolsOnly-»
		org.eclipse.gef.palette.PaletteDrawer «varName» = new org.eclipse.gef.palette.PaletteDrawer(«EXPAND i18nTitle»);
«ELSEIF stack-»
		org.eclipse.gef.palette.PaletteStack «varName» = new org.eclipse.gef.palette.PaletteStack(«EXPAND i18nTitle», null, null);
«ELSE-»
		org.eclipse.gef.palette.PaletteGroup «varName» = new org.eclipse.gef.palette.PaletteGroup(«EXPAND i18nTitle»);
«ENDIF-»
«ENDDEFINE»

«DEFINE setDescription(String varName, gmfgen::ToolGroup gr) FOR String-»
«varName».setDescription(«EXPAND i18nDesc FOR gr»);
«ENDDEFINE»

«DEFINE addEntry(String varName) FOR gmfgen::ToolGroupItem»
«ERROR "abstract addEntry(ToolGroupItem,String) template"»
«ENDDEFINE»

«DEFINE addEntry(String varName) FOR gmfgen::AbstractToolEntry-»
«varName».add(«createMethodName»());
«IF default_ && group.stack-»
«varName».setActiveEntry((org.eclipse.gef.palette.ToolEntry) paletteContainer.getChildren().get(paletteContainer.getChildren().size() - 1));
«ENDIF-»
«ENDDEFINE»

«DEFINE addEntry(String varName) FOR gmfgen::Separator-»
«varName».add(new org.eclipse.gef.palette.PaletteSeparator());
«ENDDEFINE»

«DEFINE addEntry(String varName) FOR gmfgen::ToolGroup-»
«varName».add(«createMethodName»());
«ENDDEFINE»

«DEFINE createEntry FOR gmfgen::AbstractToolEntry-»
	«EXPAND xpt::Common::generatedMemberComment»
	private org.eclipse.gef.palette.ToolEntry «createMethodName»() {
		«EXPAND newEntry("entry")-»
		«EXPAND setSmallImage("entry", group.palette)-»
		«EXPAND setLargeImage("entry", group.palette)-»
		«EXPAND setToolClass("entry")-»
		«EXPAND setToolProperty("entry") FOREACH properties-»
		return entry;
	}
«ENDDEFINE»

«DEFINE newEntry(String toolVarName) FOR gmfgen::AbstractToolEntry-»
«ERROR "abstract newEntry(AbstractToolEntry,String) template"»
«ENDDEFINE»

«DEFINE newEntry(String toolVarName) FOR gmfgen::ToolEntry-»
«IF elements.isEmpty()-»
org.eclipse.gef.palette.ToolEntry «toolVarName» = new org.eclipse.gef.palette.ToolEntry(«EXPAND i18nTitle», «EXPAND i18nDesc», null, null) {};
«ELSE-»
«LET genNodes.isEmpty() ? "LinkToolEntry" : "NodeToolEntry" AS toolEntryClass-»
java.util.List/*<IElementType>*/ types = new java.util.ArrayList/*<IElementType>*/(«elements.size()»);
«FOREACH elements AS e-»
types.add(«elementTypesClass()».«e.getUniqueIdentifier()»);
«ENDFOREACH-»
«toolEntryClass» «toolVarName» = new «toolEntryClass»(«EXPAND i18nTitle», «EXPAND i18nDesc», types);
«ENDLET-»
«ENDIF-»
«ENDDEFINE»

«DEFINE newEntry(String toolVarName) FOR gmfgen::StandardEntry-»
«IF StandardEntryKind::SELECT.value == kind.value -»
«EXPAND newStdSelectEntry(toolVarName)-»
«ELSEIF kind.value == StandardEntryKind::MARQUEE.value-»
«EXPAND newStdMarqueeEntry(toolVarName)-»
«ELSEIF kind.value == StandardEntryKind::ZOOM.value-»
«EXPAND newStdZoomEntry(toolVarName)-»
«ELSE-»
«EXPAND newStdOtherEntry(toolVarName)-»
«ENDIF-»
«ENDDEFINE»

«DEFINE newStdSelectEntry(String toolVarName) FOR gmfgen::StandardEntry-»
org.eclipse.gef.palette.PanningSelectionToolEntry «toolVarName» = new org.eclipse.gef.palette.PanningSelectionToolEntry();
«ENDDEFINE»

«DEFINE newStdMarqueeEntry(String toolVarName) FOR gmfgen::StandardEntry-»
org.eclipse.gef.palette.MarqueeToolEntry «toolVarName» = new org.eclipse.gef.palette.MarqueeToolEntry();
«ENDDEFINE»

«DEFINE newStdZoomEntry(String toolVarName) FOR gmfgen::StandardEntry-»
FIXME
«ENDDEFINE»

«DEFINE newStdOtherEntry(String toolVarName) FOR gmfgen::StandardEntry-»
«ERROR "override newStdOtherEntry(StandardEntry, String) for kind " + kind.literal»
«ENDDEFINE»

// FIXME: odd code - FOR EntryBase, while most of the template is valid for ToolEntry only!!!
«DEFINE setSmallImage(String toolVarName, gmfgen::Palette palette) FOR gmfgen::EntryBase-»
«IF null != smallIconPath-»
«toolVarName».setSmallIcon(«activatorFQN(palette)».findImageDescriptor("«smallIconPath»")); «EXPAND xpt::Common::nonNLS»
«ELSEIF !{this}.typeSelect(gmfgen::ToolEntry).elements.isEmpty()-»
«LET ((gmfgen::ToolEntry) this) AS toolEntry-»
«toolVarName».setSmallIcon(«elementTypesClass(toolEntry)».getImageDescriptor(«elementTypesClass(toolEntry)».«((GenCommonBase) toolEntry.elements.toList().first()).getUniqueIdentifier()»));
«ENDLET-»
«ENDIF-»
«ENDDEFINE»

«DEFINE setLargeImage(String toolVarName, gmfgen::Palette palette) FOR gmfgen::EntryBase-»
«IF null != largeIconPath-»
«toolVarName».setLargeIcon(«activatorFQN(palette)».findImageDescriptor("«largeIconPath»")); «EXPAND xpt::Common::nonNLS»
«ELSEIF !{this}.typeSelect(gmfgen::ToolEntry).elements.isEmpty()-»
«toolVarName».setLargeIcon(«toolVarName».getSmallIcon());
«ENDIF-»
«ENDDEFINE»

«DEFINE setToolClass(String toolVarName) FOR gmfgen::AbstractToolEntry-»
«IF null != qualifiedToolName-»
«toolVarName».setToolClass(«qualifiedToolName».class);
«ENDIF-»
«ENDDEFINE»

«DEFINE setToolProperty(String toolVarName) FOR ecore::EStringToStringMapEntry-»
«toolVarName».setToolProperty(«key», «value»);
«ENDDEFINE»

«DEFINE i18nTitle FOR gmfgen::ToolEntry-»
«IF title == null»null«ELSE»«EXPAND xpt::Externalizer::accessorCall(i18nTitleKey()) FOR group.palette.diagram.editorGen»«ENDIF-»
«ENDDEFINE»

«DEFINE i18nTitle FOR gmfgen::ToolGroup-»
«IF title == null»null«ELSE»«EXPAND xpt::Externalizer::accessorCall(i18nTitleKey()) FOR palette.diagram.editorGen»«ENDIF-»
«ENDDEFINE»

«DEFINE i18nDesc FOR gmfgen::ToolEntry-»
«IF null == description»null«ELSE»«EXPAND xpt::Externalizer::accessorCall(i18nDescKey()) FOR group.palette.diagram.editorGen»«ENDIF-»
«ENDDEFINE»

«DEFINE i18nDesc FOR gmfgen::ToolGroup-»
«IF null == description»null«ELSE»«EXPAND xpt::Externalizer::accessorCall(i18nDescKey()) FOR palette.diagram.editorGen»«ENDIF-»
«ENDDEFINE»

«DEFINE i18nAccessors FOR gmfgen::Palette-»
«EXPAND internal_i18n_accessors FOREACH collectGroups()-»
«EXPAND internal_i18n_accessors FOREACH collectTools()-»
«ENDDEFINE»

«DEFINE i18nValues FOR gmfgen::Palette-»
«EXPAND internal_i18n_values FOREACH collectGroups()-»
«EXPAND internal_i18n_values FOREACH collectTools()-»
«ENDDEFINE»

«DEFINE internal_i18n_accessors FOR gmfgen::EntryBase-»
«IF null != title»«EXPAND xpt::Externalizer::accessorField(i18nTitleKey())»«ENDIF-»
«IF null != description»«EXPAND xpt::Externalizer::accessorField(i18nDescKey())»«ENDIF-»
«ENDDEFINE»

«DEFINE internal_i18n_values FOR gmfgen::EntryBase-»
«IF null != title»«EXPAND xpt::Externalizer::messageEntry(i18nTitleKey(), title)»«ENDIF-»
«IF null != description»«EXPAND xpt::Externalizer::messageEntry(i18nDescKey(), description)»«ENDIF-»
«ENDDEFINE»

«DEFINE cleanStandardToolsHack FOR gmfgen::Palette»
	«EXPAND xpt::Common::generatedMemberComment("Workaround for https://bugs.eclipse.org/bugs/show_bug.cgi?id=159289")»
	private void cleanStandardTools(org.eclipse.gef.palette.PaletteRoot paletteRoot) {
		for (java.util.Iterator it = paletteRoot.getChildren().iterator(); it.hasNext();) {
			org.eclipse.gef.palette.PaletteEntry entry = (org.eclipse.gef.palette.PaletteEntry) it.next();
			if (!"standardGroup".equals(entry.getId())) { «EXPAND xpt::Common::nonNLS»
				continue;
			}
			for (java.util.Iterator it2 = ((org.eclipse.gef.palette.PaletteContainer) entry).getChildren().iterator(); it2.hasNext();) {
				org.eclipse.gef.palette.PaletteEntry entry2 = (org.eclipse.gef.palette.PaletteEntry) it2.next();
				if ("zoomTool".equals(entry2.getId())) { «EXPAND xpt::Common::nonNLS»
					it2.remove();
				} else if ("noteStack".equals(entry2.getId())) { «EXPAND xpt::Common::nonNLS»
					it2.remove();
				} else if ("selectionTool".equals(entry2.getId())) { «EXPAND xpt::Common::nonNLS»
					it2.remove();
				}
				if (paletteRoot.getDefaultEntry() == entry2) {
					paletteRoot.setDefaultEntry(null);
				}
			}
		}
	}
«ENDDEFINE»

«DEFINE nodeToolEntry FOR Object»
	«EXPAND xpt::Common::generatedClassComment»
	private static class NodeToolEntry extends org.eclipse.gef.palette.ToolEntry {

		«EXPAND xpt::Common::generatedMemberComment»
		private final java.util.List elementTypes;

		«EXPAND xpt::Common::generatedMemberComment»
		private NodeToolEntry(String title, String description, java.util.List elementTypes) {
			super(title, description, null, null);
			this.elementTypes = elementTypes;
		}

		«EXPAND xpt::Common::generatedMemberComment»
		public org.eclipse.gef.Tool createTool() {
			org.eclipse.gef.Tool tool = new org.eclipse.gmf.runtime.diagram.ui.tools.UnspecifiedTypeCreationTool(elementTypes);
			tool.setProperties(getToolProperties());
			return tool;
		}
	}
«ENDDEFINE»

«DEFINE linkToolEntry FOR Object»
	«EXPAND xpt::Common::generatedClassComment»
	private static class LinkToolEntry extends org.eclipse.gef.palette.ToolEntry {

		«EXPAND xpt::Common::generatedMemberComment»
		private final java.util.List relationshipTypes;

		«EXPAND xpt::Common::generatedMemberComment»
		private LinkToolEntry(String title, String description, java.util.List relationshipTypes) {
			super(title, description, null, null);
			this.relationshipTypes = relationshipTypes;
		}

		«EXPAND xpt::Common::generatedMemberComment»
		public org.eclipse.gef.Tool createTool() {
			org.eclipse.gef.Tool tool = new org.eclipse.gmf.runtime.diagram.ui.tools.UnspecifiedTypeConnectionTool(relationshipTypes);
			tool.setProperties(getToolProperties());
			return tool;
		}
	}
«ENDDEFINE»
@


1.16
log
@[244710] tool group should use icons
@
text
@d2 1
a2 1
 * Copyright (c) 2006 Borland Software Corporation
d146 1
@


1.15
log
@[228913] updated ValueExpression use in GMFGen to better accomodate codegen needs (items 1,2,3)
@
text
@d48 2
d92 2
a93 2
		«EXPAND setSmallImage("entry")-»
		«EXPAND setLargeImage("entry")-»
d146 1
a146 1
«DEFINE setSmallImage(String toolVarName) FOR gmfgen::AbstractToolEntry-»
d148 1
a148 1
«toolVarName».setSmallIcon(«activatorFQN()».findImageDescriptor("«smallIconPath»")); «EXPAND xpt::Common::nonNLS»
d156 1
a156 1
«DEFINE setLargeImage(String toolVarName) FOR gmfgen::AbstractToolEntry-»
d158 1
a158 1
«toolVarName».setLargeIcon(«activatorFQN()».findImageDescriptor("«largeIconPath»")); «EXPAND xpt::Common::nonNLS»
@


1.14
log
@switching to nsURI format which uses year to denote model version (same way EMF does)
@
text
@d13 1
a13 1
«IMPORT "http://www.eclipse.org/gmf/2006/GenModel"»
@


1.13
log
@User should be able to configure whether NON-NLS markers are shown or not
@
text
@d13 1
a13 1
«IMPORT "http://www.eclipse.org/gmf/2005/GenModel/2.0"»
@


1.12
log
@All the @@generated comments moved into a separate "define" statement.
@
text
@d146 1
a146 1
«toolVarName».setSmallIcon(«activatorFQN()».findImageDescriptor("«smallIconPath»")); //$NON-NLS-1$
d156 1
a156 1
«toolVarName».setLargeIcon(«activatorFQN()».findImageDescriptor("«largeIconPath»")); //$NON-NLS-1$
d213 1
a213 1
			if (!"standardGroup".equals(entry.getId())) { //$NON-NLS-1$
d218 1
a218 1
				if ("zoomTool".equals(entry2.getId())) { //$NON-NLS-1$
d220 1
a220 1
				} else if ("noteStack".equals(entry2.getId())) { //$NON-NLS-1$
d222 1
a222 1
				} else if ("selectionTool".equals(entry2.getId())) { //$NON-NLS-1$
@


1.11
log
@beautify, allow null as title
@
text
@d21 1
a21 3
/**
 * @@generated
 */
d24 1
a24 3
	/**
	 * @@generated
	 */
d44 1
a44 4
	/**
     * Creates "«title»" palette tool group
	 * @@generated
	 */
d87 1
a87 3
	/**
	 * @@generated
	 */
d209 1
a209 4
	/**
	 * Workaround for https://bugs.eclipse.org/bugs/show_bug.cgi?id=159289
	 * @@generated
	 */
d234 1
a234 3
	/**
	 * @@generated
	 */
d237 1
a237 3
		/**
		 * @@generated
		 */
d240 1
a240 3
		/**
		 * @@generated
		 */
d246 1
a246 3
		/**
		 * @@generated
		 */
d256 1
a256 3
	/**
	 * @@generated
	 */
d259 1
a259 3
		/**
		 * @@generated
		 */
d262 1
a262 3
		/**
		 * @@generated
		 */
d268 1
a268 3
		/**
		 * @@generated
		 */
@


1.10
log
@useless methods removed, names shortened
@
text
@d182 2
a183 1
«EXPAND xpt::Externalizer::accessorCall(i18nTitleKey()) FOR group.palette.diagram.editorGen»«ENDDEFINE»
d186 2
a187 1
«EXPAND xpt::Externalizer::accessorCall(i18nTitleKey()) FOR palette.diagram.editorGen»«ENDDEFINE»
d190 1
a190 3
«IF null != description-»
«EXPAND xpt::Externalizer::accessorCall(i18nDescKey()) FOR group.palette.diagram.editorGen-»
«ELSE»null«ENDIF-»
d194 1
a194 3
«IF null != description-»
«EXPAND xpt::Externalizer::accessorCall(i18nDescKey()) FOR palette.diagram.editorGen-»
«ELSE»null«ENDIF-»
@


1.9
log
@better names and formatting for i18n templates
@
text
@d182 1
a182 1
«EXPAND xpt::Externalizer::accessorQualifiedCall(i18nTitleKey()) FOR this.group.palette.diagram.editorGen.editor»«ENDDEFINE»
d185 1
a185 1
«EXPAND xpt::Externalizer::accessorQualifiedCall(i18nTitleKey()) FOR this.palette.diagram.editorGen.editor»«ENDDEFINE»
d189 1
a189 1
«EXPAND xpt::Externalizer::accessorQualifiedCall(i18nDescKey()) FOR this.group.palette.diagram.editorGen.editor-»
d195 1
a195 1
«EXPAND xpt::Externalizer::accessorQualifiedCall(i18nDescKey()) FOR this.palette.diagram.editorGen.editor-»
d214 1
a214 1
«DEFINE internal_i18n_values FOR gmfgen::EntryBase»
@


1.8
log
@reorganized i18n support to avoid access to extension functions from external templates
@
text
@d199 3
a201 3
«DEFINE i18nStepOne FOR gmfgen::Palette»
«EXPAND i18n_stepOne_do FOREACH collectGroups()»
«EXPAND i18n_stepOne_do FOREACH collectTools()»
d204 3
a206 3
«DEFINE i18nStepTwo FOR gmfgen::Palette»
«EXPAND i18n_stepTwo_do FOREACH collectGroups()»
«EXPAND i18n_stepTwo_do FOREACH collectTools()»
d209 3
a211 3
«DEFINE i18n_stepOne_do FOR gmfgen::EntryBase»
	«IF null != title»«EXPAND xpt::Externalizer::accessorField(i18nTitleKey())»«ENDIF»
	«IF null != description»«EXPAND xpt::Externalizer::accessorField(i18nDescKey())»«ENDIF»
d214 3
a216 3
«DEFINE i18n_stepTwo_do FOR gmfgen::EntryBase»
	«IF null != title»«EXPAND xpt::Externalizer::messageEntry(i18nTitleKey(), title)»«ENDIF»
	«IF null != description»«EXPAND xpt::Externalizer::messageEntry(i18nDescKey(), description)»«ENDIF»
@


1.7
log
@[139733] akarjakina - i18n support, step 2 - migrate Palette messages from plugin.properties to shared file with externalized messages
@
text
@d182 1
a182 1
«EXPAND xpt::Externalizer::accessorQualifiedCall(i18nTitle()) FOR this.group.palette.diagram.editorGen.editor»«ENDDEFINE»
d185 1
a185 1
«EXPAND xpt::Externalizer::accessorQualifiedCall(i18nTitle()) FOR this.palette.diagram.editorGen.editor»«ENDDEFINE»
d189 1
a189 1
«EXPAND xpt::Externalizer::accessorQualifiedCall(i18nDesc()) FOR this.group.palette.diagram.editorGen.editor-»
d195 1
a195 1
«EXPAND xpt::Externalizer::accessorQualifiedCall(i18nDesc()) FOR this.palette.diagram.editorGen.editor-»
d199 20
@


1.6
log
@define i18n properties in declaring templates
@
text
@d62 1
a62 1
		org.eclipse.gef.palette.PaletteDrawer «varName» = new org.eclipse.gef.palette.PaletteDrawer(«EXPAND i18nTitle»); //$NON-NLS-1$
d64 1
a64 1
		org.eclipse.gef.palette.PaletteStack «varName» = new org.eclipse.gef.palette.PaletteStack(«EXPAND i18nTitle», null, null); //$NON-NLS-1$
d66 1
a66 1
		org.eclipse.gef.palette.PaletteGroup «varName» = new org.eclipse.gef.palette.PaletteGroup(«EXPAND i18nTitle»); //$NON-NLS-1$
d71 1
a71 1
«varName».setDescription(«EXPAND i18nDesc FOR gr»); //$NON-NLS-1$
d113 1
a113 1
org.eclipse.gef.palette.ToolEntry «toolVarName» = new org.eclipse.gef.palette.ToolEntry(«EXPAND i18nTitle», «EXPAND i18nDesc», null, null) {}; //$NON-NLS-1$ $NON-NLS-2$
d120 1
a120 1
«toolEntryClass» «toolVarName» = new «toolEntryClass»(«EXPAND i18nTitle», «EXPAND i18nDesc», types); //$NON-NLS-1$ $NON-NLS-2$
d182 1
a182 1
«activatorFQN()».getString("«i18nKey()».title")«ENDDEFINE»
d185 1
a185 1
«activatorFQN()».getString("«i18nKey()».title")«ENDDEFINE»
d188 4
a191 1
«activatorFQN()».getString("«i18nKey()».desc")«ENDDEFINE»
d194 4
a197 1
«activatorFQN()».getString("«i18nKey()».desc")«ENDDEFINE»
a285 30

«DEFINE i18n FOR gmfgen::Palette-»

# Palette
«FOREACH groups AS group-»
«EXPAND i18n_properties FOR group-»
«ENDFOREACH-»
«ENDDEFINE»

«DEFINE i18n_properties FOR gmfgen::ToolGroup-»
«EXPAND i18n_paletteEntry-»
«FOREACH entries AS entry-»
«EXPAND i18n_properties FOR entry-»
«ENDFOREACH-»
«ENDDEFINE»

«DEFINE i18n_properties FOR gmfgen::AbstractToolEntry-»
«EXPAND i18n_paletteEntry-»
«ENDDEFINE»

«DEFINE i18n_properties FOR gmfgen::ToolGroupItem-»
«ERROR "Unknown tool: " + this»
«ENDDEFINE»

«DEFINE i18n_paletteEntry FOR gmfgen::EntryBase-»
«getIntKey()».title=«title»
«IF null != description-»
«getIntKey()».desc=«description»
«ENDIF-»
«ENDDEFINE»
@


1.5
log
@add copyright headers
@
text
@d280 30
@


1.4
log
@copyright statement should be above package declaration
@
text
@d1 12
@


1.3
log
@refactor common code
@
text
@d6 1
d8 1
a8 1
«EXPAND xpt::Common::copyright FOR diagram.editorGen»
@


1.2
log
@copyright generation added
@
text
@d7 1
a7 1
«EXPAND copyright FOR diagram.editorGen»
a266 8

«DEFINE copyright FOR gmfgen::GenEditorGenerator-»
«IF null != copyrightText /*&& copyrightText.trim().length() > 0*/-»
/*
 * «copyrightText.replaceAll("\n", "\n *")»
 */
«ENDIF-»
«ENDDEFINE»@


1.1
log
@replacing jet template with xpand
@
text
@d7 1
a7 1

d266 8
@

