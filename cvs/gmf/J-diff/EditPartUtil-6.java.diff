90a91,92
>      * @param includeUnprotected <code>boolean</code> value that if <code>true</code> will consider unprotected
>      * transactions when determining if a write transaction is in progress.
96c98
<     public static boolean isWriteTransactionInProgress(IGraphicalEditPart editPart, boolean otherThread) {
---
>     public static boolean isWriteTransactionInProgress(IGraphicalEditPart editPart, boolean includeUnprotected, boolean otherThread) {
102a105
>             	if (!includeUnprotected) {
104,106c107,109
<                 if (unprotectedMode == null || unprotectedMode == Boolean.FALSE) {
<                 	if (!otherThread || (Thread.currentThread() != transaction.getOwner()))
<                 		return true;
---
> 	                if (unprotectedMode != null && unprotectedMode == Boolean.TRUE) {
> 	                	return false;
> 	                }
107a111,115
>                 
>             	if (otherThread && Thread.currentThread() != transaction.getOwner())
>             		return true;
>             	else if (!otherThread)
>             		return true;
