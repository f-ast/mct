177c177
<     private DiagramEventBroker() {
---
>     protected DiagramEventBroker() {
210,212c210,211
<             editingDomain.addResourceSetListener(diagramEventBroker);
<             instanceMap.put(editingDomain,
<                 new WeakReference(diagramEventBroker));
---
>             startListening(editingDomain, diagramEventBroker);
>         }
213a213,227
>     
>     /**
>      * Creates a new diagram event broker instance for the editing domain passed
>      * in only if the editing domain does not already have a diagram event
>      * broker. There is one diagram event broker per editing domain. Adds the
>      * diagram event broker instance as a listener to the editing domain.
>      * 
>      * @param editingDomain
>      * @param diagramEventBroker the <code>DiagramEventBroker</code> to add as a listener to the 
>      * <code>TransactionalEditingDomain</code>
>      */
>     public static void startListening(TransactionalEditingDomain editingDomain, DiagramEventBroker diagramEventBroker) {
>         stopListening(editingDomain);
>         editingDomain.addResourceSetListener(diagramEventBroker);
>         instanceMap.put(editingDomain, new WeakReference(diagramEventBroker));
