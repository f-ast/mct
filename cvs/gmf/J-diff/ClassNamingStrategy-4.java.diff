41c41,43
< 	private final String mySuffix;
---
> 	private final NamesDispenser namesDispenser;
> 	
> 	private final String suffix;
47c49
< 	public ClassNamingStrategy(String suffix, NamingStrategy chained, NamesDispenser dispenser) {
---
> 	public ClassNamingStrategy(String suffix, NamingStrategy chained, NamesDispenser namesDispenser) {
50,51c52,54
< 		mySuffix = suffix;
< 		setNamesDispenser(dispenser);
---
> 		this.suffix = suffix;
> 		assert namesDispenser != null;
> 		this.namesDispenser = namesDispenser;
159c162
< 		return getNamesDispenser() == null ? name + mySuffix : getNamesDispenser().get(name, mySuffix);
---
> 		return namesDispenser.get(name, suffix);
