18d17
< import org.eclipse.emf.common.notify.Notification;
20,22d18
< import org.eclipse.gef.editparts.AbstractGraphicalEditPart;
< import org.eclipse.gmf.runtime.lite.edit.parts.update.IExternallyUpdatableEditPart;
< import org.eclipse.gmf.runtime.lite.edit.parts.update.UpdaterUtil;
25d20
< import org.eclipse.gmf.runtime.notation.NotationPackage;
28c23
< public abstract class BaseExternalNodeLabelEditPart extends AbstractGraphicalEditPart {
---
> public abstract class BaseExternalNodeLabelEditPart extends BaseExternalLabelEditPart {
30c25
< 		setModel(view);
---
> 		super(view);
50,69d44
< 	protected void refreshVisuals() {
< 		super.refreshVisuals();
< 		refreshBounds();
< 	}
< 
< 	protected IExternallyUpdatableEditPart.ExternalRefresher boundsRefresher = new IExternallyUpdatableEditPart.ExternalRefresher() {
< 		public void refresh() {
< 			refreshBounds();
< 		}
< 		public boolean isAffectingEvent(Notification msg) {
< 			if (NotationPackage.eINSTANCE.getLocation().getEStructuralFeatures().contains(msg.getFeature())) {
< 				return true;
< 			}
< 			if (NotationPackage.eINSTANCE.getNode_LayoutConstraint() == msg.getFeature()) {
< 				return UpdaterUtil.affects(msg, NotationPackage.eINSTANCE.getLocation());
< 			}
< 			return false;
< 		}
< 	};
< 
