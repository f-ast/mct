18a19,20
> import org.eclipse.emf.transaction.RunnableWithResult;
> import org.eclipse.emf.transaction.util.TransactionUtil;
22,23d23
< import org.eclipse.jface.util.Assert;
< 
27c27,28
< import org.eclipse.gmf.runtime.diagram.core.internal.util.MEditingDomainGetter;
---
> import org.eclipse.gmf.runtime.common.core.util.Log;
> import org.eclipse.gmf.runtime.common.core.util.Trace;
30a32
> import org.eclipse.gmf.runtime.diagram.ui.internal.DiagramUIDebugOptions;
31a34
> import org.eclipse.gmf.runtime.diagram.ui.internal.DiagramUIStatusCodes;
38d40
< import org.eclipse.gmf.runtime.emf.core.edit.MRunnable;
43a46
> import org.eclipse.jface.util.Assert;
223,225c226,229
< 		return (EditPart)MEditingDomainGetter.getMEditingDomain((View)model).runAsRead( new MRunnable() {
< 			public Object run() {
< 				return createGraphicEditPart((View)model);
---
> 		try {
> 			return (EditPart)TransactionUtil.getEditingDomain(model).runExclusive( new RunnableWithResult.Impl() {
> 				public void run() {
> 					setResult(createGraphicEditPart((View)model));
227a232,240
> 		} catch (InterruptedException e) {
> 			Trace.catching(DiagramUIPlugin.getInstance(),
> 				DiagramUIDebugOptions.EXCEPTIONS_CATCHING, getClass(),
> 				"createEditPart", e); //$NON-NLS-1$
> 			Log.error(DiagramUIPlugin.getInstance(),
> 				DiagramUIStatusCodes.IGNORED_EXCEPTION_WARNING,
> 				"createEditPart", e); //$NON-NLS-1$
> 			return null;
> 		}
