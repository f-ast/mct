13d12
< import org.eclipse.emf.codegen.util.CodeGenUtil;
53d51
<  *   <li>{@link org.eclipse.gmf.codegen.gmfgen.impl.GenDiagramImpl#getEditorPackageName <em>Editor Package Name</em>}</li>
75d72
<  *   <li>{@link org.eclipse.gmf.codegen.gmfgen.impl.GenDiagramImpl#getActionBarContributorClassName <em>Action Bar Contributor Class Name</em>}</li>
81d77
<  *   <li>{@link org.eclipse.gmf.codegen.gmfgen.impl.GenDiagramImpl#getEditorClassName <em>Editor Class Name</em>}</li>
169,188d164
< 	 * The default value of the '{@link #getEditorPackageName() <em>Editor Package Name</em>}' attribute.
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @see #getEditorPackageName()
< 	 * @generated
< 	 * @ordered
< 	 */
< 	protected static final String EDITOR_PACKAGE_NAME_EDEFAULT = null;
< 
< 	/**
< 	 * The cached value of the '{@link #getEditorPackageName() <em>Editor Package Name</em>}' attribute.
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @see #getEditorPackageName()
< 	 * @generated
< 	 * @ordered
< 	 */
< 	protected String editorPackageName = EDITOR_PACKAGE_NAME_EDEFAULT;
< 
< 	/**
609,628d584
< 	 * The default value of the '{@link #getActionBarContributorClassName() <em>Action Bar Contributor Class Name</em>}' attribute.
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @see #getActionBarContributorClassName()
< 	 * @generated
< 	 * @ordered
< 	 */
< 	protected static final String ACTION_BAR_CONTRIBUTOR_CLASS_NAME_EDEFAULT = null;
< 
< 	/**
< 	 * The cached value of the '{@link #getActionBarContributorClassName() <em>Action Bar Contributor Class Name</em>}' attribute.
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @see #getActionBarContributorClassName()
< 	 * @generated
< 	 * @ordered
< 	 */
< 	protected String actionBarContributorClassName = ACTION_BAR_CONTRIBUTOR_CLASS_NAME_EDEFAULT;
< 
< 	/**
729,748d684
< 	 * The default value of the '{@link #getEditorClassName() <em>Editor Class Name</em>}' attribute.
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @see #getEditorClassName()
< 	 * @generated
< 	 * @ordered
< 	 */
< 	protected static final String EDITOR_CLASS_NAME_EDEFAULT = null;
< 
< 	/**
< 	 * The cached value of the '{@link #getEditorClassName() <em>Editor Class Name</em>}' attribute.
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @see #getEditorClassName()
< 	 * @generated
< 	 * @ordered
< 	 */
< 	protected String editorClassName = EDITOR_CLASS_NAME_EDEFAULT;
< 
< 	/**
1558,1586d1493
< 	public String getEditorPackageNameGen() {
< 		return editorPackageName;
< 	}
< 
< 	public String getEditorPackageName() {
< 		String value = getEditorPackageNameGen();
< 		if (isEmpty(value)) {
< 			value = getEditorGen().getPackageNamePrefix() + ".part";
< 		}
< 		return value;
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
< 	public void setEditorPackageName(String newEditorPackageName) {
< 		String oldEditorPackageName = editorPackageName;
< 		editorPackageName = newEditorPackageName;
< 		if (eNotificationRequired())
< 			eNotify(new ENotificationImpl(this, Notification.SET, GMFGenPackage.GEN_DIAGRAM__EDITOR_PACKAGE_NAME, oldEditorPackageName, editorPackageName));
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
1645,1673d1551
< 	public String getEditorClassNameGen() {
< 		return editorClassName;
< 	}
< 
< 	public String getEditorClassName() {
< 		String value = getEditorClassNameGen();
< 		if (isEmpty(value)) {
< 			value = getDomainPackageCapName() + "DiagramEditor"; //$NON-NLS-1$
< 		}
< 		return value;
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
< 	public void setEditorClassName(String newEditorClassName) {
< 		String oldEditorClassName = editorClassName;
< 		editorClassName = newEditorClassName;
< 		if (eNotificationRequired())
< 			eNotify(new ENotificationImpl(this, Notification.SET, GMFGenPackage.GEN_DIAGRAM__EDITOR_CLASS_NAME, oldEditorClassName, editorClassName));
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
2022,2050d1899
< 	public String getActionBarContributorClassNameGen() {
< 		return actionBarContributorClassName;
< 	}
< 
< 	public String getActionBarContributorClassName() {
< 		String value = getActionBarContributorClassNameGen();
< 		if (isEmpty(value)) {
< 			value = getDomainPackageCapName() + "DiagramActionBarContributor"; //$NON-NLS-1$
< 		}
< 		return value;
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
< 	public void setActionBarContributorClassName(String newActionBarContributorClassName) {
< 		String oldActionBarContributorClassName = actionBarContributorClassName;
< 		actionBarContributorClassName = newActionBarContributorClassName;
< 		if (eNotificationRequired())
< 			eNotify(new ENotificationImpl(this, Notification.SET, GMFGenPackage.GEN_DIAGRAM__ACTION_BAR_CONTRIBUTOR_CLASS_NAME, oldActionBarContributorClassName, actionBarContributorClassName));
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
2659,2660d2507
< 			case GMFGenPackage.GEN_DIAGRAM__EDITOR_PACKAGE_NAME:
< 				return getEditorPackageName();
2703,2704d2549
< 			case GMFGenPackage.GEN_DIAGRAM__ACTION_BAR_CONTRIBUTOR_CLASS_NAME:
< 				return getActionBarContributorClassName();
2715,2716d2559
< 			case GMFGenPackage.GEN_DIAGRAM__EDITOR_CLASS_NAME:
< 				return getEditorClassName();
2780,2782d2622
< 			case GMFGenPackage.GEN_DIAGRAM__EDITOR_PACKAGE_NAME:
< 				setEditorPackageName((String)newValue);
< 				return;
2846,2848d2685
< 			case GMFGenPackage.GEN_DIAGRAM__ACTION_BAR_CONTRIBUTOR_CLASS_NAME:
< 				setActionBarContributorClassName((String)newValue);
< 				return;
2864,2866d2700
< 			case GMFGenPackage.GEN_DIAGRAM__EDITOR_CLASS_NAME:
< 				setEditorClassName((String)newValue);
< 				return;
2950,2952d2783
< 			case GMFGenPackage.GEN_DIAGRAM__EDITOR_PACKAGE_NAME:
< 				setEditorPackageName(EDITOR_PACKAGE_NAME_EDEFAULT);
< 				return;
3016,3018d2846
< 			case GMFGenPackage.GEN_DIAGRAM__ACTION_BAR_CONTRIBUTOR_CLASS_NAME:
< 				setActionBarContributorClassName(ACTION_BAR_CONTRIBUTOR_CLASS_NAME_EDEFAULT);
< 				return;
3034,3036d2861
< 			case GMFGenPackage.GEN_DIAGRAM__EDITOR_CLASS_NAME:
< 				setEditorClassName(EDITOR_CLASS_NAME_EDEFAULT);
< 				return;
3110,3111d2934
< 			case GMFGenPackage.GEN_DIAGRAM__EDITOR_PACKAGE_NAME:
< 				return EDITOR_PACKAGE_NAME_EDEFAULT == null ? editorPackageName != null : !EDITOR_PACKAGE_NAME_EDEFAULT.equals(editorPackageName);
3154,3155d2976
< 			case GMFGenPackage.GEN_DIAGRAM__ACTION_BAR_CONTRIBUTOR_CLASS_NAME:
< 				return ACTION_BAR_CONTRIBUTOR_CLASS_NAME_EDEFAULT == null ? actionBarContributorClassName != null : !ACTION_BAR_CONTRIBUTOR_CLASS_NAME_EDEFAULT.equals(actionBarContributorClassName);
3166,3167d2986
< 			case GMFGenPackage.GEN_DIAGRAM__EDITOR_CLASS_NAME:
< 				return EDITOR_CLASS_NAME_EDEFAULT == null ? editorClassName != null : !EDITOR_CLASS_NAME_EDEFAULT.equals(editorClassName);
3221d3039
< 				case GMFGenPackage.GEN_DIAGRAM__EDITOR_PACKAGE_NAME: return GMFGenPackage.PACKAGE_NAMES__EDITOR_PACKAGE_NAME;
3263d3080
< 				case GMFGenPackage.GEN_DIAGRAM__ACTION_BAR_CONTRIBUTOR_CLASS_NAME: return GMFGenPackage.EDITOR_CANDIES__ACTION_BAR_CONTRIBUTOR_CLASS_NAME;
3269d3085
< 				case GMFGenPackage.GEN_DIAGRAM__EDITOR_CLASS_NAME: return GMFGenPackage.EDITOR_CANDIES__EDITOR_CLASS_NAME;
3309d3124
< 				case GMFGenPackage.PACKAGE_NAMES__EDITOR_PACKAGE_NAME: return GMFGenPackage.GEN_DIAGRAM__EDITOR_PACKAGE_NAME;
3351d3165
< 				case GMFGenPackage.EDITOR_CANDIES__ACTION_BAR_CONTRIBUTOR_CLASS_NAME: return GMFGenPackage.GEN_DIAGRAM__ACTION_BAR_CONTRIBUTOR_CLASS_NAME;
3357d3170
< 				case GMFGenPackage.EDITOR_CANDIES__EDITOR_CLASS_NAME: return GMFGenPackage.GEN_DIAGRAM__EDITOR_CLASS_NAME;
3428,3436d3240
< 	public String getEditorQualifiedClassName() {
< 		return getEditorPackageName() + '.' + getEditorClassName();
< 	}
< 	
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated NOT
< 	 */
3617,3625d3420
< 	public String getActionBarContributorQualifiedClassName() {
< 		return getEditorPackageName() + '.' + getActionBarContributorClassName();
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated NOT
< 	 */
3708,3709d3502
< 		result.append(", editorPackageName: ");
< 		result.append(editorPackageName);
3752,3753d3544
< 		result.append(", actionBarContributorClassName: ");
< 		result.append(actionBarContributorClassName);
3764,3765d3554
< 		result.append(", editorClassName: ");
< 		result.append(editorClassName);
3799,3801c3588
< 		String name = CodeGenUtil.validJavaIdentifier(getEditorGen().getDomainGenModel().getModelName());
< 		if (name.length() < 2) {
< 			return name.toUpperCase();
---
> 		return ((GenEditorGeneratorImpl) getEditorGen()).getDomainModelCapName();
3803c3590,3592
< 		return Character.toUpperCase(name.charAt(0)) + name.substring(1);
---
> 
> 	private String getEditorPackageName() {
> 		return getEditorGen().getEditor().getPackageName();
