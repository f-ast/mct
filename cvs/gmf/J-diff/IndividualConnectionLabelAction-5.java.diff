17a18,19
> import org.eclipse.emf.transaction.RunnableWithResult;
> import org.eclipse.emf.transaction.TransactionalEditingDomain;
19c21,25
< import org.eclipse.gmf.runtime.diagram.core.internal.util.MEditingDomainGetter;
---
> import org.eclipse.gmf.runtime.common.core.util.Log;
> import org.eclipse.gmf.runtime.common.core.util.Trace;
> import org.eclipse.gmf.runtime.diagram.ui.actions.internal.DiagramActionsDebugOptions;
> import org.eclipse.gmf.runtime.diagram.ui.actions.internal.DiagramActionsPlugin;
> import org.eclipse.gmf.runtime.diagram.ui.actions.internal.DiagramActionsStatusCodes;
22,24c28
< import org.eclipse.gmf.runtime.emf.core.edit.MEditingDomain;
< import org.eclipse.gmf.runtime.emf.core.edit.MRunnable;
< import org.eclipse.gmf.runtime.emf.core.util.MetaModelUtil;
---
> import org.eclipse.gmf.runtime.emf.core.util.PackageUtil;
26d29
< import org.eclipse.gmf.runtime.notation.View;
54c57
< 			MetaModelUtil.getID(NotationPackage.eINSTANCE.getView_Visible()),
---
> 			PackageUtil.getID(NotationPackage.eINSTANCE.getView_Visible()),
70,71c73
< 			MEditingDomain editingDomain = MEditingDomainGetter
< 				.getMEditingDomain((View) editpart.getModel());
---
> 			TransactionalEditingDomain editingDomain = conEP.getEditingDomain();
74d75
< 				targetEP = (EditPart) editingDomain.runAsRead(new MRunnable() {
76,78c77,83
< 					public Object run() {
< 						return conEP
< 							.getChildBySemanticHint(getLabelSemanticHints()[index]);
---
> 				try {
> 					targetEP = (EditPart) editingDomain
> 						.runExclusive(new RunnableWithResult.Impl() {
> 
> 							public void run() {
> 								setResult(conEP
> 									.getChildBySemanticHint(getLabelSemanticHints()[index]));
80a86,94
> 				} catch (InterruptedException e) {
> 					Trace.catching(DiagramActionsPlugin.getInstance(),
> 						DiagramActionsDebugOptions.EXCEPTIONS_CATCHING,
> 						getClass(), "getTargetEditParts", e); //$NON-NLS-1$
> 					Log.error(DiagramActionsPlugin.getInstance(),
> 						DiagramActionsStatusCodes.IGNORED_EXCEPTION_WARNING,
> 						"getTargetEditParts", e); //$NON-NLS-1$
> 				}
> 				
