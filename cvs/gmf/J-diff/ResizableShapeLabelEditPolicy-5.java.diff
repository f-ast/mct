2c2
<  * Copyright (c) 2004 IBM Corporation and others.
---
>  * Copyright (c) 2004, 2006 IBM Corporation and others.
20a21
> import org.eclipse.emf.transaction.TransactionalEditingDomain;
22a24
> import org.eclipse.gef.editpolicies.NonResizableEditPolicy;
94c96,101
< 		ICommand moveCommand = new SetBoundsCommand(DiagramUIMessages.MoveLabelCommand_Label_Location,
---
> 
>         TransactionalEditingDomain editingDomain = ((IGraphicalEditPart) getHost())
>             .getEditingDomain();
>         
> 		ICommand moveCommand = new SetBoundsCommand(editingDomain,
>             DiagramUIMessages.MoveLabelCommand_Label_Location,
173c180,183
< 		ICommand resizeCommand = new SetBoundsCommand(
---
>         TransactionalEditingDomain editingDomain = ((IGraphicalEditPart) getHost())
>             .getEditingDomain();
> 
> 		ICommand resizeCommand = new SetBoundsCommand(editingDomain,
