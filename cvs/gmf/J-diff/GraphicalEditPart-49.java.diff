89a90
> import org.eclipse.gmf.runtime.notation.Edge;
298a300,305
>         
>         View view = getNotationView();
>         if (view != null && !view.isVisible()){
>             setConnectionsVisibility(false);
>         }
>         
1001,1002c1008,1034
<         getFigure().setVisible(vis);
<         getFigure().revalidate();
---
>         IFigure _figure = getFigure();
>         if (_figure.isVisible()==vis){
>             return;
>         }
>         
>         // if we are going to hide the node then connections comming to the
>         // node or outside it should be hidden as well
>         setConnectionsVisibility(vis);
>         _figure.setVisible(vis);
>         _figure.revalidate();
>     }
>     
>     protected void setConnectionsVisibility(boolean visibility) {
>         List _srcConnections = getSourceConnections();
>         for (Iterator iter = _srcConnections.iterator(); iter.hasNext();) {
>             ConnectionEditPart connection = (ConnectionEditPart) iter.next();
>             if (connection.getFigure().isVisible()!=visibility)
>                 connection.setVisibility(visibility);
>         }
>         
>         List _targetConnections = getTargetConnections();
>         for (Iterator iter = _targetConnections.iterator(); iter.hasNext();) {
>             ConnectionEditPart connection = (ConnectionEditPart) iter.next();
>             if (connection.getFigure().isVisible()!=visibility)
>                 connection.setVisibility(visibility);
>         }
>         
1410a1443,1445
>                 // refresh the children only if the notificatino is not comming for and edge
>                 // sincethe children list had no edges
>                 if (!(event.getNotifier() instanceof Edge))
