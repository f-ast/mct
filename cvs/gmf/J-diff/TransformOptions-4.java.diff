13a14,16
> import java.net.MalformedURLException;
> import java.net.URL;
> 
24,26c27,30
< 	public static final String PREF_GENERATE_RCP = "generate_rcp"; //$NON-NLS-1$
< 	public static final String PREF_USE_MAP_MODE = "use_map_mode"; //$NON-NLS-1$
< 	public static final String PREF_USE_RUNTIME_FIGURES = "use_runtime_figures"; //$NON-NLS-1$
---
> 	private static final String PREF_GENERATE_RCP = "generate_rcp"; //$NON-NLS-1$
> 	private static final String PREF_USE_MAP_MODE = "use_map_mode"; //$NON-NLS-1$
> 	private static final String PREF_USE_RUNTIME_FIGURES = "use_runtime_figures"; //$NON-NLS-1$
> 	private static final String PREF_FIGURE_TEMPLATES = "dynamic_figure_templates"; //$NON-NLS-1$
31c35,36
< 		PREF_USE_RUNTIME_FIGURES 
---
> 		PREF_USE_RUNTIME_FIGURES,
> 		PREF_FIGURE_TEMPLATES
59,62c64,67
< 		for (int i = 0; i < PROP_NAMES.length; i++) {
< 			String name = PROP_NAMES[i];
< 			String value = source.getString(name);
< 			target.setValue(name, value);
---
> 		for (String name : PROP_NAMES) {
> 			if (source.contains(name)) {
> 				target.setValue(name, source.getString(name));
> 			}
77a83,95
> 	public URL getFigureTemplatesPath() {
> 		final String value = getPreferences().getString(PREF_FIGURE_TEMPLATES);
> 		if (value == null || value.length() == 0) {
> 			return null;
> 		}
> 		try {
> 			return new URL(value);
> 		} catch (MalformedURLException ex) {
> 			Plugin.log(ex);
> 		}
> 		return null;
> 	}
> 
90,92c108,111
< 	/* (non-Javadoc)
< 	 * @see org.eclipse.core.runtime.preferences.AbstractPreferenceInitializer#initializeDefaultPreferences()
< 	 */
---
> 	public void setFigureTemplatesPath(URL path) {
> 		getPreferences().setValue(PREF_FIGURE_TEMPLATES, path.toString());
> 	}
> 
