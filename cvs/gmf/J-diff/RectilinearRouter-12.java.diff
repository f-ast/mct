528a529,534
> 		if (checkShapesIntersect(conn, newLine)) {
> 			 checkEndSegments(conn, newLine);
> 			 resetEndPointsToEdge(conn, newLine);
> 			return;
> 		}
> 
