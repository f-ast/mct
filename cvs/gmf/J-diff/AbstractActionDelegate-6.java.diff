30a31
> import org.eclipse.swt.widgets.Display;
37a39
> import org.eclipse.ui.PlatformUI;
447,448c449,462
< 	protected void openErrorDialog(IStatus status) {
< 		ErrorDialog.openError(getWorkbenchPart().getSite().getShell(),
---
> 	protected void openErrorDialog(final IStatus status) {
> 
>         final Display workbenchDisplay = PlatformUI.getWorkbench().getDisplay();
> 
>         if (workbenchDisplay.getThread() == Thread.currentThread()) {
>             // we're already on the UI thread
>             ErrorDialog.openError(workbenchDisplay.getActiveShell(), Action
>                 .removeMnemonics(getLabel()), null, status);
> 
>         } else {
>             // we're not on the UI thread
>             workbenchDisplay.asyncExec(new Runnable() {
>                 public void run() {
>                     ErrorDialog.openError(workbenchDisplay.getActiveShell(),
450a465,467
>             });
>         }
>     }
456,457c473,475
< 	 * @param progressMonitor A progress monitor for tracking the progress of
< 	 * 						   the action's execution.
---
>      * @param progressMonitor
>      *            A progress monitor for tracking the progress of the action's
>      *            execution.
