40a41
> import org.eclipse.gmf.gmfgraph.util.FigureQualifiedNameSwitch;
41a43
> import org.eclipse.gmf.gmfgraph.util.RuntimeLiteFQNSwitch;
43a46
> import org.eclipse.jface.dialogs.IMessageProvider;
50a54
> import org.eclipse.pde.ui.templates.BooleanOption;
63a68
> 	public static final String OPTION_USE_RUNTIME_FIGURES = SECTION_ID + ".useRuntimeFigures";
72a78,80
> 	private BooleanOption myNeedsMapModeOption;
> 	private BooleanOption myUseRuntimeFiguresOption;
> 	private final boolean shouldWarnLiteVerstionDoesNotSupportMapMode;
83c91,92
< 		addOption(OPTION_NEEDS_MAP_MODE, "Use IMapMode", false, THE_ONLY_PAGE_INDEX);
---
> 		myNeedsMapModeOption = (BooleanOption) addOption(OPTION_NEEDS_MAP_MODE, "Use IMapMode", false, THE_ONLY_PAGE_INDEX);
> 		myUseRuntimeFiguresOption = (BooleanOption) addOption(OPTION_USE_RUNTIME_FIGURES, "Use Enhanced Figures", true, THE_ONLY_PAGE_INDEX);
84a94
> 		shouldWarnLiteVerstionDoesNotSupportMapMode = Platform.getBundle("org.eclipse.gmf.codegen.lite") != null;
107c117,123
< 		StandaloneGenerator generator = new StandaloneGenerator(figures, config, new RuntimeFQNSwitch());
---
> 		FigureQualifiedNameSwitch fqnSwitch;
> 		if (myUseRuntimeFiguresOption.isSelected()) {
> 			fqnSwitch = new RuntimeFQNSwitch();
> 		} else {
> 			fqnSwitch = new RuntimeLiteFQNSwitch();
> 		}
> 		StandaloneGenerator generator = new StandaloneGenerator(figures, config, fqnSwitch);
213a230,238
> 		if ((myUseRuntimeFiguresOption.equals(changed) || myNeedsMapModeOption.equals(changed)) && shouldWarnLiteVerstionDoesNotSupportMapMode) {
> 			boolean useRuntimeFigures = myUseRuntimeFiguresOption.isSelected();
> 			boolean needsMapMode = myNeedsMapModeOption.isSelected();
> 			if (!useRuntimeFigures && needsMapMode) {
> 				getTheOnlyPage().setMessage("It is not recommended to use IMapMode for pure-GEF diagram editors", IMessageProvider.INFORMATION);
> 			} else {
> 				getTheOnlyPage().setMessage(null);
> 			}
> 		}
