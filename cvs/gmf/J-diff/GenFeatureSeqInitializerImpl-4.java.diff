26d25
< import org.eclipse.gmf.codegen.gmfgen.GenBaseElement;
29,32c28,29
< import org.eclipse.gmf.codegen.gmfgen.GenLink;
< import org.eclipse.gmf.codegen.gmfgen.GenNode;
< import org.eclipse.gmf.codegen.gmfgen.ModelFacet;
< import org.eclipse.gmf.codegen.gmfgen.TypeLinkModelFacet;
---
> import org.eclipse.gmf.codegen.gmfgen.TypeModelFacet;
> 
134c131
< 				case GMFGenPackage.GEN_FEATURE_SEQ_INITIALIZER__ELEMENT:
---
> 				case GMFGenPackage.GEN_FEATURE_SEQ_INITIALIZER__TYPE_MODEL_FACET:
137c134
< 					return eBasicSetContainer(otherEnd, GMFGenPackage.GEN_FEATURE_SEQ_INITIALIZER__ELEMENT, msgs);
---
> 					return eBasicSetContainer(otherEnd, GMFGenPackage.GEN_FEATURE_SEQ_INITIALIZER__TYPE_MODEL_FACET, msgs);
155,156c152,153
< 				case GMFGenPackage.GEN_FEATURE_SEQ_INITIALIZER__ELEMENT:
< 					return eBasicSetContainer(null, GMFGenPackage.GEN_FEATURE_SEQ_INITIALIZER__ELEMENT, msgs);
---
> 				case GMFGenPackage.GEN_FEATURE_SEQ_INITIALIZER__TYPE_MODEL_FACET:
> 					return eBasicSetContainer(null, GMFGenPackage.GEN_FEATURE_SEQ_INITIALIZER__TYPE_MODEL_FACET, msgs);
174,175c171,172
< 				case GMFGenPackage.GEN_FEATURE_SEQ_INITIALIZER__ELEMENT:
< 					return eContainer.eInverseRemove(this, GMFGenPackage.GEN_BASE_ELEMENT__MODEL_ELEMENT_INITIALIZER, GenBaseElement.class, msgs);
---
> 				case GMFGenPackage.GEN_FEATURE_SEQ_INITIALIZER__TYPE_MODEL_FACET:
> 					return eContainer.eInverseRemove(this, GMFGenPackage.TYPE_MODEL_FACET__MODEL_ELEMENT_INITIALIZER, TypeModelFacet.class, msgs);
190,191c187,188
< 			case GMFGenPackage.GEN_FEATURE_SEQ_INITIALIZER__ELEMENT:
< 				return getElement();
---
> 			case GMFGenPackage.GEN_FEATURE_SEQ_INITIALIZER__TYPE_MODEL_FACET:
> 				return getTypeModelFacet();
234,235c231,232
< 			case GMFGenPackage.GEN_FEATURE_SEQ_INITIALIZER__ELEMENT:
< 				return getElement() != null;
---
> 			case GMFGenPackage.GEN_FEATURE_SEQ_INITIALIZER__TYPE_MODEL_FACET:
> 				return getTypeModelFacet() != null;
243,244c240,241
< 		GenBaseElement baseElement = getElement();
< 		if(baseElement == null) {
---
> 		TypeModelFacet typeModelFacet = getTypeModelFacet();
> 		if(typeModelFacet == null) {
247,254c244
< 		GenClass contextEClass = null;
< 		if(baseElement instanceof GenNode) {
< 			contextEClass = ((GenNode)baseElement).getDomainMetaClass();
< 		} else if(baseElement instanceof GenLink) {
< 			ModelFacet facet = ((GenLink)baseElement).getModelFacet(); 
< 			contextEClass = (facet instanceof TypeLinkModelFacet) ? ((TypeLinkModelFacet)facet).getMetaClass() : null;		
< 		}
< 		return contextEClass;
---
> 		return typeModelFacet.getMetaClass();
