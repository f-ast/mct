14d13
< import java.beans.PropertyChangeEvent;
23a23
> import org.eclipse.emf.common.notify.Notification;
26d25
< import org.eclipse.gmf.runtime.diagram.core.listener.NotificationEvent;
34d32
< import org.eclipse.gmf.runtime.diagram.ui.properties.Properties;
51a50,51
> 	static long count = 0;
> 	
103d102
< 		
123,130c122
< 	abstract protected boolean hasModelChildrenChanged(PropertyChangeEvent evt);
< 
< 	/**
< 	 * @see org.eclipse.gmf.runtime.diagram.ui.editparts.GraphicalEditPart#handlePropertyChangeEvent(java.beans.PropertyChangeEvent)
< 	 */
< 	protected void handlePropertyChangeEvent(PropertyChangeEvent event) {
< 		
< 		super.handlePropertyChangeEvent(event);
---
> 	abstract protected boolean hasModelChildrenChanged(Notification evt);
131a124
> 	protected void handleNotificationEvent(Notification event ) {
140,146c133,139
< 		if (Properties.ID_FILTERING.equals(event.getPropertyName())
< 			|| Properties.ID_FILTERING_KEYS.equals(event.getPropertyName())
< 			|| Properties.ID_FILTERED_OBJECTS.equals(event.getPropertyName())
< 			|| Properties.ID_SORTING.equals(event.getPropertyName())
< 			|| Properties.ID_SORTING_KEYS.equals(event.getPropertyName())
< 			|| Properties.ID_SORTED_OBJECTS.equals(event.getPropertyName())) {
< 			
---
> 		Object feature = event.getFeature();
> 		if (NotationPackage.eINSTANCE.getFilteringStyle_Filtering().equals(feature)
> 			|| NotationPackage.eINSTANCE.getFilteringStyle_FilteringKeys().equals(feature)
> 			|| NotationPackage.eINSTANCE.getFilteringStyle_FilteredObjects().equals(feature)
> 			|| NotationPackage.eINSTANCE.getSortingStyle_Sorting().equals(feature)
> 			|| NotationPackage.eINSTANCE.getSortingStyle_SortingKeys().equals(feature)
> 			|| NotationPackage.eINSTANCE.getSortingStyle_SortedObjects().equals(feature)) {
155a149,150
> 		} else {
> 			super.handleNotificationEvent(event);
160,162d154
< 		if (event instanceof NotificationEvent) {
< 			Object feature = ((NotificationEvent) event).getFeature();
< 
167d158
< 	}
