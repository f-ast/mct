38a39
> import org.eclipse.gmf.runtime.diagram.ui.commands.CommandProxy;
43d43
< import org.eclipse.gmf.runtime.diagram.ui.commands.CommandProxy;
58d57
< import org.eclipse.gmf.runtime.notation.Diagram;
275,280c274,277
< 			EObject hostElement;
< 			if (view instanceof Diagram){
< 				hostElement = view.getDiagram();
< 			}
< 			else{
< 				hostElement = ViewUtil.resolveSemanticElement(view);
---
> 			EObject hostElement = ViewUtil.resolveSemanticElement(view);
> 			
> 			if (hostElement == null && view.getElement() == null) {
> 				hostElement = view;
