2c2
<  * Copyright (c) 2002, 2005 IBM Corporation and others.
---
>  * Copyright (c) 2002, 2006 IBM Corporation and others.
76c76
< 					if (retargetLastAction)
---
> 					if (retargetLastAction) {
77a78,79
> 						setDefaultAction(item.getAction());
>                     }
187a190,193
>             else if (getDefaultAction().isEnabled()) {
>                 setActionHandler(getDefaultAction());
>                 super.run();
>            }
196a203,206
>             else if (getDefaultAction().isEnabled()) {
>                  setActionHandler(getDefaultAction());
>                  super.runWithEvent(event);
>             }
203a214,216
>     /** the associated menu action */
>     protected IAction defaultAction = null;
> 
237a251
>         defaultAction = actionHandler;
436a451,460
>     
>     public IAction getDefaultAction() {
>         return defaultAction;
>     }
> 
>     
>     protected void setDefaultAction(IAction defaultAction) {
>         this.defaultAction = defaultAction;
>     }
> 
