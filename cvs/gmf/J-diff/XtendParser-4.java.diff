13d12
< import org.eclipse.gmf.internal.xpand.expression.ast.*;
16a16
> import org.eclipse.gmf.internal.xpand.expression.ast.*;
61a62,63
>         xtendFactory = new ExtensionFactory(lexStream.getFileName());
>         factory = new ExpressionFactory(lexStream.getFileName());
142c144
< 	private final ExtensionFactory xtendFactory = new ExtensionFactory();
---
> 	private final ExtensionFactory xtendFactory;
144c146
< 	private final ExpressionFactory factory = new ExpressionFactory();
---
> 	private final ExpressionFactory factory;
798c800
<             // Rule 101:  regularExtension ::= visibilityOpt cachedOpt typeOpt IDENT LPAREN declaredParameterListOpt RPAREN COLON JAVA javaType LPAREN javaParamsOpt RPAREN SEMI
---
>             // Rule 101:  regularExtension ::= visibilityOpt cachedOpt typeOpt IDENT LPAREN declaredParameterListOpt RPAREN COLON JAVA instanceSlotOpt javaType LPAREN javaParamsOpt RPAREN SEMI
802c804
< 		setResult(xtendFactory.createJavaExtension(getRhsIToken(4), getRightIToken(), (Identifier) getRhsSym(3), (List) getRhsSym(6), (Identifier) getRhsSym(10), (List) getRhsSym(12), (IToken) getRhsSym(2), (IToken) getRhsSym(1)));
---
> 		setResult(xtendFactory.createJavaExtension(getRhsIToken(4), getRightIToken(), (Identifier) getRhsSym(3), (List) getRhsSym(6), (Identifier) getRhsSym(11), (List) getRhsSym(13), (IToken) getRhsSym(2), (IToken) getRhsSym(1), (Identifier) getRhsSym(10)));
886c888
<             // Rule 113:  javaType ::= IDENT javaTypeSuffix
---
>             // Rule 113:  instanceSlotOpt ::= $Empty
889a892,907
> 		setResult(null);
> 	          break;
>             } 
>             //
>             // Rule 114:  instanceSlotOpt ::= [ slot ]
>             //
>             case 114: {
>                 
> 		setResult(getRhsSym(2));
> 	          break;
>             } 
>             //
>             // Rule 115:  javaType ::= IDENT javaTypeSuffix
>             //
>             case 115: {
>                 
898c916
<             // Rule 114:  javaTypeSuffix ::= $Empty
---
>             // Rule 116:  javaTypeSuffix ::= $Empty
900c918
<             case 114: {
---
>             case 116: {
906c924
<             // Rule 115:  javaTypeSuffix ::= DOT IDENT javaTypeSuffix
---
>             // Rule 117:  javaTypeSuffix ::= DOT IDENT javaTypeSuffix
908c926
<             case 115: {
---
>             case 117: {
918c936
<             // Rule 116:  javaTypeSuffix ::= DOT Collection javaTypeSuffix
---
>             // Rule 118:  javaTypeSuffix ::= DOT Collection javaTypeSuffix
920c938
<             case 116: {
---
>             case 118: {
930c948
<             // Rule 117:  javaTypeSuffix ::= DOT List javaTypeSuffix
---
>             // Rule 119:  javaTypeSuffix ::= DOT List javaTypeSuffix
932c950
<             case 117: {
---
>             case 119: {
942c960
<             // Rule 118:  javaTypeSuffix ::= DOT Set javaTypeSuffix
---
>             // Rule 120:  javaTypeSuffix ::= DOT Set javaTypeSuffix
944c962
<             case 118: {
---
>             case 120: {
954c972
<             // Rule 119:  javaParamsOpt ::= $Empty
---
>             // Rule 121:  javaParamsOpt ::= $Empty
956c974
<             case 119: {
---
>             case 121: {
962c980
<             // Rule 121:  javaParams ::= javaType
---
>             // Rule 123:  javaParams ::= javaType
964c982
<             case 121: {
---
>             case 123: {
970c988
<             // Rule 122:  javaParams ::= javaType COMMA javaParams
---
>             // Rule 124:  javaParams ::= javaType COMMA javaParams
972c990
<             case 122: {
---
>             case 124: {
981c999
<             // Rule 123:  slot ::= IDENT
---
>             // Rule 125:  slot ::= IDENT
983c1001
<             case 123: {
---
>             case 125: {
