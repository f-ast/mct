2c2
<  * Copyright (c) 2006, 2007 IBM Corporation and others.
---
>  * Copyright (c) 2006, 2008 IBM Corporation and others.
356,357c356,367
<         if (newLine.size() < 2)
<             return;
---
>     	if (newLine.size() < 2) {
>     		/*
> 			 * Connection must have at least 2 points in the list: the source
> 			 * and target anchor points. Otherwise it's invalid connection.
> 			 * Invalid connection case: add a dumb point at the start of the
> 			 * list and at the end of the list. The first and the last point in
> 			 * the list are replaced by the new source and target anchor points
> 			 * in this method
> 			 */
>     		newLine.addPoint(0, 0);
>     		newLine.insertPoint(new Point(), 0);
>     	}
