14,15d13
< import java.beans.PropertyChangeEvent;
< 
16a15
> import org.eclipse.emf.common.notify.Notification;
19d17
< import org.eclipse.gmf.runtime.diagram.core.listener.NotificationEvent;
21a20
> import org.eclipse.gmf.runtime.diagram.ui.internal.properties.Properties;
23d21
< import org.eclipse.gmf.runtime.diagram.ui.properties.Properties;
108a107
> 		
112,114c111,113
< 	 * <LI>{@link Properties#ID_RATIO} calls {@link #refreshRatio()}
< 	 * <LI>{@link Properties#ID_COLLAPSED} calls {@link #refreshCollapsed()}
< 	 * <LI>{@link Properties#ID_SHOWCOMPARTMENTTITLE} calls {@link #refreshShowCompartmentTitle()}
---
> 	 * <LI>{@link NotationPackage.eINSTANCE.getRatio_Value()} calls {@link #refreshRatio()}
> 	 * <LI>{@link NotationPackage.eINSTANCE.getDrawerStyle_Collapsed()} calls {@link #refreshCollapsed()}
> 	 * <LI>{@link NotationPackage.eINSTANCE.getTitleStyle_ShowTitle()} calls {@link #refreshShowCompartmentTitle()}
121,124c120,124
< 	protected void handlePropertyChangeEvent(PropertyChangeEvent evt) {
< 		if (evt.getPropertyName().equals(Properties.ID_RATIO) 
< 			|| evt.getOldValue() instanceof Ratio
< 			|| evt.getNewValue() instanceof Ratio)
---
> 	protected void handleNotificationEvent(Notification event ) {
> 		Object feature = event.getFeature();
> 		if (NotationPackage.eINSTANCE.getRatio_Value().equals(feature) 
> 			|| event.getOldValue()instanceof Ratio
> 			|| event.getNewValue() instanceof Ratio)
126,127c126,127
< 		else if (evt.getPropertyName().equals(Properties.ID_COLLAPSED)){		
< 			setCollapsed(((Boolean) evt.getNewValue()).booleanValue(), true);
---
> 		else if (NotationPackage.eINSTANCE.getDrawerStyle_Collapsed().equals(feature)){		
> 			setCollapsed(event.getNewBooleanValue(), true);
129,134c129,132
< 		} else if (
< 			evt.getPropertyName().equals(Properties.ID_SHOWCOMPARTMENTTITLE))
< 			setShowCompartmentTitle(
< 				((Boolean) evt.getNewValue()).booleanValue());
< 		else if (evt.getPropertyName().equals(Properties.ID_FONTCOLOR)){
< 			Integer c = (Integer) evt.getNewValue();
---
> 		} else if (NotationPackage.eINSTANCE.getTitleStyle_ShowTitle().equals(feature))
> 			setShowCompartmentTitle(event.getNewBooleanValue());
> 		else if (NotationPackage.eINSTANCE.getFontStyle_FontColor().equals(feature)){
> 			Integer c = (Integer) event.getNewValue();
137,142c135
< 		else
< 			super.handlePropertyChangeEvent(evt);
< 	}
< 
< 	protected void handleNotificationEvent( NotificationEvent event ) {
< 		if (NotationPackage.eINSTANCE.getFontStyle().isInstance(event.getElement()))
---
> 		else if (NotationPackage.eINSTANCE.getFontStyle().isInstance(event.getNotifier())){
144c137
< 		else
---
> 		}else
