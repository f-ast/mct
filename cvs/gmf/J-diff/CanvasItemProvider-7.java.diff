10a11,12
> import java.util.Iterator;
> import java.util.LinkedList;
16a19
> import org.eclipse.emf.edit.command.CommandParameter;
178c181
< 	protected void collectNewChildDescriptors(Collection newChildDescriptors, Object object) {
---
> 	protected void collectNewChildDescriptorsGen(Collection newChildDescriptors, Object object) {
192a196,200
> 				(GMFGraphPackage.eINSTANCE.getCanvas_Nodes(),
> 				 GMFGraphFactory.eINSTANCE.createDiagramLabel()));
> 
> 		newChildDescriptors.add
> 			(createChildParameter
211a220,268
> 	protected void collectNewChildDescriptors(Collection newChildDescriptors, Object object) {
> 		LinkedList allGenerated = new LinkedList();
> 		collectNewChildDescriptorsGen(allGenerated, object);
> 		
> 		CommandParameter toRemove = createChildParameter(
> 				GMFGraphPackage.eINSTANCE.getCanvas_Nodes(),
> 				GMFGraphFactory.eINSTANCE.createDiagramLabel());
> 
> 		for (Iterator generated = allGenerated.iterator(); generated.hasNext();){
> 			CommandParameter next = (CommandParameter)generated.next();
> 			if (equalsChildParameters(toRemove, next)){
> 				generated.remove();
> 				break;
> 			}
> 		}
> 		
> 		newChildDescriptors.addAll(allGenerated);
> 	}
> 
> 	private static boolean equalsChildParameters(CommandParameter first, CommandParameter second){
> 		return first.getFeature().equals(second.getFeature()) && first.getValue().equals(second.getValue());
> 	}
> 
> 	/**
> 	 * This returns the label text for {@link org.eclipse.emf.edit.command.CreateChildCommand}.
> 	 * <!-- begin-user-doc -->
> 	 * This method now is useful only for Labels in canvas.nodes feature, and while we remove 
> 	 * possibility to create them with overrided collectNewChildDescriptors, the method left
> 	 * here as it brings more problems overriding it than a bit different 
> 	 * (although semantically legal) label (_UI_CreateChild_text2 vs _UI_CreateChild_text3).
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public String getCreateChildText(Object owner, Object feature, Object child, Collection selection) {
> 		Object childFeature = feature;
> 		Object childObject = child;
> 
> 		boolean qualify =
> 			childFeature == GMFGraphPackage.eINSTANCE.getCanvas_Nodes() ||
> 			childFeature == GMFGraphPackage.eINSTANCE.getCanvas_Labels();
> 
> 		if (qualify) {
> 			return getString
> 				("_UI_CreateChild_text2",
> 				 new Object[] { getTypeText(childObject), getFeatureText(childFeature), getTypeText(owner) });
> 		}
> 		return super.getCreateChildText(owner, feature, child, selection);
> 	}
> 
