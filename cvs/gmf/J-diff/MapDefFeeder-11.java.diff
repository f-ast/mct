15a16
> import java.util.HashSet;
17a19
> import java.util.Set;
19d20
< import org.eclipse.emf.common.util.BasicEList;
22a24
> import org.eclipse.emf.ecore.EObject;
49,50c51,52
< 	private List/*EClass*/ myNodeCandidates;
< 	private List/*EObject*/ myLinkCandidates;
---
> 	private List<EClass> myNodeCandidates;
> 	private List<EObject> myLinkCandidates;
62a65
> 	@SuppressWarnings("unchecked")
90,93c93
< 		return new CompositeStrategy(new Strategy[] {
< 				new AccessibleClassNodeStrategy(),
< 				new LeafNodeStrategy(),
< 		});
---
> 		return new CompositeStrategy(new AccessibleClassNodeStrategy(), new LeafNodeStrategy());
103,106c103,106
< 			public void filter(Collection soFar, Hierarchy hierarchy) {
< 				List linkCandidates = new UniqueEList(hierarchy.getAccessibleLinkClasses());
< 				for (Iterator iter = linkCandidates.iterator(); iter.hasNext();) {
< 					EClass element = (EClass) iter.next();
---
> 			public void filter(Collection<EObject> soFar, Hierarchy hierarchy) {
> 				Set<EClass> linkCandidates = new HashSet<EClass>(hierarchy.getAccessibleLinkClasses());
> 				for (Iterator<EClass> iter = linkCandidates.iterator(); iter.hasNext();) {
> 					EClass element = iter.next();
117,118c117,118
< 	private List/*<NodeReference>*/ nodesFrom(List candidates) {
< 		BasicEList rv = new BasicEList(candidates.size());
---
> 	private List<NodeReference> nodesFrom(List<EClass> candidates) {
> 		ArrayList<NodeReference> rv = new ArrayList<NodeReference>(candidates.size());
134,135c134,135
< 	private List/*<LinkMapping>*/ linksFrom(List candidates) {
< 		BasicEList rv = new BasicEList(candidates.size());
---
> 	private List<LinkMapping> linksFrom(List<EObject> candidates) {
> 		ArrayList<LinkMapping> rv = new ArrayList<LinkMapping>(candidates.size());
154a155
> 	@SuppressWarnings("unchecked")
170c171
< 		return (NodeReference[]) nodesFrom(myNodeCandidates).toArray(new NodeReference[0]);
---
> 		return nodesFrom(myNodeCandidates).toArray(new NodeReference[0]);
174c175
< 		return (LinkMapping[]) linksFrom(myLinkCandidates).toArray(new LinkMapping[0]);
---
> 		return linksFrom(myLinkCandidates).toArray(new LinkMapping[0]);
