2c2
<  * Copyright (c) 2002, 2005 IBM Corporation and others.
---
>  * Copyright (c) 2002, 2006 IBM Corporation and others.
15a16,17
> import org.eclipse.emf.transaction.TransactionalEditingDomain;
> import org.eclipse.emf.transaction.util.TransactionUtil;
72c74,86
< 		return new SetPropertyCommand(adapter, Properties.ID_DESCRIPTION, ViewType.TEXT, newString);
---
>         
>         final View view = (View) adapter.getAdapter(View.class);
>         
>         if (view != null) {
>             TransactionalEditingDomain domain = TransactionUtil
>             .getEditingDomain(view);
>             
>             if (domain != null) {
>                 return new SetPropertyCommand(domain, adapter,
>                     Properties.ID_DESCRIPTION, ViewType.TEXT, newString);
>             }
>         }
>         return null;
