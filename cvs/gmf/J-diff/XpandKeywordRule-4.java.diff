17,19d16
< import java.util.ArrayList;
< import java.util.List;
< 
30c27
<     private IToken token;
---
>     private final IToken token;
32c29
<     private String[] keywords;
---
>     private final String[] keywords;
34,41c31,33
<     private String[] getKeywords(final String prefix) {
<         final List<String> result = new ArrayList<String>();
<         for (final String w : keywords) {
<             if (w.startsWith(prefix)) {
< 				result.add(w);
< 			}
<         }
<         return  result.toArray(new String[result.size()]);
---
>     public XpandKeywordRule(final IToken token, final String[] keywords) {
>         this.token = token;
>         this.keywords = keywords;
54,65d45
<     /**
<      * 
<      */
<     public XpandKeywordRule(final IToken token, final String[] keywords) {
<         this.token = token;
<         this.keywords = keywords;
<     }
< 
<     /**
<      * @param prefix
<      * @return
<      */
67,68c47,52
<         final String[] currentWords = getKeywords(prefix.toString());
<         return (currentWords != null) && (currentWords.length > 0);
---
>         for (final String w : keywords) {
>             if (w.startsWith(prefix)) {
> 				return true;
> 			}
>         }
>         return false;
72c56
<         final StringBuffer buff = new StringBuffer();
---
>         final StringBuilder buff = new StringBuilder();
