19,20c19,20
< 
< import org.eclipse.gmf.runtime.draw2d.ui.mapmode.MapMode;
---
> import org.eclipse.gmf.runtime.draw2d.ui.mapmode.IMapMode;
> import org.eclipse.gmf.runtime.draw2d.ui.mapmode.MapModeUtil;
41c41,42
< 		double resultMag = MapMode.DPtoLP((int)THRESHOLD);
---
> 		IMapMode mm = MapModeUtil.getMapMode(container.getFigure());
> 		double resultMag = mm.DPtoLP((int)THRESHOLD);
45c46
< 			int offset = MapMode.DPtoLP(guides[i]);
---
> 			int offset = mm.DPtoLP(guides[i]);
51c52
< 					: KEY_HORIZONTAL_GUIDE, new Integer(MapMode.DPtoLP(guides[i])));
---
> 					: KEY_HORIZONTAL_GUIDE, new Integer(mm.DPtoLP(guides[i])));
