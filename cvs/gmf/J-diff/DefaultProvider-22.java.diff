852c852
< 			resultantSourceAnchorReference = getNewAnchorReferencePoint(source, ((Connection)cep.getFigure()).getSourceAnchor().getReferencePoint());
---
> 			resultantSourceAnchorReference = getNewAnchorReferencePoint(source, sourceExt, ((Connection)cep.getFigure()).getSourceAnchor().getReferencePoint());
885c885
< 			resultantTargetAnchorReference = getNewAnchorReferencePoint(target, ((Connection)cep.getFigure()).getTargetAnchor().getReferencePoint());
---
> 			resultantTargetAnchorReference = getNewAnchorReferencePoint(target, targetExt, ((Connection)cep.getFigure()).getTargetAnchor().getReferencePoint());
926c926
< 	private Point getNewAnchorReferencePoint(Node node, Point oldAbsReference) {
---
> 	private Point getNewAnchorReferencePoint(Node node, Rectangle nodeBoundsOnDiagram, Point oldAbsReference) {
932c932
< 		return new Point(node.x, node.y).translate(diff);
---
> 		return nodeBoundsOnDiagram.getLocation().translate(diff);
