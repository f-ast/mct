21a22
> import org.eclipse.emf.transaction.TransactionalEditingDomain;
26d26
< import org.eclipse.gmf.runtime.diagram.core.listener.NotificationListener;
27a28
> import org.eclipse.gmf.runtime.diagram.core.listener.NotificationListener;
162a164,168
> 	 * Cache the diagram event broker after it is retrieved.
> 	 */
> 	private DiagramEventBroker diagramEventBroker;
> 
> 	/**
191c197
< 		DiagramEventBroker.getInstance().addNotificationListener(
---
> 		getDiagramEventBroker().addNotificationListener(
199c205
< 		DiagramEventBroker.getInstance().removeNotificationListener(
---
> 		getDiagramEventBroker().removeNotificationListener(
284a291,298
>     private DiagramEventBroker getDiagramEventBroker() {
>         TransactionalEditingDomain theEditingDomain = ((IGraphicalEditPart) getHost())
>             .getEditingDomain();
>         if (theEditingDomain != null) {
>             return DiagramEventBroker.getInstance(theEditingDomain);
>         }
>         return null;
>     }
