2c2
<  * Copyright (c) 2003, 2004 IBM Corporation and others.
---
>  * Copyright (c) 2003, 2005 IBM Corporation and others.
22a23,24
> import org.eclipse.gmf.runtime.common.core.util.Log;
> import org.eclipse.gmf.runtime.common.core.util.Trace;
24c26,28
< import org.eclipse.gmf.runtime.common.ui.util.DispatchingProgressDialogUtil;
---
> import org.eclipse.gmf.runtime.diagram.ui.DiagramUIDebugOptions;
> import org.eclipse.gmf.runtime.diagram.ui.DiagramUIPlugin;
> import org.eclipse.gmf.runtime.diagram.ui.DiagramUIStatusCodes;
41a46
> import org.eclipse.jface.dialogs.ProgressMonitorDialog;
251,253c256,257
< 		DispatchingProgressDialogUtil
< 			.runWithDispatchingProgressDialog(new IRunnableWithProgress() {
< 
---
> 		try {
> 			new ProgressMonitorDialog(null).run(false, true, new IRunnableWithProgress() {
258a263,276
> 		} catch (InvocationTargetException ite) {
> 			Trace.catching(DiagramUIPlugin.getInstance(),
> 				DiagramUIDebugOptions.EXCEPTIONS_CATCHING,
> 				ConnectionHandleTool.class,
> 				"executeWithProgressMonitor", ite); //$NON-NLS-1$
> 			Log.error(DiagramUIPlugin.getInstance(),
> 				DiagramUIStatusCodes.IGNORED_EXCEPTION_WARNING,
> 				"executeWithProgressMonitor", ite); //$NON-NLS-1$
> 		} catch (InterruptedException ie) {
> 			Trace.catching(DiagramUIPlugin.getInstance(),
> 				DiagramUIDebugOptions.EXCEPTIONS_CATCHING,
> 				ConnectionHandleTool.class,
> 				"executeWithProgressMonitor", ie); //$NON-NLS-1$
> 		}
