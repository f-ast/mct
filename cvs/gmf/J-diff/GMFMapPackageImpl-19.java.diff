16a17
> import org.eclipse.gmf.mappings.AppearanceSteward;
23d23
< import org.eclipse.gmf.mappings.CreationTool;
33c33
< import org.eclipse.gmf.mappings.NewActionTool;
---
> import org.eclipse.gmf.mappings.MenuOwner;
36,37c36
< import org.eclipse.gmf.mappings.Tool;
< import org.eclipse.gmf.mappings.ToolGroup;
---
> import org.eclipse.gmf.mappings.ToolOwner;
38a38
> import org.eclipse.gmf.tooldef.GMFToolPackage;
108,115c108
< 	private EClass toolGroupEClass = null;
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
< 	private EClass toolEClass = null;
---
> 	private EClass constraintEClass = null;
122c115
< 	private EClass creationToolEClass = null;
---
> 	private EClass linkConstraintsEClass = null;
129c122
< 	private EClass newActionToolEClass = null;
---
> 	private EClass valueExpressionEClass = null;
136c129
< 	private EClass constraintEClass = null;
---
> 	private EClass elementInitializerEClass = null;
143c136
< 	private EClass linkConstraintsEClass = null;
---
> 	private EClass featureSeqInitializerEClass = null;
150c143
< 	private EClass valueExpressionEClass = null;
---
> 	private EClass featureValueSpecEClass = null;
157c150
< 	private EClass elementInitializerEClass = null;
---
> 	private EClass menuOwnerEClass = null;
164c157
< 	private EClass featureSeqInitializerEClass = null;
---
> 	private EClass toolOwnerEClass = null;
171c164
< 	private EClass featureValueSpecEClass = null;
---
> 	private EClass appearanceStewardEClass = null;
251a245
> 		GMFToolPackage.eINSTANCE.eClass();
279c273
< 	public EReference getAbstractNodeMapping_DomainMetaElement() {
---
> 	public EReference getAbstractNodeMapping_EditFeature() {
288c282
< 	public EReference getAbstractNodeMapping_DomainSpecialization() {
---
> 	public EReference getAbstractNodeMapping_ChildMappings() {
297c291
< 	public EReference getAbstractNodeMapping_DomainInitializer() {
---
> 	public EReference getAbstractNodeMapping_CompartmentMappings() {
306,316c300,301
< 	public EReference getAbstractNodeMapping_ContainmentFeature() {
< 		return (EReference)abstractNodeMappingEClass.getEStructuralFeatures().get(3);
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
< 	public EReference getAbstractNodeMapping_EditFeature() {
< 		return (EReference)abstractNodeMappingEClass.getEStructuralFeatures().get(4);
---
> 	public EClass getMappingEntry() {
> 		return mappingEntryEClass;
324,325c309,310
< 	public EReference getAbstractNodeMapping_ChildMappings() {
< 		return (EReference)abstractNodeMappingEClass.getEStructuralFeatures().get(5);
---
> 	public EReference getMappingEntry_DomainMetaElement() {
> 		return (EReference)mappingEntryEClass.getEStructuralFeatures().get(0);
333,334c318,319
< 	public EReference getAbstractNodeMapping_CompartmentMappings() {
< 		return (EReference)abstractNodeMappingEClass.getEStructuralFeatures().get(6);
---
> 	public EReference getMappingEntry_DomainSpecialization() {
> 		return (EReference)mappingEntryEClass.getEStructuralFeatures().get(1);
342,343c327,328
< 	public EReference getAbstractNodeMapping_Tool() {
< 		return (EReference)abstractNodeMappingEClass.getEStructuralFeatures().get(7);
---
> 	public EReference getMappingEntry_DomainInitializer() {
> 		return (EReference)mappingEntryEClass.getEStructuralFeatures().get(2);
351,352c336,337
< 	public EClass getMappingEntry() {
< 		return mappingEntryEClass;
---
> 	public EReference getMappingEntry_ContainmentFeature() {
> 		return (EReference)mappingEntryEClass.getEStructuralFeatures().get(3);
468c453
< 	public EReference getLinkMapping_DomainMetaElement() {
---
> 	public EReference getLinkMapping_LabelEditFeature() {
477c462
< 	public EReference getLinkMapping_DomainSpecialization() {
---
> 	public EReference getLinkMapping_LabelDisplayFeature() {
486c471
< 	public EReference getLinkMapping_DomainInitializer() {
---
> 	public EReference getLinkMapping_SourceMetaFeature() {
495c480
< 	public EReference getLinkMapping_ContainmentFeature() {
---
> 	public EReference getLinkMapping_LinkMetaFeature() {
504c489
< 	public EReference getLinkMapping_LabelEditFeature() {
---
> 	public EReference getLinkMapping_CreationConstraints() {
513,532c498,499
< 	public EReference getLinkMapping_LabelDisplayFeature() {
< 		return (EReference)linkMappingEClass.getEStructuralFeatures().get(6);
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
< 	public EReference getLinkMapping_SourceMetaFeature() {
< 		return (EReference)linkMappingEClass.getEStructuralFeatures().get(7);
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
< 	public EReference getLinkMapping_LinkMetaFeature() {
< 		return (EReference)linkMappingEClass.getEStructuralFeatures().get(8);
---
> 	public EClass getCanvasMapping() {
> 		return canvasMappingEClass;
540,541c507,508
< 	public EReference getLinkMapping_CreationConstraints() {
< 		return (EReference)linkMappingEClass.getEStructuralFeatures().get(9);
---
> 	public EReference getCanvasMapping_DiagramCanvas() {
> 		return (EReference)canvasMappingEClass.getEStructuralFeatures().get(0);
549,550c516,517
< 	public EReference getLinkMapping_Tool() {
< 		return (EReference)linkMappingEClass.getEStructuralFeatures().get(10);
---
> 	public EReference getCanvasMapping_DomainModel() {
> 		return (EReference)canvasMappingEClass.getEStructuralFeatures().get(1);
558,559c525,526
< 	public EClass getCanvasMapping() {
< 		return canvasMappingEClass;
---
> 	public EReference getCanvasMapping_DomainMetaElement() {
> 		return (EReference)canvasMappingEClass.getEStructuralFeatures().get(2);
567,568c534,535
< 	public EReference getCanvasMapping_DiagramCanvas() {
< 		return (EReference)canvasMappingEClass.getEStructuralFeatures().get(0);
---
> 	public EReference getCanvasMapping_Palette() {
> 		return (EReference)canvasMappingEClass.getEStructuralFeatures().get(3);
576,577c543,544
< 	public EReference getCanvasMapping_DomainModel() {
< 		return (EReference)canvasMappingEClass.getEStructuralFeatures().get(1);
---
> 	public EReference getCanvasMapping_MenuContributions() {
> 		return (EReference)canvasMappingEClass.getEStructuralFeatures().get(4);
585,586c552,553
< 	public EReference getCanvasMapping_DomainMetaElement() {
< 		return (EReference)canvasMappingEClass.getEStructuralFeatures().get(2);
---
> 	public EReference getCanvasMapping_ToolbarContributions() {
> 		return (EReference)canvasMappingEClass.getEStructuralFeatures().get(5);
630c597
< 	public EReference getMapping_ToolGroups() {
---
> 	public EReference getMapping_AppearanceStyles() {
648,658c615,616
< 	public EClass getToolGroup() {
< 		return toolGroupEClass;
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
< 	public EAttribute getToolGroup_Name() {
< 		return (EAttribute)toolGroupEClass.getEStructuralFeatures().get(0);
---
> 	public EClass getConstraint() {
> 		return constraintEClass;
666,667c624,625
< 	public EReference getToolGroup_Tools() {
< 		return (EReference)toolGroupEClass.getEStructuralFeatures().get(1);
---
> 	public EClass getLinkConstraints() {
> 		return linkConstraintsEClass;
675,676c633,634
< 	public EClass getTool() {
< 		return toolEClass;
---
> 	public EReference getLinkConstraints_LinkMapping() {
> 		return (EReference)linkConstraintsEClass.getEStructuralFeatures().get(0);
684,685c642,643
< 	public EReference getTool_Group() {
< 		return (EReference)toolEClass.getEStructuralFeatures().get(0);
---
> 	public EReference getLinkConstraints_SourceEnd() {
> 		return (EReference)linkConstraintsEClass.getEStructuralFeatures().get(1);
693,694c651,652
< 	public EClass getCreationTool() {
< 		return creationToolEClass;
---
> 	public EReference getLinkConstraints_TargetEnd() {
> 		return (EReference)linkConstraintsEClass.getEStructuralFeatures().get(2);
702,703c660,661
< 	public EClass getNewActionTool() {
< 		return newActionToolEClass;
---
> 	public EClass getValueExpression() {
> 		return valueExpressionEClass;
711,712c669,670
< 	public EClass getConstraint() {
< 		return constraintEClass;
---
> 	public EAttribute getValueExpression_Body() {
> 		return (EAttribute)valueExpressionEClass.getEStructuralFeatures().get(0);
720,721c678,679
< 	public EClass getLinkConstraints() {
< 		return linkConstraintsEClass;
---
> 	public EAttribute getValueExpression_Language() {
> 		return (EAttribute)valueExpressionEClass.getEStructuralFeatures().get(1);
729,730c687,688
< 	public EReference getLinkConstraints_LinkMapping() {
< 		return (EReference)linkConstraintsEClass.getEStructuralFeatures().get(0);
---
> 	public EClass getElementInitializer() {
> 		return elementInitializerEClass;
738,739c696,697
< 	public EReference getLinkConstraints_SourceEnd() {
< 		return (EReference)linkConstraintsEClass.getEStructuralFeatures().get(1);
---
> 	public EClass getFeatureSeqInitializer() {
> 		return featureSeqInitializerEClass;
747,748c705,706
< 	public EReference getLinkConstraints_TargetEnd() {
< 		return (EReference)linkConstraintsEClass.getEStructuralFeatures().get(2);
---
> 	public EReference getFeatureSeqInitializer_Initializers() {
> 		return (EReference)featureSeqInitializerEClass.getEStructuralFeatures().get(0);
756,757c714,715
< 	public EClass getValueExpression() {
< 		return valueExpressionEClass;
---
> 	public EClass getFeatureValueSpec() {
> 		return featureValueSpecEClass;
765,766c723,724
< 	public EAttribute getValueExpression_Body() {
< 		return (EAttribute)valueExpressionEClass.getEStructuralFeatures().get(0);
---
> 	public EReference getFeatureValueSpec_Feature() {
> 		return (EReference)featureValueSpecEClass.getEStructuralFeatures().get(0);
774,775c732,733
< 	public EAttribute getValueExpression_Language() {
< 		return (EAttribute)valueExpressionEClass.getEStructuralFeatures().get(1);
---
> 	public EClass getMenuOwner() {
> 		return menuOwnerEClass;
783,784c741,742
< 	public EClass getElementInitializer() {
< 		return elementInitializerEClass;
---
> 	public EReference getMenuOwner_ContextMenu() {
> 		return (EReference)menuOwnerEClass.getEStructuralFeatures().get(0);
792,793c750,751
< 	public EClass getFeatureSeqInitializer() {
< 		return featureSeqInitializerEClass;
---
> 	public EClass getToolOwner() {
> 		return toolOwnerEClass;
801,802c759,760
< 	public EReference getFeatureSeqInitializer_Initializers() {
< 		return (EReference)featureSeqInitializerEClass.getEStructuralFeatures().get(0);
---
> 	public EReference getToolOwner_Tool() {
> 		return (EReference)toolOwnerEClass.getEStructuralFeatures().get(0);
810,811c768,769
< 	public EClass getFeatureValueSpec() {
< 		return featureValueSpecEClass;
---
> 	public EClass getAppearanceSteward() {
> 		return appearanceStewardEClass;
819,820c777,778
< 	public EReference getFeatureValueSpec_Feature() {
< 		return (EReference)featureValueSpecEClass.getEStructuralFeatures().get(0);
---
> 	public EReference getAppearanceSteward_AppearanceStyle() {
> 		return (EReference)appearanceStewardEClass.getEStructuralFeatures().get(0);
1012a971,983
> 		mappingEClass = createEClass(MAPPING);
> 		createEReference(mappingEClass, MAPPING__NODES);
> 		createEReference(mappingEClass, MAPPING__LINKS);
> 		createEReference(mappingEClass, MAPPING__DIAGRAM);
> 		createEReference(mappingEClass, MAPPING__APPEARANCE_STYLES);
> 		createEReference(mappingEClass, MAPPING__AUDITS);
> 
> 		mappingEntryEClass = createEClass(MAPPING_ENTRY);
> 		createEReference(mappingEntryEClass, MAPPING_ENTRY__DOMAIN_META_ELEMENT);
> 		createEReference(mappingEntryEClass, MAPPING_ENTRY__DOMAIN_SPECIALIZATION);
> 		createEReference(mappingEntryEClass, MAPPING_ENTRY__DOMAIN_INITIALIZER);
> 		createEReference(mappingEntryEClass, MAPPING_ENTRY__CONTAINMENT_FEATURE);
> 
1014,1017d984
< 		createEReference(abstractNodeMappingEClass, ABSTRACT_NODE_MAPPING__DOMAIN_META_ELEMENT);
< 		createEReference(abstractNodeMappingEClass, ABSTRACT_NODE_MAPPING__DOMAIN_SPECIALIZATION);
< 		createEReference(abstractNodeMappingEClass, ABSTRACT_NODE_MAPPING__DOMAIN_INITIALIZER);
< 		createEReference(abstractNodeMappingEClass, ABSTRACT_NODE_MAPPING__CONTAINMENT_FEATURE);
1021,1023d987
< 		createEReference(abstractNodeMappingEClass, ABSTRACT_NODE_MAPPING__TOOL);
< 
< 		mappingEntryEClass = createEClass(MAPPING_ENTRY);
1040,1043d1003
< 		createEReference(linkMappingEClass, LINK_MAPPING__DOMAIN_META_ELEMENT);
< 		createEReference(linkMappingEClass, LINK_MAPPING__DOMAIN_SPECIALIZATION);
< 		createEReference(linkMappingEClass, LINK_MAPPING__DOMAIN_INITIALIZER);
< 		createEReference(linkMappingEClass, LINK_MAPPING__CONTAINMENT_FEATURE);
1049d1008
< 		createEReference(linkMappingEClass, LINK_MAPPING__TOOL);
1055,1072c1014,1016
< 
< 		mappingEClass = createEClass(MAPPING);
< 		createEReference(mappingEClass, MAPPING__NODES);
< 		createEReference(mappingEClass, MAPPING__LINKS);
< 		createEReference(mappingEClass, MAPPING__DIAGRAM);
< 		createEReference(mappingEClass, MAPPING__TOOL_GROUPS);
< 		createEReference(mappingEClass, MAPPING__AUDITS);
< 
< 		toolGroupEClass = createEClass(TOOL_GROUP);
< 		createEAttribute(toolGroupEClass, TOOL_GROUP__NAME);
< 		createEReference(toolGroupEClass, TOOL_GROUP__TOOLS);
< 
< 		toolEClass = createEClass(TOOL);
< 		createEReference(toolEClass, TOOL__GROUP);
< 
< 		creationToolEClass = createEClass(CREATION_TOOL);
< 
< 		newActionToolEClass = createEClass(NEW_ACTION_TOOL);
---
> 		createEReference(canvasMappingEClass, CANVAS_MAPPING__PALETTE);
> 		createEReference(canvasMappingEClass, CANVAS_MAPPING__MENU_CONTRIBUTIONS);
> 		createEReference(canvasMappingEClass, CANVAS_MAPPING__TOOLBAR_CONTRIBUTIONS);
1092a1037,1045
> 		menuOwnerEClass = createEClass(MENU_OWNER);
> 		createEReference(menuOwnerEClass, MENU_OWNER__CONTEXT_MENU);
> 
> 		toolOwnerEClass = createEClass(TOOL_OWNER);
> 		createEReference(toolOwnerEClass, TOOL_OWNER__TOOL);
> 
> 		appearanceStewardEClass = createEClass(APPEARANCE_STEWARD);
> 		createEReference(appearanceStewardEClass, APPEARANCE_STEWARD__APPEARANCE_STYLE);
> 
1139a1093
> 		GMFToolPackage theGMFToolPackage = (GMFToolPackage)EPackage.Registry.INSTANCE.getEPackage(GMFToolPackage.eNS_URI);
1142a1097,1100
> 		abstractNodeMappingEClass.getESuperTypes().add(this.getMappingEntry());
> 		abstractNodeMappingEClass.getESuperTypes().add(this.getMenuOwner());
> 		abstractNodeMappingEClass.getESuperTypes().add(this.getToolOwner());
> 		abstractNodeMappingEClass.getESuperTypes().add(this.getAppearanceSteward());
1144d1101
< 		nodeMappingEClass.getESuperTypes().add(this.getMappingEntry());
1147,1149c1104,1106
< 		canvasMappingEClass.getESuperTypes().add(this.getMappingEntry());
< 		creationToolEClass.getESuperTypes().add(this.getTool());
< 		newActionToolEClass.getESuperTypes().add(this.getTool());
---
> 		linkMappingEClass.getESuperTypes().add(this.getMenuOwner());
> 		linkMappingEClass.getESuperTypes().add(this.getToolOwner());
> 		linkMappingEClass.getESuperTypes().add(this.getAppearanceSteward());
1154a1112,1126
> 		initEClass(mappingEClass, Mapping.class, "Mapping", !IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
> 		initEReference(getMapping_Nodes(), this.getNodeMapping(), null, "nodes", null, 1, -1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 		initEReference(getMapping_Links(), this.getLinkMapping(), null, "links", null, 0, -1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 		initEReference(getMapping_Diagram(), this.getCanvasMapping(), null, "diagram", null, 1, 1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 		initEReference(getMapping_AppearanceStyles(), theGMFToolPackage.getStyleSelector(), null, "appearanceStyles", null, 0, -1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 		initEReference(getMapping_Audits(), this.getAuditContainer(), null, "audits", null, 0, 1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 
> 		initEClass(mappingEntryEClass, MappingEntry.class, "MappingEntry", IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
> 		initEReference(getMappingEntry_DomainMetaElement(), ecorePackage.getEClass(), null, "domainMetaElement", null, 0, 1, MappingEntry.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 		initEReference(getMappingEntry_DomainSpecialization(), this.getConstraint(), null, "domainSpecialization", null, 0, 1, MappingEntry.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 		initEReference(getMappingEntry_DomainInitializer(), this.getElementInitializer(), null, "domainInitializer", null, 0, 1, MappingEntry.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 		initEReference(getMappingEntry_ContainmentFeature(), ecorePackage.getEReference(), null, "containmentFeature", null, 0, 1, MappingEntry.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 
> 		addEOperation(mappingEntryEClass, ecorePackage.getEClass(), "getDomainContext", 0, 1);
> 
1156,1159d1127
< 		initEReference(getAbstractNodeMapping_DomainMetaElement(), ecorePackage.getEClass(), null, "domainMetaElement", null, 0, 1, AbstractNodeMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 		initEReference(getAbstractNodeMapping_DomainSpecialization(), this.getConstraint(), null, "domainSpecialization", null, 0, 1, AbstractNodeMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 		initEReference(getAbstractNodeMapping_DomainInitializer(), this.getElementInitializer(), null, "domainInitializer", null, 0, 1, AbstractNodeMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 		initEReference(getAbstractNodeMapping_ContainmentFeature(), ecorePackage.getEReference(), null, "containmentFeature", null, 0, 1, AbstractNodeMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1163,1167d1130
< 		initEReference(getAbstractNodeMapping_Tool(), this.getTool(), null, "tool", null, 0, 1, AbstractNodeMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 
< 		addEOperation(abstractNodeMappingEClass, ecorePackage.getEClass(), "getDomainContext", 0, 1);
< 
< 		initEClass(mappingEntryEClass, MappingEntry.class, "MappingEntry", IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
1184,1187d1146
< 		initEReference(getLinkMapping_DomainMetaElement(), ecorePackage.getEClass(), null, "domainMetaElement", null, 0, 1, LinkMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 		initEReference(getLinkMapping_DomainSpecialization(), this.getConstraint(), null, "domainSpecialization", null, 0, 1, LinkMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 		initEReference(getLinkMapping_DomainInitializer(), this.getElementInitializer(), null, "domainInitializer", null, 0, 1, LinkMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 		initEReference(getLinkMapping_ContainmentFeature(), ecorePackage.getEReference(), null, "containmentFeature", null, 0, 1, LinkMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1193,1195d1151
< 		initEReference(getLinkMapping_Tool(), this.getTool(), null, "tool", null, 0, 1, LinkMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 
< 		addEOperation(linkMappingEClass, ecorePackage.getEClass(), "getDomainContext", 0, 1);
1201,1218c1157,1159
< 
< 		initEClass(mappingEClass, Mapping.class, "Mapping", !IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
< 		initEReference(getMapping_Nodes(), this.getNodeMapping(), null, "nodes", null, 1, -1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 		initEReference(getMapping_Links(), this.getLinkMapping(), null, "links", null, 0, -1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 		initEReference(getMapping_Diagram(), this.getCanvasMapping(), null, "diagram", null, 1, 1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 		initEReference(getMapping_ToolGroups(), this.getToolGroup(), null, "toolGroups", null, 0, -1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 		initEReference(getMapping_Audits(), this.getAuditContainer(), null, "audits", null, 0, 1, Mapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 
< 		initEClass(toolGroupEClass, ToolGroup.class, "ToolGroup", !IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
< 		initEAttribute(getToolGroup_Name(), ecorePackage.getEString(), "name", null, 0, 1, ToolGroup.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_UNSETTABLE, IS_ID, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 		initEReference(getToolGroup_Tools(), this.getTool(), this.getTool_Group(), "tools", null, 0, -1, ToolGroup.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 
< 		initEClass(toolEClass, Tool.class, "Tool", IS_ABSTRACT, IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
< 		initEReference(getTool_Group(), this.getToolGroup(), this.getToolGroup_Tools(), "group", null, 0, 1, Tool.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 
< 		initEClass(creationToolEClass, CreationTool.class, "CreationTool", !IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
< 
< 		initEClass(newActionToolEClass, NewActionTool.class, "NewActionTool", !IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
---
> 		initEReference(getCanvasMapping_Palette(), theGMFToolPackage.getPalette(), null, "palette", null, 0, 1, CanvasMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 		initEReference(getCanvasMapping_MenuContributions(), theGMFToolPackage.getMainMenu(), null, "menuContributions", null, 0, -1, CanvasMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 		initEReference(getCanvasMapping_ToolbarContributions(), theGMFToolPackage.getToolbar(), null, "toolbarContributions", null, 0, -1, CanvasMapping.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
1238a1180,1188
> 		initEClass(menuOwnerEClass, MenuOwner.class, "MenuOwner", IS_ABSTRACT, IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
> 		initEReference(getMenuOwner_ContextMenu(), theGMFToolPackage.getContextMenu(), null, "contextMenu", null, 0, 1, MenuOwner.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 
> 		initEClass(toolOwnerEClass, ToolOwner.class, "ToolOwner", IS_ABSTRACT, IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
> 		initEReference(getToolOwner_Tool(), theGMFToolPackage.getAbstractTool(), null, "tool", null, 0, 1, ToolOwner.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 
> 		initEClass(appearanceStewardEClass, AppearanceSteward.class, "AppearanceSteward", IS_ABSTRACT, IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
> 		initEReference(getAppearanceSteward_AppearanceStyle(), theGMFToolPackage.getStyleSelector(), null, "appearanceStyle", null, 0, 1, AppearanceSteward.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 
1285c1235
< 		  (abstractNodeMappingEClass, 
---
> 		  (this, 
1302,1316c1252
< 		  (getAbstractNodeMapping_DomainSpecialization(), 
< 		   source, 
< 		   new String[] {
< 			 "def", "context",
< 			 "ocl", "self.getDomainContext()"
< 		   });				
< 		addAnnotation
< 		  (getAbstractNodeMapping_DomainInitializer(), 
< 		   source, 
< 		   new String[] {
< 			 "def", "context",
< 			 "ocl", "self.getDomainContext()"
< 		   });							
< 		addAnnotation
< 		  (getLinkMapping_DomainSpecialization(), 
---
> 		  (getMappingEntry_DomainSpecialization(), 
1323c1259
< 		  (getLinkMapping_DomainInitializer(), 
---
> 		  (getMappingEntry_DomainInitializer(), 
1413c1349
< 		  (getAbstractNodeMapping_DomainInitializer(), 
---
> 		  (getMappingEntry_DomainInitializer(), 
1419c1355
< 		  (getAbstractNodeMapping_ContainmentFeature(), 
---
> 		  (getMappingEntry_ContainmentFeature(), 
1422,1428c1358
< 			 "ocl", "containmentFeature.containment"
< 		   });		
< 		addAnnotation
< 		  (getAbstractNodeMapping_ContainmentFeature(), 
< 		   source, 
< 		   new String[] {
< 			 "ocl", "domainMetaElement.oclIsUndefined() or containmentFeature.eReferenceType.isSuperTypeOf(domainMetaElement)"
---
> 			 "ocl", "containmentFeature.oclIsUndefined() or (containmentFeature.containment and containmentFeature.eReferenceType.isSuperTypeOf(domainMetaElement))"
1437,1448d1366
< 		  (getLinkMapping_DomainInitializer(), 
< 		   source, 
< 		   new String[] {
< 			 "ocl", "let i : FeatureSeqInitializer = domainInitializer.oclAsType( FeatureSeqInitializer) in i.oclIsUndefined() or i.initializers.feature.eContainingClass->forAll(c|c.isSuperTypeOf(domainMetaElement)) "
< 		   });			
< 		addAnnotation
< 		  (getLinkMapping_ContainmentFeature(), 
< 		   source, 
< 		   new String[] {
< 			 "ocl", "containmentFeature.oclIsUndefined() or containmentFeature.eReferenceType.isSuperTypeOf(domainMetaElement)"
< 		   });		
< 		addAnnotation
