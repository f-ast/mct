2c2
<  * Copyright (c) 2002, 2004 IBM Corporation and others.
---
>  * Copyright (c) 2002, 2006 IBM Corporation and others.
14d13
< import java.util.Collection;
15a15
> import java.util.List;
16a17
> import org.eclipse.core.commands.ExecutionException;
72c73
< 		super(DiagramUIMessages.Commands_CreateCommand_Connection_Label);
---
> 		super(DiagramUIMessages.Commands_CreateCommand_Connection_Label, null);
143,146c144
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.ICommand#getAffectedObjects()
< 	 */
< 	public Collection getAffectedObjects() {
---
>     public List getAffectedFiles() {
158c156
< 		return super.getAffectedObjects();
---
>         return super.getAffectedFiles();
161,164c159
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.ICommand#isUndoable()
< 	 */
< 	public boolean isUndoable() {
---
> 	public boolean canUndo() {
168,171c163
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.ICommand#isRedoable()
< 	 */
< 	public boolean isRedoable() {
---
> 	public boolean canRedo() {
202d193
< 	 * @see org.eclipse.gmf.runtime.common.core.command.AbstractCommand#doExecute(org.eclipse.core.runtime.IProgressMonitor)
204c195,198
< 	protected CommandResult doExecute(IProgressMonitor progressMonitor) {
---
> 	protected CommandResult doExecuteWithResult(
>             IProgressMonitor progressMonitor, IAdaptable info)
>         throws ExecutionException {
>     
211c205
< 			return newErrorCommandResult(getLabel());
---
> 			return CommandResult.newErrorCommandResult(getLabel());
217c211
< 				newErrorCommandResult(getLabel());
---
> 				CommandResult.newErrorCommandResult(getLabel());
267c261
< 			return newCancelledCommandResult();
---
> 			return CommandResult.newCancelledCommandResult();
269c263
< 		return newOKCommandResult(req.getNewObject());
---
> 		return CommandResult.newOKCommandResult(req.getNewObject());
282,285c276,279
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.AbstractCommand#doRedo()
< 	 */
< 	protected CommandResult doRedo() {
---
>     
>     protected CommandResult doRedoWithResult(IProgressMonitor progressMonitor, IAdaptable info)
>         throws ExecutionException {
>  
289c283
< 		return newOKCommandResult();
---
> 		return CommandResult.newOKCommandResult();
292,295c286,288
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.AbstractCommand#doUndo()
< 	 */
< 	protected CommandResult doUndo() {
---
>     protected CommandResult doUndoWithResult(IProgressMonitor progressMonitor, IAdaptable info)
>         throws ExecutionException {
> 
299c292
< 		return newOKCommandResult();
---
> 		return CommandResult.newOKCommandResult();
