2c2
<  * Copyright (c) 2003, 2004 IBM Corporation and others.
---
>  * Copyright (c) 2003, 2008 IBM Corporation and others.
16a17
> import org.eclipse.draw2d.geometry.PrecisionPoint;
17a19
> import org.eclipse.gmf.runtime.draw2d.ui.geometry.PrecisionPointList;
20a23
>  * @author aboyko
29c32
< 	 * @param base inital length of the squares base
---
> 	 * @param height inital height of the bounding square
32,33c35,36
< 	public GeoShapeTriangleFigure( int base, int spacing ) {
< 		super(base, base, spacing);
---
> 	public GeoShapeTriangleFigure(int height, int spacing) {
> 		super((int)Math.round(2 * height / Math.sqrt(3)), height, spacing);
44c47
< 		PointList points = new PointList();
---
> 		PointList points = new PrecisionPointList();
46,48c49,51
< 		Point p1 = new Point( rect.x + ( rect.width / 2 ), rect.y );
< 		Point p2 = new Point( rect.x, rect.y + rect.height - 1 );
< 		Point p3 = new Point( rect.x + rect.width - 1, rect.y + rect.height - 1 );
---
> 		Point p1 = new PrecisionPoint( rect.preciseX() + rect.preciseWidth() / 2, rect.y );
> 		Point p2 = new PrecisionPoint( rect.preciseX(), rect.preciseY() + rect.preciseHeight() - 1 );
> 		Point p3 = new PrecisionPoint( rect.preciseX() + rect.preciseWidth() - 1, rect.preciseY() + rect.preciseHeight() - 1 );
