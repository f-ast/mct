27a28
> import org.eclipse.jdt.core.JavaCore;
46c47
< 	private List/*IFile*/ mySelectedFiles = Collections.EMPTY_LIST;
---
> 	private List<IFile> mySelectedFiles = Collections.emptyList();
133,135c134,135
< 		for (Iterator it = mySelectedFiles.iterator(); it.hasNext(); i++) {
< 			IFile next = (IFile) it.next();
< 			rv[i] = rs.getResource(URI.createPlatformResourceURI(next.getFullPath().toString(), true), true);
---
> 		for (IFile next : mySelectedFiles) {
> 			rv[i++] = rs.getResource(URI.createPlatformResourceURI(next.getFullPath().toString(), true), true);
141c141
< 		IStatus s = JavaConventions.validatePackageName(newText);
---
> 		IStatus s = JavaConventions.validatePackageName(newText, JavaCore.VERSION_1_4, JavaCore.VERSION_1_4);
151a152
> 	@SuppressWarnings("unchecked")
153c154
< 		mySelectedFiles = new ArrayList(5);
---
> 		mySelectedFiles = new ArrayList<IFile>(5);
