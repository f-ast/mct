16a17
> import org.eclipse.core.runtime.CoreException;
76,77c77
< 			myRunStatus = Status.CANCEL_STATUS;
< 			new ProgressMonitorDialog(getShell()).run(true, true, this);
---
> 			doRunWithStatus();
93d92
< 		} catch (InvocationTargetException ex) {
94a94
> 			// presumably, user canceled the operation, don't bother him with additional messages
99a100,116
> 	/**
> 	 * @return
> 	 */
> 	private void doRunWithStatus() throws InterruptedException {
> 		myRunStatus = Status.CANCEL_STATUS;
> 		try {
> 			new ProgressMonitorDialog(getShell()).run(true, true, this);
> 		} catch (InvocationTargetException ex) {
> 			Throwable targetException = ex.getTargetException();
> 			if (targetException instanceof CoreException) {
> 				myRunStatus = ((CoreException)targetException).getStatus();
> 			} else {
> 				myRunStatus = new Status(IStatus.ERROR, CodeGenUIPlugin.getPluginID(), 0, "Exception occurred while generating code", targetException);
> 			}
> 		}
> 	}
> 
