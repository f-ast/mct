103a104,105
> 	private ExternalParser myDesignLabelParser;
> 	private ExternalParser myAuxParser;
149,154d150
< 		// XXX meanwhile, we don't set any attributes to GenParsers (rather delegating to old, deprecated)
< 		if (myGenModel.getLabelParsers() == null) {
< 			myGenModel.setLabelParsers(GMFGenFactory.eINSTANCE.createGenParsers());
< 			// unless bug #235113 is fixed, always do ParserService
< 			myGenModel.getLabelParsers().setExtensibleViaService(true);
< 		}
185c181
< 	private Palette createGenPalette() {
---
> 	private Palette getGenPalette() {
194c190
< 	private GenPropertySheet createPropertySheet() {
---
> 	private GenPropertySheet getPropertySheet() {
200a197,206
> 	private GenParsers getGenParsers() {
> 		// XXX meanwhile, we don't set any attributes to GenParsers (rather delegating to old, deprecated)
> 		if (getGenEssence().getLabelParsers() == null) {
> 			getGenEssence().setLabelParsers(GMFGenFactory.eINSTANCE.createGenParsers());
> 			// unless bug #235113 is fixed, always do ParserService
> 			getGenEssence().getLabelParsers().setExtensibleViaService(true);
> 		}
> 		return getGenEssence().getLabelParsers();
> 	}
> 
207c213
< 			myPaletteProcessor.initialize(createGenPalette());
---
> 			myPaletteProcessor.initialize(getGenPalette());
232c238
< 		myPropertySheetProcessor.initialize(createPropertySheet());
---
> 		myPropertySheetProcessor.initialize(getPropertySheet());
593a600
> 			modelFacet.setParser(getOrCreateParser((DesignLabelMapping) mapping));
596c603,608
< 		return null;
---
> 		// create bare instance that points to a ExternalParser
> 		// this is modification of old contract (though, not breaking change, I believe)
> 		// that says null modelFacet means use of external parser
> 		LabelModelFacet modelFacet = GMFGenFactory.eINSTANCE.createLabelModelFacet();
> 		modelFacet.setParser(getOrCreateParser(mapping));
> 		return modelFacet;
1274c1286
< 		for (GenParserImplementation pi : getGenEssence().getLabelParsers().getImplementations()) {
---
> 		for (GenParserImplementation pi : getGenParsers().getImplementations()) {
1287c1299
< 		getGenEssence().getLabelParsers().getImplementations().add(result);
---
> 		getGenParsers().getImplementations().add(result);
1289a1302,1317
> 
> 	private GenParserImplementation getOrCreateParser(DesignLabelMapping flMapping) {
> 		if (myDesignLabelParser == null) {
> 			myDesignLabelParser = GMFGenFactory.eINSTANCE.createExternalParser();
> 			getGenParsers().getImplementations().add(myDesignLabelParser);
> 		}
> 		return myDesignLabelParser;
> 	}
> 
> 	private GenParserImplementation getOrCreateParser(LabelMapping flMapping) {
> 		if (myAuxParser == null) {
> 			myAuxParser = GMFGenFactory.eINSTANCE.createExternalParser();
> 			getGenParsers().getImplementations().add(myAuxParser);
> 		}
> 		return myAuxParser;
> 	}
