1a2
>  * Copyright (c) 2005, 2007 IBM Corporation and others.
22a24
> import org.eclipse.core.runtime.IPath;
366a369,391
>     
>     /**
>      * Additionally handles updating the URI of the diagram's resource when on
>      * an element moved event.
>      *
>      * @param fileEditorInput the input of an document editor
>      * @param path the path of the new location of the file
>      */
>     protected void handleElementMoved(IFileEditorInput fileEditorInput, IPath path) {
>         if (path != null) {
>             IDiagramDocument diagramDocument = getDiagramDocument(fileEditorInput);
>             Diagram diagram = null;
>             if (diagramDocument != null) {
>                 diagram = diagramDocument.getDiagram();
>             }
>             if (diagram != null) {
>                 //not to os string!
>                 diagram.eResource().setURI(URI.createPlatformResourceURI(path.toString()));
>             }
>         }
>         
>         super.handleElementMoved(fileEditorInput, path);
>     }    
