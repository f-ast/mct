654c654,655
< 				// same nsURI is assumed because we're looking at supertypes of the eclass
---
> 				// nsURI could be different in supertypes of the eclass
> 				metamodelTypeDescriptorsByEClass = (Map) metamodelTypeDescriptorsByNsURI.get(nextEClass.getEPackage().getNsURI());
