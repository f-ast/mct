212d211
< 		// FIXME reuse
213a213,217
> 			EClassifier type = null;
> 			if (!((Collection) obj).isEmpty()) {
> 				// FIXME respect all! elements in the collection, not only the first one
> 				type = getType(((Collection) obj).iterator().next());
> 			}
215c219
< 				return CollectionTypesSupport.SET_OF_OBJECT;
---
> 				return collectionTypes.getSetType(type);
218c222
< 				return CollectionTypesSupport.LIST_OF_OBJECT;
---
> 				return collectionTypes.getListType(type);
220c224
< 			return CollectionTypesSupport.COLLECTION_OF_OBJECT;
---
> 			return collectionTypes.getCollectionType(type);
