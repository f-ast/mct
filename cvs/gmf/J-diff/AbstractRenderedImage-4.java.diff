18,19d17
< import org.eclipse.swt.graphics.Image;
< 
23a22,23
> import org.eclipse.gmf.runtime.draw2d.ui.render.internal.factory.RenderedImageKey;
> import org.eclipse.swt.graphics.Image;
41c41
< 	public AbstractRenderedImage(byte[] buff, RenderInfo key) { 
---
> 	public AbstractRenderedImage(final byte[] buff, RenderedImageKey key) { 
45c45
< 		this.buffer = new byte[buff.length];
---
> 		this.buffer = buff;
47,48d46
< 
< 		System.arraycopy(buff, 0, this.buffer, 0, buff.length);
52c50
< 	private RenderInfo key = null;
---
> 	private RenderedImageKey key = null;
66c64
< 	public RenderInfo getKey() {
---
> 	public RenderedImageKey getKey() {
104c102,107
< 			return RenderedImageFactory.getInstance(this.buffer, info);
---
> 			RenderedImage rndImg = RenderedImageFactory.getRelatedInstance(this, info);
> 			if (rndImg != null) {
> 				return rndImg;
> 			} else {
> 				return RenderedImageFactory.getInstance(getBuffer(), info);
> 			}
