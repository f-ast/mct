2c2
<  * Copyright (c) 2000, 2007 IBM Corporation and others.
---
>  * Copyright (c) 2000, 2008 IBM Corporation and others.
51c51,52
<  * 
---
>  * See also bugzilla #230056 setLineWidth in ScaledGraphics does not support the 
>  * zoom factor.
742a744,751
> 	/*
> 	 * We introduced line width zoom in GMF 2.1.
> 	 * Unfortunately GMF 2.0 clients used HiMetric map mode and called
> 	 * setLineWidth(1) rather than setLineWidth(getMapMode().LPtoDP(1)).
> 	 * This small piece of code detects this case and simply returns the
> 	 * line width.
> 	 */
> 	if (zoom < 0.04 && w < 25) {
744a754,759
> 	/*
> 	 * We interestingly add 0.1 to eliminate rounding errors with HiMetric
> 	 * map mode. This has no effect with identity/pixel map mode.
> 	 */
> 	return (int) ((zoom * w) + 0.1);
> }
