44d43
< import org.eclipse.gmf.runtime.draw2d.ui.internal.graphics.MapModeFreeformLayer;
46c45,46
< import org.eclipse.gmf.runtime.draw2d.ui.mapmode.MapMode;
---
> import org.eclipse.gmf.runtime.draw2d.ui.mapmode.IMapMode;
> import org.eclipse.gmf.runtime.draw2d.ui.mapmode.MapModeTypes;
85a86,89
> 		public DiagramScalableFreeformLayeredPane(IMapMode mm) {
> 			super(mm);
> 		}
> 
177,184d180
<     * Creates the <code>MapModeFreeformLayer</code>.
< 	 * @return the new <code>MapModeFreeformLayer</code>
< 	 */
< 	protected MapModeFreeformLayer createMapModeFreeformLayer() {
< 		return new MapModeFreeformLayer();
< 	}
<    
<     /**
189c185
< 		return new DiagramScalableFreeformLayeredPane();
---
> 		return new DiagramScalableFreeformLayeredPane(getMapMode());
299c295
< 		int spacing = MapMode.DPtoLP(spacingInPixels);
---
> 		int spacing = getMapMode().DPtoLP(spacingInPixels);
584a581,590
> 	/**
> 	 * Override this if the Editor wishes to support a coordinate system other then the default 
> 	 * (usually HiMetric coordinates).  
> 	 * @return <code>IMapMode</code> that is the coordinate mapping for the Editor from device to
> 	 * logical coordinates.
> 	 */
> 	public IMapMode getMapMode() {
> 		return MapModeTypes.DEFAULT_MM;
> 	}
> 
