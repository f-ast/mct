14a15,17
> import java.util.ArrayList;
> import java.util.LinkedHashMap;
> import java.util.Map;
38a42
> 	private final Map<String, Figure> myCallbackFigures = new LinkedHashMap<String, Figure>(); 
172d175
< 			generatePluginActivator();
173a177
> 			generatePluginActivator();
180,181c184,185
< 		Object[] args = new Object[] {myArgs, new ImportUtil(myArgs.getPluginActivatorPackageName(), myArgs.getPluginActivatorClassName())};
< 		doGenerateJavaClass(myAuxiliaryGenerators.getPluginActivatorEmitter(), myArgs.getPluginActivatorPackageName(), myArgs.getPluginActivatorClassName(), new Object[] {args});		
---
> 		Object[] args = new Object[] {myArgs, new ImportUtil(myArgs.getPluginActivatorPackageName(), myArgs.getPluginActivatorClassName()), new ArrayList<String>(myCallbackFigures.keySet())};
> 		doGenerateJavaClass(myAuxiliaryGenerators.getPluginActivatorEmitter(), myArgs.getPluginActivatorPackageName(), myArgs.getPluginActivatorClassName(), args);		
190a195
> 		myCallbackFigures.clear(); // just in case
202c207,209
< 		return composeFQN(getPackageName(), importAssistant.getCompilationUnitName());
---
> 		final String qualifiedName = composeFQN(getPackageName(), importAssistant.getCompilationUnitName());
> 		myCallbackFigures.put(qualifiedName, figure);
> 		return qualifiedName;
