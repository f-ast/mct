2c2
<  * Copyright (c) 2002, 2003 IBM Corporation and others.
---
>  * Copyright (c) 2002, 2007 IBM Corporation and others.
14d13
< 
16,17c15
< 
< import org.eclipse.gmf.runtime.draw2d.ui.figures.WrapLabel;
---
> import org.eclipse.gmf.runtime.diagram.ui.label.ILabelDelegate;
20,21c18,19
<  * A non-resizable editpolicy for text compartments. It handles the
<  * selection and focus feedback of text compartments.
---
>  * A non-resizable editpolicy for text compartments. It handles the selection
>  * and focus feedback of text compartments.
29,30c27,34
< 	private WrapLabel getLabel() {
< 		return (WrapLabel) getHostFigure();
---
>     /**
>      * Gets the label delegate that is used to interact with the label figure
>      * inside the host editpart.
>      * 
>      * @return the label delegate
>      */
>     private ILabelDelegate getLabel() {
>         return (ILabelDelegate) getHost().getAdapter(ILabelDelegate.class);
36a41
>         if (getLabel() != null) {
38a44
>     }
43a50
>         if (getLabel() != null) {
45a53
>         }
52a61
>         if (getLabel() != null) {
54a64
>     }
59a70
>         if (getLabel() != null) {
62a74
>     }
67a80
>         if (getLabel() != null) {
71a85
> }
