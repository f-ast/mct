34,41c34,41
< 		preserveIfSet(GMFGEN.getGenEditorGenerator(), GMFGEN.getGenEditorGenerator_CopyrightText());
< 		preserveIfSet(GMFGEN.getGenEditorGenerator(), GMFGEN.getGenEditorGenerator_PackageNamePrefix());
< 		preserveIfSet(GMFGEN.getGenEditorGenerator(), GMFGEN.getGenEditorGenerator_DomainFileExtension());
< 		preserveIfSet(GMFGEN.getGenEditorGenerator(), GMFGEN.getGenEditorGenerator_DiagramFileExtension());
< 		preserveIfSet(GMFGEN.getGenEditorGenerator(), GMFGEN.getGenEditorGenerator_SameFileForDiagramAndModel());
< 		preserveIfSet(GMFGEN.getGenEditorGenerator(), GMFGEN.getGenEditorGenerator_ModelID());
< 		preserveIfSet(GMFGEN.getGenEditorGenerator(), GMFGEN.getGenEditorGenerator_DynamicTemplates());
< 		preserveIfSet(GMFGEN.getGenEditorGenerator(), GMFGEN.getGenEditorGenerator_TemplateDirectory());
---
> 		preserveIfSet(GMFGEN.getGenEditorGenerator_CopyrightText());
> 		preserveIfSet(GMFGEN.getGenEditorGenerator_PackageNamePrefix());
> 		preserveIfSet(GMFGEN.getGenEditorGenerator_DomainFileExtension());
> 		preserveIfSet(GMFGEN.getGenEditorGenerator_DiagramFileExtension());
> 		preserveIfSet(GMFGEN.getGenEditorGenerator_SameFileForDiagramAndModel());
> 		preserveIfSet(GMFGEN.getGenEditorGenerator_ModelID());
> 		preserveIfSet(GMFGEN.getGenEditorGenerator_DynamicTemplates());
> 		preserveIfSet(GMFGEN.getGenEditorGenerator_TemplateDirectory());
44,49c44,49
< 		preserveIfSet(GMFGEN.getGenPlugin(), GMFGEN.getGenPlugin_ID());
< 		preserveIfSet(GMFGEN.getGenPlugin(), GMFGEN.getGenPlugin_Name());
< 		preserveIfSet(GMFGEN.getGenPlugin(), GMFGEN.getGenPlugin_Provider());
< 		preserveIfSet(GMFGEN.getGenPlugin(), GMFGEN.getGenPlugin_Version());
< 		preserveIfSet(GMFGEN.getGenPlugin(), GMFGEN.getGenPlugin_ActivatorClassName());
< 		preserveIfSet(GMFGEN.getGenPlugin(), GMFGEN.getGenPlugin_PrintingEnabled());
---
> 		preserveIfSet(GMFGEN.getGenPlugin_ID());
> 		preserveIfSet(GMFGEN.getGenPlugin_Name());
> 		preserveIfSet(GMFGEN.getGenPlugin_Provider());
> 		preserveIfSet(GMFGEN.getGenPlugin_Version());
> 		preserveIfSet(GMFGEN.getGenPlugin_ActivatorClassName());
> 		preserveIfSet(GMFGEN.getGenPlugin_PrintingEnabled());
52,54c52,54
< 		preserveIfSet(GMFGEN.getGenEditorView(), GMFGEN.getGenEditorView_IconPath());
< 		preserveIfSet(GMFGEN.getGenEditorView(), GMFGEN.getGenEditorView_ClassName());
< 		preserveIfSet(GMFGEN.getGenEditorView(), GMFGEN.getGenEditorView_ID());
---
> 		preserveIfSet(GMFGEN.getGenEditorView_IconPath());
> 		preserveIfSet(GMFGEN.getGenEditorView_ClassName());
> 		preserveIfSet(GMFGEN.getGenEditorView_ID());
95,97c95,97
< 		preserveIfSet(GMFGEN.getGenCompartment(), GMFGEN.getGenCompartment_CanCollapse());
< 		preserveIfSet(GMFGEN.getGenCompartment(), GMFGEN.getGenCompartment_HideIfEmpty());
< 		preserveIfSet(GMFGEN.getGenCompartment(), GMFGEN.getGenCompartment_NeedsTitle());
---
> 		preserveIfSet(GMFGEN.getGenCompartment_CanCollapse());
> 		preserveIfSet(GMFGEN.getGenCompartment_HideIfEmpty());
> 		preserveIfSet(GMFGEN.getGenCompartment_NeedsTitle());
105,108c105,108
< 		preserveIfSet(GMFGEN.getGenLink(), GMFGEN.getGenLink_IncomingCreationAllowed());
< 		preserveIfSet(GMFGEN.getGenLink(), GMFGEN.getGenLink_OutgoingCreationAllowed());
< 		preserveIfSet(GMFGEN.getGenLink(), GMFGEN.getGenLink_ViewDirectionAlignedWithModel());
< 		preserveIfSet(GMFGEN.getGenLink(), GMFGEN.getGenLink_TreeBranch());
---
> 		preserveIfSet(GMFGEN.getGenLink_IncomingCreationAllowed());
> 		preserveIfSet(GMFGEN.getGenLink_OutgoingCreationAllowed());
> 		preserveIfSet(GMFGEN.getGenLink_ViewDirectionAlignedWithModel());
> 		preserveIfSet(GMFGEN.getGenLink_TreeBranch());
124,125c124,125
< 		preserveIfSet(GMFGEN.getDefaultSizeAttributes(), GMFGEN.getDefaultSizeAttributes_Height());
< 		preserveIfSet(GMFGEN.getDefaultSizeAttributes(), GMFGEN.getDefaultSizeAttributes_Width());
---
> 		preserveIfSet(GMFGEN.getDefaultSizeAttributes_Height());
> 		preserveIfSet(GMFGEN.getDefaultSizeAttributes_Width());
157,158c157,158
< 		preserveIfSet(GMFGEN.getOpenDiagramBehaviour(), GMFGEN.getOpenDiagramBehaviour_EditPolicyClassName());
< 		preserveIfSet(GMFGEN.getOpenDiagramBehaviour(), GMFGEN.getOpenDiagramBehaviour_OpenAsEclipseEditor());
---
> 		preserveIfSet(GMFGEN.getOpenDiagramBehaviour_EditPolicyClassName());
> 		preserveIfSet(GMFGEN.getOpenDiagramBehaviour_OpenAsEclipseEditor());
175,178c175,178
< 		preserveIfSet(GMFGEN.getGenPropertySheet(), GMFGEN.getGenPropertySheet_ReadOnly());
< 		preserveIfSet(GMFGEN.getGenPropertySheet(), GMFGEN.getGenPropertySheet_NeedsCaption());
< 		preserveIfSet(GMFGEN.getGenPropertySheet(), GMFGEN.getGenPropertySheet_PackageName());
< 		preserveIfSet(GMFGEN.getGenPropertySheet(), GMFGEN.getGenPropertySheet_LabelProviderClassName());
---
> 		preserveIfSet(GMFGEN.getGenPropertySheet_ReadOnly());
> 		preserveIfSet(GMFGEN.getGenPropertySheet_NeedsCaption());
> 		preserveIfSet(GMFGEN.getGenPropertySheet_PackageName());
> 		preserveIfSet(GMFGEN.getGenPropertySheet_LabelProviderClassName());
184c184
< 		preserveIfSet(GMFGEN.getGenCustomPropertyTab(), GMFGEN.getGenCustomPropertyTab_ClassName());
---
> 		preserveIfSet(GMFGEN.getGenCustomPropertyTab_ClassName());
197,212c197,212
< 		preserveIfSet(GMFGEN.getGenNavigator(), GMFGEN.getGenNavigator_ContentExtensionID());
< 		preserveIfSet(GMFGEN.getGenNavigator(), GMFGEN.getGenNavigator_ContentExtensionName());
< 		preserveIfSet(GMFGEN.getGenNavigator(), GMFGEN.getGenNavigator_ContentExtensionPriority());
< 		preserveIfSet(GMFGEN.getGenNavigator(), GMFGEN.getGenNavigator_LinkHelperExtensionID());
< 		preserveIfSet(GMFGEN.getGenNavigator(), GMFGEN.getGenNavigator_SorterExtensionID());
< 		preserveIfSet(GMFGEN.getGenNavigator(), GMFGEN.getGenNavigator_ActionProviderID());
< 		preserveIfSet(GMFGEN.getGenNavigator(), GMFGEN.getGenNavigator_ContentProviderClassName());
< 		preserveIfSet(GMFGEN.getGenNavigator(), GMFGEN.getGenNavigator_LabelProviderClassName());
< 		preserveIfSet(GMFGEN.getGenNavigator(), GMFGEN.getGenNavigator_LinkHelperClassName());
< 		preserveIfSet(GMFGEN.getGenNavigator(), GMFGEN.getGenNavigator_SorterClassName());
< 		preserveIfSet(GMFGEN.getGenNavigator(), GMFGEN.getGenNavigator_ActionProviderClassName());
< 		preserveIfSet(GMFGEN.getGenNavigator(), GMFGEN.getGenNavigator_AbstractNavigatorItemClassName());
< 		preserveIfSet(GMFGEN.getGenNavigator(), GMFGEN.getGenNavigator_NavigatorGroupClassName());
< 		preserveIfSet(GMFGEN.getGenNavigator(), GMFGEN.getGenNavigator_NavigatorItemClassName());
< 		preserveIfSet(GMFGEN.getGenNavigator(), GMFGEN.getGenNavigator_UriInputTesterClassName());
< 		preserveIfSet(GMFGEN.getGenNavigator(), GMFGEN.getGenNavigator_PackageName());
---
> 		preserveIfSet(GMFGEN.getGenNavigator_ContentExtensionID());
> 		preserveIfSet(GMFGEN.getGenNavigator_ContentExtensionName());
> 		preserveIfSet(GMFGEN.getGenNavigator_ContentExtensionPriority());
> 		preserveIfSet(GMFGEN.getGenNavigator_LinkHelperExtensionID());
> 		preserveIfSet(GMFGEN.getGenNavigator_SorterExtensionID());
> 		preserveIfSet(GMFGEN.getGenNavigator_ActionProviderID());
> 		preserveIfSet(GMFGEN.getGenNavigator_ContentProviderClassName());
> 		preserveIfSet(GMFGEN.getGenNavigator_LabelProviderClassName());
> 		preserveIfSet(GMFGEN.getGenNavigator_LinkHelperClassName());
> 		preserveIfSet(GMFGEN.getGenNavigator_SorterClassName());
> 		preserveIfSet(GMFGEN.getGenNavigator_ActionProviderClassName());
> 		preserveIfSet(GMFGEN.getGenNavigator_AbstractNavigatorItemClassName());
> 		preserveIfSet(GMFGEN.getGenNavigator_NavigatorGroupClassName());
> 		preserveIfSet(GMFGEN.getGenNavigator_NavigatorItemClassName());
> 		preserveIfSet(GMFGEN.getGenNavigator_UriInputTesterClassName());
> 		preserveIfSet(GMFGEN.getGenNavigator_PackageName());
218,223c218,223
< 		preserveIfSet(GMFGEN.getGenApplication(), GMFGEN.getGenApplication_ID());
< 		preserveIfSet(GMFGEN.getGenApplication(), GMFGEN.getGenApplication_Title());
< 		preserveIfSet(GMFGEN.getGenApplication(), GMFGEN.getGenApplication_PackageName());
< 		preserveIfSet(GMFGEN.getGenApplication(), GMFGEN.getGenApplication_ClassName());
< 		preserveIfSet(GMFGEN.getGenApplication(), GMFGEN.getGenApplication_PerspectiveId());
< 		preserveIfSet(GMFGEN.getGenApplication(), GMFGEN.getGenApplication_SupportFiles());
---
> 		preserveIfSet(GMFGEN.getGenApplication_ID());
> 		preserveIfSet(GMFGEN.getGenApplication_Title());
> 		preserveIfSet(GMFGEN.getGenApplication_PackageName());
> 		preserveIfSet(GMFGEN.getGenApplication_ClassName());
> 		preserveIfSet(GMFGEN.getGenApplication_PerspectiveId());
> 		preserveIfSet(GMFGEN.getGenApplication_SupportFiles());
246,247c246,247
< 		preserveIfSet(GMFGEN.getDynamicModelAccess(), GMFGEN.getDynamicModelAccess_ClassName());
< 		preserveIfSet(GMFGEN.getDynamicModelAccess(), GMFGEN.getDynamicModelAccess_PackageName());
---
> 		preserveIfSet(GMFGEN.getDynamicModelAccess_ClassName());
> 		preserveIfSet(GMFGEN.getDynamicModelAccess_PackageName());
252c252
< 		preserveIfSet(GMFGEN.getGenJavaExpressionProvider(), GMFGEN.getGenJavaExpressionProvider_InjectExpressionBody());
---
> 		preserveIfSet(GMFGEN.getGenJavaExpressionProvider_InjectExpressionBody());
255,258c255,258
< 		preserveIfSet(GMFGEN.getGenParsers(), GMFGEN.getGenParsers_ClassName());
< 		preserveIfSet(GMFGEN.getGenParsers(), GMFGEN.getGenParsers_PackageName());
< 		preserveIfSet(GMFGEN.getGenParsers(), GMFGEN.getGenParsers_ProviderPriority());
< 		preserveIfSet(GMFGEN.getGenParsers(), GMFGEN.getGenParsers_ExtensibleViaService());
---
> 		preserveIfSet(GMFGEN.getGenParsers_ClassName());
> 		preserveIfSet(GMFGEN.getGenParsers_PackageName());
> 		preserveIfSet(GMFGEN.getGenParsers_ProviderPriority());
> 		preserveIfSet(GMFGEN.getGenParsers_ExtensibleViaService());
263c263
< 		preserveIfSet(GMFGEN.getGenCommandAction(), GMFGEN.getGenCommandAction_Name());
---
> 		preserveIfSet(GMFGEN.getGenCommandAction_Name());
272,274c272,274
< 	private void preserveIfSet(EClass eClass, EAttribute feature) {
< 		if (feature.getEContainingClass() != eClass) {
< 			throw new IllegalStateException();
---
> 	private void preserveIfSet(EAttribute feature) {
> 		assert !feature.getEContainingClass().isAbstract();
> 		addDecision(feature.getEContainingClass(), new DefaultDecision(feature));
275a276
> 	private void preserveIfSet(EClass eClass, EAttribute feature) {
