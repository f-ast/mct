2c2
<  * Copyright (c) 2006 Eclipse.org
---
>  * Copyright (c) 2006,2007 Eclipse.org
28c28
< 		return new XpandExecutionContextImpl(resourceManager, null, null);
---
> 		return createXpandContext(resourceManager, null, null, null);
32c32,38
< 		return new XpandExecutionContextImpl(resourceManager, output, null, globalVars);
---
> 		return createXpandContext(resourceManager, output, globalVars, null);
> 	}
> 
> 	public static XpandExecutionContext createXpandContext(ResourceManager resourceManager, Output output, Collection<Variable> globalVars, ClassLoader context) {
> 		final XpandExecutionContextImpl execCtx = new XpandExecutionContextImpl(resourceManager, output, null, globalVars);
> 		execCtx.setContextClassLoader(context);
> 		return execCtx;
