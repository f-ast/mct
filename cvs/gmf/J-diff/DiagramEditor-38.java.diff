2c2
<  * Copyright (c) 2002, 2007 IBM Corporation and others.
---
>  * Copyright (c) 2002, 2008 IBM Corporation and others.
116a117
> import org.eclipse.jface.action.MenuManager;
228,237c229,232
<             // No support for a context menu on the outline view for
<             // release 6.0. See RATLC00529151, RATLC00529144
<             // The selected item is a TreeEditPart which is not an
<             // IGraphicalEditPart and many actions/commands don't support it
<             // ContextMenuProvider provider = new DiagramContextMenuProvider(
<             // DiagramEditor.this, getViewer());
<             // getViewer().setContextMenu(provider);
<             // this.getSite().registerContextMenu(
<             // ActionIds.DIAGRAM_OUTLINE_CONTEXT_MENU, provider,
<             // this.getSite().getSelectionProvider());
---
>             MenuManager outlineContextMenuProvider = getOutlineContextMenuProvider(getViewer());
>             if (outlineContextMenuProvider != null) {
>             	getViewer().setContextMenu(outlineContextMenuProvider);
>             }
449a445,458
>      * Returns the context menu provider for the outline view.
>      * 
>      * @param viewer The outline viewer for which this context menu provider
>      *  will be added.
>      *  
>      * @return A menu manager that can be used in the provided outline viewer
>      *  or null if no context menu should be shown.
>      *  
>      */
>     protected MenuManager getOutlineContextMenuProvider(EditPartViewer viewer) {
> 		return null;
> 	}
> 
> 	/**
