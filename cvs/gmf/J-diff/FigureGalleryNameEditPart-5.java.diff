2c2
<  * Copyright (c) 2006 Borland Software Corporation and others.
---
>  *  Copyright (c) 2006, 2007 Borland Software Corporation and others.
13,16c13
< import org.eclipse.gef.EditPolicy;
< import org.eclipse.gmf.runtime.diagram.ui.editparts.ITextAwareEditPart;
< import org.eclipse.gmf.runtime.diagram.ui.editpolicies.LabelDirectEditPolicy;
< import org.eclipse.gmf.runtime.notation.View;
---
> import java.util.ArrayList;
22d18
< 
24d19
< 
26d20
< 
28d21
< 
30d22
< 
31a24,25
> import org.eclipse.gef.EditPolicy;
> import org.eclipse.gef.GraphicalEditPart;
33c27,29
< 
---
> import org.eclipse.gef.commands.Command;
> import org.eclipse.gef.editpolicies.NonResizableEditPolicy;
> import org.eclipse.gef.handles.NonResizableHandleKit;
35d30
< 
37d31
< 
39,41d32
< 
< import org.eclipse.gmf.graphdef.editor.part.GMFGraphDiagramEditorPlugin;
< 
43d33
< 
49d38
< 
52c41,42
< 
---
> import org.eclipse.gmf.runtime.diagram.ui.editparts.ITextAwareEditPart;
> import org.eclipse.gmf.runtime.diagram.ui.editpolicies.LabelDirectEditPolicy;
54d43
< 
56d44
< 
58d45
< 
60d46
< 
62d47
< 
64d48
< 
67d50
< 
70,72c53
< 
< import org.eclipse.jface.resource.ImageDescriptor;
< 
---
> import org.eclipse.gmf.runtime.notation.View;
74d54
< 
76,78d55
< 
< import org.eclipse.swt.SWT;
< 
80d56
< 
127a104,119
> 		installEditPolicy(EditPolicy.PRIMARY_DRAG_ROLE, new NonResizableEditPolicy() {
> 
> 			protected List createSelectionHandles() {
> 				List handles = new ArrayList();
> 				NonResizableHandleKit.addMoveHandle((GraphicalEditPart) getHost(), handles);
> 				return handles;
> 			}
> 
> 			public Command getCommand(Request request) {
> 				return null;
> 			}
> 
> 			public boolean understandsRequest(Request request) {
> 				return false;
> 			}
> 		});
211,213c203,205
< 		ImageDescriptor descriptor = GMFGraphDiagramEditorPlugin.getInstance().getItemImageDescriptor(getParserElement());
< 		if (descriptor == null) {
< 			descriptor = ImageDescriptor.getMissingImageDescriptor();
---
> 		EObject parserElement = getParserElement();
> 		if (parserElement == null) {
> 			return null;
215c207
< 		return descriptor.createImage();
---
> 		return GMFGraphElementTypes.getImage(parserElement.eClass());
257c249
< 		return getEditText() != null;
---
> 		return getParser() != null;
447c439,440
< 			FontData fontData = new FontData(style.getFontName(), style.getFontHeight(), (style.isBold() ? SWT.BOLD : SWT.NORMAL) | (style.isItalic() ? SWT.ITALIC : SWT.NORMAL));
---
> 			FontData fontData = new FontData(style.getFontName(), style.getFontHeight(), (style.isBold() ? org.eclipse.swt.SWT.BOLD : org.eclipse.swt.SWT.NORMAL)
> 					| (style.isItalic() ? org.eclipse.swt.SWT.ITALIC : org.eclipse.swt.SWT.NORMAL));
562c555
< 		// Parent should assign one using setLabel method
---
> 		// Parent should assign one using setLabel() method
