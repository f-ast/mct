13,17d12
< import java.util.ArrayList;
< import java.util.Collection;
< import java.util.Collections;
< import java.util.Iterator;
< 
20d14
< import org.eclipse.gef.EditPart;
23,24d16
< import org.eclipse.gmf.graphdef.editor.edit.parts.FigureGalleryEditPart;
< import org.eclipse.gmf.runtime.diagram.ui.requests.EditCommandRequestWrapper;
27d18
< import org.eclipse.gmf.runtime.notation.Edge;
39,50c30
< 		CompoundCommand cc = new CompoundCommand();
< 		Collection allEdges = new ArrayList();
< 		View view = (View) getHost().getModel();
< 		allEdges.addAll(view.getSourceEdges());
< 		allEdges.addAll(view.getTargetEdges());
< 		for (Iterator it = allEdges.iterator(); it.hasNext();) {
< 			Edge nextEdge = (Edge) it.next();
< 			EditPart nextEditPart = (EditPart) getHost().getViewer().getEditPartRegistry().get(nextEdge);
< 			EditCommandRequestWrapper editCommandRequest = new EditCommandRequestWrapper(
< 					new DestroyElementRequest(((FigureGalleryEditPart) getHost()).getEditingDomain(), req.isConfirmationRequired()), Collections.EMPTY_MAP);
< 			cc.add(nextEditPart.getCommand(editCommandRequest));
< 		}
---
> 		CompoundCommand cc = getDestroyEdgesCommand(req.isConfirmationRequired());
63c43
< 		return cc;
---
> 		return cc.unwrap();
