2c2
<  * Copyright (c) 2005 IBM Corporation and others.
---
>  * Copyright (c) 2005, 2006 IBM Corporation and others.
23d22
< import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
26a26,27
> import org.eclipse.gmf.runtime.notation.FontStyle;
> import org.eclipse.gmf.runtime.notation.LineStyle;
42a44
> 
78d79
< 		EObject semanticElement = null;
80,81c81
< 			semanticElement = (EObject)semanticAdapter.getAdapter(EObject.class);
< 			return requiresElement(semanticElement,view);
---
> 			return requiresElement((EObject)semanticAdapter.getAdapter(EObject.class),view);
95,98c95
< 		EObject containerSemanticElement = view.getElement();
< 		if (containerSemanticElement==semanticElement)
< 			return false;
< 		return true;
---
> 		return !(semanticElement == view.getElement());		
111a109,111
>         LineStyle lineStyle = (LineStyle) view
> 			.getStyle(NotationPackage.Literals.LINE_STYLE);
> 		if (lineStyle != null) {
113,115c113
< 		RGB lineRGB =
< 			PreferenceConverter.getColor(
< 				store,
---
> 			RGB lineRGB = PreferenceConverter.getColor(store,
117d114
< 		ViewUtil.setStructuralFeatureValue(view,NotationPackage.eINSTANCE.getLineStyle_LineColor(), FigureUtilities.RGBToInteger(lineRGB));
118a116,123
> 			lineStyle.setLineColor(FigureUtilities.RGBToInteger(lineRGB)
> 				.intValue());
> 		}
> 
> 		FontStyle fontStyle = (FontStyle) view
> 			.getStyle(NotationPackage.Literals.FONT_STYLE);
> 
> 		if (fontStyle != null) {
120,122c125
< 		FontData fontData =
< 			PreferenceConverter.getFontData(
< 				store,
---
> 			FontData fontData = PreferenceConverter.getFontData(store,
124,128c127,130
< 		ViewUtil.setStructuralFeatureValue(view,NotationPackage.eINSTANCE.getFontStyle_FontName(), fontData.getName());
< 		ViewUtil.setStructuralFeatureValue(view,NotationPackage.eINSTANCE.getFontStyle_FontHeight(), new Integer(fontData.getHeight()));
< 		ViewUtil.setStructuralFeatureValue(view,NotationPackage.eINSTANCE.getFontStyle_Bold(), Boolean.valueOf((fontData.getStyle() & SWT.BOLD) != 0));
< 		ViewUtil.setStructuralFeatureValue(view,NotationPackage.eINSTANCE.getFontStyle_Italic(), Boolean.valueOf((fontData.getStyle() & SWT.ITALIC) != 0));
< 
---
> 			fontStyle.setFontName(fontData.getName());
> 			fontStyle.setFontHeight(fontData.getHeight());
> 			fontStyle.setBold((fontData.getStyle() & SWT.BOLD) != 0);
> 			fontStyle.setItalic((fontData.getStyle() & SWT.ITALIC) != 0);
130,132c132
< 		RGB fontRGB =
< 			PreferenceConverter.getColor(
< 				store,
---
> 			RGB fontRGB = PreferenceConverter.getColor(store,
134c134,137
< 		ViewUtil.setStructuralFeatureValue(view,NotationPackage.eINSTANCE.getFontStyle_FontColor(), FigureUtilities.RGBToInteger(fontRGB));
---
> 			fontStyle.setFontColor(FigureUtilities.RGBToInteger(fontRGB)
> 				.intValue());
> 		}
> 
