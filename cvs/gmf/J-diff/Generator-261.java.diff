28a29
> import org.eclipse.gmf.codegen.gmfgen.GMFGenFactory;
29a31
> import org.eclipse.gmf.codegen.gmfgen.GenAction;
59a62
> import org.eclipse.gmf.codegen.gmfgen.InitDiagramAction;
221,222c224
< 		generateLoadResourceAction();
< 		if (myDiagram.generateInitDiagramAction() || myDiagram.generateCreateShortcutAction()) {
---
> 		if (myDiagram.generateInitDiagramAction() || myDiagram.generateCreateShortcutAction() /*FIXME use another condition here*/) {
225,226c227,231
< 		if (myDiagram.generateInitDiagramAction()) {
< 			generateInitDiagramFileAction();
---
> 		if (myDiagram.generateInitDiagramAction() /*FIXME use another condition here*/) {
> 			// FIXME HACK!!! until I decide how to contribute action against IFile
> 			InitDiagramAction fakeAction = GMFGenFactory.eINSTANCE.createInitDiagramAction();
> 			fakeAction.setQualifiedClassName(myDiagram.getInitDiagramFileActionQualifiedClassName());
> 			doGenerateJavaClass(myEmitters.getPredefinedActionEmitter(), fakeAction.getQualifiedClassName(), fakeAction, myEditorGen);
229,230c234
< 		if (myDiagram.generateCreateShortcutAction()) {
< 			generateCreateShortcutAction();
---
> 		if (myDiagram.generateCreateShortcutAction() /*FIXME use another condition here*/) {
670,673d673
< 	private void generateInitDiagramFileAction() throws UnexpectedBehaviourException, InterruptedException {
< 		doGenerateJavaClass(myEmitters.getInitDiagramFileActionEmitter(), myEmitters.getInitDiagramFileActionName(myDiagram), myDiagram);
< 	}
< 
722,732d721
< 	private void generateCreateShortcutAction() throws InterruptedException {
< 		if (!myDiagram.generateCreateShortcutAction()) {
< 			return;
< 		}
< 		doGenerateJavaClass(myEmitters.getCreateShortcutActionEmitter(), myDiagram.getCreateShortcutActionQualifiedClassName(), myDiagram);
< 	}
< 	
< 	private void generateLoadResourceAction() throws InterruptedException {
< 		doGenerateJavaClass(myEmitters.getLoadResourceActionEmitter(), myDiagram.getLoadResourceActionQualifiedClassName(), myDiagram);
< 	}
< 	
1005a995,997
> 				} else if (ci instanceof GenAction) {
> 					doGenerateJavaClass(myEmitters.getPredefinedActionEmitter(), ((GenAction) ci).getQualifiedClassName(), ci);
> 					processedItems.add(ci);
