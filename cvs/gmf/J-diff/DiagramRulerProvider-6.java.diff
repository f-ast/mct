15,16d14
< import java.beans.PropertyChangeEvent;
< import java.beans.PropertyChangeListener;
21a20
> import org.eclipse.emf.common.notify.Notification;
26d24
< 
28c26
< import org.eclipse.gmf.runtime.diagram.core.listener.NotificationEvent;
---
> import org.eclipse.gmf.runtime.diagram.core.listener.NotificationListener;
29a28
> import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
30a30
> import org.eclipse.gmf.runtime.diagram.ui.internal.properties.Properties;
35,36d34
< import org.eclipse.gmf.runtime.diagram.ui.properties.Properties;
< import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
55,61c53,55
< 	private PropertyChangeListener rulerListener = new PropertyChangeListener() {
< 		public void propertyChange(PropertyChangeEvent evt) {
< 
< 			if( evt instanceof NotificationEvent ) {
< 				handleNotificationEvent( (NotificationEvent)evt );
< 				return;
< 			}
---
> 	private NotificationListener rulerListener = new NotificationListener() {
> 		public void notifyChanged(Notification evt) {
> 			handleNotificationEvent(evt);
64c58
< 		private void handleNotificationEvent(NotificationEvent event) {
---
> 		private void handleNotificationEvent(Notification event) {
77c71
< 					PresentationListener.getInstance().addPropertyChangeListener(guide,guideListener);
---
> 					PresentationListener.getInstance().addNotificationListener(guide,guideListener);
83c77
< 					PresentationListener.getInstance().removePropertyChangeListener(guide,guideListener);
---
> 					PresentationListener.getInstance().removeNotificationListener(guide,guideListener);
94,100c88,90
< 	private PropertyChangeListener guideListener = new PropertyChangeListener() {
< 		public void propertyChange(PropertyChangeEvent evt) {
< 			
< 			if( evt instanceof NotificationEvent ) {
< 				handleNotificationEvent( (NotificationEvent)evt );
< 				return;
< 			}
---
> 	private NotificationListener guideListener = new NotificationListener() {
> 		public void notifyChanged(Notification evt) {
> 			handleNotificationEvent(evt);
103,104c93
< 		private void handleNotificationEvent(NotificationEvent event) {
< 		
---
> 		private void handleNotificationEvent(Notification event) {
106d94
< 			
111c99
< 							.notifyGuideMoved(event.getSource());
---
> 							.notifyGuideMoved(event.getNotifier());
122c110
< 							.notifyPartAttachmentChanged(event.getNewValue(), event.getSource());
---
> 							.notifyPartAttachmentChanged(event.getNewValue(), event.getNotifier());
135c123
< 		theRuler.addPropertyChangeListener(rulerListener);
---
> 		theRuler.addNotificationListener(rulerListener);
140c128
< 			PresentationListener.getInstance().addPropertyChangeListener(guide,guideListener);
---
> 			PresentationListener.getInstance().addNotificationListener(guide,guideListener);
147c135
< 		theRuler.removePropertyChangeListener(rulerListener);
---
> 		theRuler.removeNotificationListener(rulerListener);
