55a56,57
> import org.eclipse.swt.widgets.ToolBar;
> import org.eclipse.swt.widgets.ToolItem;
78c80
< 	private Button lineColorButton;
---
> 	private ToolItem lineColorButton;
289,290c291,294
< 
< 		lineColorButton = new Button(composite, SWT.PUSH);
---
> 		ToolBar toolBar = new ToolBar(composite, SWT.FLAT);
> 			toolBar.setLayout(new GridLayout(1, false));
> 			toolBar.setBackground(composite.getBackground());
> 		lineColorButton = new ToolItem(toolBar, SWT.DROP_DOWN);
292,298d295
< 
<         lineColorButton.getAccessible().addAccessibleListener(new AccessibleAdapter() {
< 					public void getName(AccessibleEvent e) {
< 						e.result = DiagramUIMessages.PropertyDescriptorFactory_LineColor;
< 					}
< 				});
< 
318a316,324
> 
> 		//the accessibility listener is applied to the whole tool bar because there is only one item in it, in the event
> 		//that additional tool items are added, this should be changed to search for the tool bar's children and their
> 		//their respective tool tips. Refer to ColorsAndFontsPropertySection.java.
>         toolBar.getAccessible().addAccessibleListener(new AccessibleAdapter() {
> 			public void getName(AccessibleEvent e) {
> 				e.result = DiagramUIMessages.PropertyDescriptorFactory_LineColor;
> 			}
> 		});		
344c350
< 	 * @param button -
---
> 	 * @param toolItem -
351c357
< 	private RGB changeColor(SelectionEvent event, Button button,
---
> 	private RGB changeColor(SelectionEvent event, ToolItem toolItem,
354c360
< 		ColorPalettePopup popup = new ColorPalettePopup(button.getParent()
---
> 		ColorPalettePopup popup = new ColorPalettePopup(toolItem.getParent()
358,359c364,365
< 		Rectangle r = button.getBounds();
< 		Point location = button.getParent().toDisplay(r.x, r.y);
---
> 		Rectangle r = toolItem.getBounds();
> 		Point location = toolItem.getParent().toDisplay(r.x, r.y);
366,367c372,373
< 			disposeImage(button.getImage());
< 			button.setImage(overlyedImage);
---
> 			disposeImage(toolItem.getImage());
> 			toolItem.setImage(overlyedImage);
375,376c381,382
< 			disposeImage(button.getImage());
< 			button.setImage(overlyedImage);
---
> 			disposeImage(toolItem.getImage());
> 			toolItem.setImage(overlyedImage);
