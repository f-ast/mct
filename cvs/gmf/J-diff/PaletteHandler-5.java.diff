15a16,17
> import java.util.LinkedList;
> import java.util.List;
24d25
< import org.eclipse.emf.ecore.EObject;
29a31
> import org.eclipse.gmf.codegen.gmfgen.Separator;
53c55
< 	private final HashMap/*<AbstractTool, EntryBase>*/ myToolHistory; // keeps track of tooldef-to-gmfgen tool transformations. Container maps to group as well
---
> 	private final HashMap<AbstractTool, ToolGroupItem> myToolHistory; // keeps track of tooldef-to-gmfgen tool transformations. Container maps to group as well
58c60
< 		myToolHistory = new HashMap();
---
> 		myToolHistory = new HashMap<AbstractTool, ToolGroupItem>();
79a82
> 	@SuppressWarnings("unchecked")
85c88
< 		EList groupItems = new ToolSwitch(myToolHistory).toGroupItems(palette.getTools());
---
> 		List groupItems = new ToolSwitch(myToolHistory).toGroupItems(palette.getTools());
103a107
> 			assert false == myToolHistory.get(palette.getDefault()) instanceof Separator;
113a118
> 	@SuppressWarnings("unchecked")
123a129
> 	@SuppressWarnings("unchecked")
160a167
> 	@SuppressWarnings("unchecked")
202c209
< 		private final Map toolHistory;
---
> 		private final Map<AbstractTool, ToolGroupItem> toolHistory;
204c211
< 		private ToolSwitch(Map toolMap) {
---
> 		private ToolSwitch(Map<AbstractTool, ToolGroupItem> toolMap) {
209c216
< 		public EList/*<ToolGroupItem>*/ toGroupItems(EList/*<AbstractTool>*/ toolDefinitions) {
---
> 		public List<ToolGroupItem> toGroupItems(List<AbstractTool> toolDefinitions) {
211,214c218,220
< 			EList rv = new BasicEList();
< 			for (Iterator it = toolDefinitions.iterator(); it.hasNext();) {
< 				final EObject next = (EObject) it.next();
< 				Object value = doSwitch(next);
---
> 			List<ToolGroupItem> rv = new LinkedList<ToolGroupItem>();
> 			for (AbstractTool next : toolDefinitions) {
> 				ToolGroupItem value = (ToolGroupItem) doSwitch(next);
250a257
> 		@SuppressWarnings("unchecked")
