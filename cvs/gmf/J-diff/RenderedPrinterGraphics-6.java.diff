66c66
< 						info.shouldMaintainAspectRatio(), true,
---
>                         info.shouldMaintainAspectRatio(), false, 
71,72c71,98
< 		Image swtImg = img.getSWTImage();
< 		drawImage(swtImg, rect.x, rect.y + rect.height - swtImg.getBounds().height);
---
>         Image swtImg = null;
>         try {
>             swtImg = img.getSWTImage();
>         }
>         catch (OutOfMemoryError e) {
>             // don't do any scaling and rerender with anti-aliasing on
>             nNewWidth = rect.width;
>             nNewHeight = rect.height;
>             info.setValues(nNewWidth, nNewHeight, 
>                 info.shouldMaintainAspectRatio(), true, 
>                 info.getBackgroundColor(), info.getForegroundColor());
>             img = srcImage.getNewRenderedImage(info);
>             swtImg = img.getSWTImage();
>         }
>         catch (Exception ex) {
>             // don't do any scaling and rerender with anti-aliasing on
>             nNewWidth = rect.width;
>             nNewHeight = rect.height;
>             info.setValues(nNewWidth, nNewHeight, 
>                 info.shouldMaintainAspectRatio(), true, 
>                 info.getBackgroundColor(), info.getForegroundColor());
>             img = srcImage.getNewRenderedImage(info);
>             swtImg = img.getSWTImage();
>         }
>         
>         drawImage(swtImg, 0, 0, nNewWidth, nNewHeight, 
>                 rect.x, rect.y, rect.width, rect.height);
>         
