2c2
<  * Copyright (c) 2000, 2006 IBM Corporation and others.
---
>  * Copyright (c) 2000, 2007 IBM Corporation and others.
19a20
> import org.eclipse.core.runtime.IStatus;
25a27,31
> import org.eclipse.gmf.runtime.common.core.util.Log;
> import org.eclipse.gmf.runtime.draw2d.ui.graphics.GCUtilities;
> import org.eclipse.gmf.runtime.draw2d.ui.internal.Draw2dPlugin;
> import org.eclipse.jface.window.Window;
> import org.eclipse.swt.SWT;
133a140,141
> static private boolean advancedGraphicsWarningLogged = false;
> 
552a561,564
>  * This method requires advanced graphics support. A check should be made to
>  * ensure advanced graphics is supported in the user's environment before
>  * calling this method. See {@link GCUtilities#supportsAdvancedGraphics()}.
>  * 
555a568,571
>     if (!GCUtilities.supportsAdvancedGraphics()) { 
>         logAdvancedGraphicsWarning();
>         return;
>     }
559a576,579
>  * This method requires advanced graphics support. A check should be made to
>  * ensure advanced graphics is supported in the user's environment before
>  * calling this method. See {@link GCUtilities#supportsAdvancedGraphics()}.
>  * 
562a583,586
>     if (!GCUtilities.supportsAdvancedGraphics()) { 
>         logAdvancedGraphicsWarning();
>         return;
>     }
593a618,621
>  * This method requires advanced graphics support. A check should be made to
>  * ensure advanced graphics is supported in the user's environment before
>  * calling this method. See {@link GCUtilities#supportsAdvancedGraphics()}.
>  * 
596a625,628
>     if (!GCUtilities.supportsAdvancedGraphics()) { 
>         logAdvancedGraphicsWarning();
>         return;
>     }
649a682,685
>  * This method requires advanced graphics support. A check should be made to
>  * ensure advanced graphics is supported in the user's environment before
>  * calling this method. See {@link GCUtilities#supportsAdvancedGraphics()}.
>  * 
652a689,692
>     if (!GCUtilities.supportsAdvancedGraphics()) { 
>         logAdvancedGraphicsWarning();
>         return;
>     }
814a855,875
> /**
>  * Logs a warning once if advanced graphics support is not available.
>  */
> private void logAdvancedGraphicsWarning() {
>     if (!advancedGraphicsWarningLogged) {
>         if (Window.getDefaultOrientation() == SWT.RIGHT_TO_LEFT) {
>             Log
>                 .warning(
>                     Draw2dPlugin.getInstance(),
>                     IStatus.WARNING,
>                     "Advanced graphics support is not available in right-to-left mode.  Diagrams might not look as nice as they could in left-to-right mode."); //$NON-NLS-1$
>         } else {
>             Log
>                 .warning(
>                     Draw2dPlugin.getInstance(),
>                     IStatus.WARNING,
>                     "Unable to load advanced graphics library.  Diagrams might not look as nice as they could with an advanced graphics library installed (e.g. Cairo or GDI+)"); //$NON-NLS-1$
>         }
>         advancedGraphicsWarningLogged = true;
>     }
> }
