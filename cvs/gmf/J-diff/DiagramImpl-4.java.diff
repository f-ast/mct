21d20
< import org.eclipse.emf.common.util.BasicEList;
27a27
> import org.eclipse.emf.ecore.util.EContentsEList;
30d29
< 
94a94,96
> 
> 	private EContentsEList allEdges = null;
> 
139,142c141,145
< 		List edges = new ArrayList();	
< 		if (persistedEdges!=null &&
< 			persistedEdges.size()>0){
< 			edges.addAll(getPersistedEdges());
---
> 		if (allEdges == null){
> 			allEdges =  new EContentsEList(this, 
> 				new EStructuralFeature[] {
> 					NotationPackage.eINSTANCE.getDiagram_PersistedEdges(),
> 					NotationPackage.eINSTANCE.getDiagram_TransientEdges()});
144,150c147
< 		
< 		if (transientEdges!=null&&
< 			transientEdges.size()>0){
< 			edges.addAll(getTransientEdges());
< 		}
< 		
< 		return new BasicEList.UnmodifiableEList(edges.size(), edges.toArray());
---
> 		return allEdges;
