2c2
<  * Copyright (c) 2006 Borland Software Corporation and others.
---
>  *  Copyright (c) 2006, 2007 Borland Software Corporation and others.
14d13
< import org.eclipse.draw2d.IFigure;
20a20
> import org.eclipse.gmf.graphdef.editor.part.GMFGraphVisualIDRegistry;
25d24
< import org.eclipse.swt.SWT;
27d25
< import org.eclipse.gmf.graphdef.editor.part.GMFGraphVisualIDRegistry;
37,41d34
< 	public static final String EXTERNAL_NODE_LABELS_LAYER = "External Node Labels"; //$NON-NLS-1$
< 
< 	/**
< 	 * @generated
< 	 */
45,46c38,42
< 			int viewVisualID = GMFGraphVisualIDRegistry.getVisualID(view);
< 			switch (viewVisualID) {
---
> 			switch (GMFGraphVisualIDRegistry.getVisualID(view)) {
> 
> 			case CanvasEditPart.VISUAL_ID:
> 				return new CanvasEditPart(view);
> 
48a45
> 
50a48
> 
52a51
> 
54a54
> 
56a57
> 
58a60
> 
60a63
> 
62a66
> 
64a69
> 
66a72
> 
68a75
> 
70a78
> 
72a81
> 
74a84
> 
76a87
> 
78a90
> 
80a93
> 
82a96
> 
84a99
> 
87,88c102
< 			case CanvasEditPart.VISUAL_ID:
< 				return new CanvasEditPart(view);
---
> 
111,112c125
< 			IFigure figure = source.getFigure();
< 			return new LabelCellEditorLocator((Label) figure);
---
> 			return new LabelCellEditorLocator((Label) source.getFigure());
130d142
< 			super();
148,151c160,162
< 
< 			if (getWrapLabel().isTextWrapped() && getWrapLabel().getText().length() > 0)
< 				rect.setSize(new Dimension(text.computeSize(rect.width, SWT.DEFAULT)));
< 			else {
---
> 			if (getWrapLabel().isTextWrapped() && getWrapLabel().getText().length() > 0) {
> 				rect.setSize(new Dimension(text.computeSize(rect.width, org.eclipse.swt.SWT.DEFAULT)));
> 			} else {
153c164
< 				rect.setSize(new Dimension(text.computeSize(SWT.DEFAULT, SWT.DEFAULT)).expand(avr * 2, 0));
---
> 				rect.setSize(new Dimension(text.computeSize(org.eclipse.swt.SWT.DEFAULT, org.eclipse.swt.SWT.DEFAULT)).expand(avr * 2, 0));
155,156c166
< 
< 			if (!rect.equals(new Rectangle(text.getBounds())))
---
> 			if (!rect.equals(new Rectangle(text.getBounds()))) {
158a169
> 		}
193d203
< 
195,197c205,206
< 			rect.setSize(new Dimension(text.computeSize(SWT.DEFAULT, SWT.DEFAULT)).expand(avr * 2, 0));
< 
< 			if (!rect.equals(new Rectangle(text.getBounds())))
---
> 			rect.setSize(new Dimension(text.computeSize(org.eclipse.swt.SWT.DEFAULT, org.eclipse.swt.SWT.DEFAULT)).expand(avr * 2, 0));
> 			if (!rect.equals(new Rectangle(text.getBounds()))) {
201a211
> }
