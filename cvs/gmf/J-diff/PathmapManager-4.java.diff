431c431,435
< 				for (Iterator i = ((List)msg.getNewValue()).iterator(); i.hasNext();) {
---
> 				List resources = (List)msg.getNewValue();
> 				if (resources == null)
> 					break;
> 				
> 				for (Iterator i = resources.iterator(); i.hasNext();) {
439c443,447
< 				for (Iterator i = ((List)msg.getNewValue()).iterator(); i.hasNext();) {
---
> 				resources = (List)msg.getNewValue();
> 				if (resources == null)
> 					break;
> 				
> 				for (Iterator i = resources.iterator(); i.hasNext();) {
