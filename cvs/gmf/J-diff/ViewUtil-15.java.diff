486,490c486,489
< 		if (object!=null){
< 			if (object.eIsProxy())
< 				return EMFCoreUtil.resolve(TransactionUtil.getEditingDomain(object), object);
< 			else
< 				return object;
---
> 		if (object!=null && object.eIsProxy()){
>             TransactionalEditingDomain domain = TransactionUtil.getEditingDomain(object);
>             if (domain != null)
>                 return EMFCoreUtil.resolve(domain, object);
492c491
< 	    return null;
---
> 	    return object;
