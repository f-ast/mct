21,22d20
< import org.eclipse.gmf.runtime.diagram.ui.internal.util.DiagramMEditingDomainGetter;
< import org.eclipse.gmf.runtime.emf.core.edit.MRunnable;
73,80c71,77
< 			DiagramMEditingDomainGetter.getMEditingDomain(getPage().getActiveEditor()).runAsRead( new MRunnable() {
< 				public Object run() {
< 					ContributionItemService.getInstance().contributeToActionBars(
< 							bars,
< 							descriptor);
< 					return null;
< 				}
< 			});
---
> //			getEditingDomain().runExclusive(new Runnable() {
> //
> //				public void run() {
> 					ContributionItemService.getInstance()
> 						.contributeToActionBars(bars, descriptor);
> //				}
> //			});
138a136,137
> //	protected abstract TransactionalEditingDomain getEditingDomain();
> 
