157c157,161
< 		return getConnectableEditPart().getTargetConnectionAnchor(request);
---
> 		INodeEditPart node = getConnectableEditPart();
> 		if (node != null)
> 			return node.getTargetConnectionAnchor(request);
> 		
> 		return null;
259a264,267
> 		INodeEditPart node = getConnectableEditPart();
> 		if (node == null)
> 			return null;
> 		
291c299
< 			ConnectionAnchor sourceAnchor = getConnectableEditPart()
---
> 			ConnectionAnchor sourceAnchor = node
315,316c323,327
< 		ConnectionAnchor sourceAnchor = getConnectableEditPart()
< 				.getSourceConnectionAnchor(request);
---
> 		INodeEditPart node = getConnectableEditPart();
> 		if (node == null)
> 			return null;
> 		
> 		ConnectionAnchor sourceAnchor = node.getSourceConnectionAnchor(request);
320c331
< 		sceCommand.setNewSourceAdaptor(new EObjectAdapter((View)getConnectableEditPart()
---
> 		sceCommand.setNewSourceAdaptor(new EObjectAdapter((View)node
325,326c336
< 		scaCommand.setNewSourceTerminal(getConnectableEditPart()
< 				.mapConnectionAnchorToTerminal(sourceAnchor));
---
> 		scaCommand.setNewSourceTerminal(node.mapConnectionAnchorToTerminal(sourceAnchor));
