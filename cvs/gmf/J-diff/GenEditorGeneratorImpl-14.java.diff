615c615
< 			return getDomainGenModel().getModelName();
---
> 			return getDomainGenModel() == null ? "Design" : getDomainGenModel().getModelName();
665c665,669
< 			return getDomainFileExtension() + "_diagram";
---
> 			String prefix = getDomainFileExtension();
> 			if (prefix == null || prefix.trim().length() == 0) {
> 				prefix = "design";
> 			}
> 			return prefix + "_diagram";
1124c1128,1131
< 		String name = CodeGenUtil.validJavaIdentifier(getDomainGenModel().getModelName());
---
> 		String name = "Design";
> 		if (getDomainGenModel() != null) {
> 			name = CodeGenUtil.validJavaIdentifier(getDomainGenModel().getModelName());
> 		}
