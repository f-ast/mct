25a26
> import org.eclipse.draw2d.Viewport;
37a39,40
> import org.eclipse.gmf.runtime.diagram.ui.editparts.IBorderItemEditPart;
> import org.eclipse.gmf.runtime.diagram.ui.util.SelectInDiagramHelper;
42,44d44
< import org.eclipse.gmf.runtime.diagram.ui.editparts.IBorderItemEditPart;
< import org.eclipse.gmf.runtime.diagram.ui.util.SelectInDiagramHelper;
< 
126c126,127
< 		  && child.getTargetEditPart(MARQUEE_REQUEST) == child){
---
> 		  && child.getTargetEditPart(MARQUEE_REQUEST) == child
> 		  && isFigureVisible(figure)){
132a134,145
> private boolean isFigureVisible(IFigure fig) {
> 	Rectangle figBounds = fig.getBounds().getCopy();
> 	IFigure walker = fig.getParent();
> 	Viewport topViewport = ((FigureCanvas)getCurrentViewer().getControl()).getViewport();
> 	while (!figBounds.isEmpty() && walker != null && walker != topViewport) {
> 		walker.translateToParent(figBounds);
> 		figBounds.intersect(walker.getBounds());
> 		walker = walker.getParent();
> 	}
> 	return !figBounds.isEmpty();
> }
> 
