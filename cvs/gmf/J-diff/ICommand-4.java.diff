2c2
<  * Copyright (c) 2002, 2004 IBM Corporation and others.
---
>  * Copyright (c) 2002, 2006 IBM Corporation and others.
14a15
> import java.util.List;
15a17,20
> import org.eclipse.core.commands.operations.IOperationApprover;
> import org.eclipse.core.commands.operations.IUndoableOperation;
> import org.eclipse.core.commands.operations.OperationHistoryFactory;
> import org.eclipse.core.resources.IFile;
19,31c24,25
<  * A unit of work that can potentially be undone and redone. {@link ICommand}s
<  * can be executed by the
<  * {@link org.eclipse.gmf.runtime.common.core.command.CommandManager}, which
<  * will maintain a history of the commands that it has executed that are
<  * eligible to be undone and redone.
<  * <P>
<  * Commands have a label that can be used to provide information to a client.
<  * For example, the command label could be used as the text in an undo or redo
<  * menu item.
<  * <P>
<  * Progress through the work done by a command is monitored by an
<  * {@link org.eclipse.core.runtime.IProgressMonitor} with which the command is
<  * executed.
---
>  * A self-composing undoable operation that has a {@link CommandResult} and a
>  * list of affected {@link IFile}s.
36a31,40
>  * <P>
>  * The command provides a list of {@link IFile}s that are expected to be
>  * modified when the it is executed, undone or redone. An
>  * {@link IOperationApprover} is registered with the
>  * {@link OperationHistoryFactory#getOperationHistory()} to validate the
>  * modification to these resources.
>  * <P>
>  * If an error occurs, or the progress monitor is canceled during execute, undo
>  * or redo, the command should make every effort to roll back the changes it has
>  * made up to that point.
39,46c43
<  * @canBeSeenBy %partners
<  */
< public interface ICommand {
< 
< 	/**
< 	 * Retrieves the label for this command. The label is typically a very brief
< 	 * description (suitable for display in a menu item) of what this command
< 	 * does when it is executed.
---
>  * @author ldamus
48c45
< 	 * @return The label for this command.
---
>  * @canBeSeenBy %partners
50c47
< 	public String getLabel();
---
> public interface ICommand extends IUndoableOperation {
62c59,87
< 	public CommandResult getCommandResult();
---
> 	public abstract CommandResult getCommandResult();
> 
> 	/**
> 	 * Returns the list of {@link IFile}s that are expected to be modified by
> 	 * this command.
> 	 * 
> 	 * @return the list of {@link IFile}s that will be modified
> 	 */
> 	public abstract List getAffectedFiles();
> 
> 	/**
> 	 * Returns a new command object that represents a composition of this
> 	 * command with the specified <code>command</code> parameter.
> 	 * 
> 	 * @param operation
> 	 *            The operation that is to be composed with this command.
> 	 * @return A command that represents a composition of this command with the
> 	 *         specified command.
> 	 */
> 	public abstract ICommand compose(IUndoableOperation operation);
>     
>     /**
>      * Returns the simplest form of this command that is equivalent. Use this
>      * method to remove unnecessary nesting of commands.
>      * 
>      * @return the simplest form of this command that is equivalent
>      */
>     public abstract ICommand reduce();
> 
68a94,97
>      * 
>      * @deprecated Commands that will modify resources and wish to have these
>      *             resources validated should implement the
>      *             {@link #getAffectedFiles()} interface.
76a106,109
>      * 
>      * @deprecated No replacement. File validation is now done through a
>      *             {@link IOperationApprover} registered with with the
>      *             {@link OperationHistoryFactory#getOperationHistory()}.
85,90d117
< 	 */		
< 	public CMValidator getValidator();
< 	
< 	/**
< 	 * Returns a new command object that represents a composition of this
< 	 * command with the specified <code>command</code> parameter.
92,95c119,121
< 	 * @param command
< 	 *            The command that is to be composed with this command.
< 	 * @return A command that represents a composition of this command with the
< 	 *         specified command.
---
>      * @deprecated No replacement. File validation is now done through a
>      *             {@link IOperationApprover} registered with with the
>      *             {@link OperationHistoryFactory#getOperationHistory()}.
97c123
< 	ICommand compose(ICommand command);
---
>     public CMValidator getValidator();
103a130,131
>      * 
>      * @deprecated Use {@link IUndoableOperation#canExecute()} instead.
111a140,141
>      * 
>      * @deprecated Use {@link IUndoableOperation#canRedo()} instead.
119a150,151
>      * 
>      * @deprecated Use {@link IUndoableOperation#canUndo()()} instead.
131a164,167
>      * 
>      * @deprecated Use
>      *             {@link IUndoableOperation#execute(IProgressMonitor, org.eclipse.core.runtime.IAdaptable)}
>      *             instead.
136a173,176
>      * 
>      * @deprecated Use
>      *             {@link IUndoableOperation#redo(IProgressMonitor, org.eclipse.core.runtime.IAdaptable)}
>      *             instead.
141a182,185
>      * 
>      * @deprecated Use
>      *             {@link IUndoableOperation#undo(IProgressMonitor, org.eclipse.core.runtime.IAdaptable)}
>      *             instead.
