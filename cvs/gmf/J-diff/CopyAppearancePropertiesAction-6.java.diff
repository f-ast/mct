15d14
< import java.util.Map;
18d16
< import org.eclipse.gmf.runtime.diagram.core.internal.util.MEditingDomainGetter;
24,25d21
< import org.eclipse.gmf.runtime.emf.core.edit.MRunnable;
< import org.eclipse.gmf.runtime.notation.View;
82c78
< 			request.setProperties(getEditPartAppearancePropertiesMap(editPart));
---
> 			request.setViewToCopyFrom(editPart.getNotationView());
96,110d91
< 
< 	/**
< 	 * Get the apprearance properties map of the given editpart
< 	 * 
< 	 * @param editPart
< 	 * @return
< 	 */
< 	private Map getEditPartAppearancePropertiesMap(final IGraphicalEditPart editPart) {
< 		return (Map)MEditingDomainGetter.getMEditingDomain((View)editPart.getModel()).runAsRead( new MRunnable() {
< 			public Object run() {
< 				return editPart.getAppearancePropertiesMap();
< 			}
< 		});
< 	}
< 
