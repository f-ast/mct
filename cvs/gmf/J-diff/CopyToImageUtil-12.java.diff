29a30,31
> import org.eclipse.core.runtime.Status;
> import org.eclipse.gmf.runtime.common.core.command.FileModificationValidator;
273c275,280
<         createFile(destination);
---
>         
>         IStatus fileModificationStatus = createFile(destination);
>         if (!fileModificationStatus.isOK()) {
>         	// can't write to the file
>         	return;
>         }
302c309,314
<         createFile(destination);
---
>         IStatus fileModificationStatus = createFile(destination);
>         if (!fileModificationStatus.isOK()) {
>         	// can't write to the file
>         	return;
>         }
>         
327a340
>      * @return the status from validating the file for editing
331c344
<     private void createFile(IPath destination)
---
>     private IStatus createFile(IPath destination)
345a359,363
> 
>         if (file != null) {
>         	return FileModificationValidator.approveFileModification(new IFile[] {file});
>         }
>         return Status.OK_STATUS;
