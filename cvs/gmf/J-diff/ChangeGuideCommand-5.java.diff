2c2
<  * Copyright (c) 2004 IBM Corporation and others.
---
>  * Copyright (c) 2004, 2006 IBM Corporation and others.
16a17
> import org.eclipse.core.commands.ExecutionException;
18a20
> import org.eclipse.emf.transaction.TransactionalEditingDomain;
20d21
< 
24c25
< import org.eclipse.gmf.runtime.emf.commands.core.command.AbstractModelCommand;
---
> import org.eclipse.gmf.runtime.emf.commands.core.command.AbstractTransactionalCommand;
34c35
< public class ChangeGuideCommand extends AbstractModelCommand {
---
> public class ChangeGuideCommand extends AbstractTransactionalCommand {
45,46c46,55
< 	public ChangeGuideCommand(EditPartViewer viewer, IAdaptable part, boolean horizontalGuide) {
< 		super(null, null);
---
>     /**
>      * 
>      * @param editingDomain
>      *            the editing domain through which model changes are made
>      * @param viewer
>      * @param part
>      * @param horizontalGuide
>      */
> 	public ChangeGuideCommand(TransactionalEditingDomain editingDomain, EditPartViewer viewer, IAdaptable part, boolean horizontalGuide) {
> 		super(editingDomain, null, null);
52,53c61,68
< 	public ChangeGuideCommand(View part, boolean horizontalGuide) {
< 		super(null, null);
---
>     /**
>      * @param editingDomain
>      *            the editing domain through which model changes are made
>      * @param part
>      * @param horizontalGuide
>      */
> 	public ChangeGuideCommand(TransactionalEditingDomain editingDomain, View part, boolean horizontalGuide) {
> 		super(editingDomain, null, null);
58c73,74
< 	public CommandResult doExecute(IProgressMonitor progressMonitor) {
---
> 	protected CommandResult doExecuteWithResult(IProgressMonitor monitor, IAdaptable info)
> 	    throws ExecutionException {
79c95
< 		return newOKCommandResult();
---
> 		return CommandResult.newOKCommandResult();
