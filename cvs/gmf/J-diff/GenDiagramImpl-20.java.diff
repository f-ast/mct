33a34
> import org.eclipse.gmf.codegen.gmfgen.LinkModelFacet;
34a36,37
> import org.eclipse.gmf.codegen.gmfgen.TypeLinkModelFacet;
> import org.eclipse.gmf.codegen.gmfgen.TypeModelFacet;
1968,1969c1971,1973
< 			if(nextNode.getModelElementInitializer() != null) {
< 				requiredIDs.addAll(Arrays.asList(nextNode.getModelElementInitializer().getRequiredPluginIDs()));
---
> 			TypeModelFacet modelFacet = nextNode.getModelFacet();
> 			if(modelFacet.getModelElementInitializer() != null) {
> 				requiredIDs.addAll(Arrays.asList(modelFacet.getModelElementInitializer().getRequiredPluginIDs()));
1971,1972c1975,1976
< 			if(nextNode.getModelElementSelector() != null) {
< 				requiredIDs.addAll(Arrays.asList(nextNode.getModelElementSelector().getRequiredPluginIDs()));				
---
> 			if(modelFacet.getModelElementSelector() != null) {
> 				requiredIDs.addAll(Arrays.asList(modelFacet.getModelElementSelector().getRequiredPluginIDs()));				
1977,1978c1981,1983
< 				if(nextChild.getModelElementInitializer() != null) {
< 					requiredIDs.addAll(Arrays.asList(nextChild.getModelElementInitializer().getRequiredPluginIDs()));
---
> 				TypeModelFacet childModelFacet = nextChild.getModelFacet();
> 				if(childModelFacet.getModelElementInitializer() != null) {
> 					requiredIDs.addAll(Arrays.asList(childModelFacet.getModelElementInitializer().getRequiredPluginIDs()));
1980,1981c1985,1986
< 				if(nextChild.getModelElementSelector() != null) {
< 					requiredIDs.addAll(Arrays.asList(nextChild.getModelElementSelector().getRequiredPluginIDs()));				
---
> 				if(childModelFacet.getModelElementSelector() != null) {
> 					requiredIDs.addAll(Arrays.asList(childModelFacet.getModelElementSelector().getRequiredPluginIDs()));				
1988,1989c1993,2000
< 			if(nextLink.getModelElementInitializer() != null) {
< 				requiredIDs.addAll(Arrays.asList(nextLink.getModelElementInitializer().getRequiredPluginIDs()));
---
> 			LinkModelFacet modelFacet = nextLink.getModelFacet();
> 			if(modelFacet instanceof TypeLinkModelFacet) {
> 				TypeLinkModelFacet  typeModelFacet = (TypeLinkModelFacet)modelFacet;
> 				if(typeModelFacet.getModelElementInitializer() != null) {
> 					requiredIDs.addAll(Arrays.asList(typeModelFacet.getModelElementInitializer().getRequiredPluginIDs()));
> 				}
> 				if(typeModelFacet.getModelElementSelector() != null) {
> 					requiredIDs.addAll(Arrays.asList(typeModelFacet.getModelElementSelector().getRequiredPluginIDs()));
1991,1992d2001
< 			if(nextLink.getModelElementSelector() != null) {
< 				requiredIDs.addAll(Arrays.asList(nextLink.getModelElementSelector().getRequiredPluginIDs()));
