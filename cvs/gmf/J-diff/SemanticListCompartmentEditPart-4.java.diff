2c2
<  * Copyright (c) 2002, 2003 IBM Corporation and others.
---
>  * Copyright (c) 2002, 2006 IBM Corporation and others.
37,38c37,38
<  * A List compartment Edit part that contains semantic edit parts.
<  * A semantic edit part is an edit part that controls a semantic element, it does not 
---
>  * A List compartment Edit part that contains semantic edit parts. A semantic
>  * edit part is an edit part that controls a semantic element, it does not
74c74
< 		Map modelToEditPart = new HashMap();
---
> 		List modelObjects = getModelChildren();
76a77,81
> 		if ((modelObjects.size() == 0) && (_children.size() == 0)) {
> 			return;
> 		}
> 		
> 		Map modelToEditPart = new HashMap();
82c87
< 		List modelObjects = getModelChildren();
---
> 		
154,156d158
< 		//View viewChild;
< 		EObject semanticChild;
< 				
160c162,172
< 		List semanticChildren = new ArrayList(getModelChildren());
---
> 		List modelChildren = getModelChildren();
> 		if ((editPartsChildren.size() == 0) && (modelChildren.size() == 0)) {
> 			return;
> 		}		
> 		
> 		List semanticChildren = new ArrayList(modelChildren);
> 		
> 		//View viewChild;
> 		EObject semanticChild;
> 				
> 		
163d174
< 		List orphaned = new ArrayList();
167d177
< 			if ( semanticChildren.contains(semanticChild) ) {
170,173d179
< 			else {
< 				orphaned.add(eP);
< 			}
< 		}
234,235c240
< 		if (!isCanonicalEnabled())
< 			return;
---
> 		if (isCanonicalEnabled()){
242a248,253
> 			
> 			}
> 		}else if(NotificationUtil.isElementRemovedFromSlot(event) &&
> 				event.getOldValue() instanceof  EObject &&
> 				!getChildren().isEmpty()){
> 				semanticChildRemoved((EObject)event.getOldValue());
247,248c258,260
< 	 * indicated is canonical is enabled or not
< 	 * Canonical is disabled if the edit part's view is collapsed or hidden
---
>      * indicated if canonical is enabled or not Canonical is disabled if the
>      * edit part's view is collapsed or hidden
>      * 
252,253c264,267
< 		DrawerStyle dstyle = (DrawerStyle) ((View)getModel()).getStyle(NotationPackage.eINSTANCE.getDrawerStyle());
< 		boolean isCollapsed = dstyle == null ? false : dstyle.isCollapsed();
---
>         DrawerStyle dstyle = (DrawerStyle) ((View) getModel())
>             .getStyle(NotationPackage.Literals.DRAWER_STYLE);
>         boolean isCollapsed = dstyle == null ? false
>             : dstyle.isCollapsed();
261a276,285
> 	/**
>      * indicated if canonical is enabled or not Canonical is disabled if the
>      * edit part's view is collapsed or hidden
>      * 
>      * @return
>      */
>     public boolean isCanonicalOn() {
>         return isCanonicalEnabled();
>     }
> 
370a395,399
> 	
> 	public boolean isCanonical() {
>         return true;
>     }
> 	
