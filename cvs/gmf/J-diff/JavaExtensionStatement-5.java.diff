20a21
> import java.util.Arrays;
68a70
> 			transformParameters(method.getParameterTypes(), parameters);
92a95,105
> 	private void transformParameters(Class[] paramTypes, Object[] parameters) {
> 		assert paramTypes.length == parameters.length;
> 		for (int i = 0; i < parameters.length; i++) {
> 			// XXX no support for arrays of arrays
> 			if (parameters[i] instanceof List && paramTypes[i].isArray()) {
> 				List list = (List) parameters[i];
> 				parameters[i] = list.toArray((Object[]) Array.newInstance(paramTypes[i].getComponentType(), list.size()));
> 			}
> 		}
> 	}
> 
