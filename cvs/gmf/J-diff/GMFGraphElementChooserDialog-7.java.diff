25d24
< import org.eclipse.emf.edit.domain.EditingDomain;
51a51,53
> import java.util.Iterator;
> 
> import org.eclipse.emf.ecore.util.EcoreUtil;
55a58,59
> import org.eclipse.emf.transaction.TransactionalEditingDomain;
> 
71c75
< 	private EObject mySelectedModelElement;
---
> 	private URI mySelectedModelElementURI;
81c85
< 	private EditingDomain myEditingDomain = GMFEditingDomainFactory.INSTANCE.createEditingDomain();
---
> 	private TransactionalEditingDomain myEditingDomain = GMFEditingDomainFactory.INSTANCE.createEditingDomain();
146,147c150,163
< 		Resource resource = mySelectedModelElement.eResource();
< 		return resource.getURI().appendFragment(resource.getURIFragment(mySelectedModelElement));
---
> 		return mySelectedModelElementURI;
> 	}
> 
> 	/**
> 	 * @generated
> 	 */
> 	public int open() {
> 		int result = super.open();
> 		for (Iterator it = myEditingDomain.getResourceSet().getResources().iterator(); it.hasNext();) {
> 			Resource resource = (Resource) it.next();
> 			resource.unload();
> 		}
> 		myEditingDomain.dispose();
> 		return result;
348,349c364,365
< 						mySelectedModelElement = (EObject) selectedElement;
< 						setOkButtonEnabled(ViewService.getInstance().provides(Node.class, new EObjectAdapter(mySelectedModelElement), myView, null, ViewUtil.APPEND, true,
---
> 						EObject selectedModelElement = (EObject) selectedElement;
> 						setOkButtonEnabled(ViewService.getInstance().provides(Node.class, new EObjectAdapter(selectedModelElement), myView, null, ViewUtil.APPEND, true,
350a367
> 						mySelectedModelElementURI = EcoreUtil.getURI(selectedModelElement);
355c372
< 			mySelectedModelElement = null;
---
> 			mySelectedModelElementURI = null;
