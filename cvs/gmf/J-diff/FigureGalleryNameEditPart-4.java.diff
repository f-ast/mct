55,56d54
< import org.eclipse.gmf.runtime.diagram.ui.preferences.IPreferenceConstants;
< 
73,75d70
< import org.eclipse.jface.preference.IPreferenceStore;
< import org.eclipse.jface.preference.PreferenceConverter;
< 
430c425
< 		FontStyle style = (FontStyle) getPrimaryView().getStyle(NotationPackage.eINSTANCE.getFontStyle());
---
> 		FontStyle style = (FontStyle) getFontStyleOwnerView().getStyle(NotationPackage.eINSTANCE.getFontStyle());
440c435
< 		FontStyle style = (FontStyle) getPrimaryView().getStyle(NotationPackage.eINSTANCE.getFontStyle());
---
> 		FontStyle style = (FontStyle) getFontStyleOwnerView().getStyle(NotationPackage.eINSTANCE.getFontStyle());
450,451c445
< 		FontStyle style = (FontStyle) getPrimaryView().getStyle(NotationPackage.eINSTANCE.getFontStyle());
< 		FontData fontData;
---
> 		FontStyle style = (FontStyle) getFontStyleOwnerView().getStyle(NotationPackage.eINSTANCE.getFontStyle());
453,457c447
< 			fontData = new FontData(style.getFontName(), style.getFontHeight(), (style.isBold() ? SWT.BOLD : SWT.NORMAL) | (style.isItalic() ? SWT.ITALIC : SWT.NORMAL));
< 		} else {
< 			// initialize font to defaults
< 			fontData = PreferenceConverter.getFontData((IPreferenceStore) getDiagramPreferencesHint().getPreferenceStore(), IPreferenceConstants.PREF_DEFAULT_FONT);
< 		}
---
> 			FontData fontData = new FontData(style.getFontName(), style.getFontHeight(), (style.isBold() ? SWT.BOLD : SWT.NORMAL) | (style.isItalic() ? SWT.ITALIC : SWT.NORMAL));
459a450
> 	}
513a505,511
> 	private View getFontStyleOwnerView() {
> 		return getPrimaryView();
> 	}
> 
> 	/**
> 	 * @generated
> 	 */
