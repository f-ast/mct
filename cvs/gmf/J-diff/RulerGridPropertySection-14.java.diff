75a76
>     private Button snapToGeometryButton;
85a87
>     private static final String SNAP_TO_GEOMETRY_LABEL = DiagramUIPropertiesMessages.Snap_To_Geometry_Label_Text;
235a238,248
>         // Create snap to geometry checkbox
>         snapToGeometryButton = getWidgetFactory().createButton(
>             extraComposite, SNAP_TO_GEOMETRY_LABEL, SWT.CHECK);
>         snapToGeometryButton.addSelectionListener(new SelectionAdapter() {
> 
>             public void widgetSelected(SelectionEvent event) {
>                 // Set the snap to geometry workspace property
>                 setWorkspaceProperty(WorkspaceViewerProperties.SNAPTOGEOMETRY, snapToGeometryButton.getSelection());
>             }
>         });
>         
249c262
< 				// 
---
>                 
270c283,285
< 
---
>                 if (wsPrefStore.getBoolean(WorkspaceViewerProperties.SNAPTOGEOMETRY) != preferenceStore.getBoolean(IPreferenceConstants.PREF_SNAP_TO_GEOMETRY)) {
>                     wsPrefStore.setValue(WorkspaceViewerProperties.SNAPTOGEOMETRY, preferenceStore.getBoolean(IPreferenceConstants.PREF_SNAP_TO_GEOMETRY));         
>                 }
457a473
>                 
551a568
>                         
612a630
>         snapToGeometryButton.setSelection(getBooleanWorkspaceProperty(WorkspaceViewerProperties.SNAPTOGEOMETRY));
808a827,830
>         } else if (WorkspaceViewerProperties.SNAPTOGEOMETRY.equals(event.getProperty())) {          
>             if (!snapToGeometryButton.isDisposed()) {
>                 snapToGeometryButton.setSelection(getEventBoolean(event));
>             }
