18a19
> import org.eclipse.draw2d.GridData;
34a36
> import org.eclipse.gmf.gmfgraph.GridLayoutData;
87,88c89,106
< 			// not implemented yet in .gmfgraph
< 			break;
---
> 			GridLayoutData gridLayoutData = (GridLayoutData) layoutData;
> 			GridData result = new GridData();
> 			result.grabExcessHorizontalSpace = gridLayoutData.isGrabExcessHorizontalSpace();
> 			result.grabExcessVerticalSpace = gridLayoutData.isGrabExcessVerticalSpace();
> 			Integer alignment = getGridDataAlignment(gridLayoutData.getHorizontalAlignment());
> 			if (alignment != null) {
> 				result.horizontalAlignment = alignment;
> 			}
> 			alignment = getGridDataAlignment(gridLayoutData.getVerticalAlignment());
> 			if (alignment != null) {
> 				result.verticalAlignment = alignment;
> 			}
> 			result.verticalSpan = gridLayoutData.getVerticalSpan();
> 			result.horizontalSpan = gridLayoutData.getHorizontalSpan();
> 			result.horizontalIndent = getMapMode().DPtoLP(gridLayoutData.getHorizontalIndent());
> 			result.widthHint = getMapMode().DPtoLP(gridLayoutData.getSizeHint().getDx());
> 			result.heightHint = getMapMode().DPtoLP(gridLayoutData.getSizeHint().getDy());
> 			return result;
120c138,140
< 			// not implemented yet in .gmfgraph
---
> 			if (false == layoutConstraint instanceof GridData) {
> 				layoutConstraint = null;
> 			}
211,216c231,234
< 			// not implemented yet in .gmfgraph
< 			// GridLayout gridLayout = (GridLayout) layout;
< 			/*
< 			org.eclipse.gmf.internal.codegen.draw2d.GridLayout layoutManager;
< 			if (getFigureLayoutManager() instanceof org.eclipse.gmf.internal.codegen.draw2d.GridLayout) {
< 				layoutManager = (org.eclipse.gmf.internal.codegen.draw2d.GridLayout)getFigureLayoutManager();
---
> 			GridLayout gridLayout = (GridLayout) layout;
> 			org.eclipse.draw2d.GridLayout layoutManager;
> 			if (getFigureLayoutManager() instanceof org.eclipse.draw2d.GridLayout) {
> 				layoutManager = (org.eclipse.draw2d.GridLayout) getFigureLayoutManager();
218c236,237
< 				layoutManager = new org.eclipse.gmf.internal.codegen.draw2d.GridLayout();
---
> 				layoutManager = new org.eclipse.draw2d.GridLayout();
> 				setFigureLayoutManager(layoutManager);
220,221c239,244
< 			setFigureLayoutManager(layoutManager); }
< 			 */
---
> 			layoutManager.numColumns = gridLayout.getNumColumns();
> 			layoutManager.makeColumnsEqualWidth = gridLayout.isEqualWidth();
> 			layoutManager.marginWidth = getMapMode().DPtoLP(gridLayout.getMargins().getDx());
> 			layoutManager.marginHeight = getMapMode().DPtoLP(gridLayout.getMargins().getDy());
> 			layoutManager.horizontalSpacing = getMapMode().DPtoLP(gridLayout.getSpacing().getDx());
> 			layoutManager.verticalSpacing = getMapMode().DPtoLP(gridLayout.getSpacing().getDy());
263a287,300
> 	private Integer getGridDataAlignment(Alignment alignment) {
> 		switch (alignment.getValue()) {
> 		case Alignment.BEGINNING:
> 			return GridData.BEGINNING;
> 		case Alignment.END:
> 			return GridData.END;
> 		case Alignment.CENTER:
> 			return GridData.CENTER;
> 		case Alignment.FILL:
> 			return GridData.FILL;
> 		}
> 		return null;
> 	}
> 
