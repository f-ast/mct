15,20d14
< import org.eclipse.ui.IWorkbench;
< import org.eclipse.ui.IWorkbenchPage;
< import org.eclipse.ui.IWorkbenchWindow;
< import org.eclipse.ui.PlatformUI;
< import org.eclipse.ui.views.properties.IPropertyDescriptor;
< 
26a21
> import org.eclipse.gmf.runtime.diagram.ui.parts.DiagramEditor;
27a23,28
> import org.eclipse.ui.IEditorPart;
> import org.eclipse.ui.IWorkbench;
> import org.eclipse.ui.IWorkbenchPage;
> import org.eclipse.ui.IWorkbenchWindow;
> import org.eclipse.ui.PlatformUI;
> import org.eclipse.ui.views.properties.IPropertyDescriptor;
61,62c62,68
< 					return page != null
< 						&& page.getActiveEditor() instanceof IReadOnlyDiagramPropertySheetPageContributor;
---
>                     if (page != null) {
>                         IEditorPart part = page.getActiveEditor();
> 
>                         return part instanceof IReadOnlyDiagramPropertySheetPageContributor
>                             || (part instanceof DiagramEditor && !((DiagramEditor) part)
>                                 .isWritable());
>                     }
