57c57,75
< 		ScrollPane scrollpane = (ScrollPane) parent;
---
>         int hVis;
>         int vVis;
>         ScrollPane scrollpane;
>         ScrollBar vBar;
>         ScrollBar hBar;      
>         if (parent instanceof AnimatableScrollPane) {
>             AnimatableScrollPane p = (AnimatableScrollPane) parent;
>             hBar = p.basicGetHorizontalScrollBar();
>             vBar = p.basicGetVerticalScrollBar();
>             hVis = p.getHorizontalScrollBarVisibility();
>             vVis = p.getVerticalScrollBarVisibility();
>             scrollpane = p;
>         } else {
>             scrollpane = (ScrollPane) parent;
>             hVis = scrollpane.getHorizontalScrollBarVisibility();
>             vVis = scrollpane.getVerticalScrollBarVisibility();           
>                 hBar = (hVis != NEVER)?scrollpane.getHorizontalScrollBar():null;            
>                 vBar = (vVis != NEVER)?scrollpane.getVerticalScrollBar():null;
>         }
61,65d78
< 
< 		int hVis = scrollpane.getHorizontalScrollBarVisibility(),
< 		vVis = scrollpane.getVerticalScrollBarVisibility();
< 		
< 		
75,76c88,89
< 		boolean showV = both || preferred.height > available.height;
< 		boolean showH = both || preferred.width > available.width;
---
> 		boolean showV = both || (preferred.height > available.height && (available.height > 0));
> 		boolean showH = both || (preferred.width > available.width && (available.width > 0));
83,89d95
< 		ScrollBar vBar = null;
< 		ScrollBar hBar = null;
< 		
< 		if (hVis!=NEVER)
< 			hBar = scrollpane.getHorizontalScrollBar();
< 		if (vVis!=NEVER)
< 			vBar = scrollpane.getVerticalScrollBar();
91a98
>             hBar = scrollpane.getHorizontalScrollBar();
96a104
>             vBar = scrollpane.getVerticalScrollBar();
109a118
>         
119c128,129
< 		if (vBar!=null)
---
>         
> 		if (vBar!=null){
121c131,132
< 		if (hBar!=null)
---
>         }
> 		if (hBar!=null){
122a134,135
>         }
>         
