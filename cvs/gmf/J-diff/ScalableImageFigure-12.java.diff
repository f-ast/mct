2c2
<  * Copyright (c) 2004, 2006 IBM Corporation and others.
---
>  * Copyright (c) 2004, 2007 IBM Corporation and others.
364,365c364,367
< 			if (rndInfo.getBackgroundColor() != getBackgroundColor().getRGB() ||
< 				rndInfo.getForegroundColor() != getForegroundColor().getRGB()) {
---
>             RGB backgroundColor = getBackgroundColor().getRGB();
>             RGB foregroundColor = getForegroundColor().getRGB();
>             if ((backgroundColor != null && !backgroundColor.equals(rndInfo.getBackgroundColor())) ||
>                     (foregroundColor != null && !foregroundColor.equals(rndInfo.getForegroundColor()))) {
