9d8
< import org.eclipse.emf.codegen.ecore.genmodel.GenModelFactory;
15a15
> import org.eclipse.gmf.internal.bridge.genmodel.DummyGenModel;
27a28
> 
33a35
> 	@SuppressWarnings("unchecked")
45c47,48
< //		Resource drtGenModelRes = resSet.createResource(getDestGenModelURI());
---
> 		// Resource drtGenModelRes =
> 		// resSet.createResource(getDestGenModelURI());
79,81c82
< 	/**
< 	 * @see org.eclipse.emf.codegen.ecore.Generator#run(java.lang.Object) (-ecore2GenModel key)
< 	 */
---
> 	@SuppressWarnings("unchecked")
83c84
<           GenModel genModel = GenModelFactory.eINSTANCE.createGenModel();
---
> 		GenModel genModel = new DummyGenModel(model, null).create();
85,90d85
<           genModel.initialize(Collections.singleton(model));
<           GenPackage genPackage = (GenPackage)genModel.getGenPackages().get(0);
<           genModel.setModelName(model.eResource().getURI().lastSegment());
<           genModel.setModelPluginID(model.eResource().getURI().lastSegment());
<           genModel.setModelDirectory("/" + model.eResource().getURI().lastSegment() + "/src/");
< 
92c87,88
<           // need different prefix to avoid name collisions with code generated for domain model
---
> 
> 		GenPackage genPackage = (GenPackage)genModel.getGenPackages().get(0);
