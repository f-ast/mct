21a22
> import org.eclipse.gmf.codegen.gmfgen.GenLanguage;
67c68
< 	 * The cached value of the '{@link #getRule() <em>Rule</em>}' containment reference.
---
> 	 * The cached value of the '{@link #getRule() <em>Rule</em>}' reference.
285a287,294
> 		if (rule != null && rule.eIsProxy()) {
> 			InternalEObject oldRule = (InternalEObject)rule;
> 			rule = (GenConstraint)eResolveProxy(oldRule);
> 			if (rule != oldRule) {
> 				if (eNotificationRequired())
> 					eNotify(new ENotificationImpl(this, Notification.RESOLVE, GMFGenPackage.GEN_AUDIT_RULE__RULE, oldRule, rule));
> 			}
> 		}
294,301c303,304
< 	public NotificationChain basicSetRule(GenConstraint newRule, NotificationChain msgs) {
< 		GenConstraint oldRule = rule;
< 		rule = newRule;
< 		if (eNotificationRequired()) {
< 			ENotificationImpl notification = new ENotificationImpl(this, Notification.SET, GMFGenPackage.GEN_AUDIT_RULE__RULE, oldRule, newRule);
< 			if (msgs == null) msgs = notification; else msgs.add(notification);
< 		}
< 		return msgs;
---
> 	public GenConstraint basicGetRule() {
> 		return rule;
310,320c313,316
< 		if (newRule != rule) {
< 			NotificationChain msgs = null;
< 			if (rule != null)
< 				msgs = ((InternalEObject)rule).eInverseRemove(this, EOPPOSITE_FEATURE_BASE - GMFGenPackage.GEN_AUDIT_RULE__RULE, null, msgs);
< 			if (newRule != null)
< 				msgs = ((InternalEObject)newRule).eInverseAdd(this, EOPPOSITE_FEATURE_BASE - GMFGenPackage.GEN_AUDIT_RULE__RULE, null, msgs);
< 			msgs = basicSetRule(newRule, msgs);
< 			if (msgs != null) msgs.dispatch();
< 		}
< 		else if (eNotificationRequired())
< 			eNotify(new ENotificationImpl(this, Notification.SET, GMFGenPackage.GEN_AUDIT_RULE__RULE, newRule, newRule));
---
> 		GenConstraint oldRule = rule;
> 		rule = newRule;
> 		if (eNotificationRequired())
> 			eNotify(new ENotificationImpl(this, Notification.SET, GMFGenPackage.GEN_AUDIT_RULE__RULE, oldRule, rule));
412c408
< 			if(!getRule().isOCLExpression() || getTarget() instanceof GenDomainAttributeTarget) {
---
> 			if(getRule().getProvider().getLanguage() != GenLanguage.OCL_LITERAL || getTarget() instanceof GenDomainAttributeTarget) {
511,512d506
< 			case GMFGenPackage.GEN_AUDIT_RULE__RULE:
< 				return basicSetRule(null, msgs);
548c542,543
< 				return getRule();
---
> 				if (resolve) return getRule();
> 				return basicGetRule();
