365c365
< 		protected LinkDescriptor(EObject source, EObject destination, EObject linkElement, int linkVID) {
---
> 		protected LinkDescriptor(EObject source, EObject destination, EObject linkElement, IElementType elementType, int linkVID) {
368c368,377
< 			mySemanticAdapter = new EObjectAdapter(linkElement);
---
> 			final IElementType elementTypeCopy = elementType;
> 			mySemanticAdapter = new EObjectAdapter(linkElement) {
> 
> 				public Object getAdapter(Class adapter) {
> 					if (IElementType.class.equals(adapter)) {
> 						return elementTypeCopy;
> 					}
> 					return super.getAdapter(adapter);
> 				}
> 			};
