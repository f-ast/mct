302,303c302,303
< 	 * A utility method to return the active part if it implements the
< 	 * <code>IDiagramWorkbenchPart</code> interface
---
> 	 * A utility method to return the active part if it implements 
> 	 * or adapts to the <code>IDiagramWorkbenchPart</code> interface
305c305
< 	 * @return The current part if it implements
---
> 	 * @return The current part if it implements or adapts to
310,311c310,321
< 		return getWorkbenchPart() instanceof IDiagramWorkbenchPart ? (IDiagramWorkbenchPart) getWorkbenchPart()
< 			: null;
---
> 		IDiagramWorkbenchPart diagramPart = null;
> 		IWorkbenchPart part = getWorkbenchPart();
> 		
> 		if (part instanceof IDiagramWorkbenchPart) {
> 			diagramPart = (IDiagramWorkbenchPart) part;
> 			
> 		} else {
> 			diagramPart = (IDiagramWorkbenchPart) part
> 					.getAdapter(IDiagramWorkbenchPart.class);
> 		}
> 
> 		return diagramPart;
