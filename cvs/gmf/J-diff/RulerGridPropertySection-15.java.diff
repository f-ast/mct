2c2
<  * Copyright (c) 2005, 2007 IBM Corporation and others.
---
>  * Copyright (c) 2005, 2008 IBM Corporation and others.
56,57d55
< import org.eclipse.swt.widgets.ToolBar;
< import org.eclipse.swt.widgets.ToolItem;
81c79
<     private ToolItem lineColorButton;
---
> 	private Button lineColorButton;
262c260
<                 
---
> 				// 
306,309c304,305
<         ToolBar toolBar = new ToolBar(composite, SWT.FLAT);
<             toolBar.setLayout(new GridLayout(1, false));
<             toolBar.setBackground(composite.getBackground());
<         lineColorButton = new ToolItem(toolBar, SWT.DROP_DOWN);
---
> 
> 		lineColorButton = new Button(composite, SWT.PUSH);
310a307,313
> 
>         lineColorButton.getAccessible().addAccessibleListener(new AccessibleAdapter() {
> 					public void getName(AccessibleEvent e) {
> 						e.result = DiagramUIMessages.PropertyDescriptorFactory_LineColor;
> 					}
> 				});
> 
331,339d333
< 
<         //the accessibility listener is applied to the whole tool bar because there is only one item in it, in the event
<         //that additional tool items are added, this should be changed to search for the tool bar's children and their
<         //their respective tool tips. Refer to ColorsAndFontsPropertySection.java.
<         toolBar.getAccessible().addAccessibleListener(new AccessibleAdapter() {
<             public void getName(AccessibleEvent e) {
<                 e.result = DiagramUIMessages.PropertyDescriptorFactory_LineColor;
<             }
<         });     
365c359
<      * @param toolItem -
---
> 	 * @param button -
372c366
<     private RGB changeColor(SelectionEvent event, ToolItem toolItem,
---
> 	private RGB changeColor(SelectionEvent event, Button button,
375c369
<         ColorPalettePopup popup = new ColorPalettePopup(toolItem.getParent()
---
> 		ColorPalettePopup popup = new ColorPalettePopup(button.getParent()
379,380c373,374
<         Rectangle r = toolItem.getBounds();
<         Point location = toolItem.getParent().toDisplay(r.x, r.y);
---
> 		Rectangle r = button.getBounds();
> 		Point location = button.getParent().toDisplay(r.x, r.y);
387,388c381,382
<             disposeImage(toolItem.getImage());
<             toolItem.setImage(overlyedImage);
---
> 			disposeImage(button.getImage());
> 			button.setImage(overlyedImage);
396,397c390,391
<             disposeImage(toolItem.getImage());
<             toolItem.setImage(overlyedImage);
---
> 			disposeImage(button.getImage());
> 			button.setImage(overlyedImage);
473d466
<                 
568d560
<                         
