72a73,74
> 		private Point mySourceRef;
> 		private Point myTargetRef;
78c80,81
< 		public void execute() {
---
> 		@Override
> 		protected boolean prepare() {
80,83c83,90
< 			final Point ptRef1 = connection.getSourceAnchor().getReferencePoint().getCopy();
< 			connection.translateToRelative(ptRef1);
< 			final Point ptRef2 = connection.getTargetAnchor().getReferencePoint().getCopy();
< 			connection.translateToRelative(ptRef2);
---
> 			mySourceRef = connection.getSourceAnchor().getReferencePoint().getCopy();
> 			connection.translateToRelative(mySourceRef);
> 			myTargetRef = connection.getTargetAnchor().getReferencePoint().getCopy();
> 			connection.translateToRelative(myTargetRef);
> 			return true;
> 		}
> 
> 		public void execute() {
94,95c101,102
< 					Dimension s = point.getDifference(ptRef1);
< 					Dimension t = point.getDifference(ptRef2);
---
> 					Dimension s = point.getDifference(mySourceRef);
> 					Dimension t = point.getDifference(myTargetRef);
110,113d116
< 
< 		public boolean canExecute() {
< 			return true;
< 		}
