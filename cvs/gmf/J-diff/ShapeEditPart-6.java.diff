21a22
> import org.eclipse.emf.ecore.ENamedElement;
22a24
> import org.eclipse.emf.ecore.EStructuralFeature;
32a35
> import org.eclipse.gmf.runtime.emf.core.util.MetaModelUtil;
124,125c127,128
< 		int width = ((Integer) getPropertyValue(Properties.ID_EXTENTX)).intValue();
< 		int height = ((Integer) getPropertyValue(Properties.ID_EXTENTY)).intValue();
---
> 		int width = ((Integer) getStructuralFeatureValue(NotationPackage.eINSTANCE.getSize_Width())).intValue();
> 		int height = ((Integer) getStructuralFeatureValue(NotationPackage.eINSTANCE.getSize_Height())).intValue();
127,128c130,131
< 		int x = ((Integer) getPropertyValue(Properties.ID_POSITIONX)).intValue();
< 		int y = ((Integer) getPropertyValue(Properties.ID_POSITIONY)).intValue();
---
> 		int x = ((Integer) getStructuralFeatureValue(NotationPackage.eINSTANCE.getLocation_X())).intValue();
> 		int y = ((Integer) getStructuralFeatureValue(NotationPackage.eINSTANCE.getLocation_Y())).intValue();
171,172c174,176
< 
< 			for (int i = 0; i < getAppearancePropertyIDs().length; i++)
---
> 			for (int i = 0; i < getAppearancePropertyIDs().length; i++){
> 				ENamedElement element = MetaModelUtil.getElement(getAppearancePropertyIDs()[i]);
> 				if (element instanceof EStructuralFeature)
175c179,180
< 					getPropertyValue(getAppearancePropertyIDs()[i]));
---
> 						getStructuralFeatureValue((EStructuralFeature)element));
> 			}
