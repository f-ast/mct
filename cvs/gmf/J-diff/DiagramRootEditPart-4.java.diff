26a27
> import org.eclipse.gef.editparts.ZoomListener;
29,32d29
< import org.eclipse.jface.preference.IPreferenceStore;
< import org.eclipse.jface.util.IPropertyChangeListener;
< import org.eclipse.swt.widgets.Display;
< 
47a45
> import org.eclipse.gmf.runtime.draw2d.ui.internal.graphics.ScaledGraphics;
49a48,50
> import org.eclipse.jface.preference.IPreferenceStore;
> import org.eclipse.jface.util.IPropertyChangeListener;
> import org.eclipse.swt.widgets.Display;
81a83,94
> 	static protected class DiagramScalableFreeformLayeredPane extends
> 		org.eclipse.gmf.runtime.draw2d.ui.internal.graphics.ScalableFreeformLayeredPane implements ZoomListener {
> 	
> 		/* 
> 		 * (non-Javadoc)
> 		 * @see org.eclipse.gef.editparts.ZoomListener#zoomChanged(double)
> 		 */
> 		public void zoomChanged(double zoom) {
> 			ScaledGraphics.resetFontCache();
> 		}
> 	}
> 
176c189
< 		return new org.eclipse.gmf.runtime.draw2d.ui.internal.graphics.ScalableFreeformLayeredPane();
---
> 		return new DiagramScalableFreeformLayeredPane();
491a505,509
> 		
> 		ScalableFreeformLayeredPane pane = getLayers();
> 		if (pane instanceof ZoomListener) {
> 			getZoomManager().addZoomListener((ZoomListener)pane);
> 		}
500a519,524
> 		
> 		ScalableFreeformLayeredPane pane = getLayers();
> 		if (pane instanceof ZoomListener) {
> 			getZoomManager().removeZoomListener((ZoomListener)pane);
> 		}
> 		
