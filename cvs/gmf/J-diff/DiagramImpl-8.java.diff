2c2
<  * Copyright (c) 2004 IBM Corporation and others.
---
>  * Copyright (c) 2004, 2006 IBM Corporation and others.
22a23
> import org.eclipse.emf.ecore.EObject;
36,37c37
<  * <!-- begin-user-doc -->
<  * An implementation of the model object '<em><b>Diagram</b></em>'.
---
>  * <!-- begin-user-doc --> An implementation of the model object '<em><b>Diagram</b></em>'.
53c53,56
< public class DiagramImpl extends ViewImpl implements Diagram {
---
> public class DiagramImpl
>     extends ViewImpl
>     implements Diagram {
> 
56,57c59
<      * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
66,67c68
<      * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
76,77c77
<      * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
86,87c86
<      * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
96,97c95
<      * <!-- begin-user-doc -->
<      * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
105,106c103
<      * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
115,116c112
<      * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
123d118
< 
125a121,124
>     protected static final EStructuralFeature[] edgesFeatures = new EStructuralFeature[] {
>         NotationPackage.Literals.DIAGRAM__PERSISTED_EDGES,
>         NotationPackage.Literals.DIAGRAM__TRANSIENT_EDGES};
> 
127,128c126
<      * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
136,137c134
<      * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
145,146c142
<      * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
154,155c150
<      * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
166,167c161
<      * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
175,178c169,171
<      * <!-- begin-user-doc -->
<      * Set the Measurement Unit for this Diagram, the Measure ment unit can be set only 
<      * once, the set method will not set the value if it was already set
<      * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> Set the Measurement Unit for this Diagram, the
>      * Measure ment unit can be set only once, the set method will not set the
>      * value if it was already set <!-- end-user-doc -->
183c176,177
<             measurementUnit = newMeasurementUnit == null ? MEASUREMENT_UNIT_EDEFAULT : newMeasurementUnit;
---
>             measurementUnit = newMeasurementUnit == null ? MEASUREMENT_UNIT_EDEFAULT
>                 : newMeasurementUnit;
187c181,184
<                 eNotify(new ENotificationImpl(this, Notification.SET, NotationPackage.DIAGRAM__MEASUREMENT_UNIT, oldMeasurementUnit, measurementUnit, !oldMeasurementUnitESet));
---
>                 eNotify(new ENotificationImpl(this, Notification.SET,
>                     NotationPackage.DIAGRAM__MEASUREMENT_UNIT,
>                     oldMeasurementUnit, measurementUnit,
>                     !oldMeasurementUnitESet));
193,194c190
<      * <!-- begin-user-doc -->
<      * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
201,202c197
<      * <!-- begin-user-doc -->
<      * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
210,211c205
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
215,218c209
< 			allEdges =  new EContentsEList(this, 
< 				new EStructuralFeature[] {
< 					NotationPackage.eINSTANCE.getDiagram_PersistedEdges(),
< 					NotationPackage.eINSTANCE.getDiagram_TransientEdges()});
---
>             allEdges = new EContentsEList(this, edgesFeatures);
224,225c215
<      * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
236,237c226
<      * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
248,249c237
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
252c240,241
< 		Edge newEdge = (Edge) eClass.getEPackage().getEFactoryInstance().create(eClass);
---
>         Edge newEdge = (Edge) eClass.getEPackage().getEFactoryInstance()
>             .create(eClass);
258,259c247
<      * <!-- begin-user-doc -->
<      * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
263a252,263
>             case NotationPackage.DIAGRAM__EANNOTATIONS:
>                 return ((InternalEList)getEAnnotations()).basicRemove(otherEnd, msgs);
>             case NotationPackage.DIAGRAM__SOURCE_EDGES:
>                 return ((InternalEList)getSourceEdges()).basicRemove(otherEnd, msgs);
>             case NotationPackage.DIAGRAM__TARGET_EDGES:
>                 return ((InternalEList)getTargetEdges()).basicRemove(otherEnd, msgs);
>             case NotationPackage.DIAGRAM__PERSISTED_CHILDREN:
>                 return ((InternalEList)getPersistedChildren()).basicRemove(otherEnd, msgs);
>             case NotationPackage.DIAGRAM__STYLES:
>                 return ((InternalEList)getStyles()).basicRemove(otherEnd, msgs);
>             case NotationPackage.DIAGRAM__TRANSIENT_CHILDREN:
>                 return ((InternalEList)getTransientChildren()).basicRemove(otherEnd, msgs);
269c269
<         return super.eInverseRemove(otherEnd, featureID, msgs);
---
>         return eDynamicInverseRemove(otherEnd, featureID, msgs);
273,274c273
<      * <!-- begin-user-doc -->
<      * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
278a278,301
>             case NotationPackage.DIAGRAM__EANNOTATIONS:
>                 return getEAnnotations();
>             case NotationPackage.DIAGRAM__VISIBLE:
>                 return isVisible() ? Boolean.TRUE : Boolean.FALSE;
>             case NotationPackage.DIAGRAM__TYPE:
>                 return getType();
>             case NotationPackage.DIAGRAM__MUTABLE:
>                 return isMutable() ? Boolean.TRUE : Boolean.FALSE;
>             case NotationPackage.DIAGRAM__SOURCE_EDGES:
>                 return getSourceEdges();
>             case NotationPackage.DIAGRAM__TARGET_EDGES:
>                 return getTargetEdges();
>             case NotationPackage.DIAGRAM__PERSISTED_CHILDREN:
>                 return getPersistedChildren();
>             case NotationPackage.DIAGRAM__STYLES:
>                 return getStyles();
>             case NotationPackage.DIAGRAM__ELEMENT:
>                 if (resolve) return getElement();
>                 return basicGetElement();
>             case NotationPackage.DIAGRAM__DIAGRAM:
>                 if (resolve) return getDiagram();
>                 return basicGetDiagram();
>             case NotationPackage.DIAGRAM__TRANSIENT_CHILDREN:
>                 return getTransientChildren();
288c311
<         return super.eGet(featureID, resolve, coreType);
---
>         return eDynamicGet(featureID, resolve, coreType);
292,293c315
<      * <!-- begin-user-doc -->
<      * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
297a320,355
>             case NotationPackage.DIAGRAM__EANNOTATIONS:
>                 getEAnnotations().clear();
>                 getEAnnotations().addAll((Collection)newValue);
>                 return;
>             case NotationPackage.DIAGRAM__VISIBLE:
>                 setVisible(((Boolean)newValue).booleanValue());
>                 return;
>             case NotationPackage.DIAGRAM__TYPE:
>                 setType((String)newValue);
>                 return;
>             case NotationPackage.DIAGRAM__MUTABLE:
>                 setMutable(((Boolean)newValue).booleanValue());
>                 return;
>             case NotationPackage.DIAGRAM__SOURCE_EDGES:
>                 getSourceEdges().clear();
>                 getSourceEdges().addAll((Collection)newValue);
>                 return;
>             case NotationPackage.DIAGRAM__TARGET_EDGES:
>                 getTargetEdges().clear();
>                 getTargetEdges().addAll((Collection)newValue);
>                 return;
>             case NotationPackage.DIAGRAM__PERSISTED_CHILDREN:
>                 getPersistedChildren().clear();
>                 getPersistedChildren().addAll((Collection)newValue);
>                 return;
>             case NotationPackage.DIAGRAM__STYLES:
>                 getStyles().clear();
>                 getStyles().addAll((Collection)newValue);
>                 return;
>             case NotationPackage.DIAGRAM__ELEMENT:
>                 setElement((EObject)newValue);
>                 return;
>             case NotationPackage.DIAGRAM__TRANSIENT_CHILDREN:
>                 getTransientChildren().clear();
>                 getTransientChildren().addAll((Collection)newValue);
>                 return;
313c371
<         super.eSet(featureID, newValue);
---
>         eDynamicSet(featureID, newValue);
317,318c375
<      * <!-- begin-user-doc -->
<      * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
322a380,409
>             case NotationPackage.DIAGRAM__EANNOTATIONS:
>                 getEAnnotations().clear();
>                 return;
>             case NotationPackage.DIAGRAM__VISIBLE:
>                 setVisible(VISIBLE_EDEFAULT);
>                 return;
>             case NotationPackage.DIAGRAM__TYPE:
>                 setType(TYPE_EDEFAULT);
>                 return;
>             case NotationPackage.DIAGRAM__MUTABLE:
>                 setMutable(MUTABLE_EDEFAULT);
>                 return;
>             case NotationPackage.DIAGRAM__SOURCE_EDGES:
>                 getSourceEdges().clear();
>                 return;
>             case NotationPackage.DIAGRAM__TARGET_EDGES:
>                 getTargetEdges().clear();
>                 return;
>             case NotationPackage.DIAGRAM__PERSISTED_CHILDREN:
>                 getPersistedChildren().clear();
>                 return;
>             case NotationPackage.DIAGRAM__STYLES:
>                 getStyles().clear();
>                 return;
>             case NotationPackage.DIAGRAM__ELEMENT:
>                 unsetElement();
>                 return;
>             case NotationPackage.DIAGRAM__TRANSIENT_CHILDREN:
>                 getTransientChildren().clear();
>                 return;
336c423
<         super.eUnset(featureID);
---
>         eDynamicUnset(featureID);
340,341c427
<      * <!-- begin-user-doc -->
<      * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
345a432,453
>             case NotationPackage.DIAGRAM__EANNOTATIONS:
>                 return eAnnotations != null && !eAnnotations.isEmpty();
>             case NotationPackage.DIAGRAM__VISIBLE:
>                 return ((eFlags & VISIBLE_EFLAG) != 0) != VISIBLE_EDEFAULT;
>             case NotationPackage.DIAGRAM__TYPE:
>                 return TYPE_EDEFAULT == null ? type != null : !TYPE_EDEFAULT.equals(type);
>             case NotationPackage.DIAGRAM__MUTABLE:
>                 return ((eFlags & MUTABLE_EFLAG) != 0) != MUTABLE_EDEFAULT;
>             case NotationPackage.DIAGRAM__SOURCE_EDGES:
>                 return sourceEdges != null && !sourceEdges.isEmpty();
>             case NotationPackage.DIAGRAM__TARGET_EDGES:
>                 return targetEdges != null && !targetEdges.isEmpty();
>             case NotationPackage.DIAGRAM__PERSISTED_CHILDREN:
>                 return persistedChildren != null && !persistedChildren.isEmpty();
>             case NotationPackage.DIAGRAM__STYLES:
>                 return styles != null && !styles.isEmpty();
>             case NotationPackage.DIAGRAM__ELEMENT:
>                 return isSetElement();
>             case NotationPackage.DIAGRAM__DIAGRAM:
>                 return basicGetDiagram() != null;
>             case NotationPackage.DIAGRAM__TRANSIENT_CHILDREN:
>                 return transientChildren != null && !transientChildren.isEmpty();
355c463
<         return super.eIsSet(featureID);
---
>         return eDynamicIsSet(featureID);
359,360c467
<      * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
376,377c483
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
385,386c491
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
395d499
< 	
397,398c501
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
410,411c513
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
414,415c516
< 		if (transientEdges!=null &&
< 			transientEdges.size()>0){
---
>         if (transientEdges != null && transientEdges.size() > 0) {
418,419c519
< 			for (Iterator iterator = edges.iterator();
< 				 iterator.hasNext();){
---
>             for (Iterator iterator = edges.iterator(); iterator.hasNext();) {
432,433c532
< 	  * <!-- begin-user-doc -->
< 	  * <!-- end-user-doc -->
---
>      * <!-- begin-user-doc --> <!-- end-user-doc -->
436,439c535,537
< 	  	if (edge.eContainingFeature() == 
< 			NotationPackage.eINSTANCE.getDiagram_TransientEdges()){
< 			if (transientEdges!=null && 
< 			    transientEdges.size()>0){
---
>         if (edge.eContainingFeature() == NotationPackage.Literals
>             .DIAGRAM__TRANSIENT_EDGES) {
>             if (transientEdges != null && transientEdges.size() > 0) {
442,445c540,542
< 		} else if (edge.eContainingFeature() == 
< 			NotationPackage.eINSTANCE.getDiagram_PersistedEdges()){
< 			if (persistedEdges!=null && 
< 				persistedEdges.size()>0){
---
>         } else if (edge.eContainingFeature() == NotationPackage.Literals
>                 .DIAGRAM__PERSISTED_EDGES) {
>             if (persistedEdges != null && persistedEdges.size() > 0) {
