358a359,361
> 		if (!hasParentFigure()) {
> 			return;
> 		}
360c363
< 		if (layoutConstraint != null && getFigure().getParent() != null) {
---
> 		if (layoutConstraint != null) {
364a368,381
> 	/**
> 	 * Parent figure == null if this method was called from setFigure() one.
> 	 */
> 	private boolean hasParentFigure() {
> 		return getFigure().getParent() != null;
> 	}
> 
> 	protected void refreshLayoutManager() {
> 		if (!hasParentFigure()) {
> 			return;
> 		}
> 		handleMajorSemanticChange();
> 	}
> 
