2c2
<  * Copyright (c) 2006 IBM Corporation and others.
---
>  * Copyright (c) 2006, 2007 IBM Corporation and others.
327,328c327
<                 IUndoableOperation child = (IUndoableOperation) iterator()
<                     .next();
---
> 			IUndoableOperation child = (IUndoableOperation) iterator().next();
331c330,340
<                     return ((ICommand) child).reduce();
---
> 				ICommand cmd = ((ICommand) child).reduce();
> 				/*
> 				 * If label is missing on the resultant reduced command
> 				 * and it is present on this command, then just copy the label
> 				 * from this command to the resultant.
> 				 */
> 				if ((cmd.getLabel() == null || cmd.getLabel().length() == 0)
> 						&& getLabel() != null && getLabel().length() > 0) {
> 					cmd.setLabel(getLabel());
> 				}
> 				return cmd;
