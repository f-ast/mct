2c2
<  * Copyright (c) 2005 Borland Software Corporation
---
>  * Copyright (c) 2005, 2007 Borland Software Corporation
15d14
< import java.util.Iterator;
19a19
> import org.eclipse.core.runtime.MultiStatus;
116c116,119
< 		for (Iterator/* <URI> */it = locations.iterator(); it.hasNext();) {
---
> 
> 		List<IStatus> exceptions = new LinkedList<IStatus>();
> 		final String id = "org.eclipse.gmf.bridge"; //$NON-NLS-1$
> 		for (URI uri : locations) {
118d120
< 				URI uri = (URI) it.next();
127,128c129
< 				// FIXME collect into status
< 				System.err.println(ex.getMessage());
---
> 				exceptions.add(new Status(IStatus.ERROR, id, ex.getMessage(), ex.getCause()));
132c133,137
< 		return Status.CANCEL_STATUS; // FIXME
---
> 		if (exceptions.isEmpty()) {
> 			return Status.CANCEL_STATUS;
> 		}
> 		IStatus[] sa = exceptions.toArray(new IStatus[exceptions.size()]);
> 		return new MultiStatus(id, 0, sa, "Problems while loading GenModel", null); //$NON-NLS-1$
