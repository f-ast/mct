13,17d12
< import java.util.ArrayList;
< import java.util.Collection;
< import java.util.Collections;
< import java.util.Iterator;
< 
20d14
< import org.eclipse.gef.EditPart;
26d19
< import org.eclipse.gmf.graphdef.editor.edit.parts.CompartmentEditPart;
29d21
< import org.eclipse.gmf.runtime.diagram.ui.requests.EditCommandRequestWrapper;
34d25
< import org.eclipse.gmf.runtime.notation.Edge;
46,57c37
< 		CompoundCommand cc = new CompoundCommand();
< 		Collection allEdges = new ArrayList();
< 		View view = (View) getHost().getModel();
< 		allEdges.addAll(view.getSourceEdges());
< 		allEdges.addAll(view.getTargetEdges());
< 		for (Iterator it = allEdges.iterator(); it.hasNext();) {
< 			Edge nextEdge = (Edge) it.next();
< 			EditPart nextEditPart = (EditPart) getHost().getViewer().getEditPartRegistry().get(nextEdge);
< 			EditCommandRequestWrapper editCommandRequest = new EditCommandRequestWrapper(new DestroyElementRequest(((CompartmentEditPart) getHost()).getEditingDomain(), req.isConfirmationRequired()),
< 					Collections.EMPTY_MAP);
< 			cc.add(nextEditPart.getCommand(editCommandRequest));
< 		}
---
> 		CompoundCommand cc = getDestroyEdgesCommand(req.isConfirmationRequired());
70c50
< 		return cc;
---
> 		return cc.unwrap();
