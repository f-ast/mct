12,13d11
< 
< 
28a27
>  * @author James Bruck (jbruck)
32a32,33
> 	List<String> diagramList;
> 
56a58
> 		options.setDiagramCurrent(true);
63c65,66
< 	public PrinterData openPrintDlg(List diagramList) {
---
> 	@SuppressWarnings("unchecked")
> 	public PrinterData openPrintDlg(List availableDiagramList) {
64a68,69
> 		this.diagramList = availableDiagramList;
> 
66c71
< 				.getActiveWorkbenchWindow(), options);
---
> 				.getActiveWorkbenchWindow(), options, this.diagramList);
124,125c129
< 		// TODO Not supported by the JPS dialog
< 		return true;
---
> 		return options.isDiagramCurrent();
129,130c133
< 		// TODO Not supported by the JPS dialog
< 		return false;
---
> 		return options.isDiagramSelection();
134c137,140
< 		// TODO Not supported by the JPS dialog
---
> 		String diagramToPrint = diagramList.get(index);
> 		if (options.getDiagramsToPrint() != null) {
> 			return options.getDiagramsToPrint().contains(diagramToPrint);
> 		}
