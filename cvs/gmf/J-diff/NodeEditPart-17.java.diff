15a16
> import org.eclipse.draw2d.ToolbarLayout;
24a26
> import org.eclipse.gmf.graphdef.editor.edit.policies.GMFGraphTextSelectionEditPolicy;
27a30
> import org.eclipse.gmf.runtime.diagram.ui.editparts.ITextAwareEditPart;
28a32
> import org.eclipse.gmf.runtime.diagram.ui.editpolicies.ConstrainedToolbarLayoutEditPolicy;
31c35
< import org.eclipse.gmf.runtime.draw2d.ui.figures.WrapLabel;
---
> import org.eclipse.gmf.runtime.draw2d.ui.figures.WrappingLabel;
79c83
< 		LayoutEditPolicy lep = new LayoutEditPolicy() {
---
> 		ConstrainedToolbarLayoutEditPolicy lep = new ConstrainedToolbarLayoutEditPolicy() {
82,84c86,88
< 				EditPolicy result = child.getEditPolicy(EditPolicy.PRIMARY_DRAG_ROLE);
< 				if (result == null) {
< 					result = new NonResizableEditPolicy();
---
> 				if (child.getEditPolicy(EditPolicy.PRIMARY_DRAG_ROLE) == null) {
> 					if (child instanceof ITextAwareEditPart) {
> 						return new GMFGraphTextSelectionEditPolicy();
86,90d89
< 				return result;
< 			}
< 
< 			protected Command getMoveChildrenCommand(Request request) {
< 				return null;
92,94c91
< 
< 			protected Command getCreateCommand(CreateRequest request) {
< 				return null;
---
> 				return super.createChildEditPolicy(child);
239c236
< 		private WrapLabel fDiagramElementFigure_NameLabel;
---
> 		private WrappingLabel fFigureDiagramElementFigure_NameLabel;
244a242,251
> 
> 			ToolbarLayout layoutThis = new ToolbarLayout();
> 			layoutThis.setStretchMinorAxis(true);
> 			layoutThis.setMinorAlignment(ToolbarLayout.ALIGN_CENTER);
> 
> 			layoutThis.setSpacing(0);
> 			layoutThis.setVertical(true);
> 
> 			this.setLayoutManager(layoutThis);
> 
253,254c260,261
< 			WrapLabel diagramElementFigure_NameLabel0 = new WrapLabel();
< 			diagramElementFigure_NameLabel0.setText("");
---
> 			fFigureDiagramElementFigure_NameLabel = new WrappingLabel();
> 			fFigureDiagramElementFigure_NameLabel.setText("");
256,257c263
< 			this.add(diagramElementFigure_NameLabel0);
< 			fDiagramElementFigure_NameLabel = diagramElementFigure_NameLabel0;
---
> 			this.add(fFigureDiagramElementFigure_NameLabel);
283,284c289,290
< 		public WrapLabel getFigureDiagramElementFigure_NameLabel() {
< 			return fDiagramElementFigure_NameLabel;
---
> 		public WrappingLabel getFigureDiagramElementFigure_NameLabel() {
> 			return fFigureDiagramElementFigure_NameLabel;
