44d43
< import org.eclipse.gmf.gmfgraph.Shape;
161,162c160,161
< 		Shape shape = getShape();
< 		if (shape == null || shape.getLayoutData() == null) {
---
> 		RealFigure realFigure = getRealFigure();
> 		if (realFigure == null || realFigure.getLayoutData() == null) {
165c164
< 		LayoutData layoutData = shape.getLayoutData();
---
> 		LayoutData layoutData = realFigure.getLayoutData();
377c376
< 	protected Shape getShape() {
---
> 	protected RealFigure getRealFigure() {
379,380c378,379
< 		if (view != null && view.getElement() instanceof Shape) {
< 			return (Shape) view.getElement();
---
> 		if (view != null && view.getElement() instanceof RealFigure) {
> 			return (RealFigure) view.getElement();
393c392
< 		Font modelFont = getShape().getFont();
---
> 		Font modelFont = getRealFigure().getFont();
