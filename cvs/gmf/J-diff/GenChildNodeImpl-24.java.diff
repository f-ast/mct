9a10,12
> 
> import org.eclipse.emf.common.util.EList;
> 
10a14
> 
12,13c16,19
< import org.eclipse.gmf.codegen.gmfgen.CompartmentLayoutKind;
< import org.eclipse.gmf.codegen.gmfgen.CompartmentPlacementKind;
---
> 
> import org.eclipse.emf.ecore.util.EObjectWithInverseResolvingEList;
> import org.eclipse.emf.ecore.util.InternalEList;
> 
17c23
< import org.eclipse.gmf.codegen.gmfgen.GenCompartment;
---
> 
19d24
< import org.eclipse.gmf.codegen.gmfgen.GenNode;
28c33,34
<  *   <li>{@link org.eclipse.gmf.codegen.gmfgen.impl.GenChildNodeImpl#getContainer <em>Container</em>}</li>
---
>  *   <li>{@link org.eclipse.gmf.codegen.gmfgen.impl.GenChildNodeImpl#getDiagram <em>Diagram</em>}</li>
>  *   <li>{@link org.eclipse.gmf.codegen.gmfgen.impl.GenChildNodeImpl#getContainers <em>Containers</em>}</li>
35a42,51
> 	 * The cached value of the '{@link #getContainers() <em>Containers</em>}' reference list.
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @see #getContainers()
> 	 * @generated
> 	 * @ordered
> 	 */
> 	protected EList containers = null;
> 
> 	/**
58,60c74,76
< 	public GenChildContainer getContainer() {
< 		if (eContainerFeatureID != GMFGenPackage.GEN_CHILD_NODE__CONTAINER) return null;
< 		return (GenChildContainer)eContainer();
---
> 	public GenDiagram getDiagram() {
> 		if (eContainerFeatureID != GMFGenPackage.GEN_CHILD_NODE__DIAGRAM) return null;
> 		return (GenDiagram)eContainer();
66c82
< 	 * @generated NOT
---
> 	 * @generated
68,73c84,86
< 	public boolean isListContainerEntry() {
< 		if (getContainer() instanceof GenNode) {
< 			return ((GenNode) getContainer()).getChildContainersPlacement() == CompartmentPlacementKind.TOOLBAR_LITERAL;
< 		}
< 		if (getContainer() instanceof GenCompartment) {
< 			return ((GenCompartment) getContainer()).getLayoutKind() == CompartmentLayoutKind.TOOLBAR_LITERAL;
---
> 	public EList getContainers() {
> 		if (containers == null) {
> 			containers = new EObjectWithInverseResolvingEList.ManyInverse(GenChildContainer.class, this, GMFGenPackage.GEN_CHILD_NODE__CONTAINERS, GMFGenPackage.GEN_CHILD_CONTAINER__CHILD_NODES);
75c88
< 		return false;
---
> 		return containers;
85c98
< 			case GMFGenPackage.GEN_CHILD_NODE__CONTAINER:
---
> 			case GMFGenPackage.GEN_CHILD_NODE__DIAGRAM:
88c101,103
< 				return eBasicSetContainer(otherEnd, GMFGenPackage.GEN_CHILD_NODE__CONTAINER, msgs);
---
> 				return eBasicSetContainer(otherEnd, GMFGenPackage.GEN_CHILD_NODE__DIAGRAM, msgs);
> 			case GMFGenPackage.GEN_CHILD_NODE__CONTAINERS:
> 				return ((InternalEList)getContainers()).basicAdd(otherEnd, msgs);
100,101c115,118
< 			case GMFGenPackage.GEN_CHILD_NODE__CONTAINER:
< 				return eBasicSetContainer(null, GMFGenPackage.GEN_CHILD_NODE__CONTAINER, msgs);
---
> 			case GMFGenPackage.GEN_CHILD_NODE__DIAGRAM:
> 				return eBasicSetContainer(null, GMFGenPackage.GEN_CHILD_NODE__DIAGRAM, msgs);
> 			case GMFGenPackage.GEN_CHILD_NODE__CONTAINERS:
> 				return ((InternalEList)getContainers()).basicRemove(otherEnd, msgs);
113,114c130,131
< 			case GMFGenPackage.GEN_CHILD_NODE__CONTAINER:
< 				return eInternalContainer().eInverseRemove(this, GMFGenPackage.GEN_CHILD_CONTAINER__CHILD_NODES, GenChildContainer.class, msgs);
---
> 			case GMFGenPackage.GEN_CHILD_NODE__DIAGRAM:
> 				return eInternalContainer().eInverseRemove(this, GMFGenPackage.GEN_DIAGRAM__CHILD_NODES, GenDiagram.class, msgs);
126,127c143,146
< 			case GMFGenPackage.GEN_CHILD_NODE__CONTAINER:
< 				return getContainer();
---
> 			case GMFGenPackage.GEN_CHILD_NODE__DIAGRAM:
> 				return getDiagram();
> 			case GMFGenPackage.GEN_CHILD_NODE__CONTAINERS:
> 				return getContainers();
139,140c158,161
< 			case GMFGenPackage.GEN_CHILD_NODE__CONTAINER:
< 				return getContainer() != null;
---
> 			case GMFGenPackage.GEN_CHILD_NODE__DIAGRAM:
> 				return getDiagram() != null;
> 			case GMFGenPackage.GEN_CHILD_NODE__CONTAINERS:
> 				return containers != null && !containers.isEmpty();
145,146c166,170
< 	public GenDiagram getDiagram() {
< 		return getContainer().getDiagram();
---
> 	public boolean isListContainerEntry() {
> 		if (getContainers().size() > 0) {
> 			return ((GenChildContainer) getContainers().get(0)).isListLayout();
> 		}
> 		return false;
