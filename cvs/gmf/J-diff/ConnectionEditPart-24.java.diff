28a29
> import org.eclipse.draw2d.ConnectionLayer;
993,994c994
< 		ConnectionLayerEx cLayer = (ConnectionLayerEx) getLayer(LayerConstants.CONNECTION_LAYER);
< 
---
> 		ConnectionLayer cLayer = (ConnectionLayer) getLayer(LayerConstants.CONNECTION_LAYER);
997d996
< 		if (style != null) {
998a998,1000
> 		if (style != null && cLayer instanceof ConnectionLayerEx) {
> 
>             ConnectionLayerEx cLayerEx = (ConnectionLayerEx)cLayer;
1002c1004
< 					cLayer.getObliqueRouter());
---
>                     cLayerEx.getObliqueRouter());
1005c1007
< 					cLayer.getRectilinearRouter());
---
>                     cLayerEx.getRectilinearRouter());
1008c1010
< 					cLayer.getTreeRouter());
---
>                     cLayerEx.getTreeRouter());
