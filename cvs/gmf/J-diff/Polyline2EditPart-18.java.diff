16d15
< import org.eclipse.gef.EditPart;
18,19d16
< import org.eclipse.gef.Request;
< import org.eclipse.gef.commands.Command;
21,22d17
< import org.eclipse.gef.editpolicies.NonResizableEditPolicy;
< import org.eclipse.gef.requests.CreateRequest;
24c19
< import org.eclipse.gmf.runtime.diagram.ui.editparts.ShapeNodeEditPart;
---
> import org.eclipse.gmf.graphdef.editor.edit.polocies.DomainBasedXYLayoutEditPolicy;
33c28
< public class Polyline2EditPart extends ShapeNodeEditPart {
---
> public class Polyline2EditPart extends AbstractFigureEditPart {
72,91c67
< 		LayoutEditPolicy lep = new LayoutEditPolicy() {
< 
< 			protected EditPolicy createChildEditPolicy(EditPart child) {
< 				EditPolicy result = child.getEditPolicy(EditPolicy.PRIMARY_DRAG_ROLE);
< 				if (result == null) {
< 					result = new NonResizableEditPolicy();
< 				}
< 				return result;
< 			}
< 
< 			protected Command getMoveChildrenCommand(Request request) {
< 				return null;
< 			}
< 
< 			protected Command getCreateCommand(CreateRequest request) {
< 				return null;
< 			}
< 		};
< 		return lep;
< 
---
> 		return new DomainBasedXYLayoutEditPolicy(getMapMode());
