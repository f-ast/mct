2c2
<  * Copyright (c) 2006 IBM Corporation and others.
---
>  * Copyright (c) 2006, 2006 IBM Corporation and others.
26a27
> import org.eclipse.gmf.runtime.common.core.command.CommandResult;
102a104
>                     setCommandResult(fileModifier, Status.CANCEL_STATUS);
108a111
>                     setCommandResult(fileModifier, Status.CANCEL_STATUS);
114c117
<         return FileModificationValidator
---
>         IStatus status = FileModificationValidator
115a119,138
>         
>         if (!status.isOK()) {
>             setCommandResult(fileModifier, status);
>         }
>         
>         return status;
>     }
>     
>     /**
>      * Sets the command result of the specified command to a CommandResult
>      * having the specified status.
>      * 
>      * @param command ICommand to set the CommandResult for
>      * @param status IStatus of the CommandResult that will be set on the
>      * command
>      */
>     private void setCommandResult(ICommand command, IStatus status) {
>         if (command instanceof ICommandWithSettableResult) {
>             ((ICommandWithSettableResult) command).internalSetResult(new CommandResult(status));
>         }
