16a17
> import java.util.Enumeration;
17a19
> import java.util.IdentityHashMap;
19a22
> import java.util.Map;
38a42,48
> 	private final GenerationInfoImpl myGenerationInfo;
> 	
> 	public interface GenerationInfo {
> 		public Config getConfig(); 
> 		public Enumeration/*<Figure>*/ getProcessedFigures();
> 		public String getGeneratedClassFQN(Figure figure);
> 	}
131a142,146
> 		myGenerationInfo = new GenerationInfoImpl(myArgs);
> 	}
> 	
> 	public GenerationInfo getGenerationInfo() {
> 		return myGenerationInfo;
142,147d156
< 	private static String composePluginActivatorClassFQN(Config config) {
< 		String packageName = config.getPluginActivatorPackageName();
< 		String className = config.getPluginActivatorClassName();
< 		return packageName == null || "".equals(packageName) ? className : packageName + "." + className; 
< 	}
< 
206c215,218
< 		doGenerateJavaClass(myFigureGenerator, getPackageName(), figure.getName(), figure);
---
> 		String packageName = getPackageName();
> 		String className = figure.getName();
> 		doGenerateJavaClass(myFigureGenerator, packageName, className, figure);
> 		myGenerationInfo.registerFQN(figure, composeFQN(packageName, className));
212a225,234
> 	private static String composePluginActivatorClassFQN(Config config) {
> 		String packageName = config.getPluginActivatorPackageName();
> 		String className = config.getPluginActivatorClassName();
> 		return composeFQN(packageName, className);
> 	}
> 
> 	private static String composeFQN(String packageName, String className){
> 		return packageName == null || "".equals(packageName) ? className : packageName + "." + className; 
> 	}
> 	
227a250,275
> 	private static class GenerationInfoImpl implements GenerationInfo {
> 		private final Map myFigure2FQN = new IdentityHashMap();
> 		private final Config myConfig;
> 		
> 		public GenerationInfoImpl(Config config){
> 			myConfig = config;
> 		}
> 		
> 		public Config getConfig() {
> 			return myConfig;
> 		}
> 		
> 		public void registerFQN(Figure figure, String fqn){
> 			myFigure2FQN.put(figure, fqn);
> 		}
> 		
> 		public String getGeneratedClassFQN(Figure figure) {
> 			return (String)myFigure2FQN.get(figure);
> 		}
> 		
> 		public Enumeration getProcessedFigures() {
> 			return Collections.enumeration(myFigure2FQN.keySet());
> 		}
> 		
> 	}
> 	
