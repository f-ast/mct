29a30
> import org.eclipse.gmf.gmfgraph.FigureHandle;
110,111c111,116
< 			if (next.getFigure() instanceof Figure) {
< 				handleFigure((Figure) next.getFigure());
---
> 			FigureHandle nextFigure = next.getFigure();
> 			if (nextFigure == null){
> 				throw new NullPointerException("Compartment without figure : " + next);
> 			}
> 			if (nextFigure instanceof Figure) {
> 				handleFigure((Figure) nextFigure);
