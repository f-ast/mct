99,100c99,103
< 	protected final TransactionalUpdateManager getTransactionalUpdateManager() {
< 		return (TransactionalUpdateManager) getViewer().getProperty(TransactionalUpdateManager.class.getName());
---
> 	protected TransactionalUpdateManager getTransactionalUpdateManager() {
> 		if (getParent() instanceof BaseTreeEditPart) {
> 			return ((BaseTreeEditPart) getParent()).getTransactionalUpdateManager();
> 		}
> 		return null;
