23a24,25
> import org.eclipse.gmf.common.IncrementalNamesDispenser;
> import org.eclipse.gmf.common.NamesDispenser;
25d26
< import org.eclipse.gmf.internal.bridge.naming.CollectingDispenser;
27d27
< import org.eclipse.gmf.internal.bridge.naming.UniqueValueDispenser;
39c39,40
< 	private UniqueValueDispenser myDispenser;
---
> 	private NamesDispenser myDispenser;
> 
40a42
> 
41a44
> 
42a46
> 
43a48
> 
44a50
> 
48c54
< 		this(new CollectingDispenser());
---
> 		this(new IncrementalNamesDispenser());
51c57,58
< 	public GenModelNamingMediatorImpl(UniqueValueDispenser dispenser) {
---
> 	public GenModelNamingMediatorImpl(NamesDispenser dispenser) {
> 		myDispenser = dispenser;
59,62d65
< 	public UniqueValueDispenser getDispenser() {
< 		return myDispenser;
< 	}
< 
103,110d105
< 	public void feed(GenDiagram genDiagram, CanvasMapping cme) {
< 		genDiagram.setNotationViewFactoryClassName(getViewFactory().get(cme));
< 		genDiagram.setEditPartClassName(getEditPart().get(cme));
< 		genDiagram.setItemSemanticEditPolicyClassName(getItemSemanticPolicy().get(cme));
< 		genDiagram.setCanonicalEditPolicyClassName(getCanonicalPolicy().get(cme));
< 		getNodeGraphicalPolicy().getCache().remember(genDiagram.getBaseGraphicalNodeEditPolicyClassName()); // #127310
< 	}
< 
118a114,121
> 	public void feed(GenDiagram genDiagram, CanvasMapping cme) {
> 		genDiagram.setNotationViewFactoryClassName(getViewFactory().get(cme));
> 		genDiagram.setEditPartClassName(getEditPart().get(cme));
> 		genDiagram.setItemSemanticEditPolicyClassName(getItemSemanticPolicy().get(cme));
> 		genDiagram.setCanonicalEditPolicyClassName(getCanonicalPolicy().get(cme));
> 		getNodeGraphicalPolicy().getNamesDispenser().add(genDiagram.getBaseGraphicalNodeEditPolicyClassName()); // #127310
> 	}
> 
158a162,167
> 
> 	public void reset() {
> 		if (myDispenser != null) {
> 			myDispenser.clear();
> 		}
> 	}
