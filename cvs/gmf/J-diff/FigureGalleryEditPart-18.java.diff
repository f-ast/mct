12a13
> import org.eclipse.draw2d.BorderLayout;
16d16
< import org.eclipse.draw2d.ToolbarLayout;
27d26
< import org.eclipse.gmf.graphdef.editor.edit.policies.GMFGraphTextSelectionEditPolicy;
30d28
< import org.eclipse.gmf.runtime.diagram.ui.editparts.ITextAwareEditPart;
32d29
< import org.eclipse.gmf.runtime.diagram.ui.editpolicies.ConstrainedToolbarLayoutEditPolicy;
83c80
< 		ConstrainedToolbarLayoutEditPolicy lep = new ConstrainedToolbarLayoutEditPolicy() {
---
> 		LayoutEditPolicy lep = new LayoutEditPolicy() {
86,88c83,85
< 				if (child.getEditPolicy(EditPolicy.PRIMARY_DRAG_ROLE) == null) {
< 					if (child instanceof ITextAwareEditPart) {
< 						return new GMFGraphTextSelectionEditPolicy();
---
> 				EditPolicy result = child.getEditPolicy(EditPolicy.PRIMARY_DRAG_ROLE);
> 				if (result == null) {
> 					result = new NonResizableEditPolicy();
89a87
> 				return result;
91c89,95
< 				return super.createChildEditPolicy(child);
---
> 
> 			protected Command getMoveChildrenCommand(Request request) {
> 				return null;
> 			}
> 
> 			protected Command getCreateCommand(CreateRequest request) {
> 				return null;
189c193
< 	 * @generated
---
> 	 * @generated NOT
192c196,198
< 		if (nodeShape.getLayoutManager() == null) {
---
> 		FigureGalleryFigure fgFigure = (FigureGalleryFigure) nodeShape;
> 		IFigure contentPane = fgFigure.getFigureFigureGalleryFigure_ChildContainer();
> 		if (contentPane.getLayoutManager() == null) {
195c201
< 			nodeShape.setLayoutManager(layout);
---
> 			contentPane.setLayoutManager(layout);
197c203
< 		return nodeShape; // use nodeShape itself as contentPane
---
> 		return contentPane; // use nodeShape itself as contentPane
241,245c247
< 		public FigureGalleryFigure() {
< 
< 			ToolbarLayout layoutThis = new ToolbarLayout();
< 			layoutThis.setStretchMinorAxis(true);
< 			layoutThis.setMinorAlignment(ToolbarLayout.ALIGN_CENTER);
---
> 		private RectangleFigure fFigureFigureGalleryFigure_ChildContainer;
247,248c249,252
< 			layoutThis.setSpacing(0);
< 			layoutThis.setVertical(true);
---
> 		/**
> 		 * @generated
> 		 */
> 		public FigureGalleryFigure() {
249a254
> 			BorderLayout layoutThis = new BorderLayout();
263c268,276
< 			this.add(fFigureFigureGalleryFigure_NameLabel);
---
> 			this.add(fFigureFigureGalleryFigure_NameLabel, BorderLayout.TOP);
> 
> 			fFigureFigureGalleryFigure_ChildContainer = new RectangleFigure();
> 			fFigureFigureGalleryFigure_ChildContainer.setFill(false);
> 			fFigureFigureGalleryFigure_ChildContainer.setOutline(false);
> 
> 			this.add(fFigureFigureGalleryFigure_ChildContainer, BorderLayout.CENTER);
> 
> 			fFigureFigureGalleryFigure_ChildContainer.setLayoutManager(new StackLayout());
292a306,312
> 		/**
> 		 * @generated
> 		 */
> 		public RectangleFigure getFigureFigureGalleryFigure_ChildContainer() {
> 			return fFigureFigureGalleryFigure_ChildContainer;
> 		}
> 
