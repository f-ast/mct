15a16
> import java.util.HashSet;
18a20,21
> import java.util.ListIterator;
> import java.util.Set;
27d29
< import org.eclipse.gmf.runtime.diagram.ui.editparts.DiagramEditPart;
28a31
> import org.eclipse.gmf.runtime.diagram.ui.editparts.DiagramEditPart;
89c92
< 	 * This method searches an edit part for a child that is a gate edit part
---
> 	 * This method searches an edit part for a child that is a border item edit part
91c94
< 	 * @return list of gated edit parts that are direct children of the parent
---
> 	 * @return list of border item edit parts that are direct children of the parent
93c96
< 	private List getGateEditParts(EditPart parent) {
---
> 	private List getBorderItemEditParts(EditPart parent) {
104c107
< 			list.addAll( getGateEditParts(child) );
---
> 			list.addAll( getBorderItemEditParts(child) );
135c138
< 					list.addAll( getGateEditParts( child ) );
---
> 					list.addAll( getBorderItemEditParts( child ) );
166a170,175
> 		Set connnectableEditParts = new HashSet(editparts);
> 		ListIterator li = editparts.listIterator();
> 		while (li.hasNext()) {
> 			connnectableEditParts.addAll(getBorderItemEditParts((EditPart)li.next()));
> 		}
> 		
172,173c181,182
< 				if (editparts.contains(connection.getSource())
< 					|| editparts.contains(connection.getTarget()))
---
> 				if (connnectableEditParts.contains(connection.getSource())
> 					|| connnectableEditParts.contains(connection.getTarget()))
