16c16,17
< 
---
> import org.eclipse.gef.GraphicalEditPart;
> import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
24,25c25
< import org.eclipse.gmf.runtime.diagram.core.util.ViewUtil;
< import org.eclipse.gmf.runtime.draw2d.ui.mapmode.MapMode;
---
> import org.eclipse.gmf.runtime.draw2d.ui.mapmode.MapModeUtil;
42,44d41
< 	/** The radius of the decoration hashed circle */
< 	private static final int RADIUS = MapMode.DPtoLP(8);
< 
67a65,66
> 		int radius = MapModeUtil.getMapMode(((GraphicalEditPart)editPart).getFigure()).DPtoLP(8);
> 
70c69
< 				RADIUS);
---
> 				radius);
73c72
< 				IDecoratorTarget.Direction.NORTH_EAST, MapMode.DPtoLP(-4),
---
> 				IDecoratorTarget.Direction.NORTH_EAST, MapModeUtil.getMapMode(((ShapeEditPart)editPart).getFigure()).DPtoLP(-4),
77c76
< 			Edge edge = (Edge)view;
---
> 			Edge connectorView = (Edge)view;
80c79
< 					RADIUS);
---
> 					radius);
84,85c83,84
< 			} else if ((edge.getTarget() != null)&&(ViewUtil
< 				.resolveSemanticElement(edge.getTarget()) == null)) {
---
> 			} else if ((connectorView.getTarget() != null)&&(ViewUtil
> 				.resolveSemanticElement(connectorView.getTarget()) == null)) {
87c86
< 					HashedCircle.HashType.BACKSLASH, RADIUS);
---
> 					HashedCircle.HashType.BACKSLASH, radius);
