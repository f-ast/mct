14,16c14,16
< import org.eclipse.jface.viewers.IStructuredSelection;
< import org.eclipse.ui.IWorkbenchPart;
< 
---
> import org.eclipse.core.commands.ExecutionException;
> import org.eclipse.core.runtime.IAdaptable;
> import org.eclipse.core.runtime.IProgressMonitor;
27a28,29
> import org.eclipse.jface.viewers.IStructuredSelection;
> import org.eclipse.ui.IWorkbenchPart;
119c121
< 			public boolean isUndoable() {
---
> 			public boolean canUndo() {
123c125
< 			public boolean isRedoable() {
---
> 			public boolean canRedo() {
127,129c129,134
< 			protected CommandResult doUndo() {
< 				return isUndoable ? newOKCommandResult()
< 					: super.doUndo();
---
> 			protected CommandResult doUndoWithResult(
>                     IProgressMonitor progressMonitor, IAdaptable info)
>                 throws ExecutionException {
>                 
> 				return isUndoable ? CommandResult.newOKCommandResult()
> 					: super.doUndoWithResult(progressMonitor, info);
132,134c137,142
< 			protected CommandResult doRedo() {
< 				return isUndoable ? newOKCommandResult()
< 					: super.doRedo();
---
> 			protected CommandResult doRedoWithResult(
>                     IProgressMonitor progressMonitor, IAdaptable info)
>                 throws ExecutionException {
>                 
> 				return isUndoable ? CommandResult.newOKCommandResult()
> 					: super.doRedoWithResult(progressMonitor, info);
