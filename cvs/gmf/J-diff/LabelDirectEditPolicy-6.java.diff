2c2
<  * Copyright (c) 2002, 2005 IBM Corporation and others.
---
>  * Copyright (c) 2002, 2005 - 2006 IBM Corporation and others.
9a10
>  *    Dmitri Stadnik (Borland) - remove dependency to TextCompartmentEditPart
21c22
< import org.eclipse.gmf.runtime.diagram.ui.editparts.TextCompartmentEditPart;
---
> import org.eclipse.gmf.runtime.diagram.ui.editparts.ITextAwareEditPart;
78,79c79,80
< 		TextCompartmentEditPart compartment = (TextCompartmentEditPart) getHost();
< 		View view = compartment.getNotationView();
---
> 		ITextAwareEditPart compartment = (ITextAwareEditPart) getHost();
> 		EObject model = (EObject)compartment.getModel();
81c82,83
< 		if (view !=null)
---
> 		if (model instanceof View) {
>             View view = (View)model;
83a86
>         }
85,86c88
< 			elementAdapter = new EObjectAdapterEx((EObject)compartment.getModel(),
< 				null);
---
> 			elementAdapter = new EObjectAdapterEx(model, null);
104c106
< 		((TextCompartmentEditPart) getHost()).getLabel().setText(value);
---
> 		((ITextAwareEditPart) getHost()).setLabelText(value);
