2c2
<  * Copyright (c) 2002, 2005 IBM Corporation and others.
---
>  * Copyright (c) 2002, 2006 IBM Corporation and others.
13a14
> import org.eclipse.core.commands.operations.IOperationHistory;
16a18,23
> import org.eclipse.gmf.runtime.common.core.command.CommandManager;
> import org.eclipse.gmf.runtime.common.core.util.Log;
> import org.eclipse.gmf.runtime.common.core.util.Trace;
> import org.eclipse.gmf.runtime.common.ui.internal.CommonUIDebugOptions;
> import org.eclipse.gmf.runtime.common.ui.internal.CommonUIPlugin;
> import org.eclipse.gmf.runtime.common.ui.internal.CommonUIStatusCodes;
32,38d38
< import org.eclipse.gmf.runtime.common.core.command.CommandManager;
< import org.eclipse.gmf.runtime.common.core.util.Log;
< import org.eclipse.gmf.runtime.common.core.util.Trace;
< import org.eclipse.gmf.runtime.common.ui.internal.CommonUIDebugOptions;
< import org.eclipse.gmf.runtime.common.ui.internal.CommonUIPlugin;
< import org.eclipse.gmf.runtime.common.ui.internal.CommonUIStatusCodes;
< 
177a178
>      * @deprecated Use {@link #getOperationHistory()} instead.
180c181,191
< 		return getActionManager().getCommandManager();
---
> 		return CommandManager.getDefault();
> 	}
>     
>     /**
>      * Gets the operation history for this action delegate from its action
>      * manager.
>      * 
>      * @return the operation history
>      */
>     protected IOperationHistory getOperationHistory() {
>         return getActionManager().getOperationHistory();
