74,75c74,77
< 
< 		return new CommandResult(new Status(IStatus.OK, getPluginId(),
---
>         int severity = IStatus.OK;
>         if (diagram==null)
>             severity = IStatus.ERROR;
> 		return new CommandResult(new Status(severity, getPluginId(),
