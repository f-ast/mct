17a18
> import org.eclipse.emf.transaction.TransactionalEditingDomain;
21,24d21
< import org.eclipse.jface.preference.IPreferenceStore;
< import org.eclipse.ui.IWorkbenchPage;
< import org.eclipse.ui.IWorkbenchPart;
< 
29c26
< import org.eclipse.gmf.runtime.emf.commands.core.command.CompositeModelCommand;
---
> import org.eclipse.gmf.runtime.emf.commands.core.command.CompositeTransactionalCommand;
30a28,30
> import org.eclipse.jface.preference.IPreferenceStore;
> import org.eclipse.ui.IWorkbenchPage;
> import org.eclipse.ui.IWorkbenchPart;
72,73c72,75
< 		DestroyElementRequest destroyRequest = new DestroyElementRequest(shouldPrompt);
< 
---
> 		TransactionalEditingDomain editingDomain = getEditingDomain();
>         if (editingDomain != null) {
>             DestroyElementRequest destroyRequest = new DestroyElementRequest(
>                 editingDomain, shouldPrompt);
76c78,79
< 	
---
>         return null;
> 	}
94c97
< 			CompositeModelCommand compositeModelActionCommand = new CompositeModelCommand(
---
> 			CompositeTransactionalCommand compositeModelActionCommand = new CompositeTransactionalCommand(getEditingDomain(),
