26a27
> import org.eclipse.gmf.mappings.LabelNodeMapping;
28a30
> import org.eclipse.gmf.mappings.ShapeNodeMapping;
166,167c168,171
<                 if (mapping.getDiagramNode() != null) { 
<                     result += reference.getChild().getDiagramNode().getName(); 
---
>                 if (mapping instanceof ShapeNodeMapping && ((ShapeNodeMapping) mapping).getDiagramNode() != null) { 
>                     result += ((ShapeNodeMapping) mapping).getDiagramNode().getName(); 
>                 } else if (mapping instanceof LabelNodeMapping && ((LabelNodeMapping) mapping).getDiagramLabel() != null) { 
>                     result += ((LabelNodeMapping) mapping).getDiagramLabel().getName(); 
218c222,227
< 				 GMFMapFactory.eINSTANCE.createNodeMapping()));
---
> 				 GMFMapFactory.eINSTANCE.createShapeNodeMapping()));
> 
> 		newChildDescriptors.add
> 			(createChildParameter
> 				(GMFMapPackage.eINSTANCE.getChildReference_OwnedChild(),
> 				 GMFMapFactory.eINSTANCE.createLabelNodeMapping()));
