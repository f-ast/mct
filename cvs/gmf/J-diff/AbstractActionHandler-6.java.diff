38a39
> import org.eclipse.swt.widgets.Display;
43a45
> import org.eclipse.ui.PlatformUI;
470,471c472,478
< 	protected void openErrorDialog(IStatus status) {
< 		ErrorDialog.openError(getWorkbenchPart().getSite().getShell(),
---
> 	protected void openErrorDialog(final IStatus status) {
>         
>         final Display workbenchDisplay = PlatformUI.getWorkbench().getDisplay();
> 
>         if (workbenchDisplay.getThread() == Thread.currentThread()) {
>             // we're already on the UI thread
>             ErrorDialog.openError(workbenchDisplay.getActiveShell(),
472a480,490
> 
>         } else {
>             // we're not on the UI thread
>             workbenchDisplay.asyncExec(new Runnable() {
> 
>                 public void run() {
>                     ErrorDialog.openError(workbenchDisplay.getActiveShell(),
>                         removeMnemonics(getLabel()), null, status);
>                 }
>             });
>         }
