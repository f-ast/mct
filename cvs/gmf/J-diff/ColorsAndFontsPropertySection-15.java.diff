41,42d40
< import org.eclipse.swt.events.PaintEvent;
< import org.eclipse.swt.events.PaintListener;
45d42
< import org.eclipse.swt.graphics.GC;
52a50
> import org.eclipse.swt.widgets.Button;
54,55d51
< import org.eclipse.swt.widgets.CoolBar;
< import org.eclipse.swt.widgets.CoolItem;
57,58c53
< import org.eclipse.swt.widgets.ToolBar;
< import org.eclipse.swt.widgets.ToolItem;
---
> import org.eclipse.swt.widgets.Label;
92c87
< 	protected ToolItem fillColorButton;
---
> 	protected Button fillColorButton;
102c97
< 	private ToolItem fontBoldButton;
---
> 	private Button fontBoldButton;
104c99
< 	private ToolItem fontItalicButton;
---
> 	private Button fontItalicButton;
164c159
< 	protected ToolItem fontColorButton;
---
> 	protected Button fontColorButton;
166c161
< 	protected ToolItem lineColorButton;
---
> 	protected Button lineColorButton;
172,173d166
< 	private CoolBar coolBar;
< 
182c175
< 		createPaintedSectionComposite(parent);
---
> 		super.initializeControls(parent);
197c190
< 		ToolBar toolBar = createFontsGroup(colorsAndFontsGroup);
---
> 		/*Composite toolBar = */createFontsGroup(colorsAndFontsGroup);
199c192
< 		CoolItem coolItem = new CoolItem(coolBar, SWT.NULL);
---
> 		//CoolItem coolItem = new CoolItem(coolBar, SWT.NULL);
201c194
< 		coolItem.setControl(toolBar);
---
> 		//coolItem.setControl(toolBar);
203,223c196,198
< 		Point size = toolBar.computeSize(SWT.DEFAULT, SWT.DEFAULT);
< 		Point coolSize = coolItem.computeSize(size.x, size.y);
< 		coolItem.setSize(coolSize);
< 
< 		colorsAndFontsGroup.addPaintListener(new PaintListener() {
< 
< 			public void paintControl(PaintEvent e) {
< 				Rectangle bounds = colorsAndFontsGroup.getClientArea();
< 				GC gc = e.gc;
< 
< 				gc.setForeground(gc.getBackground());
< 				gc.setBackground(coolBar.getBackground());
< 
< 				gc.fillGradientRectangle(1, bounds.height / 2,
< 					bounds.width + 3, bounds.height - 14, true);
< 
< 			}
< 
< 		}
< 
< 		);
---
> 		//Point size = toolBar.computeSize(SWT.DEFAULT, SWT.DEFAULT);
> 		//Point coolSize = coolItem.computeSize(size.x, size.y);
> 		//coolItem.setSize(coolSize);
235c210
< 	protected ToolBar createFontsGroup(Composite parent) {
---
> 	protected Composite createFontsGroup(Composite parent) {
264,265c239,241
< 		coolBar = new CoolBar(parent, SWT.BORDER);
< 		ToolBar toolBar = new ToolBar(coolBar, SWT.FLAT);
---
> 		Composite toolBar = new Composite(parent, SWT.SHADOW_NONE);
> 		toolBar.setLayout(new GridLayout(7, false));
> 		toolBar.setBackground(parent.getBackground());
267c243
< 		fontBoldButton = new ToolItem(toolBar, SWT.CHECK);
---
> 		fontBoldButton = new Button(toolBar, SWT.TOGGLE);
271c247
< 		fontItalicButton = new ToolItem(toolBar, SWT.CHECK );
---
> 		fontItalicButton = new Button(toolBar, SWT.TOGGLE );
288c264
< 		new ToolItem(toolBar, SWT.SEPARATOR);
---
> 		new Label(toolBar, SWT.LEFT);
290c266
< 		fontColorButton = new ToolItem(toolBar, SWT.DROP_DOWN);
---
> 		fontColorButton = new Button(toolBar, SWT.PUSH);
300c276
< 		new ToolItem(toolBar, SWT.SEPARATOR);
---
> 		new Label(toolBar, SWT.LEFT);
302c278
< 		lineColorButton = new ToolItem(toolBar, SWT.DROP_DOWN);
---
> 		lineColorButton = new Button(toolBar, SWT.PUSH);
312c288
< 		fillColorButton = new ToolItem(toolBar, SWT.DROP_DOWN);
---
> 		fillColorButton = new Button(toolBar, SWT.PUSH);
378c354
< 	protected RGB changeColor(SelectionEvent event, ToolItem button,
---
> 	protected RGB changeColor(SelectionEvent event, Button button,
539a516
> 		overlyedImage.dispose();
544a522
> 		overlyedImage.dispose();
