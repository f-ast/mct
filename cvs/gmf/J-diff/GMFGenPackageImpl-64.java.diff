20,21d19
< import org.eclipse.gmf.codegen.gmfgen.CompartmentLayoutKind;
< import org.eclipse.gmf.codegen.gmfgen.CompartmentPlacementKind;
34a33
> import org.eclipse.gmf.codegen.gmfgen.GenContainerEditPart;
46a46
> import org.eclipse.gmf.codegen.gmfgen.GenTopLevelNode;
89a90,96
> 	private EClass genContainerEditPartEClass = null;
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
97c104
< 	private EClass genCompartmentEClass = null;
---
> 	private EClass genTopLevelNodeEClass = null;
110a118,124
> 	private EClass genCompartmentEClass = null;
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
349,362d362
< 	private EEnum compartmentPlacementKindEEnum = null;
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
< 	private EEnum compartmentLayoutKindEEnum = null;
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
476c476
< 	public EReference getGenDiagram_Nodes() {
---
> 	public EReference getGenDiagram_ChildNodes() {
485c485
< 	public EReference getGenDiagram_Links() {
---
> 	public EReference getGenDiagram_TopLevelNodes() {
494c494
< 	public EReference getGenDiagram_Audits() {
---
> 	public EReference getGenDiagram_Links() {
503c503
< 	public EReference getGenDiagram_Palette() {
---
> 	public EReference getGenDiagram_Compartments() {
511a512,529
> 	public EReference getGenDiagram_Audits() {
> 		return (EReference)genDiagramEClass.getEStructuralFeatures().get(6);
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public EReference getGenDiagram_Palette() {
> 		return (EReference)genDiagramEClass.getEStructuralFeatures().get(7);
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
513c531
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(6);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(8);
522c540
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(7);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(9);
531c549
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(8);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(10);
540c558
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(13);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(15);
549c567
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(14);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(16);
558c576
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(12);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(14);
567c585
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(43);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(45);
576c594
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(44);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(46);
585c603
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(45);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(47);
594c612
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(46);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(48);
603c621
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(47);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(49);
612c630
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(48);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(50);
621c639
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(49);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(51);
630c648
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(9);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(11);
639c657
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(10);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(12);
648c666
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(11);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(13);
657c675
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(40);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(42);
666c684
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(39);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(41);
675c693
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(19);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(21);
684c702
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(20);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(22);
693c711
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(21);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(23);
702c720
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(22);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(24);
711c729
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(23);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(25);
720c738
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(24);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(26);
729c747
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(25);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(27);
738c756
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(26);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(28);
747c765
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(27);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(29);
756c774
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(17);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(19);
765c783
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(18);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(20);
774c792
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(15);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(17);
783c801
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(16);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(18);
792c810
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(41);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(43);
801c819
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(34);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(36);
810c828
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(35);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(37);
819c837
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(36);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(38);
828c846
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(37);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(39);
837c855
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(38);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(40);
846c864
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(42);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(44);
855c873
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(28);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(30);
864c882
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(29);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(31);
873c891
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(30);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(32);
882c900
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(31);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(33);
891c909
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(32);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(34);
900c918
< 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(33);
---
> 		return (EAttribute)genDiagramEClass.getEStructuralFeatures().get(35);
970a989,1006
> 	public EClass getGenContainerEditPart() {
> 		return genContainerEditPartEClass;
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public EReference getGenContainerEditPart_ContainedNodes() {
> 		return (EReference)genContainerEditPartEClass.getEStructuralFeatures().get(0);
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
980,981c1016,1017
< 	public EReference getGenNode_Diagram() {
< 		return (EReference)genNodeEClass.getEStructuralFeatures().get(0);
---
> 	public EReference getGenNode_Labels() {
> 		return (EReference)genNodeEClass.getEStructuralFeatures().get(1);
989c1025
< 	public EReference getGenNode_Labels() {
---
> 	public EReference getGenNode_Compartments() {
998,999c1034,1035
< 	public EReference getGenNode_Compartments() {
< 		return (EReference)genNodeEClass.getEStructuralFeatures().get(3);
---
> 	public EAttribute getGenNode_GraphicalNodeEditPolicyClassName() {
> 		return (EAttribute)genNodeEClass.getEStructuralFeatures().get(3);
1007,1008c1043,1044
< 	public EAttribute getGenNode_ChildContainersPlacement() {
< 		return (EAttribute)genNodeEClass.getEStructuralFeatures().get(4);
---
> 	public EClass getGenTopLevelNode() {
> 		return genTopLevelNodeEClass;
1016,1017c1052,1053
< 	public EAttribute getGenNode_GraphicalNodeEditPolicyClassName() {
< 		return (EAttribute)genNodeEClass.getEStructuralFeatures().get(5);
---
> 	public EReference getGenTopLevelNode_Diagram() {
> 		return (EReference)genTopLevelNodeEClass.getEStructuralFeatures().get(0);
1025,1026c1061,1062
< 	public EClass getGenCompartment() {
< 		return genCompartmentEClass;
---
> 	public EClass getGenChildNode() {
> 		return genChildNodeEClass;
1034,1035c1070,1071
< 	public EAttribute getGenCompartment_Title() {
< 		return (EAttribute)genCompartmentEClass.getEStructuralFeatures().get(0);
---
> 	public EReference getGenChildNode_Diagram() {
> 		return (EReference)genChildNodeEClass.getEStructuralFeatures().get(0);
1043,1044c1079,1080
< 	public EAttribute getGenCompartment_CanCollapse() {
< 		return (EAttribute)genCompartmentEClass.getEStructuralFeatures().get(1);
---
> 	public EReference getGenChildNode_Containers() {
> 		return (EReference)genChildNodeEClass.getEStructuralFeatures().get(1);
1052,1053c1088,1089
< 	public EAttribute getGenCompartment_HideIfEmpty() {
< 		return (EAttribute)genCompartmentEClass.getEStructuralFeatures().get(2);
---
> 	public EClass getGenCompartment() {
> 		return genCompartmentEClass;
1061,1062c1097,1098
< 	public EAttribute getGenCompartment_NeedsTitle() {
< 		return (EAttribute)genCompartmentEClass.getEStructuralFeatures().get(3);
---
> 	public EAttribute getGenCompartment_Title() {
> 		return (EAttribute)genCompartmentEClass.getEStructuralFeatures().get(0);
1070,1071c1106,1107
< 	public EAttribute getGenCompartment_LayoutKind() {
< 		return (EAttribute)genCompartmentEClass.getEStructuralFeatures().get(4);
---
> 	public EAttribute getGenCompartment_CanCollapse() {
> 		return (EAttribute)genCompartmentEClass.getEStructuralFeatures().get(1);
1079,1080c1115,1116
< 	public EReference getGenCompartment_Node() {
< 		return (EReference)genCompartmentEClass.getEStructuralFeatures().get(5);
---
> 	public EAttribute getGenCompartment_HideIfEmpty() {
> 		return (EAttribute)genCompartmentEClass.getEStructuralFeatures().get(2);
1088,1089c1124,1125
< 	public EReference getGenNode_ModelFacet() {
< 		return (EReference)genNodeEClass.getEStructuralFeatures().get(1);
---
> 	public EAttribute getGenCompartment_NeedsTitle() {
> 		return (EAttribute)genCompartmentEClass.getEStructuralFeatures().get(3);
1097,1098c1133,1134
< 	public EClass getGenChildNode() {
< 		return genChildNodeEClass;
---
> 	public EReference getGenCompartment_Diagram() {
> 		return (EReference)genCompartmentEClass.getEStructuralFeatures().get(4);
1106,1107c1142,1152
< 	public EReference getGenChildNode_Container() {
< 		return (EReference)genChildNodeEClass.getEStructuralFeatures().get(0);
---
> 	public EReference getGenCompartment_Node() {
> 		return (EReference)genCompartmentEClass.getEStructuralFeatures().get(5);
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public EReference getGenNode_ModelFacet() {
> 		return (EReference)genNodeEClass.getEStructuralFeatures().get(0);
1141a1187,1195
> 	public EAttribute getGenChildContainer_ListLayout() {
> 		return (EAttribute)genChildContainerEClass.getEStructuralFeatures().get(2);
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
2123,2140d2176
< 	public EEnum getCompartmentPlacementKind() {
< 		return compartmentPlacementKindEEnum;
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
< 	public EEnum getCompartmentLayoutKind() {
< 		return compartmentLayoutKindEEnum;
< 	}
< 
< 	/**
< 	 * <!-- begin-user-doc -->
< 	 * <!-- end-user-doc -->
< 	 * @generated
< 	 */
2185c2221,2222
< 		createEReference(genDiagramEClass, GEN_DIAGRAM__NODES);
---
> 		createEReference(genDiagramEClass, GEN_DIAGRAM__CHILD_NODES);
> 		createEReference(genDiagramEClass, GEN_DIAGRAM__TOP_LEVEL_NODES);
2186a2224
> 		createEReference(genDiagramEClass, GEN_DIAGRAM__COMPARTMENTS);
2241a2280,2282
> 		genContainerEditPartEClass = createEClass(GEN_CONTAINER_EDIT_PART);
> 		createEReference(genContainerEditPartEClass, GEN_CONTAINER_EDIT_PART__CONTAINED_NODES);
> 
2244a2286
> 		createEAttribute(genChildContainerEClass, GEN_CHILD_CONTAINER__LIST_LAYOUT);
2247d2288
< 		createEReference(genNodeEClass, GEN_NODE__DIAGRAM);
2251d2291
< 		createEAttribute(genNodeEClass, GEN_NODE__CHILD_CONTAINERS_PLACEMENT);
2253a2294,2300
> 		genTopLevelNodeEClass = createEClass(GEN_TOP_LEVEL_NODE);
> 		createEReference(genTopLevelNodeEClass, GEN_TOP_LEVEL_NODE__DIAGRAM);
> 
> 		genChildNodeEClass = createEClass(GEN_CHILD_NODE);
> 		createEReference(genChildNodeEClass, GEN_CHILD_NODE__DIAGRAM);
> 		createEReference(genChildNodeEClass, GEN_CHILD_NODE__CONTAINERS);
> 
2259c2306
< 		createEAttribute(genCompartmentEClass, GEN_COMPARTMENT__LAYOUT_KIND);
---
> 		createEReference(genCompartmentEClass, GEN_COMPARTMENT__DIAGRAM);
2262,2264d2308
< 		genChildNodeEClass = createEClass(GEN_CHILD_NODE);
< 		createEReference(genChildNodeEClass, GEN_CHILD_NODE__CONTAINER);
< 
2408,2409d2451
< 		compartmentPlacementKindEEnum = createEEnum(COMPARTMENT_PLACEMENT_KIND);
< 		compartmentLayoutKindEEnum = createEEnum(COMPARTMENT_LAYOUT_KIND);
2441,2442c2483,2485
< 		genDiagramEClass.getESuperTypes().add(this.getGenCommonBase());
< 		genChildContainerEClass.getESuperTypes().add(this.getGenCommonBase());
---
> 		genDiagramEClass.getESuperTypes().add(this.getGenContainerEditPart());
> 		genContainerEditPartEClass.getESuperTypes().add(this.getGenCommonBase());
> 		genChildContainerEClass.getESuperTypes().add(this.getGenContainerEditPart());
2444c2487
< 		genCompartmentEClass.getESuperTypes().add(this.getGenChildContainer());
---
> 		genTopLevelNodeEClass.getESuperTypes().add(this.getGenNode());
2445a2489
> 		genCompartmentEClass.getESuperTypes().add(this.getGenChildContainer());
2477c2521,2522
< 		initEReference(getGenDiagram_Nodes(), this.getGenNode(), this.getGenNode_Diagram(), "nodes", null, 0, -1, GenDiagram.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getGenDiagram_ChildNodes(), this.getGenChildNode(), this.getGenChildNode_Diagram(), "childNodes", null, 0, -1, GenDiagram.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 		initEReference(getGenDiagram_TopLevelNodes(), this.getGenTopLevelNode(), this.getGenTopLevelNode_Diagram(), "topLevelNodes", null, 0, -1, GenDiagram.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
2478a2524
> 		initEReference(getGenDiagram_Compartments(), this.getGenCompartment(), this.getGenCompartment_Diagram(), "compartments", null, 0, -1, GenDiagram.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
2527a2574,2577
> 		addEOperation(genDiagramEClass, this.getGenContainerEditPart(), "getAllContainers", 0, -1);
> 
> 		addEOperation(genDiagramEClass, this.getGenNode(), "getAllNodes", 0, -1);
> 
2625a2676,2678
> 		initEClass(genContainerEditPartEClass, GenContainerEditPart.class, "GenContainerEditPart", IS_ABSTRACT, IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
> 		initEReference(getGenContainerEditPart_ContainedNodes(), this.getGenNode(), null, "containedNodes", null, 0, -1, GenContainerEditPart.class, IS_TRANSIENT, IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, IS_DERIVED, IS_ORDERED);
> 
2627c2680
< 		initEReference(getGenChildContainer_ChildNodes(), this.getGenChildNode(), this.getGenChildNode_Container(), "childNodes", null, 0, -1, GenChildContainer.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getGenChildContainer_ChildNodes(), this.getGenChildNode(), this.getGenChildNode_Containers(), "childNodes", null, 0, -1, GenChildContainer.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
2628a2682
> 		initEAttribute(getGenChildContainer_ListLayout(), ecorePackage.getEBoolean(), "listLayout", "true", 0, 1, GenChildContainer.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_UNSETTABLE, !IS_ID, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
2632,2633c2686
< 		initEClass(genNodeEClass, GenNode.class, "GenNode", !IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
< 		initEReference(getGenNode_Diagram(), this.getGenDiagram(), this.getGenDiagram_Nodes(), "diagram", null, 1, 1, GenNode.class, !IS_TRANSIENT, !IS_VOLATILE, !IS_CHANGEABLE, !IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEClass(genNodeEClass, GenNode.class, "GenNode", IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
2636,2637c2689
< 		initEReference(getGenNode_Compartments(), this.getGenCompartment(), this.getGenCompartment_Node(), "compartments", null, 0, -1, GenNode.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 		initEAttribute(getGenNode_ChildContainersPlacement(), this.getCompartmentPlacementKind(), "childContainersPlacement", "TOOLBAR", 0, 1, GenNode.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_UNSETTABLE, !IS_ID, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getGenNode_Compartments(), this.getGenCompartment(), this.getGenCompartment_Node(), "compartments", null, 0, -1, GenNode.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
2643a2696,2704
> 		addEOperation(genNodeEClass, ecorePackage.getEBoolean(), "isListContainerEntry", 0, 1);
> 
> 		initEClass(genTopLevelNodeEClass, GenTopLevelNode.class, "GenTopLevelNode", !IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
> 		initEReference(getGenTopLevelNode_Diagram(), this.getGenDiagram(), this.getGenDiagram_TopLevelNodes(), "diagram", null, 1, 1, GenTopLevelNode.class, !IS_TRANSIENT, !IS_VOLATILE, !IS_CHANGEABLE, !IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 
> 		initEClass(genChildNodeEClass, GenChildNode.class, "GenChildNode", !IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
> 		initEReference(getGenChildNode_Diagram(), this.getGenDiagram(), this.getGenDiagram_ChildNodes(), "diagram", null, 1, 1, GenChildNode.class, !IS_TRANSIENT, !IS_VOLATILE, !IS_CHANGEABLE, !IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 		initEReference(getGenChildNode_Containers(), this.getGenChildContainer(), this.getGenChildContainer_ChildNodes(), "containers", null, 0, -1, GenChildNode.class, !IS_TRANSIENT, !IS_VOLATILE, !IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 
2649,2650c2710,2711
< 		initEAttribute(getGenCompartment_LayoutKind(), this.getCompartmentLayoutKind(), "layoutKind", null, 0, 1, GenCompartment.class, !IS_TRANSIENT, !IS_VOLATILE, IS_CHANGEABLE, !IS_UNSETTABLE, !IS_ID, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 		initEReference(getGenCompartment_Node(), this.getGenNode(), this.getGenNode_Compartments(), "node", null, 1, 1, GenCompartment.class, !IS_TRANSIENT, !IS_VOLATILE, !IS_CHANGEABLE, !IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
---
> 		initEReference(getGenCompartment_Diagram(), this.getGenDiagram(), this.getGenDiagram_Compartments(), "diagram", null, 1, 1, GenCompartment.class, !IS_TRANSIENT, !IS_VOLATILE, !IS_CHANGEABLE, !IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
> 		initEReference(getGenCompartment_Node(), this.getGenNode(), this.getGenNode_Compartments(), "node", null, 1, 1, GenCompartment.class, !IS_TRANSIENT, !IS_VOLATILE, !IS_CHANGEABLE, !IS_COMPOSITE, IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
2654,2658d2714
< 		initEClass(genChildNodeEClass, GenChildNode.class, "GenChildNode", !IS_ABSTRACT, !IS_INTERFACE, IS_GENERATED_INSTANCE_CLASS);
< 		initEReference(getGenChildNode_Container(), this.getGenChildContainer(), this.getGenChildContainer_ChildNodes(), "container", null, 1, 1, GenChildNode.class, !IS_TRANSIENT, !IS_VOLATILE, !IS_CHANGEABLE, !IS_COMPOSITE, !IS_RESOLVE_PROXIES, !IS_UNSETTABLE, IS_UNIQUE, !IS_DERIVED, IS_ORDERED);
< 
< 		addEOperation(genChildNodeEClass, ecorePackage.getEBoolean(), "isListContainerEntry", 0, 1);
< 
2841,2851d2896
< 		initEEnum(compartmentPlacementKindEEnum, CompartmentPlacementKind.class, "CompartmentPlacementKind");
< 		addEEnumLiteral(compartmentPlacementKindEEnum, CompartmentPlacementKind.FLOW_LITERAL);
< 		addEEnumLiteral(compartmentPlacementKindEEnum, CompartmentPlacementKind.TOOLBAR_LITERAL);
< 
< 		initEEnum(compartmentLayoutKindEEnum, CompartmentLayoutKind.class, "CompartmentLayoutKind");
< 		addEEnumLiteral(compartmentLayoutKindEEnum, CompartmentLayoutKind.BORDER_LITERAL);
< 		addEEnumLiteral(compartmentLayoutKindEEnum, CompartmentLayoutKind.FLOW_LITERAL);
< 		addEEnumLiteral(compartmentLayoutKindEEnum, CompartmentLayoutKind.SCROLL_LITERAL);
< 		addEEnumLiteral(compartmentLayoutKindEEnum, CompartmentLayoutKind.TOOLBAR_LITERAL);
< 		addEEnumLiteral(compartmentLayoutKindEEnum, CompartmentLayoutKind.XY_LITERAL);
< 
2918a2964,2969
> 		  (genNodeEClass, 
> 		   source, 
> 		   new String[] {
> 			 "ocl", "containers->forAll(n|n.listLayout) or containers->forAll(n|not n.listLayout)"
> 		   });						
> 		addAnnotation
