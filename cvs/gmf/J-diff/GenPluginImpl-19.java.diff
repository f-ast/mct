221c221
< 			String prefix = "design";
---
> 			String prefix = "design"; //$NON-NLS-1$
225c225,230
< 			return prefix + ".diagram";
---
> 			if (prefix == null) {
> 				prefix = ""; //$NON-NLS-1$
> 			} else if (prefix.endsWith(".model")) { //$NON-NLS-1$
> 				prefix = prefix.substring(0, prefix.length() - ".model".length()); //$NON-NLS-1$
> 			}
> 			return prefix + ".diagram"; //$NON-NLS-1$
