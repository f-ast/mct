57,60c57,60
< 		restore(GMFGEN.getGenDiagram(), GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
< 		restore(GMFGEN.getGenDiagram(), GMFGEN.getGenCommonBase_EditPartClassName());
< 		restore(GMFGEN.getGenDiagram(), GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
< 		restore(GMFGEN.getGenDiagram(), GMFGEN.getGenContainerBase_CanonicalEditPolicyClassName());
---
> 		restoreOld(GMFGEN.getGenDiagram(), GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
> 		restoreOld(GMFGEN.getGenDiagram(), GMFGEN.getGenCommonBase_EditPartClassName());
> 		restoreOld(GMFGEN.getGenDiagram(), GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
> 		restoreOld(GMFGEN.getGenDiagram(), GMFGEN.getGenContainerBase_CanonicalEditPolicyClassName());
80,86c80,86
< 			restore(node, GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
< 			restore(node, GMFGEN.getGenCommonBase_EditPartClassName());
< 			restore(node, GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
< 			restore(node, GMFGEN.getGenContainerBase_CanonicalEditPolicyClassName());
< 			restore(node, GMFGEN.getGenNode_PrimaryDragEditPolicyQualifiedClassName());
< 			restore(node, GMFGEN.getGenNode_GraphicalNodeEditPolicyClassName());
< 			restore(node, GMFGEN.getGenNode_CreateCommandClassName());
---
> 			restoreOld(node, GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
> 			restoreOld(node, GMFGEN.getGenCommonBase_EditPartClassName());
> 			restoreOld(node, GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
> 			restoreOld(node, GMFGEN.getGenContainerBase_CanonicalEditPolicyClassName());
> 			restoreOld(node, GMFGEN.getGenNode_PrimaryDragEditPolicyQualifiedClassName());
> 			restoreOld(node, GMFGEN.getGenNode_GraphicalNodeEditPolicyClassName());
> 			restoreOld(node, GMFGEN.getGenNode_CreateCommandClassName());
90,94c90,94
< 		restore(GMFGEN.getGenCompartment(), GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
< 		restore(GMFGEN.getGenCompartment(), GMFGEN.getGenCommonBase_EditPartClassName());
< 		restore(GMFGEN.getGenCompartment(), GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
< 		restore(GMFGEN.getGenCompartment(), GMFGEN.getGenContainerBase_CanonicalEditPolicyClassName());
< 		restore(GMFGEN.getGenCompartment(), GMFGEN.getGenCompartment_ListLayout());
---
> 		restoreOld(GMFGEN.getGenCompartment(), GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
> 		restoreOld(GMFGEN.getGenCompartment(), GMFGEN.getGenCommonBase_EditPartClassName());
> 		restoreOld(GMFGEN.getGenCompartment(), GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
> 		restoreOld(GMFGEN.getGenCompartment(), GMFGEN.getGenContainerBase_CanonicalEditPolicyClassName());
> 		restoreOld(GMFGEN.getGenCompartment_ListLayout());
100,104c100,104
< 		restore(GMFGEN.getGenLink(), GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
< 		restore(GMFGEN.getGenLink(), GMFGEN.getGenCommonBase_EditPartClassName());
< 		restore(GMFGEN.getGenLink(), GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
< 		restore(GMFGEN.getGenLink(), GMFGEN.getGenLink_CreateCommandClassName());
< 		restore(GMFGEN.getGenLink(), GMFGEN.getGenLink_ReorientCommandClassName());
---
> 		restoreOld(GMFGEN.getGenLink(), GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
> 		restoreOld(GMFGEN.getGenLink(), GMFGEN.getGenCommonBase_EditPartClassName());
> 		restoreOld(GMFGEN.getGenLink(), GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
> 		restoreOld(GMFGEN.getGenLink_CreateCommandClassName());
> 		restoreOld(GMFGEN.getGenLink_ReorientCommandClassName());
112,114c112,114
< 			restore(label, GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
< 			restore(label, GMFGEN.getGenCommonBase_EditPartClassName());
< 			restore(label, GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
---
> 			restoreOld(label, GMFGEN.getGenCommonBase_NotationViewFactoryClassName());
> 			restoreOld(label, GMFGEN.getGenCommonBase_EditPartClassName());
> 			restoreOld(label, GMFGEN.getGenCommonBase_ItemSemanticEditPolicyClassName());
165c165
< 		restore(GMFGEN.getMetamodelType(), GMFGEN.getMetamodelType_EditHelperClassName());
---
> 		restoreOld(GMFGEN.getMetamodelType_EditHelperClassName());
170c170
< 		restore(GMFGEN.getSpecializationType(), GMFGEN.getSpecializationType_EditHelperAdviceClassName());
---
> 		restoreOld(GMFGEN.getSpecializationType_EditHelperAdviceClassName());
240,241c240,241
< 		restore(GMFGEN.getGenStandardPreferencePage(), GMFGEN.getGenPreferencePage_ID());
< 		restore(GMFGEN.getGenStandardPreferencePage(), GMFGEN.getGenPreferencePage_Name());
---
> 		restoreOld(GMFGEN.getGenStandardPreferencePage(), GMFGEN.getGenPreferencePage_ID());
> 		restoreOld(GMFGEN.getGenStandardPreferencePage(), GMFGEN.getGenPreferencePage_Name());
244c244
< 		restore(GMFGEN.getGenCustomPreferencePage(), GMFGEN.getGenCustomPreferencePage_GenerateBoilerplate());
---
> 		restoreOld(GMFGEN.getGenCustomPreferencePage_GenerateBoilerplate());
290,292c290
< 	// XXX rename?: preserveOld
< 	// TODO single attr param version
< 	private void restore(EClass eClass, EAttribute feature) {
---
> 	private void restoreOld(EClass eClass, EAttribute feature) {
295a294,298
> 	private void restoreOld(EAttribute feature) {
> 		assert !feature.getEContainingClass().isAbstract();
> 		restoreOld(feature.getEContainingClass(), feature);
> 	}
> 
