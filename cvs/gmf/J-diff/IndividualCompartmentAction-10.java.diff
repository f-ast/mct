15a16
> import org.eclipse.emf.transaction.RunnableWithResult;
17c18,19
< import org.eclipse.gmf.runtime.diagram.core.internal.util.MEditingDomainGetter;
---
> import org.eclipse.gmf.runtime.common.core.util.Log;
> import org.eclipse.gmf.runtime.common.core.util.Trace;
18a21,23
> import org.eclipse.gmf.runtime.diagram.ui.actions.internal.DiagramActionsDebugOptions;
> import org.eclipse.gmf.runtime.diagram.ui.actions.internal.DiagramActionsPlugin;
> import org.eclipse.gmf.runtime.diagram.ui.actions.internal.DiagramActionsStatusCodes;
22,23c27
< import org.eclipse.gmf.runtime.emf.core.edit.MRunnable;
< import org.eclipse.gmf.runtime.emf.core.util.MetaModelUtil;
---
> import org.eclipse.gmf.runtime.emf.core.util.PackageUtil;
52c56
< 			MetaModelUtil.getID(NotationPackage.eINSTANCE.getView_Visible()),
---
> 			PackageUtil.getID(NotationPackage.eINSTANCE.getView_Visible()),
84,86c88,95
< 		return MEditingDomainGetter.getMEditingDomain((View)editPart.getModel()).runAsRead( new MRunnable() {
< 			public Object run() {
< 				ENamedElement element = MetaModelUtil.getElement(thePropertyId);
---
> 		
> 		try {
> 			return editPart.getEditingDomain().runExclusive(
> 				new RunnableWithResult.Impl() {
> 
> 					public void run() {
> 						ENamedElement element = PackageUtil
> 							.getElement(thePropertyId);
90c99,101
< 						View childView = ViewUtil.getChildBySemanticHint(view,getCompartmentSemanticHint());
---
> 								View childView = ViewUtil
> 									.getChildBySemanticHint(view,
> 										getCompartmentSemanticHint());
92c103,105
< 							return ViewUtil.getStructuralFeatureValue(childView,(EStructuralFeature)element);
---
> 									setResult(ViewUtil
> 										.getStructuralFeatureValue(childView,
> 											(EStructuralFeature) element));
96d108
< 				return null;
98a111,119
> 		} catch (InterruptedException e) {
> 			Trace.catching(DiagramActionsPlugin.getInstance(),
> 				DiagramActionsDebugOptions.EXCEPTIONS_CATCHING, getClass(),
> 				"getPropertyValue", e); //$NON-NLS-1$
> 			Log.error(DiagramActionsPlugin.getInstance(),
> 				DiagramActionsStatusCodes.IGNORED_EXCEPTION_WARNING,
> 				"getPropertyValue", e); //$NON-NLS-1$
> 		}
> 		return null;
