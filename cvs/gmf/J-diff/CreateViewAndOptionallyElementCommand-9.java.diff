2c2
<  * Copyright (c) 2004 IBM Corporation and others.
---
>  * Copyright (c) 2004, 2006 IBM Corporation and others.
14d13
< import java.util.Collection;
17a17
> import org.eclipse.core.commands.ExecutionException;
108c108
< 		super(DiagramUIMessages.CreateCommand_Label);
---
> 		super(DiagramUIMessages.CreateCommand_Label, null);
121,124c121
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.ICommand#getAffectedObjects()
< 	 */
< 	public Collection getAffectedObjects() {
---
>     public List getAffectedFiles() {
132c129,130
< 		return super.getAffectedObjects();
---
> 
>         return super.getAffectedFiles();
162d159
< 	 * @see org.eclipse.gmf.runtime.common.core.command.AbstractCommand#doExecute(org.eclipse.core.runtime.IProgressMonitor)
164c161,164
< 	protected CommandResult doExecute(IProgressMonitor progressMonitor) {
---
>     protected CommandResult doExecuteWithResult(
>             IProgressMonitor progressMonitor, IAdaptable info)
>         throws ExecutionException {
>         
174c174
< 				return newErrorCommandResult(getLabel());
---
> 				return CommandResult.newErrorCommandResult(getLabel());
203c203
< 						return newOKCommandResult(getResult());
---
> 						return CommandResult.newOKCommandResult(getResult());
209c209
< 					cmd.execute(progressMonitor);					
---
> 					cmd.execute(progressMonitor, info);					
211c211
< 						return newCancelledCommandResult();
---
> 						return CommandResult.newCancelledCommandResult();
217c217
< 					return newOKCommandResult(getResult());
---
> 					return CommandResult.newOKCommandResult(getResult());
222c222
< 		return newErrorCommandResult(getLabel());
---
> 		return CommandResult.newErrorCommandResult(getLabel());
225,228c225
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.ICommand#isUndoable()
< 	 */
< 	public boolean isUndoable() {
---
>     public boolean canUndo() {
232,235c229
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.ICommand#isRedoable()
< 	 */
< 	public boolean isRedoable() {
---
>     public boolean canRedo() {
239,242c233,236
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.AbstractCommand#doRedo()
< 	 */
< 	protected CommandResult doRedo() {
---
>     
>     protected CommandResult doRedoWithResult(IProgressMonitor progressMonitor, IAdaptable info)
>         throws ExecutionException {
>         
246c240
< 		return newOKCommandResult();
---
>         return CommandResult.newOKCommandResult();
249,252c243,245
< 	/**
< 	 * @see org.eclipse.gmf.runtime.common.core.command.AbstractCommand#doUndo()
< 	 */
< 	protected CommandResult doUndo() {
---
>     protected CommandResult doUndoWithResult(IProgressMonitor progressMonitor, IAdaptable info)
>         throws ExecutionException {
> 
256c249
< 		return newOKCommandResult();
---
>         return CommandResult.newOKCommandResult();
