8a9,10
> import java.util.Collection;
> 
9a12
> import org.eclipse.emf.common.util.EList;
13a17,18
> import org.eclipse.emf.ecore.impl.EObjectImpl;
> import org.eclipse.emf.ecore.util.EObjectResolvingEList;
16a22,24
> import org.eclipse.gmf.tooldef.MainMenu;
> import org.eclipse.gmf.tooldef.Palette;
> import org.eclipse.gmf.tooldef.Toolbar;
27a36,38
>  *   <li>{@link org.eclipse.gmf.mappings.impl.CanvasMappingImpl#getPalette <em>Palette</em>}</li>
>  *   <li>{@link org.eclipse.gmf.mappings.impl.CanvasMappingImpl#getMenuContributions <em>Menu Contributions</em>}</li>
>  *   <li>{@link org.eclipse.gmf.mappings.impl.CanvasMappingImpl#getToolbarContributions <em>Toolbar Contributions</em>}</li>
33c44
< public class CanvasMappingImpl extends MappingEntryImpl implements CanvasMapping {
---
> public class CanvasMappingImpl extends EObjectImpl implements CanvasMapping {
64a76,105
> 	 * The cached value of the '{@link #getPalette() <em>Palette</em>}' reference.
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @see #getPalette()
> 	 * @generated
> 	 * @ordered
> 	 */
> 	protected Palette palette = null;
> 
> 	/**
> 	 * The cached value of the '{@link #getMenuContributions() <em>Menu Contributions</em>}' reference list.
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @see #getMenuContributions()
> 	 * @generated
> 	 * @ordered
> 	 */
> 	protected EList menuContributions = null;
> 
> 	/**
> 	 * The cached value of the '{@link #getToolbarContributions() <em>Toolbar Contributions</em>}' reference list.
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @see #getToolbarContributions()
> 	 * @generated
> 	 * @ordered
> 	 */
> 	protected EList toolbarContributions = null;
> 
> 	/**
200a242,303
> 	public Palette getPalette() {
> 		if (palette != null && palette.eIsProxy()) {
> 			InternalEObject oldPalette = (InternalEObject)palette;
> 			palette = (Palette)eResolveProxy(oldPalette);
> 			if (palette != oldPalette) {
> 				if (eNotificationRequired())
> 					eNotify(new ENotificationImpl(this, Notification.RESOLVE, GMFMapPackage.CANVAS_MAPPING__PALETTE, oldPalette, palette));
> 			}
> 		}
> 		return palette;
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public Palette basicGetPalette() {
> 		return palette;
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public void setPalette(Palette newPalette) {
> 		Palette oldPalette = palette;
> 		palette = newPalette;
> 		if (eNotificationRequired())
> 			eNotify(new ENotificationImpl(this, Notification.SET, GMFMapPackage.CANVAS_MAPPING__PALETTE, oldPalette, palette));
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public EList getMenuContributions() {
> 		if (menuContributions == null) {
> 			menuContributions = new EObjectResolvingEList(MainMenu.class, this, GMFMapPackage.CANVAS_MAPPING__MENU_CONTRIBUTIONS);
> 		}
> 		return menuContributions;
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
> 	public EList getToolbarContributions() {
> 		if (toolbarContributions == null) {
> 			toolbarContributions = new EObjectResolvingEList(Toolbar.class, this, GMFMapPackage.CANVAS_MAPPING__TOOLBAR_CONTRIBUTIONS);
> 		}
> 		return toolbarContributions;
> 	}
> 
> 	/**
> 	 * <!-- begin-user-doc -->
> 	 * <!-- end-user-doc -->
> 	 * @generated
> 	 */
211a315,321
> 			case GMFMapPackage.CANVAS_MAPPING__PALETTE:
> 				if (resolve) return getPalette();
> 				return basicGetPalette();
> 			case GMFMapPackage.CANVAS_MAPPING__MENU_CONTRIBUTIONS:
> 				return getMenuContributions();
> 			case GMFMapPackage.CANVAS_MAPPING__TOOLBAR_CONTRIBUTIONS:
> 				return getToolbarContributions();
231a342,352
> 			case GMFMapPackage.CANVAS_MAPPING__PALETTE:
> 				setPalette((Palette)newValue);
> 				return;
> 			case GMFMapPackage.CANVAS_MAPPING__MENU_CONTRIBUTIONS:
> 				getMenuContributions().clear();
> 				getMenuContributions().addAll((Collection)newValue);
> 				return;
> 			case GMFMapPackage.CANVAS_MAPPING__TOOLBAR_CONTRIBUTIONS:
> 				getToolbarContributions().clear();
> 				getToolbarContributions().addAll((Collection)newValue);
> 				return;
251a373,381
> 			case GMFMapPackage.CANVAS_MAPPING__PALETTE:
> 				setPalette((Palette)null);
> 				return;
> 			case GMFMapPackage.CANVAS_MAPPING__MENU_CONTRIBUTIONS:
> 				getMenuContributions().clear();
> 				return;
> 			case GMFMapPackage.CANVAS_MAPPING__TOOLBAR_CONTRIBUTIONS:
> 				getToolbarContributions().clear();
> 				return;
268a399,404
> 			case GMFMapPackage.CANVAS_MAPPING__PALETTE:
> 				return palette != null;
> 			case GMFMapPackage.CANVAS_MAPPING__MENU_CONTRIBUTIONS:
> 				return menuContributions != null && !menuContributions.isEmpty();
> 			case GMFMapPackage.CANVAS_MAPPING__TOOLBAR_CONTRIBUTIONS:
> 				return toolbarContributions != null && !toolbarContributions.isEmpty();
