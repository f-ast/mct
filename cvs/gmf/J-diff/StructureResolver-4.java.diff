20a21
> import org.eclipse.emf.ecore.EPackage;
73c74
< 	public TypePattern resolve(EClass type) {
---
> 	public TypePattern resolve(EClass type, EPackage domainPackage) {
77c78
< 		EReference[] containments = getContainments(type);
---
> 		EReference[] containments = getContainments(type, domainPackage);
143c144
< 	protected EReference[] getContainments(EClass type) {
---
> 	protected EReference[] getContainments(EClass type, EPackage domainPackage) {
145c146
< 		for (Iterator it = type.getEPackage().eAllContents(); it.hasNext();) {
---
> 		for (Iterator it = domainPackage.eAllContents(); it.hasNext();) {
