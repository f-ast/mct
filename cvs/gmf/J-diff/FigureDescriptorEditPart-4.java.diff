16a17
> import org.eclipse.draw2d.ToolbarLayout;
26a28
> import org.eclipse.gmf.graphdef.editor.edit.policies.GMFGraphTextSelectionEditPolicy;
28a31
> import org.eclipse.gmf.runtime.diagram.ui.editparts.ITextAwareEditPart;
29a33
> import org.eclipse.gmf.runtime.diagram.ui.editpolicies.ConstrainedToolbarLayoutEditPolicy;
34c38
< import org.eclipse.gmf.runtime.draw2d.ui.figures.WrapLabel;
---
> import org.eclipse.gmf.runtime.draw2d.ui.figures.WrappingLabel;
85c89
< 		LayoutEditPolicy lep = new LayoutEditPolicy() {
---
> 		ConstrainedToolbarLayoutEditPolicy lep = new ConstrainedToolbarLayoutEditPolicy() {
88,90c92,94
< 				EditPolicy result = child.getEditPolicy(EditPolicy.PRIMARY_DRAG_ROLE);
< 				if (result == null) {
< 					result = new NonResizableEditPolicy();
---
> 				if (child.getEditPolicy(EditPolicy.PRIMARY_DRAG_ROLE) == null) {
> 					if (child instanceof ITextAwareEditPart) {
> 						return new GMFGraphTextSelectionEditPolicy();
92,96d95
< 				return result;
< 			}
< 
< 			protected Command getMoveChildrenCommand(Request request) {
< 				return null;
98,100c97
< 
< 			protected Command getCreateCommand(CreateRequest request) {
< 				return null;
---
> 				return super.createChildEditPolicy(child);
234c231
< 		private WrapLabel fFigureDescriptorFigure_NameLabel;
---
> 		private WrappingLabel fFigureFigureDescriptorFigure_NameLabel;
239a237,246
> 
> 			ToolbarLayout layoutThis = new ToolbarLayout();
> 			layoutThis.setStretchMinorAxis(true);
> 			layoutThis.setMinorAlignment(ToolbarLayout.ALIGN_CENTER);
> 
> 			layoutThis.setSpacing(0);
> 			layoutThis.setVertical(true);
> 
> 			this.setLayoutManager(layoutThis);
> 
250,251c257,258
< 			WrapLabel figureDescriptorFigure_NameLabel0 = new WrapLabel();
< 			figureDescriptorFigure_NameLabel0.setText("");
---
> 			fFigureFigureDescriptorFigure_NameLabel = new WrappingLabel();
> 			fFigureFigureDescriptorFigure_NameLabel.setText("");
253,254c260
< 			this.add(figureDescriptorFigure_NameLabel0);
< 			fFigureDescriptorFigure_NameLabel = figureDescriptorFigure_NameLabel0;
---
> 			this.add(fFigureFigureDescriptorFigure_NameLabel);
280,281c286,287
< 		public WrapLabel getFigureFigureDescriptorFigure_NameLabel() {
< 			return fFigureDescriptorFigure_NameLabel;
---
> 		public WrappingLabel getFigureFigureDescriptorFigure_NameLabel() {
> 			return fFigureFigureDescriptorFigure_NameLabel;
