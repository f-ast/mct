2c2
<  * Copyright (c) 2004 IBM Corporation and others.
---
>  * Copyright (c) 2004, 2006 IBM Corporation and others.
15a16
> import org.eclipse.emf.transaction.TransactionalEditingDomain;
43a45
>         TransactionalEditingDomain editingDomain = ((IGraphicalEditPart) getHost()).getEditingDomain();
45c47
< 			SetPropertyCommand c = new SetPropertyCommand(
---
> 			SetPropertyCommand c = new SetPropertyCommand(editingDomain,
53c55
< 				SetPropertyCommand c = new SetPropertyCommand(
---
> 				SetPropertyCommand c = new SetPropertyCommand(editingDomain,
61c63
< 		return new EtoolsProxyCommand(cc.unwrap());		
---
> 		return new EtoolsProxyCommand(cc.reduce());		
