14,15d13
< import java.beans.PropertyChangeEvent;
< import java.beans.PropertyChangeListener;
22a21
> import org.eclipse.emf.common.notify.Notification;
26a26
> import org.eclipse.gmf.runtime.diagram.core.listener.NotificationListener;
34c34
< import org.eclipse.gmf.runtime.diagram.ui.properties.Properties;
---
> import org.eclipse.gmf.runtime.notation.NotationPackage;
145c145
< 	private PropertyChangeListener propertyListener;
---
> 	private NotificationListener propertyListener;
166,168c166,168
< 		propertyListener = new PropertyChangeListener() {
< 			public void propertyChange(PropertyChangeEvent evt) {
< 				if (Properties.ID_ISVISIBLE.equals(evt.getPropertyName()))
---
> 		propertyListener = new NotificationListener() {
> 			public void notifyChanged(Notification notification) {
> 				if (NotationPackage.eINSTANCE.getView_Visible().equals(notification.getFeature()))
172c172
< 		PresentationListener.getInstance().addPropertyChangeListener(getGraphicalEditPart().getNotationView(),propertyListener);
---
> 		PresentationListener.getInstance().addNotificationListener(getGraphicalEditPart().getNotationView(),propertyListener);
179c179
< 		PresentationListener.getInstance().removePropertyChangeListener(getGraphicalEditPart().getNotationView(),propertyListener);
---
> 		PresentationListener.getInstance().removeNotificationListener(getGraphicalEditPart().getNotationView(),propertyListener);
