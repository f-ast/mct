12a13
> import org.eclipse.core.resources.IContainer;
19a21,22
> import org.eclipse.core.runtime.Path;
> 
47a51,52
> import org.eclipse.swt.widgets.Composite;
> 
98,99c103,118
< 		myFileCreationPage = new WizardNewFileCreationPage("Initialize new Ecore diagram file", mySelection);
< 		myFileCreationPage.setFileName(mySelectedModelFile.getProjectRelativePath().removeFileExtension().addFileExtension("gmfgraph_diagram").lastSegment());
---
> 		myFileCreationPage = new WizardNewFileCreationPage("Initialize new Ecore diagram file", mySelection) {
> 
> 			public void createControl(Composite parent) {
> 				super.createControl(parent);
> 
> 				IContainer parentContainer = mySelectedModelFile.getParent();
> 				String originalFileName = mySelectedModelFile.getProjectRelativePath().removeFileExtension().lastSegment();
> 				String fileExtension = ".gmfgraph_diagram";
> 				String fileName = originalFileName + fileExtension;
> 				for (int i = 1; parentContainer.getFile(new Path(fileName)).exists(); i++) {
> 					fileName = originalFileName + i + fileExtension;
> 				}
> 				setFileName(fileName);
> 			}
> 
> 		};
