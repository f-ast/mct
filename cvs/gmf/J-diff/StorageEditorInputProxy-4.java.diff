16,19d15
< import org.eclipse.jface.resource.ImageDescriptor;
< import org.eclipse.ui.IPersistableElement;
< import org.eclipse.ui.IStorageEditorInput;
< 
20a17
> import org.eclipse.gmf.runtime.diagram.ui.resources.editor.document.EditorInputProxy;
22a20
> import org.eclipse.ui.IStorageEditorInput;
29c27
< public class StorageEditorInputProxy
---
> public class StorageEditorInputProxy extends EditorInputProxy
32,34d29
< 	IStorageEditorInput fProxied = null;
< 	MEditingDomain editingDomain = null;
< 	
40,41c35
< 		fProxied = input;
< 		editingDomain = domain;
---
> 		super(input, domain);
49,50c43,44
< 		if(fProxied != null)
< 			return fProxied.getStorage();
---
> 		if(fProxied != null && fProxied instanceof IStorageEditorInput)
> 			return ((IStorageEditorInput)fProxied).getStorage();
56,104d49
< 	 * @see org.eclipse.ui.IEditorInput#exists()
< 	 */
< 	public boolean exists() {
< 		return fProxied.exists();
< 	}
< 
< 	/* (non-Javadoc)
< 	 * @see org.eclipse.ui.IEditorInput#getImageDescriptor()
< 	 */
< 	public ImageDescriptor getImageDescriptor() {
< 		return fProxied.getImageDescriptor();
< 	}
< 
< 	/* (non-Javadoc)
< 	 * @see org.eclipse.ui.IEditorInput#getName()
< 	 */
< 	public String getName() {
< 		return fProxied.getName();
< 	}
< 
< 	/* (non-Javadoc)
< 	 * @see org.eclipse.ui.IEditorInput#getPersistable()
< 	 */
< 	public IPersistableElement getPersistable() {
< 		return fProxied.getPersistable();
< 	}
< 
< 	/* (non-Javadoc)
< 	 * @see org.eclipse.ui.IEditorInput#getToolTipText()
< 	 */
< 	public String getToolTipText() {
< 		return fProxied.getToolTipText();
< 	}
< 
< 	/* (non-Javadoc)
< 	 * @see org.eclipse.core.runtime.IAdaptable#getAdapter(java.lang.Class)
< 	 */
< 	public Object getAdapter(Class adapter) {
< 		return fProxied.getAdapter(adapter);
< 	}
< 	
< 	/* (non-Javadoc)
< 	 * @see org.eclipse.gmf.runtime.diagram.ui.resources.editor.document.MEditingDomainElement#getEditingDomain()
< 	 */
< 	public MEditingDomain getEditingDomain() {
< 		return editingDomain;
< 	}
< 	
< 	/* (non-Javadoc)
