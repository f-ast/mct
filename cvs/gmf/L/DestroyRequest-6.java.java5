package org.eclipse.gmf.runtime.emf.type.core.requests;

import java.util.Collections;

import java.util.List;

import org.eclipse.emf.ecore.EObject;

import org.eclipse.emf.transaction.TransactionalEditingDomain;

import org.eclipse.gmf.runtime.emf.type.core.EditHelperContext;

import org.eclipse.gmf.runtime.emf.type.core.IClientContext;

import org.eclipse.gmf.runtime.emf.type.core.internal.l10n.EMFTypeCoreMessages;

public abstract class DestroyRequest extends AbstractEditCommandRequest {
    private boolean confirmationRequired;

    public DestroyRequest (TransactionalEditingDomain editingDomain, boolean confirmationRequired) {
        super (editingDomain);
        this.confirmationRequired = confirmationRequired;
    }

    public boolean isConfirmationRequired () {
        return confirmationRequired;
    }

    public void setConfirm (boolean confirmationRequired) {
        this.confirmationRequired = confirmationRequired;
    }

    public abstract EObject getContainer ();

    public List getElementsToEdit () {
        if (getContainer () != null) {
            return Collections.singletonList (getContainer ());
        }
        return super.getElementsToEdit ();
    }

    protected String getDefaultLabel () {
        return EMFTypeCoreMessages.Request_Label_Destroy;
    }

    public Object getEditHelperContext () {
        IClientContext context = getClientContext ();
        if (context == null) {
            return getContainer ();
        } else {
            return new EditHelperContext (getContainer (), context);
        }
    }

}

