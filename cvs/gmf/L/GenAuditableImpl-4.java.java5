package org.eclipse.gmf.codegen.gmfgen.impl;

import java.util.ArrayList;

import java.util.Iterator;

import org.eclipse.emf.codegen.ecore.genmodel.GenClass;

import org.eclipse.emf.codegen.ecore.genmodel.GenClassifier;

import org.eclipse.emf.codegen.ecore.genmodel.GenPackage;

import org.eclipse.emf.ecore.EClass;

import org.eclipse.emf.ecore.impl.EObjectImpl;

import org.eclipse.gmf.codegen.gmfgen.GMFGenPackage;

import org.eclipse.gmf.codegen.gmfgen.GenAuditable;

public abstract class GenAuditableImpl extends EObjectImpl implements GenAuditable {

    protected GenAuditableImpl () {
        super ();
    }

    protected EClass eStaticClass () {
        return GMFGenPackage.eINSTANCE.getGenAuditable ();
    }

    public abstract GenClassifier getContext ();

    public GenClass getTargetClass () {
        if (getContext () instanceof GenClass) {
            return (GenClass) getContext ();
        }
        return null;
    }

    public String getClientContextID () {
        return "DefaultCtx";
    }

    public String getTargetClassModelQualifiedName () {
        if (getTargetClass () == null || getTargetClass ().getGenPackage () == null) {
            return null;
        }
        ArrayList packageNames = new ArrayList (3);
        for (GenPackage genPackage = getTargetClass ().getGenPackage ();
        genPackage != null;) {
            packageNames.add (0, genPackage.getPackageName ());
            genPackage = genPackage.getSuperGenPackage ();
        }
        StringBuffer buf = new StringBuffer (getTargetClass ().getQualifiedInterfaceName ().length ());
        for (Iterator it = packageNames.iterator ();
        it.hasNext ();) {
            buf.append (it.next ()).append ('.');
        }
        return buf.append (getTargetClass ().getName ()).toString ();
    }

}

