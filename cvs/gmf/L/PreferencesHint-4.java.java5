package org.eclipse.gmf.runtime.diagram.core.preferences;

import java.util.HashMap;

import java.util.Map;

public class PreferencesHint {
    public static PreferencesHint USE_DEFAULTS = new PreferencesHint ("UseDefaults");
    public static final PreferencesHint MODELING = new PreferencesHint ("MODELING");
    private static Map preferenceStores = new HashMap ();
    private String id;

    public PreferencesHint (String id) {
        this.id = id;
    }

    private String getId () {
        return id;
    }

    public boolean equals (Object arg0) {
        return arg0 instanceof PreferencesHint ? getId ().equals (((PreferencesHint) arg0).getId ()) : false;
    }

    public int hashCode () {
        return getId ().hashCode ();
    }

    public static boolean registerPreferenceStore (PreferencesHint preferencesHint, Object preferenceStore) {
        if (preferenceStores.containsKey (preferencesHint)) {
            return false;
        }
        preferenceStores.put (preferencesHint, preferenceStore);
        return true;
    }

    public Object getPreferenceStore () {
        Object store = preferenceStores.get (this);
        if (store == null) {
            store = preferenceStores.get (PreferencesHint.USE_DEFAULTS);
        }
        return store;
    }

}

