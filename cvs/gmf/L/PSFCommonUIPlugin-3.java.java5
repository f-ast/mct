package org.eclipse.gmf.runtime.common.ui.services.properties.internal;

import org.eclipse.core.runtime.Platform;

import org.eclipse.gmf.runtime.common.core.l10n.AbstractResourceManager;

import org.eclipse.gmf.runtime.common.ui.plugin.XToolsUIPlugin;

import org.eclipse.gmf.runtime.common.ui.services.properties.PropertiesService;

import org.eclipse.gmf.runtime.common.ui.services.properties.internal.l10n.PSFResourceManager;

public class PSFCommonUIPlugin extends XToolsUIPlugin {
    protected static final String PROPERTY_PROVIDERS_EXT_P_NAME = "propertiesProviders";
    protected static final String PROPERTY_MODIFIERS_EXT_P_NAME = "propertyModifiers";
    private static PSFCommonUIPlugin plugin;

    public PSFCommonUIPlugin () {
        super ();
        plugin = this;
    }

    public static PSFCommonUIPlugin getDefault () {
        return plugin;
    }

    public static String getPluginId () {
        return getDefault ().getBundle ().getSymbolicName ();
    }

    public AbstractResourceManager getResourceManager () {
        return PSFResourceManager.getInstance ();
    }

    protected void doStartup () {
        configurePropertiesProviders ();
    }

    private void configurePropertiesProviders () {
        PropertiesService.getInstance ().configureProviders (Platform.getExtensionRegistry ().getExtensionPoint (getPluginId (), PROPERTY_PROVIDERS_EXT_P_NAME).getConfigurationElements ());
        PropertiesService.getInstance ().configureModifiers (Platform.getExtensionRegistry ().getExtensionPoint (getPluginId (), PROPERTY_MODIFIERS_EXT_P_NAME).getConfigurationElements ());
    }

}

