package org.eclipse.gmf.runtime.diagram.ui.geoshapes.internal.views.factories;

import org.eclipse.jface.preference.IPreferenceStore;

import org.eclipse.jface.preference.PreferenceConverter;

import org.eclipse.swt.graphics.RGB;

import org.eclipse.gmf.runtime.diagram.ui.IPreferenceConstants;

import org.eclipse.gmf.runtime.diagram.ui.internal.view.factories.TextShapeViewFactory;

import org.eclipse.gmf.runtime.diagram.ui.properties.Properties;

import org.eclipse.gmf.runtime.draw2d.ui.figures.FigureUtilities;

import org.eclipse.gmf.runtime.notation.View;

public class GeoShapeViewFactory extends TextShapeViewFactory {

    protected void initializeFromPreferences (View view) {
        super.initializeFromPreferences (view);
        IPreferenceStore store = (IPreferenceStore) getPreferencesHint ().getPreferenceStore ();
        RGB fillRGB = PreferenceConverter.getColor (store, IPreferenceConstants.PREF_NOTE_FILL_COLOR);
        setPreferncePropertyValue (view, Properties.ID_FILLCOLOR, FigureUtilities.RGBToInteger (fillRGB));
        RGB lineRGB = PreferenceConverter.getColor (store, IPreferenceConstants.PREF_NOTE_LINE_COLOR);
        setPreferncePropertyValue (view, Properties.ID_LINECOLOR, FigureUtilities.RGBToInteger (lineRGB));
    }

}

