package org.eclipse.gmf.runtime.emf.core.internal.util;

import org.eclipse.core.expressions.PropertyTester;

import org.eclipse.emf.ecore.EObject;

import org.eclipse.emf.transaction.TransactionalEditingDomain;

import org.eclipse.emf.transaction.util.TransactionUtil;

public class EObjectTester extends PropertyTester {
    private static final String EDITING_DOMAIN_PROPERTY = "editingDomain";

    public boolean test (Object receiver, String property, Object [] args, Object expectedValue) {
        EObject eObject = (EObject) receiver;
        if (property.equals (EDITING_DOMAIN_PROPERTY)) {
            String expectedID = (String) expectedValue;
            if (expectedID != null) {
                TransactionalEditingDomain domain = TransactionUtil.getEditingDomain (eObject);
                if (domain != null) {
                    return expectedID.equals (domain.getID ());
                }
            }
        }
        return false;
    }

}

