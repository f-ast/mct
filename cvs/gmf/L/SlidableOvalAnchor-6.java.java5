package org.eclipse.gmf.runtime.gef.ui.figures;

import org.eclipse.draw2d.geometry.Point;

import org.eclipse.draw2d.geometry.PointList;

import org.eclipse.draw2d.geometry.PrecisionPoint;

import org.eclipse.draw2d.geometry.PrecisionRectangle;

import org.eclipse.draw2d.geometry.Rectangle;

import org.eclipse.gmf.runtime.draw2d.ui.figures.IOvalAnchorableFigure;

import org.eclipse.gmf.runtime.draw2d.ui.geometry.LineSeg;

public class SlidableOvalAnchor extends SlidableAnchor {

    public SlidableOvalAnchor () {
        super ();
    }

    public SlidableOvalAnchor (IOvalAnchorableFigure f) {
        super (f);
    }

    public SlidableOvalAnchor (IOvalAnchorableFigure f, PrecisionPoint p) {
        super (f, p);
    }

    protected Rectangle getBox () {
        PrecisionRectangle rBox = new PrecisionRectangle (((IOvalAnchorableFigure) getOwner ()).getOvalBounds ());
        getOwner ().translateToAbsolute (rBox);
        return rBox;
    }

    protected PointList getIntersectionPoints (Point ownReference, Point foreignReference) {
        return (new LineSeg (ownReference, foreignReference)).getLineIntersectionsWithEllipse (getBox ());
    }

}

