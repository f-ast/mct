package org.eclipse.gmf.runtime.draw2d.ui.internal.mapmode;

import org.eclipse.swt.widgets.Display;

public class HiMetricMapMode implements IMapMode {
    private float dpi;
    private double scale = 1;
    private static final double UNITS_PER_INCH = 2540.0;

    public HiMetricMapMode () {
        Display.getDefault ().syncExec (new Runnable () {

            public void run () {
                dpi = Display.getDefault ().getDPI ().x;
            }

        }

        );
        scale = dpi / UNITS_PER_INCH;
    }

    public double getScale () {
        return scale;
    }

    public int LPtoDP (int logicalUnit) {
        return (int) Math.round ((logicalUnit * dpi) / UNITS_PER_INCH);
    }

    public int DPtoLP (int deviceUnit) {
        return (int) Math.round ((deviceUnit * UNITS_PER_INCH) / dpi);
    }

}

