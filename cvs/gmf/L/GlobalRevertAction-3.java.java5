package org.eclipse.gmf.runtime.common.ui.action.internal.actions.global;

import org.eclipse.ui.ISaveablePart;

import org.eclipse.ui.IWorkbenchPage;

import org.eclipse.ui.IWorkbenchPart;

import org.eclipse.gmf.runtime.common.ui.action.global.GlobalAction;

import org.eclipse.gmf.runtime.common.ui.action.global.GlobalActionId;

import org.eclipse.gmf.runtime.common.ui.action.internal.l10n.ResourceManager;

public class GlobalRevertAction extends GlobalAction {
    private static final String REVERT_TEXT = ResourceManager.getI18NString ("GlobalRevertAction.label");
    private static final String REVERT = "org.eclipse.gmf.runtime.common.ui.actions.global.revert";

    public GlobalRevertAction (IWorkbenchPage workbenchPage) {
        super (workbenchPage);
    }

    public GlobalRevertAction (IWorkbenchPart workbenchPart) {
        super (workbenchPart);
    }

    public String getActionId () {
        return GlobalActionId.REVERT;
    }

    public void init () {
        setId (getWorkbenchActionConstant () != null ? getWorkbenchActionConstant () : REVERT);
        setText (REVERT_TEXT);
        super.init ();
    }

    protected boolean isSelectionListener () {
        return true;
    }

    protected boolean isPropertyListener () {
        return true;
    }

    public void propertyChanged (Object source, int propId) {
        if (propId == ISaveablePart.PROP_DIRTY) {
            refresh ();
        }
    }

}

