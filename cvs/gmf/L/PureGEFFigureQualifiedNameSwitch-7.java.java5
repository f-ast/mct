package org.eclipse.gmf.gmfgraph.util;

import org.eclipse.emf.common.util.UniqueEList;

import org.eclipse.emf.ecore.EObject;

import org.eclipse.gmf.common.codegen.ImportAssistant;

import org.eclipse.gmf.gmfgraph.BorderLayout;

import org.eclipse.gmf.gmfgraph.CustomClass;

import org.eclipse.gmf.gmfgraph.Ellipse;

import org.eclipse.gmf.gmfgraph.FigureGallery;

import org.eclipse.gmf.gmfgraph.FlowLayout;

import org.eclipse.gmf.gmfgraph.GridLayout;

import org.eclipse.gmf.gmfgraph.GridLayoutData;

import org.eclipse.gmf.gmfgraph.Label;

import org.eclipse.gmf.gmfgraph.LabeledContainer;

import org.eclipse.gmf.gmfgraph.Polygon;

import org.eclipse.gmf.gmfgraph.PolygonDecoration;

import org.eclipse.gmf.gmfgraph.Polyline;

import org.eclipse.gmf.gmfgraph.PolylineConnection;

import org.eclipse.gmf.gmfgraph.PolylineDecoration;

import org.eclipse.gmf.gmfgraph.Rectangle;

import org.eclipse.gmf.gmfgraph.RoundedRectangle;

import org.eclipse.gmf.gmfgraph.ScalablePolygon;

import org.eclipse.gmf.gmfgraph.StackLayout;

import org.eclipse.gmf.gmfgraph.XYLayout;

import org.eclipse.gmf.gmfgraph.XYLayoutData;

@Deprecated
class PureGEFFigureQualifiedNameSwitch extends GMFGraphSwitch < String > implements FigureQualifiedNameSwitch {

    public String get (EObject gmfgraphObject) {
        return doSwitch (gmfgraphObject);
    }

    public String get (EObject gmfgraphObject, ImportAssistant importManager) {
        return importManager.getImportedName (get (gmfgraphObject));
    }

    public String [] getDependencies (FigureGallery gallery) {
        UniqueEList < String > rv = new UniqueEList < String > ();
        collectDependencies (gallery, rv);
        return rv.toArray (new String [rv.size ()]);
    }

    protected void collectDependencies (FigureGallery gallery, UniqueEList < String > result) {
        final String pluginBasicDraw2d = "org.eclipse.draw2d";
        if (usesDraw2dFigures (gallery)) {
            result.add (pluginBasicDraw2d);
        }
        if (gallery.getImplementationBundle () != null) {
            result.add (gallery.getImplementationBundle ());
        }
    }

    private boolean usesDraw2dFigures (FigureGallery gallery) {
        return ! gallery.getFigures ().isEmpty ();
    }

    public String caseCustomClass (CustomClass object) {
        return object.getQualifiedClassName ();
    }

    public String caseFlowLayout (FlowLayout object) {
        return object.isForceSingleLine () ? "org.eclipse.draw2d.ToolbarLayout" : "org.eclipse.draw2d.FlowLayout";
    }

    public String caseXYLayout (XYLayout object) {
        return "org.eclipse.draw2d.XYLayout";
    }

    public String caseXYLayoutData (XYLayoutData object) {
        return "org.eclipse.draw2d.geometry.Rectangle";
    }

    public String caseStackLayout (StackLayout object) {
        return "org.eclipse.draw2d.StackLayout";
    }

    public String caseBorderLayout (BorderLayout object) {
        return "org.eclipse.draw2d.BorderLayout";
    }

    public String caseLabel (Label object) {
        return "org.eclipse.draw2d.Label";
    }

    public String caseLabeledContainer (LabeledContainer object) {
        return "org.eclipse.draw2d.LabeledContainer";
    }

    public String caseRectangle (Rectangle object) {
        return "org.eclipse.draw2d.RectangleFigure";
    }

    public String caseRoundedRectangle (RoundedRectangle object) {
        return "org.eclipse.draw2d.RoundedRectangle";
    }

    public String caseEllipse (Ellipse object) {
        return "org.eclipse.draw2d.Ellipse";
    }

    public String casePolygon (Polygon object) {
        return "org.eclipse.draw2d.Polygon";
    }

    public String caseScalablePolygon (ScalablePolygon object) {
        return object.eContainer () instanceof FigureGallery ? "org.eclipse.draw2d.Shape" : "ScalablePolygon";
    }

    public String casePolygonDecoration (PolygonDecoration object) {
        return "org.eclipse.draw2d.PolygonDecoration";
    }

    public String casePolyline (Polyline object) {
        return "org.eclipse.draw2d.Polyline";
    }

    public String casePolylineDecoration (PolylineDecoration object) {
        return "org.eclipse.draw2d.PolylineDecoration";
    }

    public String casePolylineConnection (PolylineConnection object) {
        return "org.eclipse.draw2d.PolylineConnection";
    }

    public String caseGridLayout (GridLayout object) {
        return "org.eclipse.draw2d.GridLayout";
    }

    public String caseGridLayoutData (GridLayoutData object) {
        return "org.eclipse.draw2d.GridData";
    }

}

