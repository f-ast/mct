package org.eclipse.gmf.runtime.emf.type.core.requests;

import java.util.Collections;

import java.util.List;

import org.eclipse.emf.ecore.EObject;

import org.eclipse.emf.transaction.TransactionalEditingDomain;

import org.eclipse.emf.transaction.util.TransactionUtil;

import org.eclipse.gmf.runtime.emf.type.core.IElementType;

public class ConfigureRequest extends AbstractEditCommandRequest {
    private final EObject elementToConfigure;
    private final IElementType typeToConfigure;

    public ConfigureRequest (TransactionalEditingDomain editingDomain, EObject elementToConfigure, IElementType typeToConfigure) {
        super (editingDomain);
        this.elementToConfigure = elementToConfigure;
        this.typeToConfigure = typeToConfigure;
    }

    public ConfigureRequest (EObject elementToConfigure, IElementType typeToConfigure) {
        this (TransactionUtil.getEditingDomain (elementToConfigure), elementToConfigure, typeToConfigure);
    }

    public EObject getElementToConfigure () {
        return elementToConfigure;
    }

    public IElementType getTypeToConfigure () {
        return typeToConfigure;
    }

    public List getElementsToEdit () {
        if (getElementToConfigure () != null) {
            return Collections.singletonList (getElementToConfigure ());
        }
        return super.getElementsToEdit ();
    }

    public Object getEditHelperContext () {
        return getTypeToConfigure ();
    }

}

