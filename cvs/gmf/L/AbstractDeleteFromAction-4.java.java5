package org.eclipse.gmf.runtime.diagram.ui.actions;

import org.eclipse.emf.ecore.EObject;

import org.eclipse.gef.Request;

import org.eclipse.ui.IWorkbenchPage;

import org.eclipse.ui.IWorkbenchPart;

import org.eclipse.gmf.runtime.diagram.ui.requests.EditCommandRequestWrapper;

import org.eclipse.gmf.runtime.emf.type.core.requests.DestroyElementRequest;

public abstract class AbstractDeleteFromAction extends DiagramAction {

    public AbstractDeleteFromAction (IWorkbenchPart part) {
        super (part);
    }

    public AbstractDeleteFromAction (IWorkbenchPage workbenchPage) {
        super (workbenchPage);
    }

    protected Request createTargetRequest () {
        return new EditCommandRequestWrapper (new DestroyElementRequest (false));
    }

    protected boolean isSelectionListener () {
        return true;
    }

    protected void updateTargetRequest () {
        super.updateTargetRequest ();
        DestroyElementRequest deleteReq = getDestroyElementRequest ();
        deleteReq.setElementToDestroy ((EObject) null);
    }

    protected DestroyElementRequest getDestroyElementRequest () {
        EditCommandRequestWrapper theWrapper = (EditCommandRequestWrapper) getTargetRequest ();
        DestroyElementRequest theRequest = (DestroyElementRequest) theWrapper.getEditCommandRequest ();
        return theRequest;
    }

}

