package org.eclipse.gmf.runtime.diagram.ui.resources.editor.internal.ui.parts;

import java.lang.ref.WeakReference;

import org.eclipse.core.resources.IFile;

import org.eclipse.gmf.runtime.notation.Diagram;

public class FileResourceDiagramEditorInput extends FileResourceEditorInput {
    private WeakReference diagram;

    public FileResourceDiagramEditorInput (IFile file, Diagram diagram) {
        super (file);
        assert diagram != null;
        setDiagram (diagram);
    }

    public Diagram getDiagram () {
        return (Diagram) diagram.get ();
    }

    protected void setDiagram (Diagram diagram) {
        this.diagram = new WeakReference (diagram);
    }

    public Object clone (IFile newFile) {
        return new FileResourceDiagramEditorInput (newFile, getDiagram ());
    }

}

