head	1.2;
access;
symbols
	v20080910-1520:1.2
	v20080722-1827:1.2
	v20080716-1642:1.2
	R2_1_maintenance:1.2.0.2
	Root_R2_1_maintenance:1.2
	R2_1_0:1.2
	v20080507-1326:1.2
	v20080501-1739:1.1
	v20080425-1959:1.1
	v20080322-0000:1.1
	v20071108-0000:1.1
	v20071003-0000:1.1;
locks; strict;
comment	@# @;


1.2
date	2008.05.07.13.55.39;	author atikhomirov;	state Exp;
branches;
next	1.1;
commitid	388c4821b4d44567;

1.1
date	2007.09.18.10.18.54;	author bblajer;	state Exp;
branches;
next	;
commitid	6ac646efa60d4567;


desc
@@


1.2
log
@[228913] updated ValueExpression use in GMFGen to better accomodate codegen needs (items 1,2,3)
@
text
@/*
 * Copyright (c) 2007 Borland Software Corporation
 * 
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *    bblajer (Borland) - initial API and implementation
 */

«IMPORT "http://www.eclipse.org/gmf/2008/GenModel"»
«IMPORT "http://www.eclipse.org/emf/2002/Ecore"»
«EXTENSION xpt::diagram::preferences::Util»

«DEFINE extensions FOR gmfgen::GenDiagram-»
«EXPAND preferencePages-»
«EXPAND preferenceInitializers-»
«ENDDEFINE»

«DEFINE preferencePages FOR gmfgen::GenDiagram-»
«IF preferencePages.hasSupportedPreferencePages()-»
   <extension point="org.eclipse.ui.preferencePages">
      «EXPAND xpt::Common::xmlGeneratedTag»
«EXPAND preferencePage FOREACH preferencePages-»
   </extension>
«ENDIF-»
«ENDDEFINE»

«DEFINE preferenceInitializers FOR gmfgen::GenDiagram-»
«IF preferencePages.hasPreferencePagesWithInitializers()-»
   <extension point="org.eclipse.core.runtime.preferences">
      «EXPAND xpt::Common::xmlGeneratedTag»
«EXPAND preferenceInitializer FOREACH preferencePages-»
   </extension>
«ENDIF-»
«ENDDEFINE»

«DEFINE preferencePage FOR gmfgen::GenPreferencePage-»
«IF isSupported()-»
      <page
            id="«iD»"
            name="%preference.page.title.«iD»"
«IF null != parent-»
            category="«parent.iD»"
«ENDIF-»
            class="«EXPAND qualifiedClassName»">
      </page>
«ENDIF-»
«EXPAND preferencePage FOREACH children-»
«ENDDEFINE»

«DEFINE qualifiedClassName FOR gmfgen::GenPreferencePage»
«ERROR "Unknown preference page: " + this»
«ENDDEFINE»

«DEFINE qualifiedClassName FOR gmfgen::GenCustomPreferencePage»«qualifiedClassName»«ENDDEFINE»

«DEFINE qualifiedClassName FOR gmfgen::GenStandardPreferencePage-»
«IF gmfgen::StandardPreferencePages::General.value == kind.value-»
«EXPAND xpt::diagram::preferences::GeneralPreferencePage::qualifiedClassName FOR getDiagram()-»
«ELSEIF gmfgen::StandardPreferencePages::Appearance.value == kind.value-»
«EXPAND xpt::diagram::preferences::AppearancePreferencePage::qualifiedClassName FOR getDiagram()-»
«REM»TODO: accept more standard preferences, do not forget to register them with Util.ext«ENDREM»«ELSE-»
«ERROR "Unknown preference page: " + this»
«ENDIF-»
«ENDDEFINE»

«DEFINE preferenceInitializer FOR gmfgen::GenPreferencePage»
«IF hasInitializer()-»
<initializer class="«EXPAND preferenceInitializerQualifiedClassName»"/>
«ENDIF-»
«EXPAND preferenceInitializer FOREACH children-»
«ENDDEFINE»

«DEFINE preferenceInitializerQualifiedClassName FOR gmfgen::GenPreferencePage-»
«ERROR "Unknown preference page: " + this»
«ENDDEFINE»

«DEFINE preferenceInitializerQualifiedClassName FOR gmfgen::GenStandardPreferencePage-»
«IF gmfgen::StandardPreferencePages::General.value == kind.value-»
«EXPAND xpt::diagram::preferences::GeneralPreferencePage::preferenceInitializerQualifiedClassName FOR getDiagram()-»
«ELSEIF gmfgen::StandardPreferencePages::Appearance.value == kind.value-»
«EXPAND xpt::diagram::preferences::AppearancePreferencePage::preferenceInitializerQualifiedClassName FOR getDiagram()-»
«REM»TODO: accept more standard preferences, do not forget to register them with Util.ext«ENDREM»«ELSE-»
«ERROR "Unknown preference page: " + this»
«ENDIF-»
«ENDDEFINE»

«DEFINE i18n FOR gmfgen::GenDiagram-»

# Preferences
«EXPAND internal_i18n FOREACH preferencePages»
«ENDDEFINE»

«DEFINE internal_i18n FOR gmfgen::GenPreferencePage-»
«IF isSupported()-»
preference.page.title.«iD»=«name»
«ENDIF-»
«EXPAND internal_i18n FOREACH children-»
«ENDDEFINE»
@


1.1
log
@1. Preferences for fonts and colors
2. ResourceManager employed to reuse fonts and colors used for styles
3. Option to check the availability of the font name that is specified in the style
4. Styles are initialized with defaults from preferences
@
text
@d13 1
a13 1
«IMPORT "http://www.eclipse.org/gmf/2006/GenModel"»
@

