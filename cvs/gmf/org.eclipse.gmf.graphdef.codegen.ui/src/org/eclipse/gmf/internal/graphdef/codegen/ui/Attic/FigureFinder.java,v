head	1.2;
access;
symbols
	R1_0_maintenance:1.2.0.2
	R1_0:1.2
	I20060505-1400:1.1
	I20060424-0500:1.1
	I20060424-0300:1.1
	M6_10:1.1
	I20060407-1200:1.1
	I20060331-1000:1.1
	I20060324-0300:1.1
	I20060317-1300:1.1
	I20060317-1200:1.1
	I20060316-1300:1.1
	I20060309-1300:1.1;
locks; strict;
comment	@# @;
expand	@k@;


1.2
date	2006.05.23.21.09.46;	author atikhomirov;	state dead;
branches;
next	1.1;

1.1
date	2006.03.07.20.12.13;	author atikhomirov;	state Exp;
branches;
next	;


desc
@@


1.2
log
@#140887 Remove Child interface from GMFGraph.
Although the need to reference child figures persist, thus FigureHandle was introduced, to allow diagramElements to reference either *generateable* figures (Figure subclasses) or *just-use* figures (like CustomFigure and FigureAccessor).
Refactoring performed with #131365 "Mirror GMFGraph model when generating standalone figure plugin" in mind
@
text
@/*
 * Copyright (c) 2006 Borland Software Corporation
 * 
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *    Artem Tikhomirov (Borland) - initial API and implementation
 */
package org.eclipse.gmf.internal.graphdef.codegen.ui;

import java.util.ArrayList;

import org.eclipse.emf.common.util.TreeIterator;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.resource.Resource;
import org.eclipse.gmf.gmfgraph.FigureGallery;
import org.eclipse.gmf.gmfgraph.GMFGraphPackage;

/**
 * @@author artem
 */
class FigureFinder {

	public FigureFinder() {
	}

	public FigureGallery[] findFigures(Resource resource) {
		ArrayList rv = new ArrayList();
		for(TreeIterator it = resource.getAllContents(); it.hasNext();) {
			EObject next = (EObject) it.next();
			// FigureGallery could be either top element or as a child of canvas
			if (next.eClass().getClassifierID() == GMFGraphPackage.FIGURE_GALLERY) {
				rv.add(next);
				it.prune();
			} else if (next.eClass().getClassifierID() != GMFGraphPackage.CANVAS) {
				it.prune();
			}
		}
		return (FigureGallery[]) rv.toArray(new FigureGallery[rv.size()]);
	}
}
@


1.1
log
@ui action to generate figures bundle
@
text
@@

