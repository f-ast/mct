head	1.2;
access;
symbols;
locks; strict;
comment	@# @;
expand	@k@;


1.2
date	2008.05.16.11.49.30;	author ashatalin;	state Exp;
branches;
next	1.1;
commitid	c41482d74ca4567;

1.1
date	2008.04.01.18.42.12;	author atikhomirov;	state Exp;
branches;
next	;
commitid	523c47f282044567;


desc
@@


1.2
log
@Using unique layoutData variable name to correct compilation errors on trying to generate code with more then one widget having FormLayout.
@
text
@/*
 * Copyright (c) 2008 Borland Software Corp.
 * 
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *    Artem Tikhomirov (Borland) - initial API and implementation
 */
«IMPORT "http://www.eclipse.org/gmf/2008/Widget"»
«IMPORT "http://www.eclipse.org/emf/2002/Ecore"»

«EXTENSION Widgets»

«DEFINE Main(String compositeVar) FOR Layout»«ERROR "abstract Main FOR Layout"»«ENDDEFINE»

«DEFINE Main(String compositeVar) FOR FormLayout-»
«compositeVar».setLayout(new org.eclipse.swt.layout.FormLayout());
org.eclipse.swt.layout.FormData «compositeVar»FD;
«FOREACH data AS fd-»
«compositeVar»FD = new org.eclipse.swt.layout.FormData();
«IF fd.left != null»«compositeVar»FD.left = «EXPAND x FOR fd.left»;
«ENDIF-»
«IF fd.right != null»«compositeVar»FD.right = «EXPAND x FOR fd.right»;
«ENDIF-»
«IF fd.top != null»«compositeVar»FD.top = «EXPAND x FOR fd.top»;
«ENDIF-»
«IF fd.bottom != null»«compositeVar»FD.bottom = «EXPAND x FOR fd.bottom»;
«ENDIF-»
«fd.widget.fieldName()».setLayoutData(«compositeVar»FD);
«ENDFOREACH-»
«ENDDEFINE»

«DEFINE x FOR Attachment-»
«IF control == null»new org.eclipse.swt.layout.FormAttachment(0, «offset»)«ELSE»new org.eclipse.swt.layout.FormAttachment(«control.fieldName()», «offset», org.eclipse.swt.SWT.«align.name»)«ENDIF»«ENDDEFINE»

«DEFINE Main(String compositeVar) FOR GridLayout-»
«compositeVar».setLayout(new org.eclipse.swt.layout.GridLayout(«columns», «equalColumns»));
«FOREACH data AS fd-»
org.eclipse.jface.layout.GridDataFactory.swtDefaults()«EXPAND align FOR fd»«EXPAND span FOR fd»«EXPAND grab FOR fd».applyTo(«fd.widget.fieldName()»);
«ENDFOREACH-»
«ENDDEFINE»

«DEFINE Main(String compositeVar) FOR FillLayout-»
«compositeVar».setLayout(new org.eclipse.swt.layout.FillLayout(«IF vertical»org.eclipse.swt.SWT.VERTICAL«ENDIF»));
«ENDDEFINE»



/////////////////////
// GridData internals
//

«DEFINE align FOR GridData».align(SWT.«EXPAND alignLiteral FOR hAlign», SWT.«EXPAND alignLiteral FOR vAlign»)«ENDDEFINE»
«DEFINE span FOR GridData»«IF hSpan > 1 || vSpan > 1».span(«hSpan», «vSpan»)«ENDIF»«ENDDEFINE»
«DEFINE grab FOR GridData»«IF hGrab || vGrab».grab(«hGrab», «vGrab»)«ENDIF»«ENDDEFINE»

«DEFINE alignLiteral FOR Alignment»«IF value == 0»BEGINNING«ELSEIF value == 2»END«ELSE»«literal»«ENDIF»«ENDDEFINE»@


1.1
log
@[192711] general forms ui model, Phase I: bring models in, break them according to their function, update templates to reflect updated model structure
@
text
@d21 1
a21 1
org.eclipse.swt.layout.FormData fd;
d23 2
a24 2
fd = new org.eclipse.swt.layout.FormData();
«IF fd.left != null»fd.left = «EXPAND x FOR fd.left»;
d26 1
a26 1
«IF fd.right != null»fd.right = «EXPAND x FOR fd.right»;
d28 1
a28 1
«IF fd.top != null»fd.top = «EXPAND x FOR fd.top»;
d30 1
a30 1
«IF fd.bottom != null»fd.bottom = «EXPAND x FOR fd.bottom»;
d32 1
a32 1
«fd.widget.fieldName()».setLayoutData(fd);
@

