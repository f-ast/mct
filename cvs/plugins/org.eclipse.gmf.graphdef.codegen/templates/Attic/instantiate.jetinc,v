head	1.4;
access;
symbols
	v20080813-1520:1.4
	v20080806-1520:1.4
	v20080731-1520:1.4
	R1_0_maintenance:1.4.0.2
	R1_0:1.4
	I20060203-0830:1.2
	I20060129-1145:1.2
	I20060127-0900:1.2
	I20060120-1530:1.1
	I20060113-1700:1.1
	M4_10:1.1
	I20060107-1100:1.1;
locks; strict;
comment	@# @;
expand	@k@;


1.4
date	2006.02.06.18.10.23;	author atikhomirov;	state dead;
branches;
next	1.3;

1.3
date	2006.02.05.23.00.50;	author atikhomirov;	state Exp;
branches;
next	1.2;

1.2
date	2006.01.25.14.02.29;	author atikhomirov;	state Exp;
branches;
next	1.1;

1.1
date	2006.01.06.19.17.28;	author atikhomirov;	state Exp;
branches;
next	;


desc
@@


1.4
log
@major refactoring of gmfgraph codegen utilizing dispatcher infrastructure
@
text
@<%
// FigureMarker:  figureMarker
// String:        figureVarName
if (figureMarker instanceof CustomFigure) {
	CustomFigure figureInstance = (CustomFigure) figureMarker;
%>
		<%=fqnSwitch.doSwitch(figureMarker)%> <%=figureVarName%> = new <%=fqnSwitch.doSwitch(figureMarker)%>();
<%@@ include file="FigureAttrs.jetinc"%>
<%} else if (figureMarker instanceof Shape) {
Shape figureInstance = (Shape) figureMarker;%>
		<%=fqnSwitch.doSwitch(figureMarker)%> <%=figureVarName%> = new <%=fqnSwitch.doSwitch(figureMarker)%>();
<%=dispatcher.dispatch("ShapeAttrs", dispatcher.create(figureInstance, figureVarName, importManager, fqnSwitch))%>
<%} else if (figureMarker instanceof FigureRef) {%>
		org.eclipse.draw2d.IFigure <%=figureVarName%> = new <%=((FigureRef) figureMarker).getFigure().getName()%>();
<%} else if (figureMarker instanceof Label) {
	Label figureInstance = (Label) figureMarker;
%>
		<%=fqnSwitch.doSwitch(figureMarker)%> <%=figureVarName%> = new <%=fqnSwitch.doSwitch(figureMarker)%>();
		<%=figureVarName%>.setText("<%=((Label) figureMarker).getText()%>");
<%@@ include file="FigureAttrs.jetinc"%><%}%>@


1.3
log
@provisional framework that supports (double-)dispatch from templates to
a) avoid lengthy if instanceof elseif checks,
b) solve scope and name visibility issues when extracting common code into jetinc
@
text
@@


1.2
log
@support Figure.color attributes
@
text
@d12 1
a12 1
<%@@ include file="ShapeAttrs.jetinc"%>
@


1.1
log
@ some templates to support #114177 (graphical definition model) - with GEF IFigure code as an outcome
@
text
@d5 1
d7 1
a7 1
		org.eclipse.draw2d.IFigure <%=figureVarName%> = new <%=((CustomFigure) figureMarker).getQualifiedClassName()%>();
d10 1
a10 2
Shape shapeFigure = (Shape) figureMarker;
String shapeVarName = figureVarName;%>
d15 4
a18 3
<%@@ include file="FigureAttrs.jetinc"%>
<%} else if (figureMarker instanceof Label) {%>
		org.eclipse.draw2d.Label <%=figureVarName%> = new org.eclipse.draw2d.Label();
@

