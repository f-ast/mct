head	1.3;
access;
symbols
	v20080910-1520:1.3
	v20070403-1500:1.2
	v20070330-1300:1.2
	v20060330-1300:1.2
	v20070322-1100:1.2
	v20060316-0600:1.2
	v20070307-0700:1.2
	v20070228-2000:1.2
	v20070221-1500:1.2
	v20070208-1800:1.2
	v20070103-0300:1.1
	M4_20:1.1
	v20061222-1800:1.1
	v20061214-0000:1.1
	v20061120-1300:1.1
	M3_20:1.1
	v20061117-0800:1.1
	v20061013-1330:1.1;
locks; strict;
comment	@# @;
expand	@k@;


1.3
date	2007.04.04.11.05.01;	author bblajer;	state dead;
branches;
next	1.2;
commitid	18c54613864d4567;

1.2
date	2007.01.12.21.50.39;	author bblajer;	state Exp;
branches;
next	1.1;
commitid	252345a802aa4567;

1.1
date	2006.09.21.10.12.03;	author atikhomirov;	state Exp;
branches;
next	;


desc
@@


1.3
log
@[176696]: InitDiagramContents: do not create notational edges to and from child label nodes;
Rewrite editpart templates in xpt;
Unify what is refreshed for each edit part type;
Preparation for side-affixed elements.
@
text
@			<%=importManager.getImportedName("org.eclipse.emf.ecore.EObject")%> domainElement = descriptor.getElement();
			int nodeVisualID = descriptor.getVisualID();
			switch (nodeVisualID) {
<%
for (Iterator it = childNodes.iterator(); it.hasNext(); ) {
	GenNode nextNode = (GenNode) it.next();
	TypeModelFacet typeModelFacet = nextNode.getModelFacet();
	if (typeModelFacet == null) {
		continue;
	}
	String childNodeInterfaceName = importManager.getImportedName(nextNode.getDomainMetaClass().getQualifiedInterfaceName());
%>
			case <%=importManager.getImportedName(nextNode.getEditPartQualifiedClassName())%>.VISUAL_ID:
				if (domainElement instanceof <%=childNodeInterfaceName%>) {
					return new <%=importManager.getImportedName("org.eclipse.gmf.runtime.lite.commands.CreateNotationalNodeCommand")%>(<%=_parentNode%>, domainElement, 
<%
	if (!isListLayout) {
		int defaultWidth = 40;
		int defaultHeight = 40;
		DefaultSizeAttributes defSizeAttrs = (DefaultSizeAttributes) nextNode.getViewmap().find(DefaultSizeAttributes.class);
		if (defSizeAttrs != null) {
			defaultWidth = defSizeAttrs.getWidth();
			defaultHeight = defSizeAttrs.getHeight();
		}
%>new <%=importManager.getImportedName("org.eclipse.draw2d.geometry.Rectangle")%>(0, 0, <%=defaultWidth%>, <%=defaultHeight%>)<%
	} else {
%>
null<%
	}
%>, <%=importManager.getImportedName(nextNode.getNotationViewFactoryQualifiedClassName())%>.INSTANCE, false);
				}
				return null;
<%
}
%>
			default:
				return null;
			}
@


1.2
log
@[170340]: Expand collapsed compartments automatically when new elements are added to it;
[170341]: Expand/Collapse handles should not be available for empty compartments.
@
text
@@


1.1
log
@[157859] bblajer - Diagram initialization from pre-existing domain models
@
text
@d30 1
a30 1
%>, <%=importManager.getImportedName(nextNode.getNotationViewFactoryQualifiedClassName())%>.INSTANCE);
@

