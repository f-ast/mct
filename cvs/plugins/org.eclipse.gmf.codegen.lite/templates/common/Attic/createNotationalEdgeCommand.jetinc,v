head	1.2;
access;
symbols
	v20080910-1520:1.2
	v20070403-1500:1.1
	v20070330-1300:1.1
	v20060330-1300:1.1
	v20070322-1100:1.1
	v20060316-0600:1.1
	v20070307-0700:1.1
	v20070228-2000:1.1
	v20070221-1500:1.1
	v20070208-1800:1.1
	v20070103-0300:1.1
	M4_20:1.1
	v20061222-1800:1.1
	v20061214-0000:1.1
	v20061120-1300:1.1
	M3_20:1.1
	v20061117-0800:1.1
	v20061013-1330:1.1;
locks; strict;
comment	@# @;
expand	@k@;


1.2
date	2007.04.04.11.05.01;	author bblajer;	state dead;
branches;
next	1.1;
commitid	18c54613864d4567;

1.1
date	2006.09.21.10.12.03;	author atikhomirov;	state Exp;
branches;
next	;


desc
@@


1.2
log
@[176696]: InitDiagramContents: do not create notational edges to and from child label nodes;
Rewrite editpart templates in xpt;
Unify what is refreshed for each edit part type;
Preparation for side-affixed elements.
@
text
@			<%=importManager.getImportedName("org.eclipse.gmf.runtime.notation.View")%> sourceView = getViewService().findView(linkDescriptor.getSource());
			<%=importManager.getImportedName("org.eclipse.gmf.runtime.notation.View")%> targetView = getViewService().findView(linkDescriptor.getDestination());
			<%=importManager.getImportedName("org.eclipse.gmf.runtime.lite.services.IViewDecorator")%> decorator = null;
			if (sourceView == null || targetView == null) {
				return null;
			}
			switch (linkDescriptor.getVisualID()) {
<%
	for(Iterator it = _containedTypeModelFacetLinks; it.hasNext(); ) {
		GenLink nextLink = (GenLink) it.next();
		TypeLinkModelFacet modelFacet = (TypeLinkModelFacet) nextLink.getModelFacet();
		if (modelFacet == null) {
			continue;
		}
%>
			case <%=importManager.getImportedName(nextLink.getEditPartQualifiedClassName())%>.VISUAL_ID:
				if (linkDescriptor.getElement() instanceof <%=importManager.getImportedName(modelFacet.getMetaClass().getQualifiedInterfaceName())%>) {
					decorator = <%=importManager.getImportedName(nextLink.getNotationViewFactoryQualifiedClassName())%>.INSTANCE;
				}
				break;
<%
	}
	for(Iterator it = _containedFeatureModelFacetLinks; it.hasNext(); ) {
		GenLink nextLink = (GenLink) it.next();
%>
			case <%=importManager.getImportedName(nextLink.getEditPartQualifiedClassName())%>.VISUAL_ID:
				if (linkDescriptor.getElement() == null) {
					decorator = <%=importManager.getImportedName(nextLink.getNotationViewFactoryQualifiedClassName())%>.INSTANCE;
				}
				break;
<%
	}
%>
			}
			if (decorator == null) {
				return null;
			}
			return new <%=importManager.getImportedName("org.eclipse.gmf.runtime.lite.commands.CreateNotationalEdgeCommand")%>(<%=_diagramCode%>, linkDescriptor.getElement(), sourceView, targetView, decorator);
@


1.1
log
@[157859] bblajer - Diagram initialization from pre-existing domain models
@
text
@@

