head	1.4;
access;
symbols
	v20081022-1925:1.4
	v20081015-1925:1.4
	v20081008-1925:1.4
	v20081001-1925:1.4
	v20080924-1925:1.4
	v20080917-1925:1.4
	v20080911-1728:1.4
	v20080910-1520:1.4
	v20080903-1520:1.4
	v20080827-1520:1.4
	v20080813-1520:1.4
	v20080806-1520:1.4
	v20070420-1000:1.3
	v20070413-1300:1.3
	v20070405-1100:1.3
	v20070403-1500:1.3
	v20070330-1300:1.3
	v20060330-1300:1.3
	v20070322-1100:1.3
	v20060316-0600:1.3
	v20070307-0700:1.3
	v20070301-1200:1.3
	v20070228-2000:1.3
	v20070221-1500:1.3
	v20070208-1800:1.3
	v20070202-0200:1.2.2.1
	v20070103-0300:1.3
	M4_20:1.3
	v20061222-1800:1.3
	v20061218-1200:1.3
	v20061214-0000:1.3
	v20061120-1300:1.3
	M3_20:1.3
	v20061117-0800:1.3
	v20061027-1200:1.2.2.1
	v20061020-1000:1.2.2.1
	v20061013-1330:1.3
	v20060919-0800:1.2.2.1
	v20060907-1100:1.2.2.1
	M1_20:1.3
	v20060904-1500:1.3
	v20060824-1600:1.2.2.1
	v20060817-1500:1.2.2.1
	v20060728-0500:1.2
	v20060713-1700:1.2
	R1_0_maintenance:1.2.0.2
	R1_0:1.2
	v20060627-1200:1.2
	v20060626-1420:1.2
	v20060620-0400:1.2
	v20060616-1400:1.2
	v20060616-1200:1.2
	v20060609-1400:1.1
	v20060531-1730:1.1
	v20060530-1930:1.1
	v20060526-1200:1.1
	v20060519-1300:1.1
	v20060519-0800:1.1
	v20060512-1000:1.1
	I20060512-1000:1.1
	I20060505-1400:1.1
	I20060428-1300:1.1
	I20060424-0500:1.1
	I20060424-0300:1.1
	M6_10:1.1
	I20060407-1200:1.1
	I20060331-1000:1.1
	I20060324-0300:1.1;
locks; strict;
comment	@# @;
expand	@k@;


1.4
date	2007.04.24.18.22.42;	author ashatalin;	state dead;
branches;
next	1.3;
commitid	1456462e4af04567;

1.3
date	2006.08.17.17.06.15;	author ashatalin;	state Exp;
branches;
next	1.2;

1.2
date	2006.06.14.18.40.16;	author ahunter;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2006.03.19.16.57.17;	author ashatalin;	state Exp;
branches;
next	;

1.2.2.1
date	2006.08.17.17.10.33;	author ashatalin;	state Exp;
branches;
next	;


desc
@@


1.4
log
@DiagramCanonicalEditpolicy template is in XPAND now.
[182556] - getSemanticChildrenList.jetinc generates empty switch statement causing generation to fail
@
text
@/**
 * @@generated
 */
private <%=importManager.getImportedName("java.util.Collection")%> createPhantomNodes(<%=importManager.getImportedName("java.util.Collection")%> nodes) {
	if (nodes.isEmpty()) {
		return <%=importManager.getImportedName("java.util.Collections")%>.EMPTY_LIST;
	}
	<%=importManager.getImportedName("java.util.List")%> descriptors = new <%=importManager.getImportedName("java.util.ArrayList")%>();
	for (<%=importManager.getImportedName("java.util.Iterator")%> elements = nodes.iterator(); elements.hasNext();) {
		<%=importManager.getImportedName("org.eclipse.emf.ecore.EObject")%> element = (<%=importManager.getImportedName("org.eclipse.emf.ecore.EObject")%>)elements.next();
		<%=importManager.getImportedName("org.eclipse.gmf.runtime.diagram.ui.requests.CreateViewRequest")%>.ViewDescriptor descriptor = getViewDescriptor(element);
		descriptors.add(descriptor);
	}
	<%=importManager.getImportedName("org.eclipse.gmf.runtime.notation.Diagram")%> diagram = getDiagram();
	<%=importManager.getImportedName("org.eclipse.gef.EditPart")%> diagramEditPart = getDiagramEditPart();
	
	<%=importManager.getImportedName("org.eclipse.gmf.runtime.diagram.ui.requests.CreateViewRequest")%> request = getCreateViewRequest(descriptors);
	<%=importManager.getImportedName("org.eclipse.gef.commands.Command")%> cmd = diagramEditPart.getCommand(request);
	if (cmd == null) {
		<%=importManager.getImportedName("org.eclipse.gmf.runtime.common.core.command.CompositeCommand")%> cc = new <%=importManager.getImportedName("org.eclipse.gmf.runtime.common.core.command.CompositeCommand")%>(<%=importManager.getImportedName("org.eclipse.gmf.runtime.diagram.ui.l10n.DiagramUIMessages")%>.AddCommand_Label);
		for (<%=importManager.getImportedName("java.util.Iterator")%> descriptorsIterator = descriptors.iterator(); descriptorsIterator.hasNext();) {
			<%=importManager.getImportedName("org.eclipse.gmf.runtime.diagram.ui.requests.CreateViewRequest")%>.ViewDescriptor descriptor = (<%=importManager.getImportedName("org.eclipse.gmf.runtime.diagram.ui.requests.CreateViewRequest")%>.ViewDescriptor) descriptorsIterator.next();
			<%=importManager.getImportedName("org.eclipse.gmf.runtime.common.core.command.ICommand")%> createCommand = new <%=importManager.getImportedName("org.eclipse.gmf.runtime.diagram.ui.commands.CreateCommand")%>(((<%=importManager.getImportedName("org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart")%>) getHost()).getEditingDomain(), descriptor, diagram);
			cc.compose(createCommand);
		}
		cmd = new <%=importManager.getImportedName("org.eclipse.gmf.runtime.diagram.ui.commands.ICommandProxy")%>(cc);
	}	
	
	<%=importManager.getImportedName("java.util.List")%> adapters = <%=importManager.getImportedName("java.util.Collections")%>.EMPTY_LIST;
	if ( cmd != null && cmd.canExecute() ) {
		<%=importManager.getImportedName("org.eclipse.gmf.runtime.diagram.ui.commands.SetViewMutabilityCommand")%>.makeMutable(new <%=importManager.getImportedName("org.eclipse.gmf.runtime.emf.core.util.EObjectAdapter")%>(((<%=importManager.getImportedName("org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart")%>) diagramEditPart).getNotationView())).execute();
		executeCommand(cmd);
		adapters = (<%=importManager.getImportedName("java.util.List")%>) request.getNewObject();
	}
	diagramEditPart.refresh();
	return adapters;
}

/**
 * @@generated
 */
private <%=importManager.getImportedName("org.eclipse.gef.EditPart")%> getDiagramEditPart() {
	return (<%=importManager.getImportedName("org.eclipse.gef.EditPart")%>) getHost().getViewer().getEditPartRegistry().get(getDiagram());
}@


1.3
log
@#141789 call "Arrange ALL" function in generation code for initialize the diagram
@
text
@@


1.2
log
@[139856] gmf_head anthonyh 060614 EtoolsProxyCommand should be renamed to ICommandProxy
@
text
@d4 1
a4 1
private void createPhantomNodes(<%=importManager.getImportedName("java.util.Collection")%> nodes) {
d6 1
a6 1
		return;
d29 1
d33 1
a33 2
		<%=importManager.getImportedName("java.util.List")%> adapters = (<%=importManager.getImportedName("java.util.List")%>) request.getNewObject();
		makeViewsImmutable(adapters);
d36 1
@


1.2.2.1
log
@#141789 call "Arrange ALL" function in generation code for initialize the diagram
@
text
@d4 1
a4 1
private <%=importManager.getImportedName("java.util.Collection")%> createPhantomNodes(<%=importManager.getImportedName("java.util.Collection")%> nodes) {
d6 1
a6 1
		return <%=importManager.getImportedName("java.util.Collections")%>.EMPTY_LIST;
a28 1
	<%=importManager.getImportedName("java.util.List")%> adapters = <%=importManager.getImportedName("java.util.Collections")%>.EMPTY_LIST;
d32 2
a33 1
		adapters = (<%=importManager.getImportedName("java.util.List")%>) request.getNewObject();
a35 1
	return adapters;
@


1.1
log
@#128024 Model references are not recognized as links
#131543 Obsolete code should be eliminated
@
text
@d26 1
a26 1
		cmd = new <%=importManager.getImportedName("org.eclipse.gmf.runtime.diagram.ui.commands.EtoolsProxyCommand")%>(cc);
@

