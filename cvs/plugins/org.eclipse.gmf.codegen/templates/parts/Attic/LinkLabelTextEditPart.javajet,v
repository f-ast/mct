head	1.9;
access;
symbols
	v20081022-1925:1.9
	v20081015-1925:1.9
	v20081008-1925:1.9
	v20081001-1925:1.9
	v20080924-1925:1.9
	v20080917-1925:1.9
	v20080911-1728:1.9
	v20080910-1520:1.9
	v20080903-1520:1.9
	v20080827-1520:1.9
	v20080813-1520:1.9
	v20080806-1520:1.9
	R1_0_maintenance:1.9.0.2
	R1_0:1.9
	I20060309-1300:1.8
	M5_10:1.6
	S20060303-1600:1.6
	I20060227-1730:1.6
	I20060216-1945:1.6
	I20060210-1715:1.6
	I20060209-1815:1.6
	I20060203-0830:1.4
	I20060202-1415:1.4
	I20060129-1145:1.2
	I20060127-0900:1.2
	I20060120-1530:1.2
	I20060113-1700:1.2
	M4_10:1.2
	I20060107-1100:1.1
	I20060105-1630:1.1
	I20051230-1230:1.1
	I20051223-1100:1.1
	I20051217-0925:1.1
	I20051208-2000:1.1
	I20051201-1800:1.1
	I20051124-2000:1.1;
locks; strict;
comment	@# @;
expand	@k@;


1.9
date	2006.03.13.11.02.30;	author dstadnik;	state dead;
branches;
next	1.8;

1.8
date	2006.03.09.13.25.10;	author dstadnik;	state Exp;
branches;
next	1.7;

1.7
date	2006.03.07.15.45.28;	author dstadnik;	state Exp;
branches;
next	1.6;

1.6
date	2006.02.08.17.15.50;	author atikhomirov;	state Exp;
branches;
next	1.5;

1.5
date	2006.02.05.22.57.54;	author atikhomirov;	state Exp;
branches;
next	1.4;

1.4
date	2006.02.02.15.58.54;	author dstadnik;	state Exp;
branches;
next	1.3;

1.3
date	2006.01.30.18.26.46;	author dstadnik;	state Exp;
branches;
next	1.2;

1.2
date	2006.01.10.16.50.57;	author dstadnik;	state Exp;
branches;
next	1.1;

1.1
date	2005.11.22.11.50.03;	author dstadnik;	state Exp;
branches;
next	;


desc
@@


1.9
log
@#129145 do not use intermediate TextCompartmentEditParts
@
text
@<%@@ jet package="org.eclipse.gmf.codegen.templates.parts" class="LinkLabelTextEditPartGenerator"
	imports="org.eclipse.gmf.codegen.gmfgen.* org.eclipse.gmf.common.codegen.*"%>
<%
GenLinkLabel genLabel = (GenLinkLabel) ((Object[]) argument)[0];
GenCommonBase genHost = genLabel.getLink();
GenDiagram genDiagram = genLabel.getDiagram();
%>
<%@@ include file="../copyright4java.jetinc"%>
package <%=genDiagram.getEditPartsPackageName()%>;

<%ImportUtil importManager = new ImportUtil(genDiagram.getEditPartsPackageName());%>
import org.eclipse.gmf.runtime.diagram.ui.editparts.TextCompartmentEditPart;
import org.eclipse.gmf.runtime.notation.View;
<%importManager.markImportLocation(stringBuffer);%>

/**
 * @@generated
 */
public class <%=genLabel.getTextEditPartClassName()%> extends TextCompartmentEditPart {

	/**
	 * @@generated
	 */
	public <%=genLabel.getTextEditPartClassName()%>(View view) {
		super(view);
	}
<%@@ include file="labelSemantic.jetinc"%>
}
<%importManager.emitSortedImports();%>
@


1.8
log
@remove warnings
@
text
@@


1.7
log
@#130100 Allow to specify copyright text in gmfgen model
@
text
@d5 1
@


1.6
log
@ImportManager has to know its package anyway, so why not use it to emit appropriate statement?
Besides, package fragment is external to template, template has no control over file placement, thus we'd better pass package name as an argument
@
text
@d7 1
@


1.5
log
@ImportManager moved to oeg.common
@
text
@d4 1
a4 1
GenLinkLabel genLabel = (GenLinkLabel) argument;
@


1.4
log
@#125828 Generated code is bypassing parser service...
@
text
@d2 1
a2 1
	imports="org.eclipse.gmf.codegen.gmfgen.* org.eclipse.gmf.codegen.util.*"%>
@


1.3
log
@#125729 Support labels based on multiple structural features
@
text
@d2 1
a2 1
	imports="org.eclipse.emf.codegen.ecore.genmodel.* org.eclipse.gmf.codegen.gmfgen.* org.eclipse.gmf.codegen.util.*"%>
a24 10
<%
String accessorName;
if (genLabel.getLink().getModelFacet() instanceof TypeLinkModelFacet) {
	TypeLinkModelFacet modelFacet = (TypeLinkModelFacet) genLabel.getLink().getModelFacet();
	accessorName = modelFacet.getMetaClass().getClassifierAccessorName();
} else {
	FeatureModelFacet modelFacet = (FeatureModelFacet) genLabel.getLink().getModelFacet();
	accessorName = modelFacet.getMetaFeature().getGenClass().getClassifierAccessorName();
}
%>
@


1.2
log
@#123274 support read only labels
@
text
@a9 1
import org.eclipse.gmf.runtime.common.ui.services.parser.IParser;
d26 1
a26 3
GenPackage genPackage = genDiagram.getDomainMetaModel();
String semanticPackageInterfaceName = importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName());
String semanticLinkInterfaceName;
d29 1
a29 1
	semanticLinkInterfaceName = modelFacet.getMetaClass().getClassifierAccessorName();
d32 1
a32 1
	semanticLinkInterfaceName = modelFacet.getMetaFeature().getGenClass().getClassifierAccessorName();
d35 1
a35 20

	/**
	 * @@generated
	 */
	public IParser getParser() {
		if (parser == null) {
			parser = new <%=importManager.getImportedName(genDiagram.getStructuralFeatureParserQualifiedClassName())%>(
					<%=semanticPackageInterfaceName%>.eINSTANCE.get<%=semanticLinkInterfaceName%>().getEStructuralFeature("<%=genLabel.getMetaFeature().getName()%>"));
		}
		return parser;
	}
<%if (genLabel.isReadOnly()) {%>

	/**
	 * @@generated
	 */
	protected boolean isEditable() {
		return false;
	}
<%}%>
@


1.1
log
@#112187 generate separate class for the link label text view
@
text
@d49 9
@

