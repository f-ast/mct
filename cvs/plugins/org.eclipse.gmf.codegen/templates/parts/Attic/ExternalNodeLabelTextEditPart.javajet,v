head	1.8;
access;
symbols
	v20081022-1925:1.8
	v20081015-1925:1.8
	v20081008-1925:1.8
	v20081001-1925:1.8
	v20080924-1925:1.8
	v20080917-1925:1.8
	v20080911-1728:1.8
	v20080910-1520:1.8
	v20080903-1520:1.8
	v20080827-1520:1.8
	v20080813-1520:1.8
	v20080806-1520:1.8
	R1_0_maintenance:1.8.0.2
	R1_0:1.8
	I20060309-1300:1.7
	M5_10:1.5
	S20060303-1600:1.5
	I20060227-1730:1.5
	I20060216-1945:1.5
	I20060210-1715:1.5
	I20060209-1815:1.5
	I20060203-0830:1.3
	I20060202-1415:1.3
	I20060129-1145:1.1
	I20060127-0900:1.1
	I20060120-1530:1.1
	I20060113-1700:1.1
	M4_10:1.1;
locks; strict;
comment	@# @;
expand	@k@;


1.8
date	2006.03.13.11.02.30;	author dstadnik;	state dead;
branches;
next	1.7;

1.7
date	2006.03.09.13.25.10;	author dstadnik;	state Exp;
branches;
next	1.6;

1.6
date	2006.03.07.15.45.28;	author dstadnik;	state Exp;
branches;
next	1.5;

1.5
date	2006.02.08.17.15.50;	author atikhomirov;	state Exp;
branches;
next	1.4;

1.4
date	2006.02.05.22.57.54;	author atikhomirov;	state Exp;
branches;
next	1.3;

1.3
date	2006.02.02.15.58.54;	author dstadnik;	state Exp;
branches;
next	1.2;

1.2
date	2006.01.30.18.26.46;	author dstadnik;	state Exp;
branches;
next	1.1;

1.1
date	2006.01.12.10.41.33;	author dstadnik;	state Exp;
branches;
next	;


desc
@@


1.8
log
@#129145 do not use intermediate TextCompartmentEditParts
@
text
@<%@@ jet package="org.eclipse.gmf.codegen.templates.parts" class="ExternalNodeLabelTextEditPartGenerator"
	imports="org.eclipse.gmf.codegen.gmfgen.* org.eclipse.gmf.common.codegen.*"%>
<%
GenExternalNodeLabel genLabel = (GenExternalNodeLabel) ((Object[]) argument)[0];
GenCommonBase genHost = genLabel.getNode();
GenDiagram genDiagram = genLabel.getDiagram();
%>
<%@@ include file="../copyright4java.jetinc"%>
package <%=genDiagram.getEditPartsPackageName()%>;

<%ImportUtil importManager = new ImportUtil(genDiagram.getEditPartsPackageName());%>
import org.eclipse.gmf.runtime.diagram.ui.editparts.TextCompartmentEditPart;
import org.eclipse.gmf.runtime.notation.View;
<%importManager.markImportLocation(stringBuffer);%>

/**
 * @@generated
 */
public class <%=genLabel.getTextEditPartClassName()%> extends TextCompartmentEditPart {

	/**
	 * @@generated
	 */
	public <%=genLabel.getTextEditPartClassName()%>(View view) {
		super(view);
	}
<%@@ include file="labelSemantic.jetinc"%>
}
<%importManager.emitSortedImports();%>
@


1.7
log
@remove warnings
@
text
@@


1.6
log
@#130100 Allow to specify copyright text in gmfgen model
@
text
@d5 1
@


1.5
log
@ImportManager has to know its package anyway, so why not use it to emit appropriate statement?
Besides, package fragment is external to template, template has no control over file placement, thus we'd better pass package name as an argument
@
text
@d7 1
@


1.4
log
@ImportManager moved to oeg.common
@
text
@d4 1
a4 1
GenExternalNodeLabel genLabel = (GenExternalNodeLabel) argument;
@


1.3
log
@#125828 Generated code is bypassing parser service...
@
text
@d2 1
a2 1
	imports="org.eclipse.gmf.codegen.gmfgen.* org.eclipse.gmf.codegen.util.*"%>
@


1.2
log
@#125729 Support labels based on multiple structural features
@
text
@d2 1
a2 1
	imports="org.eclipse.emf.codegen.ecore.genmodel.* org.eclipse.gmf.codegen.gmfgen.* org.eclipse.gmf.codegen.util.*"%>
a24 3
<%
String accessorName = genLabel.getNode().getDomainMetaClass().getClassifierAccessorName();
%>
@


1.1
log
@#122054 support external node labels (partial fix)
@
text
@a9 1
import org.eclipse.gmf.runtime.common.ui.services.parser.IParser;
a25 2
GenPackage genPackage = genDiagram.getDomainMetaModel();
String semanticPackageInterfaceName = importManager.getImportedName(genPackage.getQualifiedPackageInterfaceName());
d28 1
a28 19

	/**
	 * @@generated
	 */
	public IParser getParser() {
		if (parser == null) {
			parser = new <%=importManager.getImportedName(genDiagram.getStructuralFeatureParserQualifiedClassName())%>(<%=semanticPackageInterfaceName%>.eINSTANCE.get<%=accessorName%>().getEStructuralFeature("<%=genLabel.getMetaFeature().getName()%>"));
		}
		return parser;
	}
<%if (genLabel.isReadOnly()) {%>

	/**
	 * @@generated
	 */
	protected boolean isEditable() {
		return false;
	}
<%}%>
@

