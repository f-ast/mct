head	1.86;
access;
symbols
	v20081022-1925:1.86
	v20081015-1925:1.86
	v20081008-1925:1.86
	v20081001-1925:1.86
	v20080924-1925:1.86
	v20080917-1925:1.86
	v20080911-1728:1.86
	v20080910-1520:1.86
	v20080903-1520:1.86
	v20080827-1520:1.86
	v20080813-1520:1.86
	v20080806-1520:1.86
	v20070202-0200:1.63
	v20070103-0300:1.82
	M4_20:1.82
	v20061222-1800:1.80
	v20061218-1200:1.78
	v20061214-0000:1.78
	v20061120-1300:1.76
	M3_20:1.76
	v20061117-0800:1.76
	v20061027-1200:1.63
	v20061020-1000:1.63
	v20061013-1330:1.72
	v20060919-0800:1.63
	v20060907-1100:1.63
	M1_20:1.64
	v20060904-1500:1.64
	v20060824-1600:1.63
	v20060817-1500:1.63
	v20060728-0500:1.63
	v20060713-1700:1.63
	R1_0_maintenance:1.63.0.2
	R1_0:1.63
	v20060627-1200:1.63
	v20060626-1420:1.63
	v20060620-0400:1.63
	v20060616-1400:1.62
	v20060616-1200:1.62
	v20060609-1400:1.59
	v20060531-1730:1.56
	v20060530-1930:1.56
	v20060526-1200:1.55
	v20060519-1300:1.55
	v20060519-0800:1.55
	v20060512-1000:1.53
	I20060512-1000:1.53
	I20060505-1400:1.52
	I20060428-1300:1.52
	I20060424-0500:1.52
	I20060424-0300:1.52
	M6_10:1.49
	I20060407-1200:1.47
	I20060331-1000:1.46
	I20060324-0300:1.45
	I20060317-1300:1.45
	I20060317-1200:1.45
	I20060316-1300:1.45
	I20060309-1300:1.45
	M5_10:1.44
	S20060303-1600:1.44
	I20060227-1730:1.43
	I20060216-1945:1.41
	I20060210-1715:1.37
	I20060209-1815:1.37
	I20060203-0830:1.32
	I20060202-1415:1.32
	I20060129-1145:1.31
	I20060127-0900:1.30
	I20060120-1530:1.27
	I20060113-1700:1.25
	M4_10:1.25
	I20060107-1100:1.21
	I20060105-1630:1.21
	I20051230-1230:1.21
	I20051223-1100:1.21
	I20051217-0925:1.21
	I20051208-2000:1.21
	I20051201-1800:1.21
	I20051124-2000:1.19
	M3_10:1.19
	I20051118-1245:1.19
	I20051111-1800:1.16
	I20051106-0900:1.16
	v20051030:1.16
	v20050828:1.1;
locks; strict;
comment	@# @;
expand	@k@;


1.86
date	2007.02.07.00.37.49;	author atikhomirov;	state dead;
branches;
next	1.85;
commitid	c5d45c91f504567;

1.85
date	2007.01.08.18.09.51;	author dstadnik;	state Exp;
branches;
next	1.84;
commitid	78dd45a288ee4567;

1.84
date	2007.01.04.15.36.59;	author mfeldman;	state Exp;
branches;
next	1.83;
commitid	346e459d1f1a4567;

1.83
date	2007.01.03.21.40.26;	author dstadnik;	state Exp;
branches;
next	1.82;
commitid	254b459c22ca4567;

1.82
date	2006.12.28.13.40.13;	author dstadnik;	state Exp;
branches;
next	1.81;
commitid	422a4593c9344567;

1.81
date	2006.12.27.17.37.08;	author dstadnik;	state Exp;
branches;
next	1.80;
commitid	45374592af3d4567;

1.80
date	2006.12.22.16.50.40;	author dstadnik;	state Exp;
branches;
next	1.79;
commitid	2f97458c0cde4567;

1.79
date	2006.12.18.18.20.51;	author dstadnik;	state Exp;
branches;
next	1.78;
commitid	7d774586dbfa4567;

1.78
date	2006.11.27.17.28.37;	author dstadnik;	state Exp;
branches;
next	1.77;
commitid	3c73456b20434567;

1.77
date	2006.11.21.12.48.18;	author dstadnik;	state Exp;
branches;
next	1.76;
commitid	13004562f58f4567;

1.76
date	2006.11.16.19.24.51;	author atikhomirov;	state Exp;
branches;
next	1.75;
commitid	1423455cbb014567;

1.75
date	2006.11.15.15.13.23;	author atikhomirov;	state Exp;
branches;
next	1.74;
commitid	6bab455b2e914567;

1.74
date	2006.11.13.15.59.12;	author atikhomirov;	state Exp;
branches;
next	1.73;
commitid	64174558964f4567;

1.73
date	2006.10.16.17.43.03;	author dstadnik;	state Exp;
branches;
next	1.72;

1.72
date	2006.10.09.17.59.20;	author dstadnik;	state Exp;
branches;
next	1.71;

1.71
date	2006.10.03.08.05.55;	author dstadnik;	state Exp;
branches;
next	1.70;

1.70
date	2006.09.27.10.04.42;	author dstadnik;	state Exp;
branches;
next	1.69;

1.69
date	2006.09.22.13.21.24;	author ashatalin;	state Exp;
branches;
next	1.68;

1.68
date	2006.09.21.17.20.30;	author atikhomirov;	state Exp;
branches;
next	1.67;

1.67
date	2006.09.15.20.44.32;	author atikhomirov;	state Exp;
branches;
next	1.66;

1.66
date	2006.09.14.18.08.54;	author ashatalin;	state Exp;
branches;
next	1.65;

1.65
date	2006.09.11.18.21.36;	author ashatalin;	state Exp;
branches;
next	1.64;

1.64
date	2006.08.21.13.48.49;	author dstadnik;	state Exp;
branches;
next	1.63;

1.63
date	2006.06.19.11.30.26;	author dstadnik;	state Exp;
branches;
next	1.62;

1.62
date	2006.06.14.12.11.01;	author ashatalin;	state Exp;
branches;
next	1.61;

1.61
date	2006.06.13.15.10.43;	author ashatalin;	state Exp;
branches;
next	1.60;

1.60
date	2006.06.09.19.39.00;	author radvorak;	state Exp;
branches;
next	1.59;

1.59
date	2006.06.09.10.15.51;	author ashatalin;	state Exp;
branches;
next	1.58;

1.58
date	2006.06.08.14.32.24;	author ashatalin;	state Exp;
branches;
next	1.57;

1.57
date	2006.06.06.17.13.17;	author radvorak;	state Exp;
branches;
next	1.56;

1.56
date	2006.05.29.17.17.18;	author atikhomirov;	state Exp;
branches;
next	1.55;

1.55
date	2006.05.17.12.38.17;	author ashatalin;	state Exp;
branches;
next	1.54;

1.54
date	2006.05.16.07.30.34;	author dstadnik;	state Exp;
branches;
next	1.53;

1.53
date	2006.05.09.12.41.31;	author radvorak;	state Exp;
branches;
next	1.52;

1.52
date	2006.04.20.13.24.47;	author ashatalin;	state Exp;
branches;
next	1.51;

1.51
date	2006.04.18.13.26.35;	author dstadnik;	state Exp;
branches;
next	1.50;

1.50
date	2006.04.18.12.08.43;	author dstadnik;	state Exp;
branches;
next	1.49;

1.49
date	2006.04.14.07.21.22;	author dstadnik;	state Exp;
branches;
next	1.48;

1.48
date	2006.04.12.08.48.33;	author dstadnik;	state Exp;
branches;
next	1.47;

1.47
date	2006.04.03.12.52.48;	author dstadnik;	state Exp;
branches;
next	1.46;

1.46
date	2006.03.29.12.12.26;	author ashatalin;	state Exp;
branches;
next	1.45;

1.45
date	2006.03.07.15.57.17;	author dstadnik;	state Exp;
branches;
next	1.44;

1.44
date	2006.03.03.13.22.36;	author dstadnik;	state Exp;
branches;
next	1.43;

1.43
date	2006.02.20.18.43.53;	author ashatalin;	state Exp;
branches;
next	1.42;

1.42
date	2006.02.17.07.33.19;	author dstadnik;	state Exp;
branches;
next	1.41;

1.41
date	2006.02.16.10.30.35;	author ashatalin;	state Exp;
branches;
next	1.40;

1.40
date	2006.02.15.18.11.24;	author dstadnik;	state Exp;
branches;
next	1.39;

1.39
date	2006.02.15.15.53.09;	author dstadnik;	state Exp;
branches;
next	1.38;

1.38
date	2006.02.15.15.09.49;	author dstadnik;	state Exp;
branches;
next	1.37;

1.37
date	2006.02.09.16.16.00;	author ashatalin;	state Exp;
branches;
next	1.36;

1.36
date	2006.02.08.16.06.19;	author atikhomirov;	state Exp;
branches;
next	1.35;

1.35
date	2006.02.08.13.05.28;	author atikhomirov;	state Exp;
branches;
next	1.34;

1.34
date	2006.02.08.12.28.12;	author atikhomirov;	state Exp;
branches;
next	1.33;

1.33
date	2006.02.08.00.17.46;	author atikhomirov;	state Exp;
branches;
next	1.32;

1.32
date	2006.02.02.15.58.54;	author dstadnik;	state Exp;
branches;
next	1.31;

1.31
date	2006.01.27.20.54.19;	author ashatalin;	state Exp;
branches;
next	1.30;

1.30
date	2006.01.26.13.36.40;	author atikhomirov;	state Exp;
branches;
next	1.29;

1.29
date	2006.01.26.12.24.07;	author ashatalin;	state Exp;
branches;
next	1.28;

1.28
date	2006.01.25.14.27.29;	author atikhomirov;	state Exp;
branches;
next	1.27;

1.27
date	2006.01.20.12.16.13;	author dstadnik;	state Exp;
branches;
next	1.26;

1.26
date	2006.01.20.11.30.13;	author dstadnik;	state Exp;
branches;
next	1.25;

1.25
date	2006.01.12.23.10.49;	author ashatalin;	state Exp;
branches;
next	1.24;

1.24
date	2006.01.12.17.19.23;	author ashatalin;	state Exp;
branches;
next	1.23;

1.23
date	2006.01.10.16.16.58;	author ashatalin;	state Exp;
branches;
next	1.22;

1.22
date	2006.01.10.12.51.22;	author atikhomirov;	state Exp;
branches;
next	1.21;

1.21
date	2005.11.29.18.14.04;	author atikhomirov;	state Exp;
branches;
next	1.20;

1.20
date	2005.11.28.09.19.29;	author dstadnik;	state Exp;
branches;
next	1.19;

1.19
date	2005.11.17.09.14.16;	author dstadnik;	state Exp;
branches;
next	1.18;

1.18
date	2005.11.16.13.30.03;	author dstadnik;	state Exp;
branches;
next	1.17;

1.17
date	2005.11.16.07.42.24;	author dstadnik;	state Exp;
branches;
next	1.16;

1.16
date	2005.10.29.12.48.40;	author atikhomirov;	state Exp;
branches;
next	1.15;

1.15
date	2005.10.26.17.33.09;	author atikhomirov;	state Exp;
branches;
next	1.14;

1.14
date	2005.10.25.18.28.41;	author atikhomirov;	state Exp;
branches;
next	1.13;

1.13
date	2005.10.20.11.21.57;	author atikhomirov;	state Exp;
branches;
next	1.12;

1.12
date	2005.10.19.15.36.38;	author atikhomirov;	state Exp;
branches;
next	1.11;

1.11
date	2005.10.19.13.51.49;	author atikhomirov;	state Exp;
branches;
next	1.10;

1.10
date	2005.10.19.13.19.22;	author atikhomirov;	state Exp;
branches;
next	1.9;

1.9
date	2005.10.13.14.21.40;	author atikhomirov;	state Exp;
branches;
next	1.8;

1.8
date	2005.10.13.12.45.56;	author atikhomirov;	state Exp;
branches;
next	1.7;

1.7
date	2005.10.10.12.57.39;	author atikhomirov;	state Exp;
branches;
next	1.6;

1.6
date	2005.10.07.18.02.45;	author atikhomirov;	state Exp;
branches;
next	1.5;

1.5
date	2005.10.06.16.03.15;	author atikhomirov;	state Exp;
branches;
next	1.4;

1.4
date	2005.10.04.13.18.07;	author atikhomirov;	state Exp;
branches;
next	1.3;

1.3
date	2005.09.29.09.49.41;	author atikhomirov;	state Exp;
branches;
next	1.2;

1.2
date	2005.09.26.15.15.44;	author atikhomirov;	state Exp;
branches;
next	1.1;

1.1
date	2005.08.03.22.20.29;	author atikhomirov;	state Exp;
branches;
next	;


desc
@@


1.86
log
@complete migration of plugin.xml template to xpand version - constraint providers rewritten
@
text
@<%@@ jet package="org.eclipse.gmf.codegen.templates.editor" class="PluginXML"
    imports="java.util.* org.eclipse.gmf.codegen.gmfgen.* org.eclipse.emf.codegen.ecore.genmodel.*"%>
<%
final GenPlugin genPlugin = (GenPlugin) argument;
final GenEditorGenerator editorGen = genPlugin.getEditorGen();
final GenDiagram genDiagram = editorGen.getDiagram();
%>

<%@@ include file="ConstraintProviders.jetinc"%>
@


1.85
log
@rewrite plugin.xml template in xpand
@
text
@@


1.84
log
@Rollback last change
@
text
@a6 1
final GenApplication application = editorGen.getApplication();
a7 4
<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<%@@ include file="../copyright4xml.jetinc"%>
<plugin>
a8 387
   <extension point="org.eclipse.core.runtime.preferences">
      <?gmfgen generated="true"?>
      <initializer class="<%=genDiagram.getPreferencesPackageName() + ".DiagramPreferenceInitializer"%>"/>
   </extension>

   <extension point="org.eclipse.ui.preferencePages">
      <?gmfgen generated="true"?>
      <page
            name="%preferences.general"
            class="<%=genDiagram.getPreferencesPackageName() + ".DiagramGeneralPreferencePage"%>"
            id="<%=genPlugin.getID()%>.general">
      </page>
      <page
            name="%preferences.appearance"
            category="<%=genPlugin.getID()%>.general"
            class="<%=genDiagram.getPreferencesPackageName() + ".DiagramAppearancePreferencePage"%>"
            id="<%=genPlugin.getID()%>.appearance">
      </page>     
      <page
            name="%preferences.connections"
            category="<%=genPlugin.getID()%>.general"
            class="<%=genDiagram.getPreferencesPackageName() + ".DiagramConnectionsPreferencePage"%>"
            id="<%=genPlugin.getID()%>.connections">
      </page>    
      <page
            name="%preferences.printing"
            category="<%=genPlugin.getID()%>.general"
            class="<%=genDiagram.getPreferencesPackageName() + ".DiagramPrintingPreferencePage"%>"
            id="<%=genPlugin.getID()%>.printing">
      </page>
      <page
            name="%preferences.rulersAndGrid"
            category="<%=genPlugin.getID()%>.general"
            class="<%=genDiagram.getPreferencesPackageName() + ".DiagramRulersAndGridPreferencePage"%>"
            id="<%=genPlugin.getID()%>.rulersAndGrid">
      </page>
      <page
            name="%preferences.pathmaps"
            category="<%=genPlugin.getID()%>.general"
            class="org.eclipse.gmf.runtime.emf.ui.preferences.PathmapsPreferencePage"
            id="<%=genPlugin.getID()%>.pathmaps">
      </page>
   </extension>

   <extension point="org.eclipse.team.core.fileTypes">
      <?gmfgen generated="true"?>
      <fileTypes
         type="text"
         extension="<%=editorGen.getDiagramFileExtension()%>">
      </fileTypes>
   </extension>

   <extension point="org.eclipse.emf.ecore.extension_parser">
      <?gmfgen generated="true"?>
      <parser
         type="<%=editorGen.getDiagramFileExtension()%>"
         class="org.eclipse.gmf.runtime.emf.core.resources.GMFResourceFactory">
      </parser>
   </extension>

   <extension point="org.eclipse.ui.editors">
      <?gmfgen generated="true"?>
     <editor
        id="<%=editorGen.getEditor().getID()%>"
        name="%editorName"
        icon="<%=editorGen.getEditor().getIconPathX()%>"
        extensions="<%=editorGen.getDiagramFileExtension()%>"
        default="true"
        class="<%=editorGen.getEditor().getQualifiedClassName()%>"
        matchingStrategy="<%=genDiagram.getMatchingStrategyQualifiedClassName()%>"
        contributorClass="<%=editorGen.getEditor().getActionBarContributorQualifiedClassName()%>">
     </editor>
   </extension>

   <extension point="org.eclipse.ui.newWizards">
      <?gmfgen generated="true"?>
  	  <wizard
  	     name="%newWizardName"
  	     icon="<%=genDiagram.getCreationWizardIconPathX()%>"
  	     category="<%=genDiagram.getCreationWizardCategoryID()%>"
  	     class="<%=genDiagram.getCreationWizardQualifiedClassName()%>"
  	     id="<%=genDiagram.getCreationWizardQualifiedClassName()%>ID">
  	  	 <description>%newWizardDesc</description>  
      </wizard>
   </extension>

   <extension point="org.eclipse.ui.popupMenus">
      <?gmfgen generated="true"?>
<%if (editorGen.getApplication() == null && genDiagram.generateInitDiagramAction()) {%>
      <objectContribution
            id="<%=genPlugin.getID()%>.ui.objectContribution.IFile1"
            nameFilter="*.<%=editorGen.getDomainFileExtension()%>"
            objectClass="org.eclipse.core.resources.IFile">
         <action
               label="%initDiagramActionLabel"
               class="<%=genDiagram.getInitDiagramFileActionQualifiedClassName()%>"
               menubarPath="additions"
               enablesFor="1"
               id="<%=genDiagram.getInitDiagramFileActionQualifiedClassName()%>ID">
         </action>
      </objectContribution>  
<%}

if (editorGen.getApplication() == null && genDiagram.generateCreateShortcutAction()) {%>
      <objectContribution
            adaptable="false"
            id="<%=genPlugin.getID()%>.ui.objectContribution.<%=genDiagram.getEditPartClassName()%>1"
            objectClass="<%=genDiagram.getEditPartQualifiedClassName()%>">
         <action
               class="<%=genDiagram.getCreateShortcutActionQualifiedClassName()%>"
               enablesFor="1"
               id="<%=genDiagram.getCreateShortcutActionQualifiedClassName()%>ID"
               label="%createShortcutActionLabel"
               menubarPath="additions">
         </action>
      </objectContribution>                      
<%}%>
      <objectContribution
            adaptable="false"
            id="<%=genPlugin.getID()%>.ui.objectContribution.<%=genDiagram.getEditPartClassName()%>2"
            objectClass="<%=genDiagram.getEditPartQualifiedClassName()%>">
         <action
               class="<%=genDiagram.getLoadResourceActionQualifiedClassName()%>"
               enablesFor="1"
               id="<%=genDiagram.getLoadResourceActionQualifiedClassName()%>ID"
               label="%loadResourceActionLabel"
               menubarPath="additions">
         </action>
      </objectContribution>                      
  </extension>

   <extension point="org.eclipse.gmf.runtime.common.ui.services.action.contributionItemProviders">
      <?gmfgen generated="true"?>
<%if (genPlugin.isPrintingEnabled()) {%>
      <contributionItemProvider class="<%=genDiagram.getContributionItemProviderQualifiedClassName()%>">
         <Priority name="Low">
         </Priority>
         <partContribution id="<%=editorGen.getEditor().getID()%>">
            <partAction menubarPath="/file/print" id="printPreviewAction">
            </partAction>
         </partContribution>
      </contributionItemProvider>
<%}%>
      <contributionItemProvider
            class="org.eclipse.gmf.runtime.diagram.ui.providers.DiagramContributionItemProvider"
            checkPluginLoaded="false">
         <Priority name="Low"/>
<%
for (Iterator contents = genDiagram.eAllContents(); contents.hasNext(); ) {
	Object next = contents.next();
	if (next instanceof GenLinkLabel || next instanceof GenExternalNodeLabel) {
		// disable delete actions for external labels
%>
         <popupContribution class="org.eclipse.gmf.runtime.diagram.ui.providers.DiagramContextMenuProvider">
            <popupStructuredContributionCriteria objectClass="<%=((GenCommonBase) next).getEditPartQualifiedClassName()%>"/>
            <popupPredefinedItem id="deleteFromDiagramAction" remove="true"/>
            <popupPredefinedItem id="deleteFromModelAction" remove="true"/>
         </popupContribution>
<%
		continue;
	}
	if (next instanceof GenLink && ((GenLink) next).getModelFacet() instanceof FeatureLinkModelFacet) {
		// ref-based links should be removed from model, not from diagram
%>
         <popupContribution class="org.eclipse.gmf.runtime.diagram.ui.providers.DiagramContextMenuProvider">
            <popupStructuredContributionCriteria objectClass="<%=((GenCommonBase) next).getEditPartQualifiedClassName()%>"/>
            <popupAction path="/editGroup" id="deleteFromModelAction"/>
<%		if (genDiagram.isSynchronized()) {%>
            <popupPredefinedItem id="deleteFromDiagramAction" remove="true"/>
<%		}%>
         </popupContribution>
<%
		continue;
	}
	if (!genDiagram.isSynchronized()) {
		continue;
	}
	ModelFacet modelFacet;
	if (next instanceof GenNodeLabel) {
		modelFacet = ((GenNodeLabel) next).getNode().getModelFacet();
	} else if (next instanceof GenNode) {
		modelFacet = ((GenNode) next).getModelFacet();
	} else if (next instanceof GenLink) {
		modelFacet = ((GenLink) next).getModelFacet();
	} else {
		continue;
	}
	if (modelFacet instanceof TypeModelFacet) {
		// elements based on ecore classes should not be removed from diagram
%>
         <popupContribution class="org.eclipse.gmf.runtime.diagram.ui.providers.DiagramContextMenuProvider">
            <popupStructuredContributionCriteria objectClass="<%=((GenCommonBase) next).getEditPartQualifiedClassName()%>"/>
            <popupPredefinedItem id="deleteFromDiagramAction" remove="true"/>
         </popupContribution>
<%
	}
}
%>
      </contributionItemProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.common.ui.services.action.globalActionHandlerProviders">
      <?gmfgen generated="true"?>
      <GlobalActionHandlerProvider
         class="org.eclipse.gmf.runtime.diagram.ui.providers.DiagramGlobalActionHandlerProvider"
         id="<%=editorGen.getModelID()%>Presentation">
         <Priority name="Lowest"/>
         <ViewId id="<%=editorGen.getEditor().getID()%>">
            <ElementType class="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
               <GlobalActionId actionId="delete"/>
            </ElementType>
            <ElementType class="org.eclipse.gmf.runtime.diagram.ui.editparts.DiagramEditPart">
               <GlobalActionId actionId="save"/>
            </ElementType>
         </ViewId>
      </GlobalActionHandlerProvider>
<%if (genPlugin.isPrintingEnabled()) {%>
      <GlobalActionHandlerProvider
         class="org.eclipse.gmf.runtime.diagram.ui.printing.render.providers.DiagramWithPrintGlobalActionHandlerProvider"
         id="<%=editorGen.getModelID()%>PresentationPrint">
         <Priority name="Lowest"/>
         <ViewId id="<%=editorGen.getEditor().getID()%>">
            <ElementType class="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
               <GlobalActionId actionId="print"/>
            </ElementType>
         </ViewId>
      </GlobalActionHandlerProvider>
<%}%>
<%if (editorGen.getApplication() == null) {%>
      <GlobalActionHandlerProvider
         class="org.eclipse.gmf.runtime.diagram.ui.providers.ide.providers.DiagramIDEGlobalActionHandlerProvider"
         id="<%=editorGen.getModelID()%>PresentationIDE">
         <Priority name="Lowest"/>
         <ViewId id="<%=editorGen.getEditor().getID()%>">
            <ElementType class="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
               <GlobalActionId actionId="bookmark"/>
            </ElementType>
         </ViewId>
      </GlobalActionHandlerProvider>
<%}%>
      <GlobalActionHandlerProvider
            class="org.eclipse.gmf.runtime.diagram.ui.render.providers.DiagramUIRenderGlobalActionHandlerProvider"
            id="<%=editorGen.getModelID()%>Render">
         <Priority name="Lowest"/>
         <ViewId id="<%=editorGen.getEditor().getID()%>">
            <ElementType class="org.eclipse.gmf.runtime.diagram.ui.editparts.IGraphicalEditPart">
               <GlobalActionId actionId="cut"/>
               <GlobalActionId actionId="copy"/>
               <GlobalActionId actionId="paste"/>
            </ElementType>
         </ViewId>
      </GlobalActionHandlerProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.diagram.core.viewProviders">
      <?gmfgen generated="true"?>
      <viewProvider class="<%=genDiagram.getNotationViewProviderQualifiedClassName()%>">
         <Priority name="<%=genDiagram.getNotationViewProviderPriority()%>"/>
         <context viewClass="org.eclipse.gmf.runtime.notation.Diagram" semanticHints="<%=genPlugin.getEditorGen().getModelID()%>"/>
         <context viewClass="org.eclipse.gmf.runtime.notation.Node" semanticHints=""/>
         <context viewClass="org.eclipse.gmf.runtime.notation.Edge" semanticHints=""/>
      </viewProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.diagram.ui.editpartProviders">
      <?gmfgen generated="true"?>
      <editpartProvider class="<%=genDiagram.getEditPartProviderQualifiedClassName()%>">
         <Priority name="<%=genDiagram.getEditPartProviderPriority()%>"/>
      </editpartProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.emf.ui.modelingAssistantProviders">
      <?gmfgen generated="true"?>
      <modelingAssistantProvider class="<%=genDiagram.getModelingAssistantProviderQualifiedClassName()%>">
         <Priority name="<%=genDiagram.getModelingAssistantProviderPriority()%>"/>
      </modelingAssistantProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.common.ui.services.iconProviders">
      <?gmfgen generated="true"?>
      <IconProvider class="<%=genDiagram.getIconProviderQualifiedClassName()%>">
         <Priority name="<%=genDiagram.getIconProviderPriority()%>"/>
      </IconProvider>
   </extension>

   <extension point="org.eclipse.gmf.runtime.common.ui.services.parserProviders">
      <?gmfgen generated="true"?>
      <ParserProvider class="<%=genDiagram.getParserProviderQualifiedClassName()%>">
         <Priority name="<%=genDiagram.getParserProviderPriority()%>"/>
      </ParserProvider>
   </extension>
<%if (genDiagram.generateShortcutIcon()) {%>

   <extension point="org.eclipse.gmf.runtime.diagram.ui.decoratorProviders">
      <?gmfgen generated="true"?>
      <decoratorProvider class="<%=genDiagram.getShortcutsDecoratorProviderQualifiedClassName()%>">
         <Priority name="<%=genDiagram.getShortcutsDecoratorProviderPriority()%>"/>
      </decoratorProvider>
   </extension>
<%}%>

   <extension point="org.eclipse.gmf.runtime.emf.type.core.elementTypes">
      <?gmfgen generated="true"?>
<%GenCommonBase genElement = genDiagram;%>
<%@@ include file="elementType.jetinc"%>
<%
for (Iterator contents = genDiagram.eAllContents(); contents.hasNext(); ) {
	Object next = contents.next();
	if (next instanceof GenNode) {
		genElement = (GenCommonBase) next;
	} else if (next instanceof GenLink) {
		genElement = (GenCommonBase) next;
	} else {
		continue;
	}
%>
<%@@ include file="elementType.jetinc"%>
<%}%>
   </extension>

   <extension point="org.eclipse.gmf.runtime.emf.type.core.elementTypeBindings">
      <?gmfgen generated="true"?>
      <clientContext id="<%=editorGen.getModelID()%>ClientContext">
         <enablement>
            <test
               property="org.eclipse.gmf.runtime.emf.core.editingDomain"
               value="<%=genDiagram.getEditingDomainID()%>"/>
         </enablement>
      </clientContext> 
      <binding context="<%=editorGen.getModelID()%>ClientContext">
         <elementType ref="<%=genDiagram.getElementType().getUniqueIdentifier()%>"/>
<%
for (Iterator contents = genDiagram.eAllContents(); contents.hasNext(); ) {
	Object next = contents.next();
	if (next instanceof GenNode) {
		genElement = (GenCommonBase) next;
	} else if (next instanceof GenLink) {
		genElement = (GenCommonBase) next;
	} else {
		continue;
	}
%>
         <elementType ref="<%=genElement.getElementType().getUniqueIdentifier()%>"/>
<%}%>
         <advice ref="org.eclipse.gmf.runtime.diagram.core.advice.notationDepdendents"/>
      </binding>
   </extension>
<%if(genDiagram.isValidationEnabled() || editorGen.hasAudits()) {%>
   <extension point="org.eclipse.gmf.runtime.common.ui.services.markerNavigationProviders">
      <?gmfgen generated="true"?>
      <MarkerNavigationProvider class="<%=genDiagram.getMarkerNavigationProviderQualifiedClassName()%>">
         <MarkerType name="<%=genPlugin.getID() + "." + genDiagram.getValidationDiagnosticMarkerType()%>"/>
         <Priority name="<%=genDiagram.getMarkerNavigationProviderPriority()%>"/>
      </MarkerNavigationProvider>
   </extension>
   <extension id="<%=genDiagram.getValidationDiagnosticMarkerType()%>" name="<%=genPlugin.getName()%> problems" point="org.eclipse.core.resources.markers">
      <?gmfgen generated="true"?>
      <super type="org.eclipse.core.resources.problemmarker"/>
      <super type="org.eclipse.gmf.runtime.common.ui.services.marker"/>
      <persistent value="true"/>
   </extension>   
<%	if(genDiagram.isValidationEnabled()) { %>
   <extension id="ValidationContributionItemProvider" name="Validation"
      point="org.eclipse.gmf.runtime.common.ui.services.action.contributionItemProviders">
      <?gmfgen generated="true"?>
      <contributionItemProvider checkPluginLoaded="true"
         class="<%=genDiagram.getValidationProviderQualifiedClassName()%>">
         <Priority name="<%=genDiagram.getValidationProviderPriority()%>"/>
         <partContribution id="<%=editorGen.getEditor().getID()%>">
            <partMenuGroup menubarPath="/diagramMenu/" id="validationGroup"/>
            <partAction id="validateAction" menubarPath="/diagramMenu/validationGroup"/>
         </partContribution>
      </contributionItemProvider>
   </extension>
<%	} /* validationEnabled == true */ %>
<%	if(genDiagram.isValidationDecorators()) { %>
   <extension id="validationDecoratorProvider" name="ValidationDecorations" point="org.eclipse.gmf.runtime.diagram.ui.decoratorProviders">
      <?gmfgen generated="true"?>
      <decoratorProvider class="<%=genDiagram.getValidationDecoratorProviderQualifedClassName()%>">
         <Priority name="<%=genDiagram.getValidationDecoratorProviderPriority()%>"/>
         <object class="org.eclipse.gmf.runtime.diagram.ui.editparts.IPrimaryEditPart(org.eclipse.gmf.runtime.diagram.ui)" id="PRIMARY_VIEW"/>
         <context decoratorTargets="PRIMARY_VIEW"/>
      </decoratorProvider>
   </extension>
<%	} /* decorators */
} /* validation */
%>
a9 106
<%if (editorGen.getMetrics() != null && !editorGen.getMetrics().getMetrics().isEmpty()) {%>   
	<extension id="MetricContributionItemProvider" name="Metrics"
		point="org.eclipse.gmf.runtime.common.ui.services.action.contributionItemProviders">
		<?gmfgen generated="true"?>
		<contributionItemProvider checkPluginLoaded="true" class="<%=genDiagram.getMetricProviderQualifiedClassName()%>">
			<Priority name="<%=genDiagram.getMetricProviderPriority()%>"/>		
			<partContribution id="<%=editorGen.getEditor().getID()%>">
				<partMenuGroup menubarPath="/diagramMenu/" id="validationGroup"/>
				<partAction id="metricsAction" menubarPath="/diagramMenu/validationGroup"/>
			</partContribution>		
		</contributionItemProvider>
	</extension>

	<extension point="org.eclipse.ui.views">
	    <?gmfgen generated="true"?>
   		<view class="<%=genDiagram.getMetricProviderQualifiedClassName()%>$ResultView"
			id="<%=genDiagram.getMetricViewID()%>"
			name="<%=editorGen.getModelID()%> Diagram Metrics"/>
	</extension>
<%} // end of metrics%>
<%if (editorGen.getNavigator() != null) {%>
<%@@ include file="../navigator/navigator.jetinc"%>
<%}%>
<%if (editorGen.getPropertySheet() != null) {%>
<%@@ include file="../propsheet/sheet-extp.jetinc"%>
<%}%>
<%if (application != null) {%>

   <extension id="<%=application.getID()%>" point="org.eclipse.core.runtime.applications">
      <?gmfgen generated="true"?>
      <application>
         <run class="<%=application.getQualifiedClassName()%>"/>
      </application>
   </extension>

   <extension point="org.eclipse.ui.perspectives">
      <?gmfgen generated="true"?>
      <perspective
            id="<%=application.getPerspectiveId()%>"
            name="<%=editorGen.getModelID()%> Perspective"
            class="<%=application.getPerspectiveQualifiedClassName()%>">
      </perspective>
   </extension>

   <extension point="org.eclipse.ui.commands">
      <?gmfgen generated="true"?>
      <command
            name="%openURIActionLabel"
            description="%openURIActionDescription"
            categoryId="org.eclipse.ui.category.file"
            id="<%=genPlugin.getID()%>.OpenURICommand"/>  
      <command
            name="%openActionLabel"
            description="%openActionDescription"
            categoryId="org.eclipse.ui.category.file"
            id="<%=genPlugin.getID()%>.OpenCommand"/>  
   </extension>

   <extension point="org.eclipse.ui.bindings">
      <?gmfgen generated="true"?>
      <key
            commandId="<%=genPlugin.getID()%>.OpenURICommand"
            sequence="M1+U"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"/>
      <key
            commandId="<%=genPlugin.getID()%>.OpenCommand"
            sequence="M1+O"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"/>
   </extension>

   <extension point="org.eclipse.ui.actionSets">
      <?gmfgen generated="true"?>
      <actionSet
            label="%applicationActionSetLabel"
            visible="true"
            id="<%=genPlugin.getID()%>.ActionSet">
         <action
               label="%newDiagramActionLabel"
               class="<%=application.getActionBarAdvisorQualifiedClassName()%>$NewDiagramAction"
               menubarPath="file/new/additions"
               id="<%=genPlugin.getID()%>.NewDiagramAction">
         </action>
         <action
               label="%aboutActionLabel"
               class="<%=application.getActionBarAdvisorQualifiedClassName()%>$AboutAction"
               menubarPath="help/additions"
               id="<%=genPlugin.getID()%>.AboutAction">
         </action>
         <action
               label="%openURIActionLabel"
               definitionId="<%=genPlugin.getID()%>.OpenURICommand"
               class="<%=application.getActionBarAdvisorQualifiedClassName()%>$OpenURIAction"
               menubarPath="file/additions"
               id="<%=genPlugin.getID()%>.OpenURIAction">
         </action>
         <action
               label="%openActionLabel"
               definitionId="<%=genPlugin.getID()%>.OpenCommand"
               class="<%=application.getActionBarAdvisorQualifiedClassName()%>$OpenAction"
               menubarPath="file/additions"
               id="<%=genPlugin.getID()%>.OpenAction">
         </action>
      </actionSet>
   </extension>
<%}%>
</plugin>@


1.83
log
@rewrite plugin.xml template in xpand
@
text
@d9 90
d428 80
@


1.82
log
@define pref initializer class name and qualified class name in template
@
text
@a8 90
<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<%@@ include file="../copyright4xml.jetinc"%>
<plugin>

   <extension point="org.eclipse.core.runtime.preferences">
      <?gmfgen generated="true"?>
      <initializer class="<%=genDiagram.getPreferencesPackageName() + ".DiagramPreferenceInitializer"%>"/>
   </extension>

   <extension point="org.eclipse.ui.preferencePages">
      <?gmfgen generated="true"?>
      <page
            name="%preferences.general"
            class="<%=genDiagram.getPreferencesPackageName() + ".DiagramGeneralPreferencePage"%>"
            id="<%=genPlugin.getID()%>.general">
      </page>
      <page
            name="%preferences.appearance"
            category="<%=genPlugin.getID()%>.general"
            class="<%=genDiagram.getPreferencesPackageName() + ".DiagramAppearancePreferencePage"%>"
            id="<%=genPlugin.getID()%>.appearance">
      </page>     
      <page
            name="%preferences.connections"
            category="<%=genPlugin.getID()%>.general"
            class="<%=genDiagram.getPreferencesPackageName() + ".DiagramConnectionsPreferencePage"%>"
            id="<%=genPlugin.getID()%>.connections">
      </page>    
      <page
            name="%preferences.printing"
            category="<%=genPlugin.getID()%>.general"
            class="<%=genDiagram.getPreferencesPackageName() + ".DiagramPrintingPreferencePage"%>"
            id="<%=genPlugin.getID()%>.printing">
      </page>
      <page
            name="%preferences.rulersAndGrid"
            category="<%=genPlugin.getID()%>.general"
            class="<%=genDiagram.getPreferencesPackageName() + ".DiagramRulersAndGridPreferencePage"%>"
            id="<%=genPlugin.getID()%>.rulersAndGrid">
      </page>
      <page
            name="%preferences.pathmaps"
            category="<%=genPlugin.getID()%>.general"
            class="org.eclipse.gmf.runtime.emf.ui.preferences.PathmapsPreferencePage"
            id="<%=genPlugin.getID()%>.pathmaps">
      </page>
   </extension>

   <extension point="org.eclipse.team.core.fileTypes">
      <?gmfgen generated="true"?>
      <fileTypes
         type="text"
         extension="<%=editorGen.getDiagramFileExtension()%>">
      </fileTypes>
   </extension>

   <extension point="org.eclipse.emf.ecore.extension_parser">
      <?gmfgen generated="true"?>
      <parser
         type="<%=editorGen.getDiagramFileExtension()%>"
         class="org.eclipse.gmf.runtime.emf.core.resources.GMFResourceFactory">
      </parser>
   </extension>

   <extension point="org.eclipse.ui.editors">
      <?gmfgen generated="true"?>
     <editor
        id="<%=editorGen.getEditor().getID()%>"
        name="%editorName"
        icon="<%=editorGen.getEditor().getIconPathX()%>"
        extensions="<%=editorGen.getDiagramFileExtension()%>"
        default="true"
        class="<%=editorGen.getEditor().getQualifiedClassName()%>"
        matchingStrategy="<%=genDiagram.getMatchingStrategyQualifiedClassName()%>"
        contributorClass="<%=editorGen.getEditor().getActionBarContributorQualifiedClassName()%>">
     </editor>
   </extension>

   <extension point="org.eclipse.ui.newWizards">
      <?gmfgen generated="true"?>
  	  <wizard
  	     name="%newWizardName"
  	     icon="<%=genDiagram.getCreationWizardIconPathX()%>"
  	     category="<%=genDiagram.getCreationWizardCategoryID()%>"
  	     class="<%=genDiagram.getCreationWizardQualifiedClassName()%>"
  	     id="<%=genDiagram.getCreationWizardQualifiedClassName()%>ID">
  	  	 <description>%newWizardDesc</description>  
      </wizard>
   </extension>
a337 80
<%if (application != null) {%>

   <extension id="<%=application.getID()%>" point="org.eclipse.core.runtime.applications">
      <?gmfgen generated="true"?>
      <application>
         <run class="<%=application.getQualifiedClassName()%>"/>
      </application>
   </extension>

   <extension point="org.eclipse.ui.perspectives">
      <?gmfgen generated="true"?>
      <perspective
            id="<%=application.getPerspectiveId()%>"
            name="<%=editorGen.getModelID()%> Perspective"
            class="<%=application.getPerspectiveQualifiedClassName()%>">
      </perspective>
   </extension>

   <extension point="org.eclipse.ui.commands">
      <?gmfgen generated="true"?>
      <command
            name="%openURIActionLabel"
            description="%openURIActionDescription"
            categoryId="org.eclipse.ui.category.file"
            id="<%=genPlugin.getID()%>.OpenURICommand"/>  
      <command
            name="%openActionLabel"
            description="%openActionDescription"
            categoryId="org.eclipse.ui.category.file"
            id="<%=genPlugin.getID()%>.OpenCommand"/>  
   </extension>

   <extension point="org.eclipse.ui.bindings">
      <?gmfgen generated="true"?>
      <key
            commandId="<%=genPlugin.getID()%>.OpenURICommand"
            sequence="M1+U"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"/>
      <key
            commandId="<%=genPlugin.getID()%>.OpenCommand"
            sequence="M1+O"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"/>
   </extension>

   <extension point="org.eclipse.ui.actionSets">
      <?gmfgen generated="true"?>
      <actionSet
            label="%applicationActionSetLabel"
            visible="true"
            id="<%=genPlugin.getID()%>.ActionSet">
         <action
               label="%newDiagramActionLabel"
               class="<%=application.getActionBarAdvisorQualifiedClassName()%>$NewDiagramAction"
               menubarPath="file/new/additions"
               id="<%=genPlugin.getID()%>.NewDiagramAction">
         </action>
         <action
               label="%aboutActionLabel"
               class="<%=application.getActionBarAdvisorQualifiedClassName()%>$AboutAction"
               menubarPath="help/additions"
               id="<%=genPlugin.getID()%>.AboutAction">
         </action>
         <action
               label="%openURIActionLabel"
               definitionId="<%=genPlugin.getID()%>.OpenURICommand"
               class="<%=application.getActionBarAdvisorQualifiedClassName()%>$OpenURIAction"
               menubarPath="file/additions"
               id="<%=genPlugin.getID()%>.OpenURIAction">
         </action>
         <action
               label="%openActionLabel"
               definitionId="<%=genPlugin.getID()%>.OpenCommand"
               class="<%=application.getActionBarAdvisorQualifiedClassName()%>$OpenAction"
               menubarPath="file/additions"
               id="<%=genPlugin.getID()%>.OpenAction">
         </action>
      </actionSet>
   </extension>
<%}%>
</plugin>@


1.81
log
@[134107] Provide preferences for the generated diagram editors
@
text
@d16 1
a16 1
      <initializer class="<%=genDiagram.getPreferenceInitializerQualifiedClassName()%>"/>
@


1.80
log
@generate single rcp action set
@
text
@d19 39
@


1.79
log
@rewrite application templates in xpand; simplify genmodel
@
text
@a406 15
   <extension point="org.eclipse.ui.actionSets">
      <?gmfgen generated="true"?>
      <actionSet
            label="%newDiagramActionSetLabel"
            visible="true"
            id="<%=genPlugin.getID()%>.NewDiagramActionSet">
         <action
               label="%newDiagramActionLabel"
               class="<%=application.getActionBarAdvisorQualifiedClassName()%>$NewDiagramAction"
               menubarPath="file/new/additions"
               id="<%=genPlugin.getID()%>.NewDiagramAction">
         </action>
      </actionSet>
   </extension>  

d440 6
@


1.78
log
@generate common rcp actions
@
text
@d394 1
a394 1
         <run class="<%=application.getApplicationQualifiedClassName()%>"/>
d415 1
a415 1
               class="<%=editorGen.getApplication().getActionBarAdvisorQualifiedClassName()%>$NewDiagramAction"
d456 1
a456 1
               class="<%=editorGen.getApplication().getActionBarAdvisorQualifiedClassName()%>$AboutAction"
d463 1
a463 1
               class="<%=editorGen.getApplication().getActionBarAdvisorQualifiedClassName()%>$OpenURIAction"
d470 1
a470 1
               class="<%=editorGen.getApplication().getActionBarAdvisorQualifiedClassName()%>$OpenAction"
@


1.77
log
@#114200 add new diagram action
@
text
@d421 55
@


1.76
log
@heading towards full palette specification in tooldef model - no reason to invoke palette factory indirectly through services
@
text
@d406 15
@


1.75
log
@turn plugin.xml merging on, preceding mechanism of protected regions removed
@
text
@a245 8
   <extension point="org.eclipse.gmf.runtime.diagram.ui.paletteProviders">
      <?gmfgen generated="true"?>
      <paletteProvider class="<%=genDiagram.getPaletteProviderQualifiedClassName()%>">
         <Priority name="<%=genDiagram.getPaletteProviderPriority()%>"/>
         <editor id="<%=editorGen.getEditor().getID()%>"/>
      </paletteProvider>
   </extension>

@


1.74
log
@get ready for xml merging - mark generated extpoints with 'generated' token
@
text
@a13 3
<!-- gmf generator persistent region begin -->
<!-- gmf generator persistent region end -->

@


1.73
log
@#114200 temp disable init/shortcuts actions for rcp - use resource api (((
@
text
@d18 1
d23 1
d31 1
d39 1
d53 1
d65 1
d110 1
d180 1
d233 1
d243 1
d250 1
d258 1
d265 1
d272 1
d280 1
d288 1
d307 1
d335 1
d342 1
d350 1
d363 1
d377 1
d388 1
d403 1
d410 1
@


1.72
log
@#114200 add application id property
@
text
@d60 1
a60 1
<%if (genDiagram.generateInitDiagramAction()) {%>
d75 1
a75 1
if (genDiagram.generateCreateShortcutAction()) {%>
@


1.71
log
@#114200 generate RCP specific classes
@
text
@d379 1
a379 1
   <extension id="<%=editorGen.getModelID()%> Application" point="org.eclipse.core.runtime.applications">
@


1.70
log
@#114200 Provide an option to generate RCP application
@
text
@d7 1
d377 16
@


1.69
log
@Read-only properties provided into the navigator.
@
text
@d197 1
d208 1
@


1.68
log
@[157792] externalized ui strings to let users set them as they wish
@
text
@d369 1
a369 1
<%@@ include file="navigator.jetinc"%>
@


1.67
log
@Generate PropertySheet pluged into tabbed page framework of Eclipse instead of plug-in as runtime provider.
Eases pages being added/removed/replaced/tuned
@
text
@d37 1
a37 1
        name="<%=editorGen.getModelID()%> Diagram Editor"
d49 1
a49 1
  	     name="<%=editorGen.getModelID()%> Diagram"
d54 1
a54 3
  	  	 <description>
  	  		Creates <%=editorGen.getModelID()%> diagram.
  	  	 </description>  
d65 1
a65 1
               label="Initialize <%=editorGen.getDiagramFileExtension()%> diagram file"
d83 1
a83 1
               label="Create Shortcut..."
d96 1
a96 1
               label="Load Resource..."
@


1.66
log
@Icons provided to Navigator
@
text
@d20 1
a20 1
  <extension point="org.eclipse.team.core.fileTypes">
d25 1
a25 1
  </extension>
a250 8
   <extension point="org.eclipse.gmf.runtime.common.ui.services.properties.propertiesProviders">
      <PropertiesProvider
            verifyPluginLoaded="false"
            class="<%=genDiagram.getPropertyProviderQualifiedClassName()%>">
         <Priority name="<%=genDiagram.getPropertyProviderPriority()%>"/>
      </PropertiesProvider>
   </extension>

d373 3
@


1.65
log
@Model navigator, initial version.
@
text
@d378 1
d380 1
@


1.64
log
@add file merge support for other text files (!java)
@
text
@d378 1
@


1.63
log
@#145734 Generate "delete from view" popup menu action for not-synchronized diagrams
@
text
@d13 3
@


1.62
log
@#146008 DiagramContributionItemProvider should be public
@
text
@d136 1
d138 1
d143 3
@


1.61
log
@#144884 Suppress InitDiagramFileAction generation if canvas mapping has no domain model element
@
text
@d113 1
a113 1
            class="org.eclipse.gmf.runtime.diagram.ui.providers.internal.DiagramContributionItemProvider"
@


1.60
log
@#144485 Do not generate "o.e.e.v.constraintBindings" extension in plugin.xml if !genDiagram.isValidationEnabled
@
text
@d58 1
d71 3
a73 1
<%if (genDiagram.generateCreateShortcutAction()) {%>
@


1.59
log
@#143541 Add property to gmfgen to hold editing domain id
#144205 Add property to gmfgen model to hold diagram creation wizard category id
@
text
@d312 1
a312 2
<%if(genDiagram.isValidationEnabled()) {%>

d319 6
a324 1

d336 1
a336 6

   <extension id="<%=genDiagram.getValidationDiagnosticMarkerType()%>" name="<%=genPlugin.getName()%> problems" point="org.eclipse.core.resources.markers">
      <super type="org.eclipse.core.resources.problemmarker"/>
      <super type="org.eclipse.gmf.runtime.common.ui.services.marker"/>
      <persistent value="true"/>
   </extension>
@


1.58
log
@#126249 Generate PrintPreview action for the diagram
@
text
@d48 1
a48 1
  	     category="org.eclipse.ui.Examples"
d291 1
a291 1
               value="<%=editorGen.getModelID()%>EditingDomain"/>
@


1.57
log
@#144720 Add provider <Priority> attribute in gmfgen model for Validation Decorator provider
@
text
@d99 10
@


1.56
log
@#141865 Icon not displayed for the wizard banner
Wizard banner image and wizard/editor icon are generated now with EMF facility for coloured .gifs
Keyword added to iconPath values to allow reference icons from EMF editor
@
text
@d331 1
a331 1
         <Priority name="Lowest"/>
@


1.55
log
@#142179 Each instance of the generated DiagramEditor should operate with own instance of editing domain
@
text
@d35 1
a35 1
        icon="<%=editorGen.getEditor().getIconPath()%>"
d47 1
a47 1
  	     icon="<%=genDiagram.getCreationWizardIconPath()%>"
@


1.54
log
@use element type bindings #136760
@
text
@a257 6
   <extension point="org.eclipse.emf.transaction.editingDomains">
      <editingDomain
            factory="org.eclipse.gmf.runtime.diagram.core.DiagramEditingDomainFactory"
            id="<%=editorGen.getModelID()%>EditingDomain"/>
   </extension>

@


1.53
log
@#136803 Support decorator provider for validated elements in generated diagram editors
@
text
@d258 6
d281 27
@


1.52
log
@Using modelID in the UI instead of model name.
@
text
@d301 11
a311 1
<%}%>
@


1.51
log
@#137196 Do not show 'remove from diagram' context menu item for elements that never may be removed from diagram
@
text
@a6 1
final GenModel genModel = editorGen.getDomainGenModel();
d34 1
a34 1
        name="<%=genModel.getModelName()%> Diagram Editor"
d46 1
a46 1
  	     name="<%=genModel.getModelName()%> Diagram"
d52 1
a52 1
  	  		Creates <%=genModel.getModelName()%> diagram.
d155 1
a155 1
         id="<%=genModel.getModelName()%>Presentation">
d169 1
a169 1
         id="<%=genModel.getModelName()%>PresentationPrint">
d180 1
a180 1
         id="<%=genModel.getModelName()%>PresentationIDE">
d190 1
a190 1
            id="<%=genModel.getModelName()%>Render">
d318 1
a318 1
			name="<%=editorGen.getDomainGenModel().getModelName()%> Diagram Metrics"/>
d321 1
a321 1
</plugin>
@


1.50
log
@provide only 'delete from model' action for the ref-based links
@
text
@d107 11
d119 1
d122 1
a122 1
            <popupStructuredContributionCriteria objectClass="<%=((GenLink) next).getEditPartQualifiedClassName()%>"/>
d127 20
@


1.49
log
@#135693 Use decoration service to provide shortcut image
@
text
@d99 22
@


1.48
log
@#126200 register element types in xml
@
text
@d196 8
@


1.47
log
@#126200 register element types in xml
@
text
@d198 2
a199 15
<%if (genDiagram.getDomainDiagramElement() != null) {%>
      <metamodel nsURI="<%=genDiagram.getDomainDiagramElement().getGenPackage().getNSURI()%>">
         <metamodelType
               id="<%=genDiagram.getUniqueIdentifier()%>"
               eclass="<%=genDiagram.getDomainDiagramElement().getName()%>"
               edithelper="<%=genDiagram.getEditHelperQualifiedClassName()%>">
         </metamodelType>
      </metamodel>
<%} else {%>
      <specializationType
            id="<%=genDiagram.getUniqueIdentifier()%>"
            kind="org.eclipse.gmf.runtime.diagram.ui.util.INotationType">
         <specializes id="org.eclipse.gmf.runtime.emf.type.core.null"/>
         <param name="semanticHint" value="<%=genDiagram.getUniqueIdentifier()%>SemanticHint"/>
      </specializationType>
a200 1
}
a202 2
	GenCommonBase genElement;
	ModelFacet modelFacet;
a204 1
		modelFacet = ((GenNode) genElement).getModelFacet();
a206 1
		modelFacet = ((GenLink) genElement).getModelFacet();
a209 39
	if (modelFacet != null) {
		if (modelFacet instanceof TypeModelFacet) {
			GenClass metaClass = ((TypeModelFacet) modelFacet).getMetaClass();
%>
      <metamodel nsURI="<%=metaClass.getGenPackage().getNSURI()%>">
         <metamodelType
               id="<%=genElement.getUniqueIdentifier()%>"
               eclass="<%=metaClass.getName()%>"
               edithelper="<%=((ElementType) genElement).getEditHelperQualifiedClassName()%>">
         </metamodelType>
      </metamodel>
<%
		} else if (modelFacet instanceof FeatureModelFacet) {
			GenFeature metaFeature = ((FeatureModelFacet) modelFacet).getMetaFeature();
			GenClass metaClass = metaFeature.getGenClass();
%>
      <metamodel nsURI="<%=metaClass.getGenPackage().getNSURI()%>">
         <specializationType
               id="<%=genElement.getUniqueIdentifier()%>"
               edithelperadvice="<%=((ElementType) genElement).getEditHelperQualifiedClassName()%>">
            <specializes id="org.eclipse.gmf.runtime.emf.type.core.null"/>
            <param name="semanticHint" value="<%=genElement.getUniqueIdentifier()%>SemanticHint"/>
         </specializationType>
      </metamodel>
<%
		} else {
			throw new IllegalStateException("Unexpected model facet: " + modelFacet);
		}
	} else {
%>
      <specializationType
            id="<%=genElement.getUniqueIdentifier()%>"
            kind="org.eclipse.gmf.runtime.diagram.ui.util.INotationType">
         <specializes id="org.eclipse.gmf.runtime.emf.type.core.null"/>
         <param name="semanticHint" value="<%=genElement.getUniqueIdentifier()%>SemanticHint"/>
      </specializationType>
<%
	}
}
d211 2
@


1.46
log
@[rdvorak] #133369 Generate code for metric evaluation and result visualization
@
text
@d196 17
d214 1
a214 2
List notationTypes = new ArrayList(); // element type ids of diagram elements without model facet (notation elements)
Map typeNames = new HashMap(); // type id : String -> display name : String
d217 2
a218 1
	String id;
d220 2
a221 2
		id = ((GenNode) next).getUniqueIdentifier();
		// TODO : add notation nodes support
d223 2
a224 5
		id = ((GenLink) next).getUniqueIdentifier();
		ModelFacet modelFacet = ((GenLink) next).getModelFacet();
		if (modelFacet == null) {
			notationTypes.add(id);
		}
d228 24
a251 4
}
if (!notationTypes.isEmpty()) {%>

   <extension point="org.eclipse.gmf.runtime.emf.type.core.elementTypes">
d253 4
a256 2
	for (Iterator it = notationTypes.iterator(); it.hasNext(); ) {
		String id = (String) it.next();
d259 1
a259 2
            id="<%=id%>"
            name="<%=typeNames.get(id)%>"
d262 1
a262 1
         <param name="semanticHint" value="<%=id%>SemanticHint"/>
a263 2
<%	}%>
   </extension>
d265 1
a266 1
if(genDiagram.isValidationEnabled()) {
d268 2
d296 2
a297 4
   <%@@ include file="ConstraintProviders.jetinc"%>
<%
if(editorGen.getMetrics() != null && !editorGen.getMetrics().getMetrics().isEmpty()) { 
%>   
d308 1
a308 1
	
d314 1
a314 3
<%
} // end of metrics
%>		   
@


1.45
log
@#130100 Allow to specify copyright text in gmfgen model
@
text
@d262 22
@


1.44
log
@#114175 for links
@
text
@d11 1
@


1.43
log
@#125562 rollback the changes - they are incorrect.
@
text
@d2 1
a2 1
    imports="org.eclipse.gmf.codegen.gmfgen.* org.eclipse.emf.codegen.ecore.genmodel.*"%>
d195 39
a233 1
<%if(genDiagram.isValidationEnabled()) {%>
d255 1
a255 1
      <super type="org.eclipse.core.resources.problemmarker"/>   
d257 1
a257 1
      <persistent value="true"/>      
@


1.42
log
@make diagram editor and creation wizard icons configurable
@
text
@a19 4
         extension="<%=editorGen.getDomainFileExtension()%>">
      </fileTypes>
      <fileTypes
         type="text"
a25 4
         type="<%=editorGen.getDomainFileExtension()%>"
         class="org.eclipse.gmf.runtime.emf.core.resources.GMFResourceFactory">
      </parser>
      <parser
@


1.41
log
@#127696
Templates should use new transaction API
(not finished)
@
text
@a7 2
// XXX just treat the first genPackage as primary - genModel.getGenPackages().get(0)?
final GenPackage domainMetaModel = genDiagram.getDomainDiagramElement().getGenPackage();
d43 1
a43 1
        icon="../<%=genModel.getEditorPluginID()%>/icons/full/obj16/<%=domainMetaModel.getPrefix()%>ModelFile.gif"
d55 1
a55 1
  	     icon="../<%=genModel.getEditorPluginID()%>/icons/full/obj16/<%=domainMetaModel.getPrefix()%>ModelFile.gif"
@


1.40
log
@#126199 add palette provider
@
text
@a179 6
   <extension point="org.eclipse.gmf.runtime.emf.core.compatibility.MetaModelProviders">
      <MetaModelProvider class="<%=genDiagram.getMetamodelSupportProviderQualifiedClassName()%>">
         <Priority name="<%=genDiagram.getMetamodelSupportProviderPriority()%>"/>
      </MetaModelProvider>
   </extension>

@


1.39
log
@#125562 use guids in domain model
@
text
@d173 7
@


1.38
log
@#126245 configurable priorities
@
text
@d22 4
d32 4
d37 1
a37 1
         class="org.eclipse.gmf.runtime.emf.core.resources.MResourceFactory">
@


1.37
log
@Updating with new transaction API.
@
text
@d104 1
a104 1
         <Priority name="Medium"/>
d118 1
a118 1
         <Priority name="Medium"/>
d129 1
a129 1
         <Priority name="Medium"/>
d139 1
a139 1
         <Priority name="Medium"/>
d152 1
a152 1
         <Priority name="Medium"/>
d161 1
a161 1
         <Priority name="Medium"/>
d167 1
a167 1
         <Priority name="Medium"/>
d173 1
a173 1
         <Priority name="Medium"/>
d181 1
a181 1
         <Priority name="Medium"/>
d187 1
a187 1
         <Priority name="Medium"/>
d193 1
a193 1
         <Priority name="Medium"/>
d201 1
a201 1
         <Priority name="Medium"/>
d209 1
a209 1
         <Priority name="Medium"/>
d216 1
a216 1
   
@


1.36
log
@GenEditorViewer incapsulates all Eclipse's IEditorPart-related info
@
text
@d165 1
a165 1
   <extension point="org.eclipse.gmf.runtime.emf.core.MetaModelProviders">
@


1.35
log
@file extensions moved out from genDiagram. Distinct property captures extension of domain model file now
@
text
@d35 1
a35 1
        id="<%=genDiagram.getEditorQualifiedClassName()%>ID"
d40 1
a40 1
        class="<%=genDiagram.getEditorQualifiedClassName()%>"
d42 1
a42 1
        contributorClass="<%=genDiagram.getActionBarContributorQualifiedClassName()%>">
d105 1
a105 1
         <ViewId id="<%=genDiagram.getEditorQualifiedClassName()%>ID">
d119 1
a119 1
         <ViewId id="<%=genDiagram.getEditorQualifiedClassName()%>ID">
d130 1
a130 1
         <ViewId id="<%=genDiagram.getEditorQualifiedClassName()%>ID">
d140 1
a140 1
         <ViewId id="<%=genDiagram.getEditorQualifiedClassName()%>ID">
d210 1
a210 1
         <partContribution id="<%=genDiagram.getEditorQualifiedClassName()%>ID">
@


1.34
log
@constant used throughout templates to identify diagram (genModel.getModelName) was extracted as explicit attribute
packagePrefix added
@
text
@d5 3
a7 2
final GenDiagram genDiagram = genPlugin.getEditorGen().getDiagram();
final GenModel genModel = genPlugin.getEditorGen().getDomainGenModel();
d22 1
a22 1
         extension="<%=genDiagram.getDiagramFileExtension()%>">
d28 1
a28 1
         type="<%=genDiagram.getDiagramFileExtension()%>"
d38 1
a38 1
        extensions="<%=genDiagram.getDiagramFileExtension()%>"
d62 1
a62 1
            nameFilter="*.<%=genDiagram.getDomainDiagramElement().getGenPackage().getPrefix().toLowerCase()%>"
d65 1
a65 1
               label="Initialize <%=genDiagram.getDiagramFileExtension()%> diagram file"
@


1.33
log
@major refactoring of .gmfgen - new top-level entity introduced,  erroneous domainMetaModel feature removed (was deprecated for a while)
moving towards support of domain models defined in different packages - each GenElement uses it's own genPackage.packageInterfaceName
@
text
@d152 1
a152 1
         <context viewClass="org.eclipse.gmf.runtime.notation.Diagram" semanticHints="<%=genModel.getModelName()%>"/>
@


1.32
log
@#125828 Generated code is bypassing parser service...
@
text
@d5 4
a8 2
final GenDiagram genDiagram = genPlugin.getDiagram();
final GenModel genModel = genDiagram.getEMFGenModel();
d36 1
a36 1
        icon="../<%=genModel.getEditorPluginID()%>/icons/full/obj16/<%=genDiagram.getDomainMetaModel().getPrefix()%>ModelFile.gif"
d48 1
a48 1
  	     icon="../<%=genModel.getEditorPluginID()%>/icons/full/obj16/<%=genDiagram.getDomainMetaModel().getPrefix()%>ModelFile.gif"
@


1.31
log
@#124806
Loading Resource action added into the Diagram Editor popup menu.
@
text
@d187 6
@


1.30
log
@GenDiagram "slicing" goes on and this time attributes related to plugin activator class were moved into separate entity
@
text
@d72 1
a72 1
            id="<%=genPlugin.getID()%>.ui.objectContribution.FileEditorInputProxy1"
d78 1
a78 1
               label="Create Shortcut"
d83 12
@


1.29
log
@REadable names should present in popup bar
@
text
@d4 2
a5 1
final GenDiagram genDiagram = (GenDiagram) argument;
d58 1
a58 1
            id="<%=genDiagram.getPluginID()%>.ui.objectContribution.IFile1"
d72 1
a72 1
            id="<%=genDiagram.getPluginID()%>.ui.objectContribution.FileEditorInputProxy1"
d99 1
a99 1
<%if (genDiagram.isPrintingEnabled()) {%>
d179 1
a179 1
         <MarkerType name="<%=genDiagram.getPluginID() + "." + genDiagram.getValidationDiagnosticMarkerType()%>"/>
d196 1
a196 1
   <extension id="<%=genDiagram.getValidationDiagnosticMarkerType()%>" name="<%=genDiagram.getPluginName()%> problems" point="org.eclipse.core.resources.markers">
@


1.28
log
@[rdvorak] #114189 Provide support for batch validation
@
text
@a173 1
   
d175 1
a200 1

@


1.27
log
@generate correct image file names
@
text
@d174 27
@


1.26
log
@editor/wizard icons quick fix
@
text
@d33 1
a33 1
        icon="../<%=genModel.getEditorPluginID()%>/icons/full/obj16/<%=genModel.getModelName()%>ModelFile.gif"
d45 1
a45 1
  	     icon="../<%=genModel.getEditorPluginID()%>/icons/full/obj16/<%=genModel.getModelName()%>ModelFile.gif"
@


1.25
log
@Fixed:
#114178
#114179
@
text
@d33 1
a33 1
        icon="icons/full/obj16/<%=genModel.getModelName()%>ModelFile.gif"
d45 1
a45 1
  	     icon="icons/full/obj16/<%=genModel.getModelName()%>ModelFile.gif"
@


1.24
log
@#114178
Create shortcut functionality added
@
text
@d72 1
a72 1
            objectClass="org.eclipse.gmf.runtime.diagram.ui.resources.editor.ide.document.FileEditorInputProxy">
@


1.23
log
@As a part of implementstion
#114178,114179
"Shortcutting" diagram elements.
@
text
@d68 1
d81 1
@


1.22
log
@[rdvorak] #123232 audits (ocl constraints) definition in genmodel
@
text
@d67 13
a79 1
      </objectContribution>            
@


1.21
log
@#118447 new-style bundle manifest (manifest.mf)
@
text
@d161 1
@


1.20
log
@sync with renames in gmf runtime
@
text
@d2 5
a6 3
    imports="org.eclipse.gmf.codegen.gmfgen.* org.eclipse.emf.codegen.ecore.genmodel.* java.util.*"%>
<%GenDiagram genDiagram = (GenDiagram) argument;%>
<%GenModel genModel = genDiagram.getEMFGenModel();%>
d9 1
a9 61
<plugin
    name="<%=genDiagram.getPluginName()%>"
    id="<%=genDiagram.getPluginID()%>"
    version="1.0.0"
    class="<%=genDiagram.getPluginQualifiedClassName()%>"
    provider-name = "<%=genDiagram.getProviderName()%>">

  <requires>
    <import plugin="org.eclipse.core.runtime"/>
    <import plugin="org.eclipse.core.resources"/>
    <import plugin="org.eclipse.jface"/>
    <import plugin="org.eclipse.ui.ide"/>
    <import plugin="org.eclipse.ui.views"/>
    <import plugin="org.eclipse.ui.workbench"/>
    <import plugin="org.eclipse.emf.ecore"/>
<%
	// XXX org.eclipse.emf.edit.ui is for ExtendedImageRegistry. 
	// FIXME move image registry to plugin class code
%>
    <import plugin="org.eclipse.emf.edit.ui"/>
    <import plugin="org.eclipse.gef" export="true"/>
    <import plugin="org.eclipse.gmf.runtime.emf.commands.core"/>
    <import plugin="org.eclipse.gmf.runtime.emf.ui.properties"/>
    <import plugin="org.eclipse.gmf.runtime.diagram.ui"/>
<%if (genDiagram.isPrintingEnabled()) {%>
    <import plugin="org.eclipse.gmf.runtime.diagram.ui.printing.render"/>
<%}%>
    <import plugin="org.eclipse.gmf.runtime.diagram.ui.providers"/>
    <import plugin="org.eclipse.gmf.runtime.diagram.ui.providers.ide"/>
    <import plugin="org.eclipse.gmf.runtime.diagram.ui.render"/>
    <import plugin="org.eclipse.gmf.runtime.diagram.ui.resources.editor"/>
    <import plugin="org.eclipse.gmf.runtime.diagram.ui.resources.editor.ide"/>
    <import plugin="org.eclipse.gmf.runtime.notation.providers"/>
<%
Set requiredPluginIDs = new LinkedHashSet();
requiredPluginIDs.add(genModel.getModelPluginID());
requiredPluginIDs.add(genModel.getEditPluginID());

for (Iterator it = genModel.getAllUsedGenPackagesWithClassifiers().iterator(); it.hasNext();) {
	GenModel nextGenModel = ((GenPackage) it.next()).getGenModel();
	if (nextGenModel.hasEditSupport()) {
		requiredPluginIDs.add(nextGenModel.getEditPluginID());
	}
}

String[] requiredPlugins = genDiagram.getRequiredPluginIDs();
if (requiredPlugins == null) {
	requiredPlugins = new String[0];
}
requiredPluginIDs.addAll(Arrays.asList(requiredPlugins));

for (Iterator it = requiredPluginIDs.iterator(); it.hasNext();) {%>
    <import plugin="<%=it.next()%>" export="true"/>
<%}%>
  </requires>

  <runtime>
    <library name="plugin.jar">
      <export name="*"/>
    </library>
  </runtime>
@


1.19
log
@#116798 create distinct package for the view factories
@
text
@d32 1
a32 1
    <import plugin="org.eclipse.gmf.runtime.diagram.ui.printing"/>
d130 1
a130 1
         class="org.eclipse.gmf.runtime.diagram.ui.providers.PresentationGlobalActionHandlerProvider"
d144 1
a144 1
         class="org.eclipse.gmf.runtime.diagram.ui.printing.internal.providers.PresentationWithPrintGlobalActionHandlerProvider"
@


1.18
log
@#116399 Expose user-defined features of domain elements in property sheet
@
text
@d179 1
a179 1
      <viewProvider class="<%=genDiagram.getViewProviderQualifiedClassName()%>">
@


1.17
log
@#116031 avoid hardcoded class names in templates
@
text
@d29 1
d205 8
@


1.16
log
@org.eclipse.gmf.runtime.gef is obsolete, removed
@
text
@d69 1
a69 1
      <initializer class="<%=genDiagram.getEditorPackageName()%>.PreferencesInitializer"/>
d104 2
a105 2
  	     class="<%=genDiagram.getEditorPackageName()%>.CreationWizard"
  	     id="<%=genDiagram.getEditorPackageName()%>.CreationWizardID">
d122 1
a122 1
               id="<%=genDiagram.getPluginID()%>.ui.InitDiagramFileAction">
@


1.15
log
@#113823 childMetaFeature moved to TypeModelFacet
@
text
@a27 1
    <import plugin="org.eclipse.gmf.runtime.gef" export="true"/>
@


1.14
log
@[rdvorak] #113647 refactoring selectors and initializers
@
text
@d2 1
a2 1
    imports="org.eclipse.gmf.codegen.gmfgen.* org.eclipse.emf.codegen.ecore.genmodel.* org.eclipse.gmf.codegen.util.* java.util.*"%>
@


1.13
log
@[dstadnik] #113213 common actions added
@
text
@a57 4
if(PartSelectorUtil.hasPartSelectors(genDiagram)) {
	requiredPluginIDs.addAll(Arrays.asList(PartSelectorUtil.getRequiredPlugins(genDiagram)));
}

@


1.12
log
@[dstadnik] #113074  diagram action bar contributor
@
text
@d31 6
d132 50
@


1.11
log
@[dstadnik] #112901 modeling assistant provider
@
text
@d92 3
a94 3
        matchingStrategy="<%=genDiagram.getEditorPackageName()%>.MDiagramEditorMatchingStrategy"
        class="<%=genDiagram.getEditorPackageName()%>.<%=genDiagram.getEditorClassName()%>"
        contributorClass="org.eclipse.gmf.runtime.diagram.ui.internal.parts.MinimalActionBarContributor">
@


1.10
log
@[dstadnik] #112900 metamodel support
@
text
@d147 12
@


1.9
log
@[ashatalin] #112122 Action to initialize diagram for domain model.
 unique id introduced, refactoring to use it throughout the code
@
text
@d33 1
d110 1
a110 1
   
d127 2
a128 2
      <viewProvider class="<%=genDiagram.getProvidersPackageName()%>.ViewProvider">
         <Priority name="Lowest"/>
d136 2
a137 2
      <editpartProvider class="<%=genDiagram.getProvidersPackageName()%>.EditPartProvider">
         <Priority name="Lowest"/>
d141 6
@


1.8
log
@[rdvorak] #112097 genmodel support to use expression evaluation to choose editpart (visual representation)
@
text
@d28 1
d109 15
@


1.7
log
@[dstadnik]
#111780 Link labels with read-only flag and relative positioning
@
text
@d2 1
a2 1
    imports="org.eclipse.gmf.codegen.gmfgen.* org.eclipse.emf.codegen.ecore.genmodel.* java.util.*"%>
d50 4
@


1.6
log
@[ashatalin]
- import all required EMF.Edit plugins
- avoid duplicated plugin imports
@
text
@a27 1
    <import plugin="org.eclipse.gmf.runtime.gef"/>
@


1.5
log
@[ashatalin]
#111773 Multiple views for single domain metaelement based on it's state
#111782 Support same metaelement both as top-level and inner diagram element
@
text
@a32 4
    <import plugin="<%=genModel.getModelPluginID()%>" export="true"/>
<%if (!genModel.sameModelEditProject()) {%>
    <import plugin="<%=genModel.getEditPluginID()%>" export="true"/>
<%}%>
d34 11
d49 3
a51 1
for (Iterator it = Arrays.asList(requiredPlugins).iterator(); it.hasNext();) {%>
@


1.4
log
@gmfgen ECore references were replaced with GenModel references to ease template coding and as alignment with overall "genmodel for GMF" concept
@
text
@d28 1
@


1.3
log
@[dstadnik] Use Notation Model as runtime model
@
text
@d4 1
a4 1
<%GenModel genModel = genDiagram.getEmfGenModel();%>
a27 1
    <import plugin="<%=genDiagram.getDiagramRunTimeClass().getGenModel().getModelPluginID()%>" export="true"/>
a31 2
    <import plugin="org.eclipse.gmf.runtime.gef"/>
    <import plugin="org.eclipse.gmf.edit"/>
@


1.2
log
@[ashatalin] Action to initialize diagram from existing domain model gets generated.
@
text
@d1 2
a2 1
<%@@ jet package="org.eclipse.gmf.codegen.templates.diacanvas" class="PluginXML" imports="org.eclipse.gmf.codegen.gmfgen.* org.eclipse.emf.codegen.ecore.genmodel.* java.util.*"%>
d29 4
d55 4
a58 39
   <extension point="org.eclipse.ui.editors">
     <editor 
        id="<%=genDiagram.getEditorQualifiedClassName()%>_EditorID"
        name="Diagram Editor for <%=genModel.getModelName()%>"
        icon="none"
        extensions="<%=genDiagram.getDiagramFileExtension()%>"
        class="<%=genDiagram.getEditorQualifiedClassName()%>"
        contributorClass="org.eclipse.ui.part.EditorActionBarContributor"/>
    
   </extension>
   <extension point="org.eclipse.ui.popupMenus">
      <objectContribution
            adaptable="true"
            id="<%=genDiagram.getPluginID()%>.ui.contribution1"
            objectClass="org.eclipse.core.resources.IContainer">
         <action
               label="Create empty <%=genDiagram.getDiagramFileExtension()%> diagram file"
               class="org.eclipse.gmf.runtime.actions.NewDiagramAction"
               menubarPath="additions"
               defaultName="example1"
               fileExtension="<%=genDiagram.getDiagramFileExtension()%>"
               rtModelNsURI="<%=genDiagram.getDiagramRunTimeClass().getGenPackage().getEcorePackage().getNsURI()%>"
               enablesFor="1"
               id="<%=genDiagram.getPluginID()%>.ui.newDiagramAction">
         </action>
      </objectContribution>
      <objectContribution
            id="<%=genDiagram.getPluginID()%>.ui.contribution2"
            nameFilter="*.<%=genModel.findGenPackage(genDiagram.getDomainDiagramElement().getEPackage()).getPrefix().toLowerCase()%>"
            objectClass="org.eclipse.core.resources.IFile">
         <action
               label="Initialize <%=genDiagram.getDiagramFileExtension()%> diagram file"
               class="<%=genDiagram.getInitDiagramFileActionQualifiedClassName()%>"
               menubarPath="additions"
               enablesFor="1"
               id="<%=genDiagram.getPluginID()%>.ui.InitDiagramFileAction">
         </action>
      </objectContribution>            
  </extension>
d61 2
a62 2
            type="text"
            extension="<%=genDiagram.getDiagramFileExtension()%>">
d65 50
a114 1
</plugin>@


1.1
log
@*** empty log message ***
@
text
@d76 12
@

