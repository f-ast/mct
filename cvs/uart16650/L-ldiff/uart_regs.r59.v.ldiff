62a63,63
> wire cts_c, dsr_c, ri_c, dcd_c;
70,70c71,71
< assign {cts, dsr, ri, dcd} = loopback ? {mcr [`UART_MC_RTS], mcr [`UART_MC_DTR], mcr [`UART_MC_OUT1], mcr [`UART_MC_OUT2]} : ~ {cts_pad_i, dsr_pad_i, ri_pad_i, dcd_pad_i};
---
> assign {cts, dsr, ri, dcd} = loopback ? {mcr [`UART_MC_DTR], mcr [`UART_MC_RTS], mcr [`UART_MC_OUT1], mcr [`UART_MC_OUT2]} : ~ {cts_pad_i, dsr_pad_i, ri_pad_i, dcd_pad_i};
70a72,72
> assign {cts_c, dsr_c, ri_c, dcd_c} = loopback ? {mcr [`UART_MC_RTS], mcr [`UART_MC_DTR], mcr [`UART_MC_OUT1], mcr [`UART_MC_OUT2]} : {cts_pad_i, dsr_pad_i, ri_pad_i, dcd_pad_i};
230a233,233
> reg [3 : 0] delayed_modem_signals;
236a240,240
>             | ({dcd, ri, dsr, cts} ^ delayed_modem_signals [3 : 0]);
237,237d239
<             | ({dcd, ri, dsr, cts} ^ msr [`UART_MS_CDCD : `UART_MS_CCTS]);
238,238c241,241
<             msr [`UART_MS_CDCD : `UART_MS_CCTS] <= # 1 {dcd, ri, dsr, cts};
---
>             msr [`UART_MS_CDCD : `UART_MS_CCTS] <= # 1 {dcd_c, ri_c, dsr_c, cts_c};
238a242,242
>             delayed_modem_signals [3 : 0] <= # 1 {dcd, ri, dsr, cts};
