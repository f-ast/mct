5,5c5,5
< module uart_regs (clk, wb_rst_i, wb_addr_i, wb_dat_i, wb_dat_o, wb_we_i, wb_re_i, modem_inputs, stx_pad_o, srx_pad_i, enable, rts_pad_o, dtr_pad_o, int_o);
---
> module uart_regs (clk, wb_rst_i, wb_addr_i, wb_dat_i, wb_dat_o, wb_we_i, wb_re_i, modem_inputs, stx_pad_o, srx_pad_i, rts_pad_o, dtr_pad_o, int_o);
16,16d15
< output enable;
254,254d252
<         begin
256,257d253
<             enable <= # 1 1?b0;
<         end
258a255,255
>         if (start_dlc | ~ (| dlc))
259,262d254
<         begin
<             if (start_dlc)
<                 begin
<                     enable <= # 1 1?b0;
263,263c256,256
<                     dlc <= # 1 dl;
---
>             dlc <= # 1 dl - 1;
264,264d256
<                 end
265a261,266
> 
> always @ (posedge clk or posedge wb_rst_i) begin
>     if (wb_rst_i)
>         enable <= # 1 1?b0;
>     else
>         if (| dl & ~ (| dlc))
266,270d260
<                 begin
<                     if (dl != 0)
<                         begin
<                             if ((dlc - 1) == 0)
<                                 begin
271,271c267,267
<                                     enable <= # 1 1?b1;
---
>             enable <= # 1 1?b1;
272,276d267
<                                     dlc <= # 1 dl;
<                                 end
<                             else
<                                 begin
<                                     enable <= # 1 1?b0;
278,278d258
<                                 end
282,283d268
<                         begin
<                             dlc <= # 1 0;
285,289d269
<                         end
< 
<                 end
< 
<         end
