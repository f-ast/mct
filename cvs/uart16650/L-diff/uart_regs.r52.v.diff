49a50
> reg [7 : 0] scratch;
92,110c93,101
< always @ (dl or dlab or ier or iir or lcr or lsr or msr or rf_data_out or wb_addr_i or wb_re_i) begin
<     if (wb_rst_i)
<         begin
<             wb_dat_o <= # 1 8?b0;
<         end
<     else
<         if (wb_re_i)
<             case (wb_addr_i) `UART_REG_RB : wb_dat_o <= # 1 dlab ? dl [`UART_DL1] : rf_data_out [10 : 3];
<             `UART_REG_IE
<             : wb_dat_o <= # 1 dlab ? dl [`UART_DL2] : ier;
<             `UART_REG_II
<             : wb_dat_o <= # 1 {4?b1100, iir};
<             `UART_REG_LC
<             : wb_dat_o <= # 1 lcr;
<             `UART_REG_LS
<             : wb_dat_o <= # 1 lsr;
<             `UART_REG_MS
<             : wb_dat_o <= # 1 msr;
<             default : wb_dat_o <= # 1 8?b0;
---
> always @ (dl or dlab or ier or iir or scratch or lcr or lsr or msr or rf_data_out or wb_addr_i or wb_re_i) begin
>     case (wb_addr_i) `UART_REG_RB : wb_dat_o = dlab ? dl [`UART_DL1] : rf_data_out [10 : 3];
>     `UART_REG_IE : wb_dat_o = dlab ? dl [`UART_DL2] : ier;
>     `UART_REG_II : wb_dat_o = {4?b1100, iir};
>     `UART_REG_LC : wb_dat_o = lcr;
>     `UART_REG_LS : wb_dat_o = lsr;
>     `UART_REG_MS : wb_dat_o = msr;
>     `UART_REG_SR : wb_dat_o = scratch;
>     default : wb_dat_o = 8?b0;
112,114d102
<         else
<             wb_dat_o <= # 1 8?b0;
< 
205a194,199
>     scratch <= # 1 0;
> else
>     if (wb_we_i && wb_addr_i == `UART_REG_SR)
>         scratch <= # 1 wb_dat_i;
> 
> always @ (posedge clk or posedge wb_rst_i) if (wb_rst_i)
