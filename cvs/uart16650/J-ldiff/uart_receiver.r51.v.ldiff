65a66,69
> // Revision 1.19  2001/12/06 14:51:04  gorban
> // Bug in LSR[0] is fixed.
> // All WISHBONE signals are now sampled, so another wait-state is introduced on all transfers.
> //
224a229,229
> 
242a248,249
> //	  begin
> //		  rstate 		 <= #1 sr_idle;
242,242c247,247
< 	  if (break_error && rstate != sr_idle) // break condition met while receiver is not idle
---
> //	  if (break_error && rstate != sr_idle) // break condition met while receiver is not idle
243,244d247
< 	  begin
< 		  rstate 		 <= #1 sr_idle;
245,245c250,250
< 		  rf_data_in 	 <= #1 {8'b0, 3'b100}; // break input (empty character) to receiver FIFO
---
> //		  rf_data_in 	 <= #1 {8'b0, 3'b100}; // break input (empty character) to receiver FIFO
246,246c251,251
< 		  rf_push 		 <= #1 1'b1;
---
> //		  rf_push 		 <= #1 1'b1;
247,247c252,252
< 	  end
---
> //	  end
248,248c253,253
<   else
---
> //  else
354a360,364
>         if(srx_pad_i | break_error)
>           begin
>             if(break_error)
>         		  rf_data_in 	<= #1 {8'b0, 3'b100}; // break input (empty character) to receiver FIFO
>             else
358a369,370
>             
> 			end
360,360c372,372
< 				if (rcounter16_eq_1)
---
> //				if (rcounter16_eq_1)
360a373,373
> 				if (rcounter16_eq_1 & srx_pad_i)    // igor
395a409,409
> //  if(lsr_mask)                          igor
396,396d408
<   if(lsr_mask)
397,397c410,410
< 		counter_b <= #1 brc_value;
---
> //		counter_b <= #1 brc_value;
398,398c411,411
<   else
---
> //  else
