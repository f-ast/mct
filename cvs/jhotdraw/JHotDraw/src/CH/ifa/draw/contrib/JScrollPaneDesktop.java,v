head	1.6;
access;
symbols
	jhotdraw54b2-release:1.6
	reorg_6x_split:1.6
	MVC_PHASE1:1.5.0.4
	NEW_ATTRIBUTES:1.5.0.2
	DNOYEB1_ALPHA-2:1.2.4.1
	release_JHD54b1:1.5
	BUGFIX_670992:1.4.0.2
	DNOYEB1_ALPHA-1:1.2.4.1
	dnoyeb1:1.2.0.4
	repack:1.2.0.2
	Root_repack:1.2
	Before_FigureVisitor:1.1;
locks; strict;
comment	@# @;


1.6
date	2003.09.13.22.31.11;	author mtnygard;	state Exp;
branches;
next	1.5;

1.5
date	2003.01.30.00.27.33;	author mrfloppy;	state Exp;
branches;
next	1.4;

1.4
date	2003.01.12.20.21.16;	author dnoyeb;	state Exp;
branches;
next	1.3;

1.3
date	2003.01.03.00.55.32;	author dnoyeb;	state Exp;
branches;
next	1.2;

1.2
date	2002.09.22.08.58.23;	author mrfloppy;	state Exp;
branches
	1.2.4.1;
next	1.1;

1.1
date	2002.08.04.22.39.17;	author mrfloppy;	state Exp;
branches;
next	;

1.2.4.1
date	2003.01.03.16.03.57;	author dnoyeb;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Eliminate some deprecated method warnings.
Organize imports to remove Eclipse warnings about unused imports.
@
text
@/*
 * @@(#)JScrollPaneDesktop.java
 *
 * Project:		JHotdraw - a GUI framework for technical drawings
 *				http://www.jhotdraw.org
 *				http://jhotdraw.sourceforge.net
 * Copyright:	© by the original author(s) and all contributors
 * License:		Lesser GNU Public License (LGPL)
 *				http://www.opensource.org/licenses/lgpl-license.html
 */

package CH.ifa.draw.contrib;

import java.awt.Component;
import java.awt.Container;

// JUnitDoclet begin import
import javax.swing.JScrollPane;

import CH.ifa.draw.framework.DrawingView;
// JUnitDoclet end import

/**
 * @@author  C.L.Gilbert <dnoyeb@@users.sourceforge.net>
 * @@version <$CURRENT_VERSION$>
 */
public class JScrollPaneDesktop extends JScrollPane implements Desktop {

	private DesktopEventService myDesktopEventService;

    public JScrollPaneDesktop() {
		setDesktopEventService(createDesktopEventService());
        setAlignmentX(LEFT_ALIGNMENT);
		setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);
		setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);
    }

	protected Component createContents(DrawingView dv) {
		return (Component)dv;
	}

	public DrawingView getActiveDrawingView() {
		return getDesktopEventService().getActiveDrawingView();
	}

	public void addToDesktop(DrawingView dv, int location) {
		getContainer().add(createContents(dv));
	}

	public void removeFromDesktop(DrawingView dv, int location) {
		getDesktopEventService().removeComponent(dv);
	}

	public void removeAllFromDesktop(int location) {
		getDesktopEventService().removeAllComponents();
	}

	public DrawingView[] getAllFromDesktop(int location) {
		//This is overkill since we know we only have 1 component...
		return getDesktopEventService().getDrawingViews(getComponents());
	}

	public void addDesktopListener(DesktopListener dpl) {
		getDesktopEventService().addDesktopListener(dpl);
	}

	public void removeDesktopListener(DesktopListener dpl) {
		getDesktopEventService().removeDesktopListener(dpl);
	}

	private Container getContainer() {
		return getViewport();
	}

	protected DesktopEventService getDesktopEventService() {
		return myDesktopEventService;
	}

	private void setDesktopEventService(DesktopEventService newDesktopEventService) {
		myDesktopEventService = newDesktopEventService;
	}

	protected DesktopEventService createDesktopEventService() {
		return new DesktopEventService(this, getContainer());
	}

	public void updateTitle(String newDrawingTitle) {
		// should be setTitle but a JPanelDesktop has no own title bar
		setName(newDrawingTitle);
	}
}@


1.5
log
@prepare for 5.4 release: various bug fixes
@
text
@d14 6
a19 3
import javax.swing.*;
import java.awt.*;
import CH.ifa.draw.contrib.*;
d21 1
@


1.4
log
@Clean up head to be what it was before i mistakenly committed my changes to it.
My changes should have been committed to a branch, and let mrfloppy merge to the trunk.
This will happen from now on.
@
text
@d20 1
a20 1
 * @@author  C.L.Gilbert <dnoyeb@@sourceforge.net>
@


1.3
log
@Improved drawing and application title handling.
MDI was not setting activeDrawingView to null when last was closed.
New drawingTitleChange event.
@
text
@d20 1
a20 1
 * @@author  C.L.Gilbert <dnoyeb@@users.sourceforge.net>
d82 1
a82 3
    /**
     *  @@deprecated desktop will use listener
     */
@


1.2
log
@introduce FigureVisitor for paste/delete commands
@
text
@d20 1
a20 1
 * @@author  C.L.Gilbert <dnoyeb@@sourceforge.net>
d82 3
a84 1

@


1.2.4.1
log
@Improved drawing and application title handling.
MDI was not setting activeDrawingView to null when last was closed.
New drawingTitleChange event.
@
text
@d20 1
a20 1
 * @@author  C.L.Gilbert <dnoyeb@@users.sourceforge.net>
d82 1
a82 3
    /**
     *  @@deprecated desktop will use listener
     */
@


1.1
log
@after variou merges... (before 5.4 release)
@
text
@d82 5
@

