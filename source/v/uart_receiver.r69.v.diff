65a66,68
> // Revision 1.26  2001/12/20 13:28:27  mohor
> // Missing declaration of rf_push_q fixed.
> //
267,273d269
< //	  if (break_error && rstate != sr_idle) // break condition met while receiver is not idle
< //	  begin
< //		  rstate 		 <= #1 sr_idle;
< //		  rf_data_in 	 <= #1 {8'b0, 3'b100}; // break input (empty character) to receiver FIFO
< //		  rf_push 		 <= #1 1'b1;
< //	  end
< //  else
280c276
< 			if (srx_pad_i==1'b0)   // detected a pulse (start bit?)
---
> 			if (srx_pad_i==1'b0 & ~break_error)   // detected a pulse (start bit?)
392,393c388
< //				if (rcounter16_eq_1)
< 				if (rcounter16_eq_1 & srx_pad_i)    // igor
---
> 				if (rcounter16_eq_1 & srx_pad_i | break_error)
440,443d434
< //  if(lsr_mask)                          igor
< //		counter_b <= #1 brc_value;
< //  else
< 	if (enable)  // only work on enable times
447c438
<   			if (counter_b != 8'b0)            // break not reached it
---
> 	if(enable & counter_b != 8'b0)            // only work on enable times  break not reached.
